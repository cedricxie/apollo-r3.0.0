# 规划

## 介绍

给定定位、车辆状态（位置、速度、加速度、底盘）、地图、路由、感知和预测，规划将计算出安全和舒适的轨迹交给控制器执行。

它支持两个主要planner：

* RTK重播planner（起始于Apollo 1.0）
* EM planner（Apollo1.5以来）
RTK重播planner首先在初始化中加载之前录下的轨迹，并根据当前系统时间和车辆位置发送轨迹的适当段。

在EM规划中，驾驶决策和驾驶轨迹将基于地图、路线和障碍物来计算。首先采用DP（动态规划）方法确定原始路径和速度分布，然后采用基于QP（二次规划）的方法进一步优化路径和速度曲线，以获得平滑的轨迹。

## 输入

* RTK重播planner:
    * 定位
    * 记录RTK轨迹（放入文件夹modules/planning/data中，并在planning/common/planning_gflags中改变gflag文件名）
* EM planner:
    * 定位
    * 感知
    * 预测
    * 高精地图（模块/地图/数据）
    * 路由
## 输出

* 控制模块可执行的无碰撞和舒适轨迹。
