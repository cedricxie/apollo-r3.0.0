!function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n=window.webpackJsonp;window.webpackJsonp=function(e,r,a){for(var o,s,l=0,u=[];l<e.length;l++)s=e[l],i[s]&&u.push(i[s][0]),i[s]=0;for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o]);for(n&&n(e,r,a);u.length;)u.shift()()};var r={},i={3:0};e.e=function(t){function n(){s.onerror=s.onload=null,clearTimeout(l);var e=i[t];0!==e&&(e&&e[1](new Error("Loading chunk "+t+" failed.")),i[t]=void 0)}var r=i[t];if(0===r)return new Promise(function(t){t()});if(r)return r[2];var a=new Promise(function(e,n){r=i[t]=[e,n]});r[2]=a;var o=document.getElementsByTagName("head")[0],s=document.createElement("script");s.type="text/javascript",s.charset="utf-8",s.async=!0,s.timeout=12e4,e.nc&&s.setAttribute("nonce",e.nc),s.src=e.p+""+t+".bundle.js";var l=setTimeout(n,12e4);return s.onerror=s.onload=n,o.appendChild(s),a},e.m=t,e.c=r,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e.oe=function(t){throw console.error(t),t},e(e.s=171)}([function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(20),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},function(t,e,n){"use strict";t.exports=n(487)},function(t,e,n){t.exports={default:n(311),__esModule:!0}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(242),a=r(i),o=n(241),s=r(o),l=n(121),u=r(l);e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,u.default)(e)));t.prototype=(0,s.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(a.default?(0,a.default)(t,e):t.__proto__=e)}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(121),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,i.default)(e))&&"function"!=typeof e?t:e}},function(t,e,n){"use strict";t.exports=n(63),t.exports.easing=n(283),t.exports.canvas=n(282),t.exports.options=n(284)},function(t,e,n){"use strict";n.d(e,"h",function(){return r}),n.d(e,"i",function(){return i}),n.d(e,"l",function(){return a}),n.d(e,"k",function(){return o}),n.d(e,"f",function(){return s}),n.d(e,"a",function(){return l}),n.d(e,"m",function(){return u}),n.d(e,"n",function(){return c}),n.d(e,"o",function(){return h}),n.d(e,"d",function(){return d}),n.d(e,"g",function(){return f}),n.d(e,"j",function(){return p}),n.d(e,"b",function(){return m}),n.d(e,"e",function(){return g}),n.d(e,"c",function(){return v});var r=1,i=2,a=4,o=5,s=484813681109536e-20,l=Math.PI/2,u=.16666666666666666,c=.04722222222222222,h=.022156084656084655,d=1e-10,f=.017453292519943295,p=57.29577951308232,m=Math.PI/4,g=2*Math.PI,v=3.14159265359},function(t,e,n){"use strict";function r(t){function e(e,r,i,a,o,s){for(var l=arguments.length,u=Array(l>6?l-6:0),c=6;c<l;c++)u[c-6]=arguments[c];return n.i(w.untracked)(function(){if(a=a||"<<anonymous>>",s=s||i,null==r[i]){if(e){var n=null===r[i]?"null":"undefined";return new Error("The "+o+" `"+s+"` is marked as required in `"+a+"`, but its value is `"+n+"`.")}return null}return t.apply(void 0,[r,i,a,o,s].concat(u))})}var r=e.bind(null,!1);return r.isRequired=e.bind(null,!0),r}function i(t,e){return"symbol"===t||("Symbol"===e["@@toStringTag"]||"function"==typeof Symbol&&e instanceof Symbol)}function a(t){var e=void 0===t?"undefined":k(t);return Array.isArray(t)?"array":t instanceof RegExp?"object":i(e,t)?"symbol":e}function o(t){var e=a(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}function s(t,e){return r(function(r,i,s,l,u){return n.i(w.untracked)(function(){if(t&&a(r[i])===e.toLowerCase())return null;var n=void 0;switch(e){case"Array":n=w.isObservableArray;break;case"Object":n=w.isObservableObject;break;case"Map":n=w.isObservableMap;break;default:throw new Error("Unexpected mobxType: "+e)}var l=r[i];if(!n(l)){var c=o(l),h=t?" or javascript `"+e.toLowerCase()+"`":"";return new Error("Invalid prop `"+u+"` of type `"+c+"` supplied to `"+s+"`, expected `mobx.Observable"+e+"`"+h+".")}return null})})}function l(t,e){return r(function(r,i,a,o,l){for(var u=arguments.length,c=Array(u>5?u-5:0),h=5;h<u;h++)c[h-5]=arguments[h];return n.i(w.untracked)(function(){if("function"!=typeof e)return new Error("Property `"+l+"` of component `"+a+"` has invalid PropType notation.");var n=s(t,"Array")(r,i,a);if(n instanceof Error)return n;for(var u=r[i],h=0;h<u.length;h++)if((n=e.apply(void 0,[u,h,a,o,l+"["+h+"]"].concat(c)))instanceof Error)return n;return null})})}function u(t){return!(t.prototype&&t.prototype.render)}function c(t,e,r){var i,a,o="inject-"+(e.displayName||e.name||e.constructor&&e.constructor.name||"Unknown");r&&(o+="-with-"+r);var s=(a=i=function(r){function i(){var t,e,n,r;T(this,i);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return e=n=O(this,(t=i.__proto__||Object.getPrototypeOf(i)).call.apply(t,[this].concat(o))),n.storeRef=function(t){n.wrappedInstance=t},r=e,O(n,r)}return P(i,r),C(i,[{key:"render",value:function(){var r={};for(var i in this.props)this.props.hasOwnProperty(i)&&(r[i]=this.props[i]);var a=t(this.context.mobxStores||{},r,this.context)||{};for(var o in a)r[o]=a[o];return u(e)||(r.ref=this.storeRef),n.i(M.createElement)(e,r)}}]),i}(M.Component),i.displayName=o,a);return U(s,e),s.wrappedComponent=e,Object.defineProperties(s,K),s}function h(t){return function(e,n){return t.forEach(function(t){if(!(t in n)){if(!(t in e))throw new Error("MobX injector: Store '"+t+"' is not available! Make sure it is provided by some Provider");n[t]=e[t]}}),n}}function d(){var t=void 0;if("function"==typeof arguments[0])return t=arguments[0],function(e){var n=c(t,e);return n.isMobxInjector=!1,n=x(n),n.isMobxInjector=!0,n};for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t=h(e),function(n){return c(t,n,e.join("-"))}}function f(t){if(E.findDOMNode)try{return n.i(E.findDOMNode)(t)}catch(t){return null}return null}function p(t){var e=f(t);e&&tt&&tt.set(e,t),et.emit({event:"render",renderTime:t.__$mobRenderEnd-t.__$mobRenderStart,totalTime:Date.now()-t.__$mobRenderStart,component:t,node:e})}function m(){if("undefined"==typeof WeakMap)throw new Error("[mobx-react] tracking components is not supported in this browser.");J||(J=!0)}function g(t){Q=t}function v(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t[e],i=rt[e],a=r?!0===n?function(){i.apply(this,arguments),r.apply(this,arguments)}:function(){r.apply(this,arguments),i.apply(this,arguments)}:i;t[e]=a}function y(t,e){if(b(t,e))return!0;if("object"!==(void 0===t?"undefined":k(t))||null===t||"object"!==(void 0===e?"undefined":k(e))||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!hasOwnProperty.call(e,n[i])||!b(t[n[i]],e[n[i]]))return!1;return!0}function b(t,e){return t===e?0!==t||1/t==1/e:t!==t&&e!==e}function x(t,e){if("string"==typeof t)throw new Error("Store names should be provided as array");if(Array.isArray(t))return $||($=!0,console.warn('Mobx observer: Using observer to inject stores is deprecated since 4.0. Use `@inject("store1", "store2") @observer ComponentClass` or `inject("store1", "store2")(observer(componentClass))` instead of `@observer(["store1", "store2"]) ComponentClass`')),e?d.apply(null,t)(x(e)):function(e){return x(t,e)};var n=t;if(!0===n.isMobxInjector&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),!("function"!=typeof n||n.prototype&&n.prototype.render||n.isReactClass||M.Component.isPrototypeOf(n))){var r,i;return x((i=r=function(t){function e(){return T(this,e),O(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return P(e,t),C(e,[{key:"render",value:function(){return n.call(this,this.props,this.context)}}]),e}(M.Component),r.displayName=n.displayName||n.name,r.contextTypes=n.contextTypes,r.propTypes=n.propTypes,r.defaultProps=n.defaultProps,i))}if(!n)throw new Error("Please pass a valid component to 'observer'");return _(n.prototype||n),n.isMobXReactObserver=!0,n}function _(t){v(t,"componentWillMount",!0),["componentDidMount","componentWillUnmount","componentDidUpdate"].forEach(function(e){v(t,e)}),t.shouldComponentUpdate||(t.shouldComponentUpdate=rt.shouldComponentUpdate)}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"propTypes",function(){return X}),n.d(e,"PropTypes",function(){return X}),n.d(e,"onError",function(){return ct}),n.d(e,"observer",function(){return x}),n.d(e,"Observer",function(){return it}),n.d(e,"renderReporter",function(){return et}),n.d(e,"componentByNodeRegistery",function(){return tt}),n.d(e,"trackComponents",function(){return m}),n.d(e,"useStaticRendering",function(){return g}),n.d(e,"Provider",function(){return ut}),n.d(e,"inject",function(){return d});var w=n(24),M=n(2),S=n.n(M),E=n(47),k=(n.n(E),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}),T=(function(){function t(t){this.value=t}function e(e){function n(t,e){return new Promise(function(n,i){var s={key:t,arg:e,resolve:n,reject:i,next:null};o?o=o.next=s:(a=o=s,r(t,e))})}function r(n,a){try{var o=e[n](a),s=o.value;s instanceof t?Promise.resolve(s.value).then(function(t){r("next",t)},function(t){r("throw",t)}):i(o.done?"return":"normal",o.value)}catch(t){i("throw",t)}}function i(t,e){switch(t){case"return":a.resolve({value:e,done:!0});break;case"throw":a.reject(e);break;default:a.resolve({value:e,done:!1})}a=a.next,a?r(a.key,a.arg):o=null}var a,o;this._invoke=n,"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)}}(),function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}),C=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),P=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},O=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},A=function(){function t(){T(this,t),this.listeners=[]}return C(t,[{key:"on",value:function(t){var e=this;return this.listeners.push(t),function(){var n=e.listeners.indexOf(t);-1!==n&&e.listeners.splice(n,1)}}},{key:"emit",value:function(t){this.listeners.forEach(function(e){return e(t)})}}]),t}(),R={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},L={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},I=Object.defineProperty,D=Object.getOwnPropertyNames,N=Object.getOwnPropertySymbols,z=Object.getOwnPropertyDescriptor,B=Object.getPrototypeOf,F=B&&B(Object),U=function t(e,n,r){if("string"!=typeof n){if(F){var i=B(n);i&&i!==F&&t(e,i,r)}var a=D(n);N&&(a=a.concat(N(n)));for(var o=0;o<a.length;++o){var s=a[o];if(!(R[s]||L[s]||r&&r[s])){var l=z(n,s);try{I(e,s,l)}catch(t){}}}return e}return e},j=s(!1,"Array"),W=l.bind(null,!1),G=s(!1,"Map"),V=s(!1,"Object"),H=s(!0,"Array"),Y=l.bind(null,!0),q=s(!0,"Object"),X=Object.freeze({observableArray:j,observableArrayOf:W,observableMap:G,observableObject:V,arrayOrObservableArray:H,arrayOrObservableArrayOf:Y,objectOrObservableObject:q}),Z={mobxStores:q};Object.seal(Z);var K={contextTypes:{get:function(){return Z},set:function(t){console.warn("Mobx Injector: you are trying to attach `contextTypes` on an component decorated with `inject` (or `observer`) HOC. Please specify the contextTypes on the wrapped component instead. It is accessible through the `wrappedComponent`")},configurable:!0,enumerable:!1},isMobxInjector:{value:!0,writable:!0,configurable:!0,enumerable:!0}},J=!1,Q=!1,$=!1,tt="undefined"!=typeof WeakMap?new WeakMap:void 0,et=new A,nt=new A,rt={componentWillMount:function(){function t(t){var e=this[t],n=new w.Atom("reactive "+t);Object.defineProperty(this,t,{configurable:!0,enumerable:!0,get:function(){return n.reportObserved(),e},set:function(t){a||y(e,t)?e=t:(e=t,i=!0,n.reportChanged(),i=!1)}})}var e=this;if(!0!==Q){var n=this.displayName||this.name||this.constructor&&(this.constructor.displayName||this.constructor.name)||"<component>",r=this._reactInternalInstance&&this._reactInternalInstance._rootNodeID||this._reactInternalFiber&&this._reactInternalFiber._debugID,i=!1,a=!1;t.call(this,"props"),t.call(this,"state");var o=this.render.bind(this),s=null,l=!1,u=function(){return s=new w.Reaction(n+"#"+r+".render()",function(){if(!l&&(l=!0,"function"==typeof e.componentWillReact&&e.componentWillReact(),!0!==e.__$mobxIsUnmounted)){var t=!0;try{a=!0,i||M.Component.prototype.forceUpdate.call(e),t=!1}finally{a=!1,t&&s.dispose()}}}),s.reactComponent=e,c.$mobx=s,e.render=c,c()},c=function(){l=!1;var t=void 0,n=void 0;if(s.track(function(){J&&(e.__$mobRenderStart=Date.now());try{n=w.extras.allowStateChanges(!1,o)}catch(e){t=e}J&&(e.__$mobRenderEnd=Date.now())}),t)throw nt.emit(t),t;return n};this.render=u}},componentWillUnmount:function(){if(!0!==Q&&(this.render.$mobx&&this.render.$mobx.dispose(),this.__$mobxIsUnmounted=!0,J)){var t=f(this);t&&tt&&tt.delete(t),et.emit({event:"destroy",component:this,node:t})}},componentDidMount:function(){J&&p(this)},componentDidUpdate:function(){J&&p(this)},shouldComponentUpdate:function(t,e){return Q&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==e||!y(this.props,t)}},it=x(function(t){var e=t.children,n=t.inject,r=t.render,i=e||r;if(void 0===i)return null;if(!n)return i();var a=d(n)(i);return S.a.createElement(a,null)});it.displayName="Observer";var at=function(t,e,n,r,i){var a="children"===e?"render":"children";if("function"==typeof t[e]&&"function"==typeof t[a])return new Error("Invalid prop,do not use children and render in the same time in`"+n);if("function"!=typeof t[e]&&"function"!=typeof t[a])return new Error("Invalid prop `"+i+"` of type `"+k(t[e])+"` supplied to `"+n+"`, expected `function`.")};it.propTypes={render:at,children:at};var ot,st,lt={children:!0,key:!0,ref:!0},ut=(st=ot=function(t){function e(){return T(this,e),O(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return P(e,t),C(e,[{key:"render",value:function(){return M.Children.only(this.props.children)}},{key:"getChildContext",value:function(){var t={},e=this.context.mobxStores;if(e)for(var n in e)t[n]=e[n];for(var r in this.props)lt[r]||"suppressChangedStoreWarning"===r||(t[r]=this.props[r]);return{mobxStores:t}}},{key:"componentWillReceiveProps",value:function(t){if(Object.keys(t).length!==Object.keys(this.props).length&&console.warn("MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children"),!t.suppressChangedStoreWarning)for(var e in t)lt[e]||this.props[e]===t[e]||console.warn("MobX Provider: Provided store '"+e+"' has changed. Please avoid replacing stores as the change might not propagate to all children")}}]),e}(M.Component),ot.contextTypes={mobxStores:q},ot.childContextTypes={mobxStores:q.isRequired},st);if(!M.Component)throw new Error("mobx-react requires React to be available");if(!w.extras)throw new Error("mobx-react requires mobx to be available");"function"==typeof E.unstable_batchedUpdates&&w.extras.setReactionScheduler(E.unstable_batchedUpdates);var ct=function(t){return nt.on(t)};if("object"===("undefined"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__?"undefined":k(__MOBX_DEVTOOLS_GLOBAL_HOOK__))){var ht={spy:w.spy,extras:w.extras},dt={renderReporter:et,componentByNodeRegistery:tt,trackComponents:m};__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobxReact(dt,ht)}},function(t,e,n){"use strict";var r=n(6);t.exports={_set:function(t,e){return r.merge(this[t]||(this[t]={}),e)}}},function(t,e){var n=t.exports={version:"2.5.3"};"number"==typeof __e&&(__e=n)},function(t,e,n){"use strict";var r=n(7),i=n(60);e.a=function(t){return Math.abs(t)<=r.c?t:t-n.i(i.a)(t)*r.e}},function(t,e,n){"use strict";function r(){}function i(t,e){this.x=t||0,this.y=e||0}function a(t,e,n,r,o,s,l,u,c,h){Object.defineProperty(this,"id",{value:ps++}),this.uuid=fs.generateUUID(),this.name="",this.image=void 0!==t?t:a.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:a.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:so,this.wrapT=void 0!==r?r:so,this.magFilter=void 0!==o?o:fo,this.minFilter=void 0!==s?s:mo,this.anisotropy=void 0!==c?c:1,this.format=void 0!==l?l:Oo,this.type=void 0!==u?u:go,this.offset=new i(0,0),this.repeat=new i(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==h?h:rs,this.version=0,this.onUpdate=null}function o(t,e,n,r){this.x=t||0,this.y=e||0,this.z=n||0,this.w=void 0!==r?r:1}function s(t,e,n){this.uuid=fs.generateUUID(),this.width=t,this.height=e,this.scissor=new o(0,0,t,e),this.scissorTest=!1,this.viewport=new o(0,0,t,e),n=n||{},void 0===n.minFilter&&(n.minFilter=fo),this.texture=new a(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function l(t,e,n){s.call(this,t,e,n),this.activeCubeFace=0,this.activeMipMapLevel=0}function u(t,e,n,r){this._x=t||0,this._y=e||0,this._z=n||0,this._w=void 0!==r?r:1}function c(t,e,n){this.x=t||0,this.y=e||0,this.z=n||0}function h(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function d(t,e,n,r,i,o,s,l,u,c){t=void 0!==t?t:[],e=void 0!==e?e:$a,a.call(this,t,e,n,r,i,o,s,l,u,c),this.flipY=!1}function f(){this.seq=[],this.map={}}function p(t,e,n){var r=t[0];if(r<=0||r>0)return t;var i=e*n,a=vs[i];if(void 0===a&&(a=new Float32Array(i),vs[i]=a),0!==e){r.toArray(a,0);for(var o=1,s=0;o!==e;++o)s+=n,t[o].toArray(a,s)}return a}function m(t,e){var n=ys[e];void 0===n&&(n=new Int32Array(e),ys[e]=n);for(var r=0;r!==e;++r)n[r]=t.allocTextureUnit();return n}function g(t,e){t.uniform1f(this.addr,e)}function v(t,e){t.uniform1i(this.addr,e)}function y(t,e){void 0===e.x?t.uniform2fv(this.addr,e):t.uniform2f(this.addr,e.x,e.y)}function b(t,e){void 0!==e.x?t.uniform3f(this.addr,e.x,e.y,e.z):void 0!==e.r?t.uniform3f(this.addr,e.r,e.g,e.b):t.uniform3fv(this.addr,e)}function x(t,e){void 0===e.x?t.uniform4fv(this.addr,e):t.uniform4f(this.addr,e.x,e.y,e.z,e.w)}function _(t,e){t.uniformMatrix2fv(this.addr,!1,e.elements||e)}function w(t,e){t.uniformMatrix3fv(this.addr,!1,e.elements||e)}function M(t,e){t.uniformMatrix4fv(this.addr,!1,e.elements||e)}function S(t,e,n){var r=n.allocTextureUnit();t.uniform1i(this.addr,r),n.setTexture2D(e||ms,r)}function E(t,e,n){var r=n.allocTextureUnit();t.uniform1i(this.addr,r),n.setTextureCube(e||gs,r)}function k(t,e){t.uniform2iv(this.addr,e)}function T(t,e){t.uniform3iv(this.addr,e)}function C(t,e){t.uniform4iv(this.addr,e)}function P(t){switch(t){case 5126:return g;case 35664:return y;case 35665:return b;case 35666:return x;case 35674:return _;case 35675:return w;case 35676:return M;case 35678:return S;case 35680:return E;case 5124:case 35670:return v;case 35667:case 35671:return k;case 35668:case 35672:return T;case 35669:case 35673:return C}}function O(t,e){t.uniform1fv(this.addr,e)}function A(t,e){t.uniform1iv(this.addr,e)}function R(t,e){t.uniform2fv(this.addr,p(e,this.size,2))}function L(t,e){t.uniform3fv(this.addr,p(e,this.size,3))}function I(t,e){t.uniform4fv(this.addr,p(e,this.size,4))}function D(t,e){t.uniformMatrix2fv(this.addr,!1,p(e,this.size,4))}function N(t,e){t.uniformMatrix3fv(this.addr,!1,p(e,this.size,9))}function z(t,e){t.uniformMatrix4fv(this.addr,!1,p(e,this.size,16))}function B(t,e,n){var r=e.length,i=m(n,r);t.uniform1iv(this.addr,i);for(var a=0;a!==r;++a)n.setTexture2D(e[a]||ms,i[a])}function F(t,e,n){var r=e.length,i=m(n,r);t.uniform1iv(this.addr,i);for(var a=0;a!==r;++a)n.setTextureCube(e[a]||gs,i[a])}function U(t){switch(t){case 5126:return O;case 35664:return R;case 35665:return L;case 35666:return I;case 35674:return D;case 35675:return N;case 35676:return z;case 35678:return B;case 35680:return F;case 5124:case 35670:return A;case 35667:case 35671:return k;case 35668:case 35672:return T;case 35669:case 35673:return C}}function j(t,e,n){this.id=t,this.addr=n,this.setValue=P(e.type)}function W(t,e,n){this.id=t,this.addr=n,this.size=e.size,this.setValue=U(e.type)}function G(t){this.id=t,f.call(this)}function V(t,e){t.seq.push(e),t.map[e.id]=e}function H(t,e,n){var r=t.name,i=r.length;for(bs.lastIndex=0;;){var a=bs.exec(r),o=bs.lastIndex,s=a[1],l="]"===a[2],u=a[3];if(l&&(s|=0),void 0===u||"["===u&&o+2===i){V(n,void 0===u?new j(s,t,e):new W(s,t,e));break}var c=n.map,h=c[s];void 0===h&&(h=new G(s),V(n,h)),n=h}}function Y(t,e,n){f.call(this),this.renderer=n;for(var r=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),i=0;i<r;++i){var a=t.getActiveUniform(e,i),o=a.name;H(a,t.getUniformLocation(e,o),this)}}function q(t,e,n){return void 0===e&&void 0===n?this.set(t):this.setRGB(t,e,n)}function X(t,e,n,r,i,o,s,l,u,c,h,d){a.call(this,null,o,s,l,u,c,r,i,h,d),this.image={data:t,width:e,height:n},this.magFilter=void 0!==u?u:uo,this.minFilter=void 0!==c?c:uo,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function Z(t,e){this.min=void 0!==t?t:new i(1/0,1/0),this.max=void 0!==e?e:new i(-1/0,-1/0)}function K(t,e){function n(){var t=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),e=new Uint16Array([0,1,2,0,2,3]);a=p.createBuffer(),o=p.createBuffer(),p.bindBuffer(p.ARRAY_BUFFER,a),p.bufferData(p.ARRAY_BUFFER,t,p.STATIC_DRAW),p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,o),p.bufferData(p.ELEMENT_ARRAY_BUFFER,e,p.STATIC_DRAW),d=p.createTexture(),f=p.createTexture(),m.bindTexture(p.TEXTURE_2D,d),p.texImage2D(p.TEXTURE_2D,0,p.RGB,16,16,0,p.RGB,p.UNSIGNED_BYTE,null),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.NEAREST),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.NEAREST),m.bindTexture(p.TEXTURE_2D,f),p.texImage2D(p.TEXTURE_2D,0,p.RGBA,16,16,0,p.RGBA,p.UNSIGNED_BYTE,null),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.NEAREST),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.NEAREST),s={vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","vUV = uv;","vec2 pos = position;","if ( renderType == 2 ) {","vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","vVisibility =        visibility.r / 9.0;","vVisibility *= 1.0 - visibility.g / 9.0;","vVisibility *=       visibility.b / 9.0;","vVisibility *= 1.0 - visibility.a / 9.0;","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["uniform lowp int renderType;","uniform sampler2D map;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","if ( renderType == 0 ) {","gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","} else if ( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * vVisibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")},l=r(s),u={vertex:p.getAttribLocation(l,"position"),uv:p.getAttribLocation(l,"uv")},h={renderType:p.getUniformLocation(l,"renderType"),map:p.getUniformLocation(l,"map"),occlusionMap:p.getUniformLocation(l,"occlusionMap"),opacity:p.getUniformLocation(l,"opacity"),color:p.getUniformLocation(l,"color"),scale:p.getUniformLocation(l,"scale"),rotation:p.getUniformLocation(l,"rotation"),screenPosition:p.getUniformLocation(l,"screenPosition")}}function r(e){var n=p.createProgram(),r=p.createShader(p.FRAGMENT_SHADER),i=p.createShader(p.VERTEX_SHADER),a="precision "+t.getPrecision()+" float;\n";return p.shaderSource(r,a+e.fragmentShader),p.shaderSource(i,a+e.vertexShader),p.compileShader(r),p.compileShader(i),p.attachShader(n,r),p.attachShader(n,i),p.linkProgram(n),n}var a,o,s,l,u,h,d,f,p=t.context,m=t.state;this.render=function(r,s,g){if(0!==e.length){var v=new c,y=g.w/g.z,b=.5*g.z,x=.5*g.w,_=16/g.w,w=new i(_*y,_),M=new c(1,1,0),S=new i(1,1),E=new Z;E.min.set(g.x,g.y),E.max.set(g.x+(g.z-16),g.y+(g.w-16)),void 0===l&&n(),p.useProgram(l),m.initAttributes(),m.enableAttribute(u.vertex),m.enableAttribute(u.uv),m.disableUnusedAttributes(),p.uniform1i(h.occlusionMap,0),p.uniform1i(h.map,1),p.bindBuffer(p.ARRAY_BUFFER,a),p.vertexAttribPointer(u.vertex,2,p.FLOAT,!1,16,0),p.vertexAttribPointer(u.uv,2,p.FLOAT,!1,16,8),p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,o),m.disable(p.CULL_FACE),m.setDepthWrite(!1);for(var k=0,T=e.length;k<T;k++){_=16/g.w,w.set(_*y,_);var C=e[k];if(v.set(C.matrixWorld.elements[12],C.matrixWorld.elements[13],C.matrixWorld.elements[14]),v.applyMatrix4(s.matrixWorldInverse),v.applyMatrix4(s.projectionMatrix),M.copy(v),S.x=g.x+M.x*b+b-8,S.y=g.y+M.y*x+x-8,!0===E.containsPoint(S)){m.activeTexture(p.TEXTURE0),m.bindTexture(p.TEXTURE_2D,null),m.activeTexture(p.TEXTURE1),m.bindTexture(p.TEXTURE_2D,d),p.copyTexImage2D(p.TEXTURE_2D,0,p.RGB,S.x,S.y,16,16,0),p.uniform1i(h.renderType,0),p.uniform2f(h.scale,w.x,w.y),p.uniform3f(h.screenPosition,M.x,M.y,M.z),m.disable(p.BLEND),m.enable(p.DEPTH_TEST),p.drawElements(p.TRIANGLES,6,p.UNSIGNED_SHORT,0),m.activeTexture(p.TEXTURE0),m.bindTexture(p.TEXTURE_2D,f),p.copyTexImage2D(p.TEXTURE_2D,0,p.RGBA,S.x,S.y,16,16,0),p.uniform1i(h.renderType,1),m.disable(p.DEPTH_TEST),m.activeTexture(p.TEXTURE1),m.bindTexture(p.TEXTURE_2D,d),p.drawElements(p.TRIANGLES,6,p.UNSIGNED_SHORT,0),C.positionScreen.copy(M),C.customUpdateCallback?C.customUpdateCallback(C):C.updateLensFlares(),p.uniform1i(h.renderType,2),m.enable(p.BLEND);for(var P=0,O=C.lensFlares.length;P<O;P++){var A=C.lensFlares[P];A.opacity>.001&&A.scale>.001&&(M.x=A.x,M.y=A.y,M.z=A.z,_=A.size*A.scale/g.w,w.x=_*y,w.y=_,p.uniform3f(h.screenPosition,M.x,M.y,M.z),p.uniform2f(h.scale,w.x,w.y),p.uniform1f(h.rotation,A.rotation),p.uniform1f(h.opacity,A.opacity),p.uniform3f(h.color,A.color.r,A.color.g,A.color.b),m.setBlending(A.blending,A.blendEquation,A.blendSrc,A.blendDst),t.setTexture2D(A.texture,1),p.drawElements(p.TRIANGLES,6,p.UNSIGNED_SHORT,0))}}}m.enable(p.CULL_FACE),m.enable(p.DEPTH_TEST),m.setDepthWrite(!0),t.resetGLState()}}}function J(t,e){function n(){var t=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),e=new Uint16Array([0,1,2,0,2,3]);o=p.createBuffer(),s=p.createBuffer(),p.bindBuffer(p.ARRAY_BUFFER,o),p.bufferData(p.ARRAY_BUFFER,t,p.STATIC_DRAW),p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,s),p.bufferData(p.ELEMENT_ARRAY_BUFFER,e,p.STATIC_DRAW),l=r(),h={position:p.getAttribLocation(l,"position"),uv:p.getAttribLocation(l,"uv")},d={uvOffset:p.getUniformLocation(l,"uvOffset"),uvScale:p.getUniformLocation(l,"uvScale"),rotation:p.getUniformLocation(l,"rotation"),scale:p.getUniformLocation(l,"scale"),color:p.getUniformLocation(l,"color"),map:p.getUniformLocation(l,"map"),opacity:p.getUniformLocation(l,"opacity"),modelViewMatrix:p.getUniformLocation(l,"modelViewMatrix"),projectionMatrix:p.getUniformLocation(l,"projectionMatrix"),fogType:p.getUniformLocation(l,"fogType"),fogDensity:p.getUniformLocation(l,"fogDensity"),fogNear:p.getUniformLocation(l,"fogNear"),fogFar:p.getUniformLocation(l,"fogFar"),fogColor:p.getUniformLocation(l,"fogColor"),alphaTest:p.getUniformLocation(l,"alphaTest")};var n=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");n.width=8,n.height=8;var i=n.getContext("2d");i.fillStyle="white",i.fillRect(0,0,8,8),f=new a(n),f.needsUpdate=!0}function r(){var e=p.createProgram(),n=p.createShader(p.VERTEX_SHADER),r=p.createShader(p.FRAGMENT_SHADER);return p.shaderSource(n,["precision "+t.getPrecision()+" float;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uvOffset + uv * uvScale;","vec2 alignedPosition = position * scale;","vec2 rotatedPosition;","rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","vec4 finalPosition;","finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","finalPosition.xy += rotatedPosition;","finalPosition = projectionMatrix * finalPosition;","gl_Position = finalPosition;","}"].join("\n")),p.shaderSource(r,["precision "+t.getPrecision()+" float;","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","void main() {","vec4 texture = texture2D( map, vUV );","if ( texture.a < alphaTest ) discard;","gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","if ( fogType > 0 ) {","float depth = gl_FragCoord.z / gl_FragCoord.w;","float fogFactor = 0.0;","if ( fogType == 1 ) {","fogFactor = smoothstep( fogNear, fogFar, depth );","} else {","const float LOG2 = 1.442695;","fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );","fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","}","gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","}","}"].join("\n")),p.compileShader(n),p.compileShader(r),p.attachShader(e,n),p.attachShader(e,r),p.linkProgram(e),e}function i(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:e.id-t.id}var o,s,l,h,d,f,p=t.context,m=t.state,g=new c,v=new u,y=new c;this.render=function(r,a){if(0!==e.length){void 0===l&&n(),p.useProgram(l),m.initAttributes(),m.enableAttribute(h.position),m.enableAttribute(h.uv),m.disableUnusedAttributes(),m.disable(p.CULL_FACE),m.enable(p.BLEND),p.bindBuffer(p.ARRAY_BUFFER,o),p.vertexAttribPointer(h.position,2,p.FLOAT,!1,16,0),p.vertexAttribPointer(h.uv,2,p.FLOAT,!1,16,8),p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,s),p.uniformMatrix4fv(d.projectionMatrix,!1,a.projectionMatrix.elements),m.activeTexture(p.TEXTURE0),p.uniform1i(d.map,0);var u=0,c=0,b=r.fog;b?(p.uniform3f(d.fogColor,b.color.r,b.color.g,b.color.b),b.isFog?(p.uniform1f(d.fogNear,b.near),p.uniform1f(d.fogFar,b.far),p.uniform1i(d.fogType,1),u=1,c=1):b.isFogExp2&&(p.uniform1f(d.fogDensity,b.density),p.uniform1i(d.fogType,2),u=2,c=2)):(p.uniform1i(d.fogType,0),u=0,c=0);for(var x=0,_=e.length;x<_;x++){var w=e[x];w.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,w.matrixWorld),w.z=-w.modelViewMatrix.elements[14]}e.sort(i);for(var M=[],x=0,_=e.length;x<_;x++){var w=e[x],S=w.material;if(!1!==S.visible){p.uniform1f(d.alphaTest,S.alphaTest),p.uniformMatrix4fv(d.modelViewMatrix,!1,w.modelViewMatrix.elements),w.matrixWorld.decompose(g,v,y),M[0]=y.x,M[1]=y.y;var E=0;r.fog&&S.fog&&(E=c),u!==E&&(p.uniform1i(d.fogType,E),u=E),null!==S.map?(p.uniform2f(d.uvOffset,S.map.offset.x,S.map.offset.y),p.uniform2f(d.uvScale,S.map.repeat.x,S.map.repeat.y)):(p.uniform2f(d.uvOffset,0,0),p.uniform2f(d.uvScale,1,1)),p.uniform1f(d.opacity,S.opacity),p.uniform3f(d.color,S.color.r,S.color.g,S.color.b),p.uniform1f(d.rotation,S.rotation),p.uniform2fv(d.scale,M),m.setBlending(S.blending,S.blendEquation,S.blendSrc,S.blendDst),m.setDepthTest(S.depthTest),m.setDepthWrite(S.depthWrite),S.map?t.setTexture2D(S.map,0):t.setTexture2D(f,0),p.drawElements(p.TRIANGLES,6,p.UNSIGNED_SHORT,0)}}m.enable(p.CULL_FACE),t.resetGLState()}}}function Q(){Object.defineProperty(this,"id",{value:Es++}),this.uuid=fs.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=ma,this.side=oa,this.shading=ca,this.vertexColors=ha,this.opacity=1,this.transparent=!1,this.blendSrc=Pa,this.blendDst=Oa,this.blendEquation=xa,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Fa,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this._needsUpdate=!0}function $(t){Q.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}function tt(t){Q.call(this),this.type="MeshDepthMaterial",this.depthPacking=hs,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(t)}function et(t,e){this.min=void 0!==t?t:new c(1/0,1/0,1/0),this.max=void 0!==e?e:new c(-1/0,-1/0,-1/0)}function nt(t,e){this.center=void 0!==t?t:new c,this.radius=void 0!==e?e:0}function rt(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]),arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}function it(t,e){this.normal=void 0!==t?t:new c(1,0,0),this.constant=void 0!==e?e:0}function at(t,e,n,r,i,a){this.planes=[void 0!==t?t:new it,void 0!==e?e:new it,void 0!==n?n:new it,void 0!==r?r:new it,void 0!==i?i:new it,void 0!==a?a:new it]}function ot(t,e,n,r){function a(e,n,r,i){var a=e.geometry,o=null,s=S,l=e.customDepthMaterial;if(r&&(s=E,l=e.customDistanceMaterial),l)o=l;else{var u=!1;n.morphTargets&&(a&&a.isBufferGeometry?u=a.morphAttributes&&a.morphAttributes.position&&a.morphAttributes.position.length>0:a&&a.isGeometry&&(u=a.morphTargets&&a.morphTargets.length>0));var c=e.isSkinnedMesh&&n.skinning,h=0;u&&(h|=_),c&&(h|=w),o=s[h]}if(t.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var d=o.uuid,f=n.uuid,p=k[d];void 0===p&&(p={},k[d]=p);var m=p[f];void 0===m&&(m=o.clone(),p[f]=m),o=m}o.visible=n.visible,o.wireframe=n.wireframe;var g=n.side;return B.renderSingleSided&&g==la&&(g=oa),B.renderReverseSided&&(g===oa?g=sa:g===sa&&(g=oa)),o.side=g,o.clipShadows=n.clipShadows,o.clippingPlanes=n.clippingPlanes,o.wireframeLinewidth=n.wireframeLinewidth,o.linewidth=n.linewidth,r&&void 0!==o.uniforms.lightPos&&o.uniforms.lightPos.value.copy(i),o}function l(t,e,n){if(!1!==t.visible){if(0!=(t.layers.mask&e.layers.mask)&&(t.isMesh||t.isLine||t.isPoints)&&t.castShadow&&(!1===t.frustumCulled||!0===f.intersectsObject(t))){!0===t.material.visible&&(t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),x.push(t))}for(var r=t.children,i=0,a=r.length;i<a;i++)l(r[i],e,n)}}var u=t.context,d=t.state,f=new at,p=new h,m=e.shadows,g=new i,v=new i(r.maxTextureSize,r.maxTextureSize),y=new c,b=new c,x=[],_=1,w=2,M=1+(_|w),S=new Array(M),E=new Array(M),k={},T=[new c(1,0,0),new c(-1,0,0),new c(0,0,1),new c(0,0,-1),new c(0,1,0),new c(0,-1,0)],C=[new c(0,1,0),new c(0,1,0),new c(0,1,0),new c(0,1,0),new c(0,0,1),new c(0,0,-1)],P=[new o,new o,new o,new o,new o,new o],O=new tt;O.depthPacking=ds,O.clipping=!0;for(var A=Ss.distanceRGBA,R=xs.clone(A.uniforms),L=0;L!==M;++L){var I=0!=(L&_),D=0!=(L&w),N=O.clone();N.morphTargets=I,N.skinning=D,S[L]=N;var z=new $({defines:{USE_SHADOWMAP:""},uniforms:R,vertexShader:A.vertexShader,fragmentShader:A.fragmentShader,morphTargets:I,skinning:D,clipping:!0});E[L]=z}var B=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=ia,this.renderReverseSided=!0,this.renderSingleSided=!0,this.render=function(e,r){if(!1!==B.enabled&&(!1!==B.autoUpdate||!1!==B.needsUpdate)&&0!==m.length){d.buffers.color.setClear(1,1,1,1),d.disable(u.BLEND),d.setDepthTest(!0),d.setScissorTest(!1);for(var i,o,c=0,h=m.length;c<h;c++){var _=m[c],w=_.shadow;if(void 0!==w){var M=w.camera;if(g.copy(w.mapSize),g.min(v),_&&_.isPointLight){i=6,o=!0;var S=g.x,E=g.y;P[0].set(2*S,E,S,E),P[1].set(0,E,S,E),P[2].set(3*S,E,S,E),P[3].set(S,E,S,E),P[4].set(3*S,0,S,E),P[5].set(S,0,S,E),g.x*=4,g.y*=2}else i=1,o=!1;if(null===w.map){var k={minFilter:uo,magFilter:uo,format:Oo};w.map=new s(g.x,g.y,k),M.updateProjectionMatrix()}w.isSpotLightShadow&&w.update(_),w&&w.isRectAreaLightShadow&&w.update(_);var O=w.map,A=w.matrix;b.setFromMatrixPosition(_.matrixWorld),M.position.copy(b),t.setRenderTarget(O),t.clear();for(var R=0;R<i;R++){if(o){y.copy(M.position),y.add(T[R]),M.up.copy(C[R]),M.lookAt(y);var L=P[R];d.viewport(L)}else y.setFromMatrixPosition(_.target.matrixWorld),M.lookAt(y);M.updateMatrixWorld(),M.matrixWorldInverse.getInverse(M.matrixWorld),A.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),A.multiply(M.projectionMatrix),A.multiply(M.matrixWorldInverse),p.multiplyMatrices(M.projectionMatrix,M.matrixWorldInverse),f.setFromMatrix(p),x.length=0,l(e,r,M);for(var I=0,D=x.length;I<D;I++){var N=x[I],z=n.update(N),F=N.material;if(F&&F.isMultiMaterial)for(var U=z.groups,j=F.materials,W=0,G=U.length;W<G;W++){var V=U[W],H=j[V.materialIndex];if(!0===H.visible){var Y=a(N,H,o,b);t.renderBufferDirect(M,null,z,Y,N,V)}}else{var Y=a(N,F,o,b);t.renderBufferDirect(M,null,z,Y,N,null)}}}}else console.warn("THREE.WebGLShadowMap:",_,"has no shadow.")}var q=t.getClearColor(),X=t.getClearAlpha();t.setClearColor(q,X),B.needsUpdate=!1}}}function st(t,e){this.origin=void 0!==t?t:new c,this.direction=void 0!==e?e:new c}function lt(t,e,n,r){this._x=t||0,this._y=e||0,this._z=n||0,this._order=r||lt.DefaultOrder}function ut(){this.mask=1}function ct(){function t(){i.setFromEuler(r,!1)}function e(){r.setFromQuaternion(i,void 0,!1)}Object.defineProperty(this,"id",{value:ks++}),this.uuid=fs.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ct.DefaultUp.clone();var n=new c,r=new lt,i=new u,a=new c(1,1,1);r.onChange(t),i.onChange(e),Object.defineProperties(this,{position:{enumerable:!0,value:n},rotation:{enumerable:!0,value:r},quaternion:{enumerable:!0,value:i},scale:{enumerable:!0,value:a},modelViewMatrix:{value:new h},normalMatrix:{value:new rt}}),this.matrix=new h,this.matrixWorld=new h,this.matrixAutoUpdate=ct.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new ut,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={},this.onBeforeRender=function(){},this.onAfterRender=function(){}}function ht(t,e){this.start=void 0!==t?t:new c,this.end=void 0!==e?e:new c}function dt(t,e,n){this.a=void 0!==t?t:new c,this.b=void 0!==e?e:new c,this.c=void 0!==n?n:new c}function ft(t,e,n,r,i,a){this.a=t,this.b=e,this.c=n,this.normal=r&&r.isVector3?r:new c,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new q,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==a?a:0}function pt(t){Q.call(this),this.type="MeshBasicMaterial",this.color=new q(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Va,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function mt(t,e,n){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.uuid=fs.generateUUID(),this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function gt(t,e){mt.call(this,new Int8Array(t),e)}function vt(t,e){mt.call(this,new Uint8Array(t),e)}function yt(t,e){mt.call(this,new Uint8ClampedArray(t),e)}function bt(t,e){mt.call(this,new Int16Array(t),e)}function xt(t,e){mt.call(this,new Uint16Array(t),e)}function _t(t,e){mt.call(this,new Int32Array(t),e)}function wt(t,e){mt.call(this,new Uint32Array(t),e)}function Mt(t,e){mt.call(this,new Float32Array(t),e)}function St(t,e){mt.call(this,new Float64Array(t),e)}function Et(){this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function kt(t){for(var e=t.length,n=-1/0;e--;)t[e]>n&&(n=t[e]);return n}function Tt(){return Ts++}function Ct(){Object.defineProperty(this,"id",{value:Tt()}),this.uuid=fs.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function Pt(){Object.defineProperty(this,"id",{value:Tt()}),this.uuid=fs.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0}}function Ot(t,e){ct.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new Pt,this.material=void 0!==e?e:new pt({color:16777215*Math.random()}),this.drawMode=ts,this.updateMorphTargets()}function At(t,e,n,r,i,a){Ct.call(this),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:i,depthSegments:a},this.fromBufferGeometry(new Rt(t,e,n,r,i,a)),this.mergeVertices()}function Rt(t,e,n,r,i,a){function o(t,e,n,r,i,a,o,m,g,v,y){var b,x,_=a/g,w=o/v,M=a/2,S=o/2,E=m/2,k=g+1,T=v+1,C=0,P=0,O=new c;for(x=0;x<T;x++){var A=x*w-S;for(b=0;b<k;b++){var R=b*_-M;O[t]=R*r,O[e]=A*i,O[n]=E,u.push(O.x,O.y,O.z),O[t]=0,O[e]=0,O[n]=m>0?1:-1,h.push(O.x,O.y,O.z),d.push(b/g),d.push(1-x/v),C+=1}}for(x=0;x<v;x++)for(b=0;b<g;b++){var L=f+b+k*x,I=f+b+k*(x+1),D=f+(b+1)+k*(x+1),N=f+(b+1)+k*x;l.push(L,I,N),l.push(I,D,N),P+=6}s.addGroup(p,P,y),p+=P,f+=C}Pt.call(this),this.type="BoxBufferGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:i,depthSegments:a};var s=this;r=Math.floor(r)||1,i=Math.floor(i)||1,a=Math.floor(a)||1;var l=[],u=[],h=[],d=[],f=0,p=0;o("z","y","x",-1,-1,n,e,t,a,i,0),o("z","y","x",1,-1,n,e,-t,a,i,1),o("x","z","y",1,1,t,n,e,r,a,2),o("x","z","y",1,-1,t,n,-e,r,a,3),o("x","y","z",1,-1,t,e,n,r,i,4),o("x","y","z",-1,-1,t,e,-n,r,i,5),this.setIndex(l),this.addAttribute("position",new Mt(u,3)),this.addAttribute("normal",new Mt(h,3)),this.addAttribute("uv",new Mt(d,2))}function Lt(t,e,n,r){Ct.call(this),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new It(t,e,n,r))}function It(t,e,n,r){Pt.call(this),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r};var i,a,o=t/2,s=e/2,l=Math.floor(n)||1,u=Math.floor(r)||1,c=l+1,h=u+1,d=t/l,f=e/u,p=[],m=[],g=[],v=[];for(a=0;a<h;a++){var y=a*f-s;for(i=0;i<c;i++){var b=i*d-o;m.push(b,-y,0),g.push(0,0,1),v.push(i/l),v.push(1-a/u)}}for(a=0;a<u;a++)for(i=0;i<l;i++){var x=i+c*a,_=i+c*(a+1),w=i+1+c*(a+1),M=i+1+c*a;p.push(x,_,M),p.push(_,w,M)}this.setIndex(p),this.addAttribute("position",new Mt(m,3)),this.addAttribute("normal",new Mt(g,3)),this.addAttribute("uv",new Mt(v,2))}function Dt(){ct.call(this),this.type="Camera",this.matrixWorldInverse=new h,this.projectionMatrix=new h}function Nt(t,e,n,r){Dt.call(this),this.type="PerspectiveCamera",this.fov=void 0!==t?t:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function zt(t,e,n,r,i,a){Dt.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=n,this.bottom=r,this.near=void 0!==i?i:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()}function Bt(t,e,n){function r(t){s=t}function i(n){n.array instanceof Uint32Array&&e.get("OES_element_index_uint")?(l=t.UNSIGNED_INT,u=4):n.array instanceof Uint16Array?(l=t.UNSIGNED_SHORT,u=2):(l=t.UNSIGNED_BYTE,u=1)}function a(e,r){t.drawElements(s,r,l,e*u),n.calls++,n.vertices+=r,s===t.TRIANGLES&&(n.faces+=r/3)}function o(r,i,a){var o=e.get("ANGLE_instanced_arrays");if(null===o)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");o.drawElementsInstancedANGLE(s,a,l,i*u,r.maxInstancedCount),n.calls++,n.vertices+=a*r.maxInstancedCount,s===t.TRIANGLES&&(n.faces+=r.maxInstancedCount*a/3)}var s,l,u;return{setMode:r,setIndex:i,render:a,renderInstances:o}}function Ft(t,e,n){function r(t){o=t}function i(e,r){t.drawArrays(o,e,r),n.calls++,n.vertices+=r,o===t.TRIANGLES&&(n.faces+=r/3)}function a(r){var i=e.get("ANGLE_instanced_arrays");if(null===i)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");var a=r.attributes.position,s=0;a.isInterleavedBufferAttribute?(s=a.data.count,i.drawArraysInstancedANGLE(o,0,s,r.maxInstancedCount)):(s=a.count,i.drawArraysInstancedANGLE(o,0,s,r.maxInstancedCount)),n.calls++,n.vertices+=s*r.maxInstancedCount,o===t.TRIANGLES&&(n.faces+=r.maxInstancedCount*s/3)}var o;return{setMode:r,render:i,renderInstances:a}}function Ut(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var n;switch(e.type){case"DirectionalLight":n={direction:new c,color:new q,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new i};break;case"SpotLight":n={position:new c,direction:new c,color:new q,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new i};break;case"PointLight":n={position:new c,color:new q,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new i};break;case"HemisphereLight":n={direction:new c,skyColor:new q,groundColor:new q};break;case"RectAreaLight":n={color:new q,position:new c,halfWidth:new c,halfHeight:new c}}return t[e.id]=n,n}}}function jt(t){for(var e=t.split("\n"),n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join("\n")}function Wt(t,e,n){var r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),!1===t.getShaderParameter(r,t.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==t.getShaderInfoLog(r)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",e===t.VERTEX_SHADER?"vertex":"fragment",t.getShaderInfoLog(r),jt(n)),r}function Gt(t){switch(t){case rs:return["Linear","( value )"];case is:return["sRGB","( value )"];case os:return["RGBE","( value )"];case ls:return["RGBM","( value, 7.0 )"];case us:return["RGBM","( value, 16.0 )"];case cs:return["RGBD","( value, 256.0 )"];case as:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+t)}}function Vt(t,e){var n=Gt(e);return"vec4 "+t+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function Ht(t,e){var n=Gt(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Yt(t,e){var n;switch(e){case Xa:n="Linear";break;case Za:n="Reinhard";break;case Ka:n="Uncharted2";break;case Ja:n="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+e)}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function qt(t,e,n){return t=t||{},[t.derivatives||e.envMapCubeUV||e.bumpMap||e.normalMap||e.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(t.fragDepth||e.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",t.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(t.shaderTextureLOD||e.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Kt).join("\n")}function Xt(t){var e=[];for(var n in t){var r=t[n];!1!==r&&e.push("#define "+n+" "+r)}return e.join("\n")}function Zt(t,e,n){for(var r={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),a=0;a<i;a++){var o=t.getActiveAttrib(e,a),s=o.name;r[s]=t.getAttribLocation(e,s)}return r}function Kt(t){return""!==t}function Jt(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights)}function Qt(t){function e(t,e){var n=_s[e];if(void 0===n)throw new Error("Can not resolve #include <"+e+">");return Qt(n)}var n=/#include +<([\w\d.]+)>/g;return t.replace(n,e)}function $t(t){function e(t,e,n,r){for(var i="",a=parseInt(e);a<parseInt(n);a++)i+=r.replace(/\[ i \]/g,"[ "+a+" ]");return i}var n=/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;return t.replace(n,e)}function te(t,e,n,r){var i=t.context,a=n.extensions,o=n.defines,s=n.__webglShader.vertexShader,l=n.__webglShader.fragmentShader,u="SHADOWMAP_TYPE_BASIC";r.shadowMapType===ia?u="SHADOWMAP_TYPE_PCF":r.shadowMapType===aa&&(u="SHADOWMAP_TYPE_PCF_SOFT");var c="ENVMAP_TYPE_CUBE",h="ENVMAP_MODE_REFLECTION",d="ENVMAP_BLENDING_MULTIPLY";if(r.envMap){switch(n.envMap.mapping){case $a:case to:c="ENVMAP_TYPE_CUBE";break;case io:case ao:c="ENVMAP_TYPE_CUBE_UV";break;case eo:case no:c="ENVMAP_TYPE_EQUIREC";break;case ro:c="ENVMAP_TYPE_SPHERE"}switch(n.envMap.mapping){case to:case no:h="ENVMAP_MODE_REFRACTION"}switch(n.combine){case Va:d="ENVMAP_BLENDING_MULTIPLY";break;case Ha:d="ENVMAP_BLENDING_MIX";break;case Ya:d="ENVMAP_BLENDING_ADD"}}var f,p,m=t.gammaFactor>0?t.gammaFactor:1,g=qt(a,r,t.extensions),v=Xt(o),y=i.createProgram();n.isRawShaderMaterial?(f=[v,"\n"].filter(Kt).join("\n"),p=[g,v,"\n"].filter(Kt).join("\n")):(f=["precision "+r.precision+" float;","precision "+r.precision+" int;","#define SHADER_NAME "+n.__webglShader.name,v,r.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+m,"#define MAX_BONES "+r.maxBones,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+h:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.displacementMap&&r.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.vertexColors?"#define USE_COLOR":"",r.flatShading?"#define FLAT_SHADED":"",r.skinning?"#define USE_SKINNING":"",r.useVertexTexture?"#define BONE_TEXTURE":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals&&!1===r.flatShading?"#define USE_MORPHNORMALS":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+r.numClippingPlanes,r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+u:"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&t.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Kt).join("\n"),p=[g,"precision "+r.precision+" float;","precision "+r.precision+" int;","#define SHADER_NAME "+n.__webglShader.name,v,r.alphaTest?"#define ALPHATEST "+r.alphaTest:"","#define GAMMA_FACTOR "+m,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+c:"",r.envMap?"#define "+h:"",r.envMap?"#define "+d:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.vertexColors?"#define USE_COLOR":"",r.gradientMap?"#define USE_GRADIENTMAP":"",r.flatShading?"#define FLAT_SHADED":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+r.numClippingPlanes,"#define UNION_CLIPPING_PLANES "+(r.numClippingPlanes-r.numClipIntersection),r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+u:"",r.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",r.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&t.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",r.envMap&&t.extensions.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",r.toneMapping!==qa?"#define TONE_MAPPING":"",r.toneMapping!==qa?_s.tonemapping_pars_fragment:"",r.toneMapping!==qa?Yt("toneMapping",r.toneMapping):"",r.outputEncoding||r.mapEncoding||r.envMapEncoding||r.emissiveMapEncoding?_s.encodings_pars_fragment:"",r.mapEncoding?Vt("mapTexelToLinear",r.mapEncoding):"",r.envMapEncoding?Vt("envMapTexelToLinear",r.envMapEncoding):"",r.emissiveMapEncoding?Vt("emissiveMapTexelToLinear",r.emissiveMapEncoding):"",r.outputEncoding?Ht("linearToOutputTexel",r.outputEncoding):"",r.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Kt).join("\n")),s=Qt(s,r),s=Jt(s,r),l=Qt(l,r),l=Jt(l,r),n.isShaderMaterial||(s=$t(s),l=$t(l));var b=f+s,x=p+l,_=Wt(i,i.VERTEX_SHADER,b),w=Wt(i,i.FRAGMENT_SHADER,x);i.attachShader(y,_),i.attachShader(y,w),void 0!==n.index0AttributeName?i.bindAttribLocation(y,0,n.index0AttributeName):!0===r.morphTargets&&i.bindAttribLocation(y,0,"position"),i.linkProgram(y);var M=i.getProgramInfoLog(y),S=i.getShaderInfoLog(_),E=i.getShaderInfoLog(w),k=!0,T=!0;!1===i.getProgramParameter(y,i.LINK_STATUS)?(k=!1,console.error("THREE.WebGLProgram: shader error: ",i.getError(),"gl.VALIDATE_STATUS",i.getProgramParameter(y,i.VALIDATE_STATUS),"gl.getProgramInfoLog",M,S,E)):""!==M?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",M):""!==S&&""!==E||(T=!1),T&&(this.diagnostics={runnable:k,material:n,programLog:M,vertexShader:{log:S,prefix:f},fragmentShader:{log:E,prefix:p}}),i.deleteShader(_),i.deleteShader(w);var C;this.getUniforms=function(){return void 0===C&&(C=new Y(i,y,t)),C};var P;return this.getAttributes=function(){return void 0===P&&(P=Zt(i,y)),P},this.destroy=function(){i.deleteProgram(y),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.id=Cs++,this.code=e,this.usedTimes=1,this.program=y,this.vertexShader=_,this.fragmentShader=w,this}function ee(t,e){function n(t){if(e.floatVertexTextures&&t&&t.skeleton&&t.skeleton.useVertexTexture)return 1024;var n=e.maxVertexUniforms,r=Math.floor((n-20)/4),i=r;return void 0!==t&&t&&t.isSkinnedMesh&&(i=Math.min(t.skeleton.bones.length,i))<t.skeleton.bones.length&&console.warn("WebGLRenderer: too many bones - "+t.skeleton.bones.length+", this GPU supports just "+i+" (try OpenGL instead of ANGLE)"),i}function r(t,e){var n;return t?t.isTexture?n=t.encoding:t.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=t.texture.encoding):n=rs,n===rs&&e&&(n=as),n}var i=[],a={MeshDepthMaterial:"depth",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points"},o=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking"];this.getParameters=function(i,o,s,l,u,c){var h=a[i.type],d=n(c),f=t.getPrecision();null!==i.precision&&(f=e.getMaxPrecision(i.precision))!==i.precision&&console.warn("THREE.WebGLProgram.getParameters:",i.precision,"not supported, using",f,"instead.");var p=t.getCurrentRenderTarget();return{shaderID:h,precision:f,supportsVertexTextures:e.vertexTextures,outputEncoding:r(p?p.texture:null,t.gammaOutput),map:!!i.map,mapEncoding:r(i.map,t.gammaInput),envMap:!!i.envMap,envMapMode:i.envMap&&i.envMap.mapping,envMapEncoding:r(i.envMap,t.gammaInput),envMapCubeUV:!!i.envMap&&(i.envMap.mapping===io||i.envMap.mapping===ao),lightMap:!!i.lightMap,aoMap:!!i.aoMap,emissiveMap:!!i.emissiveMap,emissiveMapEncoding:r(i.emissiveMap,t.gammaInput),bumpMap:!!i.bumpMap,normalMap:!!i.normalMap,displacementMap:!!i.displacementMap,roughnessMap:!!i.roughnessMap,metalnessMap:!!i.metalnessMap,specularMap:!!i.specularMap,alphaMap:!!i.alphaMap,gradientMap:!!i.gradientMap,combine:i.combine,vertexColors:i.vertexColors,fog:!!s,useFog:i.fog,fogExp:s&&s.isFogExp2,flatShading:i.shading===ua,sizeAttenuation:i.sizeAttenuation,logarithmicDepthBuffer:e.logarithmicDepthBuffer,skinning:i.skinning,maxBones:d,useVertexTexture:e.floatVertexTextures&&c&&c.skeleton&&c.skeleton.useVertexTexture,morphTargets:i.morphTargets,morphNormals:i.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:o.directional.length,numPointLights:o.point.length,numSpotLights:o.spot.length,numRectAreaLights:o.rectArea.length,numHemiLights:o.hemi.length,numClippingPlanes:l,numClipIntersection:u,shadowMapEnabled:t.shadowMap.enabled&&c.receiveShadow&&o.shadows.length>0,shadowMapType:t.shadowMap.type,toneMapping:t.toneMapping,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:i.premultipliedAlpha,alphaTest:i.alphaTest,doubleSided:i.side===la,flipSided:i.side===sa,depthPacking:void 0!==i.depthPacking&&i.depthPacking}},this.getProgramCode=function(t,e){var n=[];if(e.shaderID?n.push(e.shaderID):(n.push(t.fragmentShader),n.push(t.vertexShader)),void 0!==t.defines)for(var r in t.defines)n.push(r),n.push(t.defines[r]);for(var i=0;i<o.length;i++)n.push(e[o[i]]);return n.join()},this.acquireProgram=function(e,n,r){for(var a,o=0,s=i.length;o<s;o++){var l=i[o];if(l.code===r){a=l,++a.usedTimes;break}}return void 0===a&&(a=new te(t,r,e,n),i.push(a)),a},this.releaseProgram=function(t){if(0==--t.usedTimes){var e=i.indexOf(t);i[e]=i[i.length-1],i.pop(),t.destroy()}},this.programs=i}function ne(t,e,n){function r(t){var i=t.target,s=l[i.id];null!==s.index&&a(s.index),o(s.attributes),i.removeEventListener("dispose",r),delete l[i.id];var u=e.get(i);u.wireframe&&a(u.wireframe),e.delete(i);var c=e.get(s);c.wireframe&&a(c.wireframe),e.delete(s),n.memory.geometries--}function i(t){return t.isInterleavedBufferAttribute?e.get(t.data).__webglBuffer:e.get(t).__webglBuffer}function a(e){var n=i(e);void 0!==n&&(t.deleteBuffer(n),s(e))}function o(t){for(var e in t)a(t[e])}function s(t){t.isInterleavedBufferAttribute?e.delete(t.data):e.delete(t)}var l={};return{get:function(t){var e=t.geometry;if(void 0!==l[e.id])return l[e.id];e.addEventListener("dispose",r);var i;return e.isBufferGeometry?i=e:e.isGeometry&&(void 0===e._bufferGeometry&&(e._bufferGeometry=(new Pt).setFromObject(t)),i=e._bufferGeometry),l[e.id]=i,n.memory.geometries++,i}}}function re(t,e,n){function r(e){var n=c.get(e);e.geometry.isGeometry&&n.updateFromObject(e);var r=n.index,a=n.attributes;null!==r&&i(r,t.ELEMENT_ARRAY_BUFFER);for(var o in a)i(a[o],t.ARRAY_BUFFER);var s=n.morphAttributes;for(var o in s)for(var l=s[o],u=0,h=l.length;u<h;u++)i(l[u],t.ARRAY_BUFFER);return n}function i(t,n){var r=t.isInterleavedBufferAttribute?t.data:t,i=e.get(r);void 0===i.__webglBuffer?a(i,r,n):i.version!==r.version&&o(i,r,n)}function a(e,n,r){e.__webglBuffer=t.createBuffer(),t.bindBuffer(r,e.__webglBuffer);var i=n.dynamic?t.DYNAMIC_DRAW:t.STATIC_DRAW;t.bufferData(r,n.array,i);var a=t.FLOAT,o=n.array;o instanceof Float32Array?a=t.FLOAT:o instanceof Float64Array?console.warn("Unsupported data buffer format: Float64Array"):o instanceof Uint16Array?a=t.UNSIGNED_SHORT:o instanceof Int16Array?a=t.SHORT:o instanceof Uint32Array?a=t.UNSIGNED_INT:o instanceof Int32Array?a=t.INT:o instanceof Int8Array?a=t.BYTE:o instanceof Uint8Array&&(a=t.UNSIGNED_BYTE),e.bytesPerElement=o.BYTES_PER_ELEMENT,e.type=a,e.version=n.version,n.onUploadCallback()}function o(e,n,r){t.bindBuffer(r,e.__webglBuffer),!1===n.dynamic?t.bufferData(r,n.array,t.STATIC_DRAW):-1===n.updateRange.count?t.bufferSubData(r,0,n.array):0===n.updateRange.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(t.bufferSubData(r,n.updateRange.offset*n.array.BYTES_PER_ELEMENT,n.array.subarray(n.updateRange.offset,n.updateRange.offset+n.updateRange.count)),n.updateRange.count=0),e.version=n.version}function s(t){return t.isInterleavedBufferAttribute?e.get(t.data).__webglBuffer:e.get(t).__webglBuffer}function l(t){return t.isInterleavedBufferAttribute?e.get(t.data):e.get(t)}function u(n){var r=e.get(n);if(void 0!==r.wireframe)return r.wireframe;var a=[],o=n.index,s=n.attributes;if(null!==o)for(var l=o.array,u=0,c=l.length;u<c;u+=3){var h=l[u+0],d=l[u+1],f=l[u+2];a.push(h,d,d,f,f,h)}else for(var l=s.position.array,u=0,c=l.length/3-1;u<c;u+=3){var h=u+0,d=u+1,f=u+2;a.push(h,d,d,f,f,h)}var p=new(kt(a)>65535?wt:xt)(a,1);return i(p,t.ELEMENT_ARRAY_BUFFER),r.wireframe=p,p}var c=new ne(t,e,n);return{getAttributeBuffer:s,getAttributeProperties:l,getWireframeAttribute:u,update:r}}function ie(t,e,n,r,i,a,o){function s(t,e){if(t.width>e||t.height>e){var n=e/Math.max(t.width,t.height),r=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");r.width=Math.floor(t.width*n),r.height=Math.floor(t.height*n);return r.getContext("2d").drawImage(t,0,0,t.width,t.height,0,0,r.width,r.height),console.warn("THREE.WebGLRenderer: image is too big ("+t.width+"x"+t.height+"). Resized to "+r.width+"x"+r.height,t),r}return t}function l(t){return fs.isPowerOfTwo(t.width)&&fs.isPowerOfTwo(t.height)}function u(t){if(t instanceof HTMLImageElement||t instanceof HTMLCanvasElement){var e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");e.width=fs.nearestPowerOfTwo(t.width),e.height=fs.nearestPowerOfTwo(t.height);return e.getContext("2d").drawImage(t,0,0,e.width,e.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+t.width+"x"+t.height+"). Resized to "+e.width+"x"+e.height,t),e}return t}function c(t){return t.wrapS!==so||t.wrapT!==so||t.minFilter!==uo&&t.minFilter!==fo}function h(e){return e===uo||e===co||e===ho?t.NEAREST:t.LINEAR}function d(t){var e=t.target;e.removeEventListener("dispose",d),p(e),T.textures--}function f(t){var e=t.target;e.removeEventListener("dispose",f),m(e),T.textures--}function p(e){var n=r.get(e);if(e.image&&n.__image__webglTextureCube)t.deleteTexture(n.__image__webglTextureCube);else{if(void 0===n.__webglInit)return;t.deleteTexture(n.__webglTexture)}r.delete(e)}function m(e){var n=r.get(e),i=r.get(e.texture);if(e){if(void 0!==i.__webglTexture&&t.deleteTexture(i.__webglTexture),e.depthTexture&&e.depthTexture.dispose(),e.isWebGLRenderTargetCube)for(var a=0;a<6;a++)t.deleteFramebuffer(n.__webglFramebuffer[a]),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer[a]);else t.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer);r.delete(e.texture),r.delete(e)}}function g(e,i){var a=r.get(e);if(e.version>0&&a.__version!==e.version){var o=e.image;if(void 0===o)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",e);else{if(!1!==o.complete)return void x(a,e,i);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",e)}}n.activeTexture(t.TEXTURE0+i),n.bindTexture(t.TEXTURE_2D,a.__webglTexture)}function v(e,o){var u=r.get(e);if(6===e.image.length)if(e.version>0&&u.__version!==e.version){u.__image__webglTextureCube||(e.addEventListener("dispose",d),u.__image__webglTextureCube=t.createTexture(),T.textures++),n.activeTexture(t.TEXTURE0+o),n.bindTexture(t.TEXTURE_CUBE_MAP,u.__image__webglTextureCube),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e.flipY);for(var c=e&&e.isCompressedTexture,h=e.image[0]&&e.image[0].isDataTexture,f=[],p=0;p<6;p++)f[p]=c||h?h?e.image[p].image:e.image[p]:s(e.image[p],i.maxCubemapSize);var m=f[0],g=l(m),v=a(e.format),y=a(e.type);b(t.TEXTURE_CUBE_MAP,e,g);for(var p=0;p<6;p++)if(c)for(var x,_=f[p].mipmaps,w=0,M=_.length;w<M;w++)x=_[w],e.format!==Oo&&e.format!==Po?n.getCompressedTextureFormats().indexOf(v)>-1?n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+p,w,v,x.width,x.height,0,x.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+p,w,v,x.width,x.height,0,v,y,x.data);else h?n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+p,0,v,f[p].width,f[p].height,0,v,y,f[p].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+p,0,v,v,y,f[p]);e.generateMipmaps&&g&&t.generateMipmap(t.TEXTURE_CUBE_MAP),u.__version=e.version,e.onUpdate&&e.onUpdate(e)}else n.activeTexture(t.TEXTURE0+o),n.bindTexture(t.TEXTURE_CUBE_MAP,u.__image__webglTextureCube)}function y(e,i){n.activeTexture(t.TEXTURE0+i),n.bindTexture(t.TEXTURE_CUBE_MAP,r.get(e).__webglTexture)}function b(n,o,s){var l;if(s?(t.texParameteri(n,t.TEXTURE_WRAP_S,a(o.wrapS)),t.texParameteri(n,t.TEXTURE_WRAP_T,a(o.wrapT)),t.texParameteri(n,t.TEXTURE_MAG_FILTER,a(o.magFilter)),t.texParameteri(n,t.TEXTURE_MIN_FILTER,a(o.minFilter))):(t.texParameteri(n,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(n,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),o.wrapS===so&&o.wrapT===so||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",o),t.texParameteri(n,t.TEXTURE_MAG_FILTER,h(o.magFilter)),t.texParameteri(n,t.TEXTURE_MIN_FILTER,h(o.minFilter)),o.minFilter!==uo&&o.minFilter!==fo&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",o)),l=e.get("EXT_texture_filter_anisotropic")){if(o.type===wo&&null===e.get("OES_texture_float_linear"))return;if(o.type===Mo&&null===e.get("OES_texture_half_float_linear"))return;(o.anisotropy>1||r.get(o).__currentAnisotropy)&&(t.texParameterf(n,l.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,i.getMaxAnisotropy())),r.get(o).__currentAnisotropy=o.anisotropy)}}function x(e,r,o){void 0===e.__webglInit&&(e.__webglInit=!0,r.addEventListener("dispose",d),e.__webglTexture=t.createTexture(),T.textures++),n.activeTexture(t.TEXTURE0+o),n.bindTexture(t.TEXTURE_2D,e.__webglTexture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,r.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,r.unpackAlignment);var h=s(r.image,i.maxTextureSize);c(r)&&!1===l(h)&&(h=u(h));var f=l(h),p=a(r.format),m=a(r.type);b(t.TEXTURE_2D,r,f);var g,v=r.mipmaps;if(r.isDepthTexture){var y=t.DEPTH_COMPONENT;if(r.type===wo){if(!C)throw new Error("Float Depth Texture only supported in WebGL2.0");y=t.DEPTH_COMPONENT32F}else C&&(y=t.DEPTH_COMPONENT16);r.format===Io&&y===t.DEPTH_COMPONENT&&r.type!==bo&&r.type!==_o&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=bo,m=a(r.type)),r.format===Do&&(y=t.DEPTH_STENCIL,r.type!==To&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=To,m=a(r.type))),n.texImage2D(t.TEXTURE_2D,0,y,h.width,h.height,0,p,m,null)}else if(r.isDataTexture)if(v.length>0&&f){for(var x=0,_=v.length;x<_;x++)g=v[x],n.texImage2D(t.TEXTURE_2D,x,p,g.width,g.height,0,p,m,g.data);r.generateMipmaps=!1}else n.texImage2D(t.TEXTURE_2D,0,p,h.width,h.height,0,p,m,h.data);else if(r.isCompressedTexture)for(var x=0,_=v.length;x<_;x++)g=v[x],r.format!==Oo&&r.format!==Po?n.getCompressedTextureFormats().indexOf(p)>-1?n.compressedTexImage2D(t.TEXTURE_2D,x,p,g.width,g.height,0,g.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(t.TEXTURE_2D,x,p,g.width,g.height,0,p,m,g.data);else if(v.length>0&&f){for(var x=0,_=v.length;x<_;x++)g=v[x],n.texImage2D(t.TEXTURE_2D,x,p,p,m,g);r.generateMipmaps=!1}else n.texImage2D(t.TEXTURE_2D,0,p,p,m,h);r.generateMipmaps&&f&&t.generateMipmap(t.TEXTURE_2D),e.__version=r.version,r.onUpdate&&r.onUpdate(r)}function _(e,i,o,s){var l=a(i.texture.format),u=a(i.texture.type);n.texImage2D(s,0,l,i.width,i.height,0,l,u,null),t.bindFramebuffer(t.FRAMEBUFFER,e),t.framebufferTexture2D(t.FRAMEBUFFER,o,s,r.get(i.texture).__webglTexture,0),t.bindFramebuffer(t.FRAMEBUFFER,null)}function w(e,n){t.bindRenderbuffer(t.RENDERBUFFER,e),n.depthBuffer&&!n.stencilBuffer?(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,n.width,n.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e)):n.depthBuffer&&n.stencilBuffer?(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,n.width,n.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,e)):t.renderbufferStorage(t.RENDERBUFFER,t.RGBA4,n.width,n.height),t.bindRenderbuffer(t.RENDERBUFFER,null)}function M(e,n){if(n&&n.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported!");if(t.bindFramebuffer(t.FRAMEBUFFER,e),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),g(n.depthTexture,0);var i=r.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===Io)t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,i,0);else{if(n.depthTexture.format!==Do)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,i,0)}}function S(e){var n=r.get(e),i=!0===e.isWebGLRenderTargetCube;if(e.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");M(n.__webglFramebuffer,e)}else if(i){n.__webglDepthbuffer=[];for(var a=0;a<6;a++)t.bindFramebuffer(t.FRAMEBUFFER,n.__webglFramebuffer[a]),n.__webglDepthbuffer[a]=t.createRenderbuffer(),w(n.__webglDepthbuffer[a],e)}else t.bindFramebuffer(t.FRAMEBUFFER,n.__webglFramebuffer),n.__webglDepthbuffer=t.createRenderbuffer(),w(n.__webglDepthbuffer,e);t.bindFramebuffer(t.FRAMEBUFFER,null)}function E(e){var i=r.get(e),a=r.get(e.texture);e.addEventListener("dispose",f),a.__webglTexture=t.createTexture(),T.textures++;var o=!0===e.isWebGLRenderTargetCube,s=l(e);if(o){i.__webglFramebuffer=[];for(var u=0;u<6;u++)i.__webglFramebuffer[u]=t.createFramebuffer()}else i.__webglFramebuffer=t.createFramebuffer();if(o){n.bindTexture(t.TEXTURE_CUBE_MAP,a.__webglTexture),b(t.TEXTURE_CUBE_MAP,e.texture,s);for(var u=0;u<6;u++)_(i.__webglFramebuffer[u],e,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+u);e.texture.generateMipmaps&&s&&t.generateMipmap(t.TEXTURE_CUBE_MAP),n.bindTexture(t.TEXTURE_CUBE_MAP,null)}else n.bindTexture(t.TEXTURE_2D,a.__webglTexture),b(t.TEXTURE_2D,e.texture,s),_(i.__webglFramebuffer,e,t.COLOR_ATTACHMENT0,t.TEXTURE_2D),e.texture.generateMipmaps&&s&&t.generateMipmap(t.TEXTURE_2D),n.bindTexture(t.TEXTURE_2D,null);e.depthBuffer&&S(e)}function k(e){var i=e.texture;if(i.generateMipmaps&&l(e)&&i.minFilter!==uo&&i.minFilter!==fo){var a=e&&e.isWebGLRenderTargetCube?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,o=r.get(i).__webglTexture;n.bindTexture(a,o),t.generateMipmap(a),n.bindTexture(a,null)}}var T=o.memory,C="undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext;this.setTexture2D=g,this.setTextureCube=v,this.setTextureCubeDynamic=y,this.setupRenderTarget=E,this.updateRenderTargetMipmap=k}function ae(){var t={};return{get:function(e){var n=e.uuid,r=t[n];return void 0===r&&(r={},t[n]=r),r},delete:function(e){delete t[e.uuid]},clear:function(){t={}}}}function oe(t,e,n){function r(){var e=!1,n=new o,r=null,i=new o;return{setMask:function(n){r===n||e||(t.colorMask(n,n,n,n),r=n)},setLocked:function(t){e=t},setClear:function(e,r,a,o,s){!0===s&&(e*=o,r*=o,a*=o),n.set(e,r,a,o),!1===i.equals(n)&&(t.clearColor(e,r,a,o),i.copy(n))},reset:function(){e=!1,r=null,i.set(0,0,0,1)}}}function i(){var e=!1,n=null,r=null,i=null;return{setTest:function(e){e?f(t.DEPTH_TEST):p(t.DEPTH_TEST)},setMask:function(r){n===r||e||(t.depthMask(r),n=r)},setFunc:function(e){if(r!==e){if(e)switch(e){case Na:t.depthFunc(t.NEVER);break;case za:t.depthFunc(t.ALWAYS);break;case Ba:t.depthFunc(t.LESS);break;case Fa:t.depthFunc(t.LEQUAL);break;case Ua:t.depthFunc(t.EQUAL);break;case ja:t.depthFunc(t.GEQUAL);break;case Wa:t.depthFunc(t.GREATER);break;case Ga:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}else t.depthFunc(t.LEQUAL);r=e}},setLocked:function(t){e=t},setClear:function(e){i!==e&&(t.clearDepth(e),i=e)},reset:function(){e=!1,n=null,r=null,i=null}}}function a(){var e=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,u=null;return{setTest:function(e){e?f(t.STENCIL_TEST):p(t.STENCIL_TEST)},setMask:function(r){n===r||e||(t.stencilMask(r),n=r)},setFunc:function(e,n,o){r===e&&i===n&&a===o||(t.stencilFunc(e,n,o),r=e,i=n,a=o)},setOp:function(e,n,r){o===e&&s===n&&l===r||(t.stencilOp(e,n,r),o=e,s=n,l=r)},setLocked:function(t){e=t},setClear:function(e){u!==e&&(t.clearStencil(e),u=e)},reset:function(){e=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,u=null}}}function s(e,n,r){var i=new Uint8Array(4),a=t.createTexture();t.bindTexture(e,a),t.texParameteri(e,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(e,t.TEXTURE_MAG_FILTER,t.NEAREST);for(var o=0;o<r;o++)t.texImage2D(n+o,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,i);return a}function l(){B.setClear(0,0,0,1),F.setClear(1),U.setClear(0),f(t.DEPTH_TEST),x(Fa),E(!1),k(Qi),f(t.CULL_FACE),f(t.BLEND),g(ma)}function u(){for(var t=0,e=W.length;t<e;t++)W[t]=0}function c(n){if(W[n]=1,0===G[n]&&(t.enableVertexAttribArray(n),G[n]=1),0!==V[n]){e.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(n,0),V[n]=0}}function h(e,n,r){W[e]=1,0===G[e]&&(t.enableVertexAttribArray(e),G[e]=1),V[e]!==n&&(r.vertexAttribDivisorANGLE(e,n),V[e]=n)}function d(){for(var e=0,n=G.length;e!==n;++e)G[e]!==W[e]&&(t.disableVertexAttribArray(e),G[e]=0)}function f(e){!0!==H[e]&&(t.enable(e),H[e]=!0)}function p(e){!1!==H[e]&&(t.disable(e),H[e]=!1)}function m(){if(null===Y&&(Y=[],e.get("WEBGL_compressed_texture_pvrtc")||e.get("WEBGL_compressed_texture_s3tc")||e.get("WEBGL_compressed_texture_etc1")))for(var n=t.getParameter(t.COMPRESSED_TEXTURE_FORMATS),r=0;r<n.length;r++)Y.push(n[r]);return Y}function g(e,r,i,a,o,s,l,u){e!==pa?f(t.BLEND):p(t.BLEND),e===q&&u===tt||(e===ga?u?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE,t.ONE,t.ONE)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.SRC_ALPHA,t.ONE)):e===va?u?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.ONE_MINUS_SRC_COLOR)):e===ya?u?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.SRC_COLOR)):u?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)),q=e,tt=u),e===ba?(o=o||r,s=s||i,l=l||a,r===X&&o===J||(t.blendEquationSeparate(n(r),n(o)),X=r,J=o),i===Z&&a===K&&s===Q&&l===$||(t.blendFuncSeparate(n(i),n(a),n(s),n(l)),Z=i,K=a,Q=s,$=l)):(X=null,Z=null,K=null,J=null,Q=null,$=null)}function v(t){B.setMask(t)}function y(t){F.setTest(t)}function b(t){F.setMask(t)}function x(t){F.setFunc(t)}function _(t){U.setTest(t)}function w(t){U.setMask(t)}function M(t,e,n){U.setFunc(t,e,n)}function S(t,e,n){U.setOp(t,e,n)}function E(e){et!==e&&(e?t.frontFace(t.CW):t.frontFace(t.CCW),et=e)}function k(e){e!==Ji?(f(t.CULL_FACE),e!==nt&&(e===Qi?t.cullFace(t.BACK):e===$i?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):p(t.CULL_FACE),nt=e}function T(e){e!==rt&&(ut&&t.lineWidth(e),rt=e)}function C(e,n,r){e?(f(t.POLYGON_OFFSET_FILL),it===n&&at===r||(t.polygonOffset(n,r),it=n,at=r)):p(t.POLYGON_OFFSET_FILL)}function P(){return ot}function O(e){ot=e,e?f(t.SCISSOR_TEST):p(t.SCISSOR_TEST)}function A(e){void 0===e&&(e=t.TEXTURE0+st-1),ct!==e&&(t.activeTexture(e),ct=e)}function R(e,n){null===ct&&A();var r=ht[ct];void 0===r&&(r={type:void 0,texture:void 0},ht[ct]=r),r.type===e&&r.texture===n||(t.bindTexture(e,n||pt[e]),r.type=e,r.texture=n)}function L(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){console.error(t)}}function I(){try{t.texImage2D.apply(t,arguments)}catch(t){console.error(t)}}function D(e){!1===dt.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),dt.copy(e))}function N(e){!1===ft.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),ft.copy(e))}function z(){for(var e=0;e<G.length;e++)1===G[e]&&(t.disableVertexAttribArray(e),G[e]=0);H={},Y=null,ct=null,ht={},q=null,et=null,nt=null,B.reset(),F.reset(),U.reset()}var B=new r,F=new i,U=new a,j=t.getParameter(t.MAX_VERTEX_ATTRIBS),W=new Uint8Array(j),G=new Uint8Array(j),V=new Uint8Array(j),H={},Y=null,q=null,X=null,Z=null,K=null,J=null,Q=null,$=null,tt=!1,et=null,nt=null,rt=null,it=null,at=null,ot=null,st=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),lt=parseFloat(/^WebGL\ ([0-9])/.exec(t.getParameter(t.VERSION))[1]),ut=parseFloat(lt)>=1,ct=null,ht={},dt=new o,ft=new o,pt={};return pt[t.TEXTURE_2D]=s(t.TEXTURE_2D,t.TEXTURE_2D,1),pt[t.TEXTURE_CUBE_MAP]=s(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),{buffers:{color:B,depth:F,stencil:U},init:l,initAttributes:u,enableAttribute:c,enableAttributeAndDivisor:h,disableUnusedAttributes:d,enable:f,disable:p,getCompressedTextureFormats:m,setBlending:g,setColorWrite:v,setDepthTest:y,setDepthWrite:b,setDepthFunc:x,setStencilTest:_,setStencilWrite:w,setStencilFunc:M,setStencilOp:S,setFlipSided:E,setCullFace:k,setLineWidth:T,setPolygonOffset:C,getScissorTest:P,setScissorTest:O,activeTexture:A,bindTexture:R,compressedTexImage2D:L,texImage2D:I,scissor:D,viewport:N,reset:z}}function se(t,e,n){function r(){if(void 0!==a)return a;var n=e.get("EXT_texture_filter_anisotropic");return a=null!==n?t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}function i(e){if("highp"===e){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var a,o=void 0!==n.precision?n.precision:"highp",s=i(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);var l=!0===n.logarithmicDepthBuffer&&!!e.get("EXT_frag_depth"),u=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),c=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),h=t.getParameter(t.MAX_TEXTURE_SIZE),d=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),f=t.getParameter(t.MAX_VERTEX_ATTRIBS),p=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),m=t.getParameter(t.MAX_VARYING_VECTORS),g=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),v=c>0,y=!!e.get("OES_texture_float");return{getMaxAnisotropy:r,getMaxPrecision:i,precision:o,logarithmicDepthBuffer:l,maxTextures:u,maxVertexTextures:c,maxTextureSize:h,maxCubemapSize:d,maxAttributes:f,maxVertexUniforms:p,maxVaryings:m,maxFragmentUniforms:g,vertexTextures:v,floatFragmentTextures:y,floatVertexTextures:v&&y}}function le(t){var e={};return{get:function(n){if(void 0!==e[n])return e[n];var r;switch(n){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"WEBGL_compressed_texture_etc1":r=t.getExtension("WEBGL_compressed_texture_etc1");break;default:r=t.getExtension(n)}return null===r&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),e[n]=r,r}}}function ue(){function t(){u.value!==r&&(u.value=r,u.needsUpdate=i>0),n.numPlanes=i,n.numIntersection=0}function e(t,e,r,i){var a=null!==t?t.length:0,o=null;if(0!==a){if(o=u.value,!0!==i||null===o){var c=r+4*a,h=e.matrixWorldInverse;l.getNormalMatrix(h),(null===o||o.length<c)&&(o=new Float32Array(c));for(var d=0,f=r;d!==a;++d,f+=4)s.copy(t[d]).applyMatrix4(h,l),s.normal.toArray(o,f),o[f+3]=s.constant}u.value=o,u.needsUpdate=!0}return n.numPlanes=a,o}var n=this,r=null,i=0,a=!1,o=!1,s=new it,l=new rt,u={value:null,needsUpdate:!1};this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(t,n,o){var s=0!==t.length||n||0!==i||a;return a=n,r=e(t,o,0),i=t.length,s},this.beginShadows=function(){o=!0,e(null)},this.endShadows=function(){o=!1,t()},this.setState=function(n,s,l,c,h,d){if(!a||null===n||0===n.length||o&&!l)o?e(null):t();else{var f=o?0:i,p=4*f,m=h.clippingState||null;u.value=m,m=e(n,c,p,d);for(var g=0;g!==p;++g)m[g]=r[g];h.clippingState=m,this.numIntersection=s?this.numPlanes:0,this.numPlanes+=f}}}function ce(t){function e(){return null===dt?kt:1}function n(){te.init(),te.scissor(yt.copy(Tt).multiplyScalar(kt)),te.viewport(xt.copy(At).multiplyScalar(kt)),te.buffers.color.setClear(wt.r,wt.g,wt.b,Mt,X)}function r(){ht=null,vt=null,gt="",mt=-1,te.reset()}function i(t){t.preventDefault(),r(),n(),ne.clear()}function a(t){var e=t.target;e.removeEventListener("dispose",a),s(e)}function s(t){l(t),ne.delete(t)}function l(t){var e=ne.get(t).program;t.program=void 0,void 0!==e&&de.releaseProgram(e)}function u(t,e,n,r){var i;if(n&&n.isInstancedBufferGeometry&&null===(i=Qt.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");void 0===r&&(r=0),te.initAttributes();var a=n.attributes,o=e.getAttributes(),s=t.defaultAttributeValues;for(var l in o){var u=o[l];if(u>=0){var c=a[l];if(void 0!==c){var h=c.normalized,d=c.itemSize,f=he.getAttributeProperties(c),p=f.__webglBuffer,m=f.type,g=f.bytesPerElement;if(c.isInterleavedBufferAttribute){var v=c.data,y=v.stride,b=c.offset;v&&v.isInstancedInterleavedBuffer?(te.enableAttributeAndDivisor(u,v.meshPerAttribute,i),void 0===n.maxInstancedCount&&(n.maxInstancedCount=v.meshPerAttribute*v.count)):te.enableAttribute(u),Kt.bindBuffer(Kt.ARRAY_BUFFER,p),Kt.vertexAttribPointer(u,d,m,h,y*g,(r*y+b)*g)}else c.isInstancedBufferAttribute?(te.enableAttributeAndDivisor(u,c.meshPerAttribute,i),void 0===n.maxInstancedCount&&(n.maxInstancedCount=c.meshPerAttribute*c.count)):te.enableAttribute(u),Kt.bindBuffer(Kt.ARRAY_BUFFER,p),Kt.vertexAttribPointer(u,d,m,h,0,r*d*g)}else if(void 0!==s){var x=s[l];if(void 0!==x)switch(x.length){case 2:Kt.vertexAttrib2fv(u,x);break;case 3:Kt.vertexAttrib3fv(u,x);break;case 4:Kt.vertexAttrib4fv(u,x);break;default:Kt.vertexAttrib1fv(u,x)}}}}te.disableUnusedAttributes()}function d(t,e){return Math.abs(e[0])-Math.abs(t[0])}function f(t,e){return t.object.renderOrder!==e.object.renderOrder?t.object.renderOrder-e.object.renderOrder:t.material.program&&e.material.program&&t.material.program!==e.material.program?t.material.program.id-e.material.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function p(t,e){return t.object.renderOrder!==e.object.renderOrder?t.object.renderOrder-e.object.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function m(t,e,n,r,i){var a,o;n.transparent?(a=rt,o=++it):(a=tt,o=++et);var s=a[o];void 0!==s?(s.id=t.id,s.object=t,s.geometry=e,s.material=n,s.z=Ht.z,s.group=i):(s={id:t.id,object:t,geometry:e,material:n,z:Ht.z,group:i},a.push(s))}function g(t){var e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),Gt.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),y(Gt)}function v(t){return Gt.center.set(0,0,0),Gt.radius=.7071067811865476,Gt.applyMatrix4(t.matrixWorld),y(Gt)}function y(t){if(!Lt.intersectsSphere(t))return!1;var e=Dt.numPlanes;if(0===e)return!0;var n=ct.clippingPlanes,r=t.center,i=-t.radius,a=0;do{if(n[a].distanceToPoint(r)<i)return!1}while(++a!==e);return!0}function b(t,e){if(!1!==t.visible){if(0!=(t.layers.mask&e.layers.mask))if(t.isLight)Q.push(t);else if(t.isSprite)!1!==t.frustumCulled&&!0!==v(t)||lt.push(t);else if(t.isLensFlare)ut.push(t);else if(t.isImmediateRenderObject)!0===ct.sortObjects&&(Ht.setFromMatrixPosition(t.matrixWorld),Ht.applyMatrix4(Vt)),m(t,null,t.material,Ht.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.update(),!1===t.frustumCulled||!0===g(t))){var n=t.material;if(!0===n.visible){!0===ct.sortObjects&&(Ht.setFromMatrixPosition(t.matrixWorld),Ht.applyMatrix4(Vt));var r=he.update(t);if(n.isMultiMaterial)for(var i=r.groups,a=n.materials,o=0,s=i.length;o<s;o++){var l=i[o],u=a[l.materialIndex];!0===u.visible&&m(t,r,u,Ht.z,l)}else m(t,r,n,Ht.z,null)}}for(var c=t.children,o=0,s=c.length;o<s;o++)b(c[o],e)}}function x(t,e,n,r){for(var i=0,a=t.length;i<a;i++){var o=t[i],s=o.object,l=o.geometry,u=void 0===r?o.material:r,c=o.group;if(s.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,s.matrixWorld),s.normalMatrix.getNormalMatrix(s.modelViewMatrix),s.onBeforeRender(ct,e,n,l,u,c),s.isImmediateRenderObject){w(u);var h=M(n,e.fog,u,s);gt="",s.render(function(t){ct.renderBufferImmediate(t,h,u)})}else ct.renderBufferDirect(n,e.fog,l,u,s,c);s.onAfterRender(ct,e,n,l,u,c)}}function _(t,e,n){var r=ne.get(t),i=de.getParameters(t,Xt,e,Dt.numPlanes,Dt.numIntersection,n),o=de.getProgramCode(t,i),s=r.program,u=!0;if(void 0===s)t.addEventListener("dispose",a);else if(s.code!==o)l(t);else{if(void 0!==i.shaderID)return;u=!1}if(u){if(i.shaderID){var c=Ss[i.shaderID];r.__webglShader={name:t.type,uniforms:xs.clone(c.uniforms),vertexShader:c.vertexShader,fragmentShader:c.fragmentShader}}else r.__webglShader={name:t.type,uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader};t.__webglShader=r.__webglShader,s=de.acquireProgram(t,i,o),r.program=s,t.program=s}var h=s.getAttributes();if(t.morphTargets){t.numSupportedMorphTargets=0;for(var d=0;d<ct.maxMorphTargets;d++)h["morphTarget"+d]>=0&&t.numSupportedMorphTargets++}if(t.morphNormals){t.numSupportedMorphNormals=0;for(var d=0;d<ct.maxMorphNormals;d++)h["morphNormal"+d]>=0&&t.numSupportedMorphNormals++}var f=r.__webglShader.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(r.numClippingPlanes=Dt.numPlanes,r.numIntersection=Dt.numIntersection,f.clippingPlanes=Dt.uniform),r.fog=e,r.lightsHash=Xt.hash,t.lights&&(f.ambientLightColor.value=Xt.ambient,f.directionalLights.value=Xt.directional,f.spotLights.value=Xt.spot,f.rectAreaLights.value=Xt.rectArea,f.pointLights.value=Xt.point,f.hemisphereLights.value=Xt.hemi,f.directionalShadowMap.value=Xt.directionalShadowMap,f.directionalShadowMatrix.value=Xt.directionalShadowMatrix,f.spotShadowMap.value=Xt.spotShadowMap,f.spotShadowMatrix.value=Xt.spotShadowMatrix,f.pointShadowMap.value=Xt.pointShadowMap,f.pointShadowMatrix.value=Xt.pointShadowMatrix);var p=r.program.getUniforms(),m=Y.seqWithValue(p.seq,f);r.uniformsList=m}function w(t){t.side===la?te.disable(Kt.CULL_FACE):te.enable(Kt.CULL_FACE),te.setFlipSided(t.side===sa),!0===t.transparent?te.setBlending(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha):te.setBlending(pa),te.setDepthFunc(t.depthFunc),te.setDepthTest(t.depthTest),te.setDepthWrite(t.depthWrite),te.setColorWrite(t.colorWrite),te.setPolygonOffset(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)}function M(t,e,n,r){_t=0;var i=ne.get(n);if(jt&&(Wt||t!==vt)){var a=t===vt&&n.id===mt;Dt.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,t,i,a)}!1===n.needsUpdate&&(void 0===i.program?n.needsUpdate=!0:n.fog&&i.fog!==e?n.needsUpdate=!0:n.lights&&i.lightsHash!==Xt.hash?n.needsUpdate=!0:void 0===i.numClippingPlanes||i.numClippingPlanes===Dt.numPlanes&&i.numIntersection===Dt.numIntersection||(n.needsUpdate=!0)),n.needsUpdate&&(_(n,e,r),n.needsUpdate=!1);var o=!1,s=!1,l=!1,u=i.program,c=u.getUniforms(),h=i.__webglShader.uniforms;if(u.id!==ht&&(Kt.useProgram(u.program),ht=u.id,o=!0,s=!0,l=!0),n.id!==mt&&(mt=n.id,s=!0),o||t!==vt){if(c.set(Kt,t,"projectionMatrix"),$t.logarithmicDepthBuffer&&c.setValue(Kt,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),t!==vt&&(vt=t,s=!0,l=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var d=c.map.cameraPosition;void 0!==d&&d.setValue(Kt,Ht.setFromMatrixPosition(t.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&c.setValue(Kt,"viewMatrix",t.matrixWorldInverse),c.set(Kt,ct,"toneMappingExposure"),c.set(Kt,ct,"toneMappingWhitePoint")}if(n.skinning){c.setOptional(Kt,r,"bindMatrix"),c.setOptional(Kt,r,"bindMatrixInverse");var f=r.skeleton;f&&($t.floatVertexTextures&&f.useVertexTexture?(c.set(Kt,f,"boneTexture"),c.set(Kt,f,"boneTextureWidth"),c.set(Kt,f,"boneTextureHeight")):c.setOptional(Kt,f,"boneMatrices"))}return s&&(n.lights&&D(h,l),e&&n.fog&&C(h,e),(n.isMeshBasicMaterial||n.isMeshLambertMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.isMeshNormalMaterial||n.isMeshDepthMaterial)&&S(h,n),n.isLineBasicMaterial?E(h,n):n.isLineDashedMaterial?(E(h,n),k(h,n)):n.isPointsMaterial?T(h,n):n.isMeshLambertMaterial?P(h,n):n.isMeshToonMaterial?A(h,n):n.isMeshPhongMaterial?O(h,n):n.isMeshPhysicalMaterial?L(h,n):n.isMeshStandardMaterial?R(h,n):n.isMeshDepthMaterial?n.displacementMap&&(h.displacementMap.value=n.displacementMap,h.displacementScale.value=n.displacementScale,h.displacementBias.value=n.displacementBias):n.isMeshNormalMaterial&&I(h,n),void 0!==h.ltcMat&&(h.ltcMat.value=THREE.UniformsLib.LTC_MAT_TEXTURE),void 0!==h.ltcMag&&(h.ltcMag.value=THREE.UniformsLib.LTC_MAG_TEXTURE),Y.upload(Kt,i.uniformsList,h,ct)),c.set(Kt,r,"modelViewMatrix"),c.set(Kt,r,"normalMatrix"),c.setValue(Kt,"modelMatrix",r.matrixWorld),u}function S(t,e){t.opacity.value=e.opacity,t.diffuse.value=e.color,e.emissive&&t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity),t.map.value=e.map,t.specularMap.value=e.specularMap,t.alphaMap.value=e.alphaMap,e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.aoMap&&(t.aoMap.value=e.aoMap,t.aoMapIntensity.value=e.aoMapIntensity);var n;if(e.map?n=e.map:e.specularMap?n=e.specularMap:e.displacementMap?n=e.displacementMap:e.normalMap?n=e.normalMap:e.bumpMap?n=e.bumpMap:e.roughnessMap?n=e.roughnessMap:e.metalnessMap?n=e.metalnessMap:e.alphaMap?n=e.alphaMap:e.emissiveMap&&(n=e.emissiveMap),void 0!==n){n.isWebGLRenderTarget&&(n=n.texture);var r=n.offset,i=n.repeat;t.offsetRepeat.value.set(r.x,r.y,i.x,i.y)}t.envMap.value=e.envMap,t.flipEnvMap.value=e.envMap&&e.envMap.isCubeTexture?-1:1,t.reflectivity.value=e.reflectivity,t.refractionRatio.value=e.refractionRatio}function E(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity}function k(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}function T(t,e){if(t.diffuse.value=e.color,t.opacity.value=e.opacity,t.size.value=e.size*kt,t.scale.value=.5*Et,t.map.value=e.map,null!==e.map){var n=e.map.offset,r=e.map.repeat;t.offsetRepeat.value.set(n.x,n.y,r.x,r.y)}}function C(t,e){t.fogColor.value=e.color,e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)}function P(t,e){e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}function O(t,e){t.specular.value=e.specular,t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function A(t,e){O(t,e),e.gradientMap&&(t.gradientMap.value=e.gradientMap)}function R(t,e){t.roughness.value=e.roughness,t.metalness.value=e.metalness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap),e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),e.envMap&&(t.envMapIntensity.value=e.envMapIntensity)}function L(t,e){t.clearCoat.value=e.clearCoat,t.clearCoatRoughness.value=e.clearCoatRoughness,R(t,e)}function I(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function D(t,e){t.ambientLightColor.needsUpdate=e,t.directionalLights.needsUpdate=e,t.pointLights.needsUpdate=e,t.spotLights.needsUpdate=e,t.rectAreaLights.needsUpdate=e,t.hemisphereLights.needsUpdate=e}function N(t){for(var e=0,n=0,r=t.length;n<r;n++){var i=t[n];i.castShadow&&(Xt.shadows[e++]=i)}Xt.shadows.length=e}function z(t,e){var n,r,i,a,o,s,l,u=0,c=0,d=0,f=e.matrixWorldInverse,p=0,m=0,g=0,v=0,y=0;for(n=0,r=t.length;n<r;n++)if(i=t[n],a=i.color,o=i.intensity,s=i.distance,l=i.shadow&&i.shadow.map?i.shadow.map.texture:null,i.isAmbientLight)u+=a.r*o,c+=a.g*o,d+=a.b*o;else if(i.isDirectionalLight){var b=fe.get(i);b.color.copy(i.color).multiplyScalar(i.intensity),b.direction.setFromMatrixPosition(i.matrixWorld),Ht.setFromMatrixPosition(i.target.matrixWorld),b.direction.sub(Ht),b.direction.transformDirection(f),b.shadow=i.castShadow,i.castShadow&&(b.shadowBias=i.shadow.bias,b.shadowRadius=i.shadow.radius,b.shadowMapSize=i.shadow.mapSize),Xt.directionalShadowMap[p]=l,Xt.directionalShadowMatrix[p]=i.shadow.matrix,Xt.directional[p++]=b}else if(i.isSpotLight){var b=fe.get(i);b.position.setFromMatrixPosition(i.matrixWorld),b.position.applyMatrix4(f),b.color.copy(a).multiplyScalar(o),b.distance=s,b.direction.setFromMatrixPosition(i.matrixWorld),Ht.setFromMatrixPosition(i.target.matrixWorld),b.direction.sub(Ht),b.direction.transformDirection(f),b.coneCos=Math.cos(i.angle),b.penumbraCos=Math.cos(i.angle*(1-i.penumbra)),b.decay=0===i.distance?0:i.decay,b.shadow=i.castShadow,i.castShadow&&(b.shadowBias=i.shadow.bias,b.shadowRadius=i.shadow.radius,b.shadowMapSize=i.shadow.mapSize),Xt.spotShadowMap[g]=l,Xt.spotShadowMatrix[g]=i.shadow.matrix,Xt.spot[g++]=b}else if(i.isRectAreaLight){var b=fe.get(i);b.color.copy(a).multiplyScalar(o/(i.width*i.height)),b.position.setFromMatrixPosition(i.matrixWorld),b.position.applyMatrix4(f),qt.identity(),Yt.copy(i.matrixWorld),Yt.premultiply(f),qt.extractRotation(Yt),b.halfWidth.set(.5*i.width,0,0),b.halfHeight.set(0,.5*i.height,0),b.halfWidth.applyMatrix4(qt),b.halfHeight.applyMatrix4(qt),Xt.rectArea[v++]=b}else if(i.isPointLight){var b=fe.get(i);b.position.setFromMatrixPosition(i.matrixWorld),b.position.applyMatrix4(f),b.color.copy(i.color).multiplyScalar(i.intensity),b.distance=i.distance,b.decay=0===i.distance?0:i.decay,b.shadow=i.castShadow,i.castShadow&&(b.shadowBias=i.shadow.bias,b.shadowRadius=i.shadow.radius,b.shadowMapSize=i.shadow.mapSize),Xt.pointShadowMap[m]=l,void 0===Xt.pointShadowMatrix[m]&&(Xt.pointShadowMatrix[m]=new h),Ht.setFromMatrixPosition(i.matrixWorld).negate(),Xt.pointShadowMatrix[m].identity().setPosition(Ht),Xt.point[m++]=b}else if(i.isHemisphereLight){var b=fe.get(i);b.direction.setFromMatrixPosition(i.matrixWorld),b.direction.transformDirection(f),b.direction.normalize(),b.skyColor.copy(i.color).multiplyScalar(o),b.groundColor.copy(i.groundColor).multiplyScalar(o),Xt.hemi[y++]=b}Xt.ambient[0]=u,Xt.ambient[1]=c,Xt.ambient[2]=d,Xt.directional.length=p,Xt.spot.length=g,Xt.rectArea.length=v,Xt.point.length=m,Xt.hemi.length=y,Xt.hash=p+","+m+","+g+","+v+","+y+","+Xt.shadows.length}function B(){var t=_t;return t>=$t.maxTextures&&console.warn("WebGLRenderer: trying to use "+t+" texture units while this GPU supports only "+$t.maxTextures),_t+=1,t}function F(t){var e;if(t===oo)return Kt.REPEAT;if(t===so)return Kt.CLAMP_TO_EDGE;if(t===lo)return Kt.MIRRORED_REPEAT;if(t===uo)return Kt.NEAREST;if(t===co)return Kt.NEAREST_MIPMAP_NEAREST;if(t===ho)return Kt.NEAREST_MIPMAP_LINEAR;if(t===fo)return Kt.LINEAR;if(t===po)return Kt.LINEAR_MIPMAP_NEAREST;if(t===mo)return Kt.LINEAR_MIPMAP_LINEAR;if(t===go)return Kt.UNSIGNED_BYTE;if(t===So)return Kt.UNSIGNED_SHORT_4_4_4_4;if(t===Eo)return Kt.UNSIGNED_SHORT_5_5_5_1;if(t===ko)return Kt.UNSIGNED_SHORT_5_6_5;if(t===vo)return Kt.BYTE;if(t===yo)return Kt.SHORT;if(t===bo)return Kt.UNSIGNED_SHORT;if(t===xo)return Kt.INT;if(t===_o)return Kt.UNSIGNED_INT;if(t===wo)return Kt.FLOAT;if(t===Mo&&null!==(e=Qt.get("OES_texture_half_float")))return e.HALF_FLOAT_OES;if(t===Co)return Kt.ALPHA;if(t===Po)return Kt.RGB;if(t===Oo)return Kt.RGBA;if(t===Ao)return Kt.LUMINANCE;if(t===Ro)return Kt.LUMINANCE_ALPHA;if(t===Io)return Kt.DEPTH_COMPONENT;if(t===Do)return Kt.DEPTH_STENCIL;if(t===xa)return Kt.FUNC_ADD;if(t===_a)return Kt.FUNC_SUBTRACT;if(t===wa)return Kt.FUNC_REVERSE_SUBTRACT;if(t===Ea)return Kt.ZERO;if(t===ka)return Kt.ONE;if(t===Ta)return Kt.SRC_COLOR;if(t===Ca)return Kt.ONE_MINUS_SRC_COLOR;if(t===Pa)return Kt.SRC_ALPHA;if(t===Oa)return Kt.ONE_MINUS_SRC_ALPHA;if(t===Aa)return Kt.DST_ALPHA;if(t===Ra)return Kt.ONE_MINUS_DST_ALPHA;if(t===La)return Kt.DST_COLOR;if(t===Ia)return Kt.ONE_MINUS_DST_COLOR;if(t===Da)return Kt.SRC_ALPHA_SATURATE;if((t===No||t===zo||t===Bo||t===Fo)&&null!==(e=Qt.get("WEBGL_compressed_texture_s3tc"))){if(t===No)return e.COMPRESSED_RGB_S3TC_DXT1_EXT;if(t===zo)return e.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(t===Bo)return e.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(t===Fo)return e.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((t===Uo||t===jo||t===Wo||t===Go)&&null!==(e=Qt.get("WEBGL_compressed_texture_pvrtc"))){if(t===Uo)return e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(t===jo)return e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(t===Wo)return e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(t===Go)return e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(t===Vo&&null!==(e=Qt.get("WEBGL_compressed_texture_etc1")))return e.COMPRESSED_RGB_ETC1_WEBGL;if((t===Ma||t===Sa)&&null!==(e=Qt.get("EXT_blend_minmax"))){if(t===Ma)return e.MIN_EXT;if(t===Sa)return e.MAX_EXT}return t===To&&null!==(e=Qt.get("WEBGL_depth_texture"))?e.UNSIGNED_INT_24_8_WEBGL:0}console.log("THREE.WebGLRenderer",Zi),t=t||{};var U=void 0!==t.canvas?t.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),j=void 0!==t.context?t.context:null,W=void 0!==t.alpha&&t.alpha,G=void 0===t.depth||t.depth,V=void 0===t.stencil||t.stencil,H=void 0!==t.antialias&&t.antialias,X=void 0===t.premultipliedAlpha||t.premultipliedAlpha,Z=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,Q=[],tt=[],et=-1,rt=[],it=-1,st=new Float32Array(8),lt=[],ut=[];this.domElement=U,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=Xa,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var ct=this,ht=null,dt=null,ft=null,mt=-1,gt="",vt=null,yt=new o,bt=null,xt=new o,_t=0,wt=new q(0),Mt=0,St=U.width,Et=U.height,kt=1,Tt=new o(0,0,St,Et),Ct=!1,At=new o(0,0,St,Et),Lt=new at,Dt=new ue,jt=!1,Wt=!1,Gt=new nt,Vt=new h,Ht=new c,Yt=new h,qt=new h,Xt={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],shadows:[]},Zt={calls:0,vertices:0,faces:0,points:0};this.info={render:Zt,memory:{geometries:0,textures:0},programs:null};var Kt;try{var Jt={alpha:W,depth:G,stencil:V,antialias:H,premultipliedAlpha:X,preserveDrawingBuffer:Z};if(null===(Kt=j||U.getContext("webgl",Jt)||U.getContext("experimental-webgl",Jt)))throw null!==U.getContext("webgl")?"Error creating WebGL context with your selected attributes.":"Error creating WebGL context.";void 0===Kt.getShaderPrecisionFormat&&(Kt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}}),U.addEventListener("webglcontextlost",i,!1)}catch(t){console.error("THREE.WebGLRenderer: "+t)}var Qt=new le(Kt);Qt.get("WEBGL_depth_texture"),Qt.get("OES_texture_float"),Qt.get("OES_texture_float_linear"),Qt.get("OES_texture_half_float"),Qt.get("OES_texture_half_float_linear"),Qt.get("OES_standard_derivatives"),Qt.get("ANGLE_instanced_arrays"),Qt.get("OES_element_index_uint")&&(Pt.MaxIndex=4294967296);var $t=new se(Kt,Qt,t),te=new oe(Kt,Qt,F),ne=new ae,ce=new ie(Kt,Qt,te,ne,$t,F,this.info),he=new re(Kt,ne,this.info),de=new ee(this,$t),fe=new Ut;this.info.programs=de.programs;var pe,me,ge,ve,ye=new Ft(Kt,Qt,Zt),be=new Bt(Kt,Qt,Zt);n(),this.context=Kt,this.capabilities=$t,this.extensions=Qt,this.properties=ne,this.state=te;var xe=new ot(this,Xt,he,$t);this.shadowMap=xe;var _e=new J(this,lt),we=new K(this,ut);this.getContext=function(){return Kt},this.getContextAttributes=function(){return Kt.getContextAttributes()},this.forceContextLoss=function(){Qt.get("WEBGL_lose_context").loseContext()},this.getMaxAnisotropy=function(){return $t.getMaxAnisotropy()},this.getPrecision=function(){return $t.precision},this.getPixelRatio=function(){return kt},this.setPixelRatio=function(t){void 0!==t&&(kt=t,this.setSize(At.z,At.w,!1))},this.getSize=function(){return{width:St,height:Et}},this.setSize=function(t,e,n){St=t,Et=e,U.width=t*kt,U.height=e*kt,!1!==n&&(U.style.width=t+"px",U.style.height=e+"px"),this.setViewport(0,0,t,e)},this.setViewport=function(t,e,n,r){te.viewport(At.set(t,e,n,r))},this.setScissor=function(t,e,n,r){te.scissor(Tt.set(t,e,n,r))},this.setScissorTest=function(t){te.setScissorTest(Ct=t)},this.getClearColor=function(){return wt},this.setClearColor=function(t,e){wt.set(t),Mt=void 0!==e?e:1,te.buffers.color.setClear(wt.r,wt.g,wt.b,Mt,X)},this.getClearAlpha=function(){return Mt},this.setClearAlpha=function(t){Mt=t,te.buffers.color.setClear(wt.r,wt.g,wt.b,Mt,X)},this.clear=function(t,e,n){var r=0;(void 0===t||t)&&(r|=Kt.COLOR_BUFFER_BIT),(void 0===e||e)&&(r|=Kt.DEPTH_BUFFER_BIT),(void 0===n||n)&&(r|=Kt.STENCIL_BUFFER_BIT),Kt.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(t,e,n,r){this.setRenderTarget(t),this.clear(e,n,r)},this.resetGLState=r,this.dispose=function(){rt=[],it=-1,tt=[],et=-1,U.removeEventListener("webglcontextlost",i,!1)},this.renderBufferImmediate=function(t,e,n){te.initAttributes();var r=ne.get(t);t.hasPositions&&!r.position&&(r.position=Kt.createBuffer()),t.hasNormals&&!r.normal&&(r.normal=Kt.createBuffer()),t.hasUvs&&!r.uv&&(r.uv=Kt.createBuffer()),t.hasColors&&!r.color&&(r.color=Kt.createBuffer());var i=e.getAttributes();if(t.hasPositions&&(Kt.bindBuffer(Kt.ARRAY_BUFFER,r.position),Kt.bufferData(Kt.ARRAY_BUFFER,t.positionArray,Kt.DYNAMIC_DRAW),te.enableAttribute(i.position),Kt.vertexAttribPointer(i.position,3,Kt.FLOAT,!1,0,0)),t.hasNormals){if(Kt.bindBuffer(Kt.ARRAY_BUFFER,r.normal),!n.isMeshPhongMaterial&&!n.isMeshStandardMaterial&&!n.isMeshNormalMaterial&&n.shading===ua)for(var a=0,o=3*t.count;a<o;a+=9){var s=t.normalArray,l=(s[a+0]+s[a+3]+s[a+6])/3,u=(s[a+1]+s[a+4]+s[a+7])/3,c=(s[a+2]+s[a+5]+s[a+8])/3;s[a+0]=l,s[a+1]=u,s[a+2]=c,s[a+3]=l,s[a+4]=u,s[a+5]=c,s[a+6]=l,s[a+7]=u,s[a+8]=c}Kt.bufferData(Kt.ARRAY_BUFFER,t.normalArray,Kt.DYNAMIC_DRAW),te.enableAttribute(i.normal),Kt.vertexAttribPointer(i.normal,3,Kt.FLOAT,!1,0,0)}t.hasUvs&&n.map&&(Kt.bindBuffer(Kt.ARRAY_BUFFER,r.uv),Kt.bufferData(Kt.ARRAY_BUFFER,t.uvArray,Kt.DYNAMIC_DRAW),te.enableAttribute(i.uv),Kt.vertexAttribPointer(i.uv,2,Kt.FLOAT,!1,0,0)),t.hasColors&&n.vertexColors!==ha&&(Kt.bindBuffer(Kt.ARRAY_BUFFER,r.color),Kt.bufferData(Kt.ARRAY_BUFFER,t.colorArray,Kt.DYNAMIC_DRAW),te.enableAttribute(i.color),Kt.vertexAttribPointer(i.color,3,Kt.FLOAT,!1,0,0)),te.disableUnusedAttributes(),Kt.drawArrays(Kt.TRIANGLES,0,t.count),t.count=0},this.renderBufferDirect=function(t,n,r,i,a,o){w(i);var s=M(t,n,i,a),l=!1,c=r.id+"_"+s.id+"_"+i.wireframe;c!==gt&&(gt=c,l=!0);var h=a.morphTargetInfluences;if(void 0!==h){for(var f=[],p=0,m=h.length;p<m;p++){var g=h[p];f.push([g,p])}f.sort(d),f.length>8&&(f.length=8);for(var v=r.morphAttributes,p=0,m=f.length;p<m;p++){var g=f[p];if(st[p]=g[0],0!==g[0]){var y=g[1];!0===i.morphTargets&&v.position&&r.addAttribute("morphTarget"+p,v.position[y]),!0===i.morphNormals&&v.normal&&r.addAttribute("morphNormal"+p,v.normal[y])}else!0===i.morphTargets&&r.removeAttribute("morphTarget"+p),!0===i.morphNormals&&r.removeAttribute("morphNormal"+p)}for(var p=f.length,b=st.length;p<b;p++)st[p]=0;s.getUniforms().setValue(Kt,"morphTargetInfluences",st),l=!0}var y=r.index,x=r.attributes.position,_=1;!0===i.wireframe&&(y=he.getWireframeAttribute(r),_=2);var S;null!==y?(S=be,S.setIndex(y)):S=ye,l&&(u(i,s,r),null!==y&&Kt.bindBuffer(Kt.ELEMENT_ARRAY_BUFFER,he.getAttributeBuffer(y)));var E=0;null!==y?E=y.count:void 0!==x&&(E=x.count);var k=r.drawRange.start*_,T=r.drawRange.count*_,C=null!==o?o.start*_:0,P=null!==o?o.count*_:1/0,O=Math.max(k,C),A=Math.min(E,k+T,C+P)-1,R=Math.max(0,A-O+1);if(0!==R){if(a.isMesh)if(!0===i.wireframe)te.setLineWidth(i.wireframeLinewidth*e()),S.setMode(Kt.LINES);else switch(a.drawMode){case ts:S.setMode(Kt.TRIANGLES);break;case es:S.setMode(Kt.TRIANGLE_STRIP);break;case ns:S.setMode(Kt.TRIANGLE_FAN)}else if(a.isLine){var L=i.linewidth;void 0===L&&(L=1),te.setLineWidth(L*e()),a.isLineSegments?S.setMode(Kt.LINES):S.setMode(Kt.LINE_STRIP)}else a.isPoints&&S.setMode(Kt.POINTS);r&&r.isInstancedBufferGeometry?r.maxInstancedCount>0&&S.renderInstances(r,O,R):S.render(O,R)}},this.render=function(t,e,n,r){if(void 0!==e&&!0!==e.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");gt="",mt=-1,vt=null,!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),e.matrixWorldInverse.getInverse(e.matrixWorld),Vt.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),Lt.setFromMatrix(Vt),Q.length=0,et=-1,it=-1,lt.length=0,ut.length=0,Wt=this.localClippingEnabled,jt=Dt.init(this.clippingPlanes,Wt,e),b(t,e),tt.length=et+1,rt.length=it+1,!0===ct.sortObjects&&(tt.sort(f),rt.sort(p)),jt&&Dt.beginShadows(),N(Q),xe.render(t,e),z(Q,e),jt&&Dt.endShadows(),Zt.calls=0,Zt.vertices=0,Zt.faces=0,Zt.points=0,void 0===n&&(n=null),this.setRenderTarget(n);var i=t.background;if(null===i?te.buffers.color.setClear(wt.r,wt.g,wt.b,Mt,X):i&&i.isColor&&(te.buffers.color.setClear(i.r,i.g,i.b,1,X),r=!0),(this.autoClear||r)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil),i&&i.isCubeTexture?(void 0===ge&&(ge=new Nt,ve=new Ot(new Rt(5,5,5),new $({uniforms:Ss.cube.uniforms,vertexShader:Ss.cube.vertexShader,fragmentShader:Ss.cube.fragmentShader,side:sa,depthTest:!1,depthWrite:!1,fog:!1}))),ge.projectionMatrix.copy(e.projectionMatrix),ge.matrixWorld.extractRotation(e.matrixWorld),ge.matrixWorldInverse.getInverse(ge.matrixWorld),ve.material.uniforms.tCube.value=i,ve.modelViewMatrix.multiplyMatrices(ge.matrixWorldInverse,ve.matrixWorld),he.update(ve),ct.renderBufferDirect(ge,null,ve.geometry,ve.material,ve,null)):i&&i.isTexture&&(void 0===pe&&(pe=new zt(-1,1,1,-1,0,1),me=new Ot(new It(2,2),new pt({depthTest:!1,depthWrite:!1,fog:!1}))),me.material.map=i,he.update(me),ct.renderBufferDirect(pe,null,me.geometry,me.material,me,null)),t.overrideMaterial){var a=t.overrideMaterial;x(tt,t,e,a),x(rt,t,e,a)}else te.setBlending(pa),x(tt,t,e),x(rt,t,e);_e.render(t,e),we.render(t,e,xt),n&&ce.updateRenderTargetMipmap(n),te.setDepthTest(!0),te.setDepthWrite(!0),te.setColorWrite(!0)},this.setFaceCulling=function(t,e){te.setCullFace(t),te.setFlipSided(e===ea)},this.allocTextureUnit=B,this.setTexture2D=function(){var t=!1;return function(e,n){e&&e.isWebGLRenderTarget&&(t||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),t=!0),e=e.texture),ce.setTexture2D(e,n)}}(),this.setTexture=function(){var t=!1;return function(e,n){t||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),t=!0),ce.setTexture2D(e,n)}}(),this.setTextureCube=function(){var t=!1;return function(e,n){e&&e.isWebGLRenderTargetCube&&(t||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),t=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?ce.setTextureCube(e,n):ce.setTextureCubeDynamic(e,n)}}(),this.getCurrentRenderTarget=function(){return dt},this.setRenderTarget=function(t){dt=t,t&&void 0===ne.get(t).__webglFramebuffer&&ce.setupRenderTarget(t);var e,n=t&&t.isWebGLRenderTargetCube;if(t){var r=ne.get(t);e=n?r.__webglFramebuffer[t.activeCubeFace]:r.__webglFramebuffer,yt.copy(t.scissor),bt=t.scissorTest,xt.copy(t.viewport)}else e=null,yt.copy(Tt).multiplyScalar(kt),bt=Ct,xt.copy(At).multiplyScalar(kt);if(ft!==e&&(Kt.bindFramebuffer(Kt.FRAMEBUFFER,e),ft=e),te.scissor(yt),te.setScissorTest(bt),te.viewport(xt),n){var i=ne.get(t.texture);Kt.framebufferTexture2D(Kt.FRAMEBUFFER,Kt.COLOR_ATTACHMENT0,Kt.TEXTURE_CUBE_MAP_POSITIVE_X+t.activeCubeFace,i.__webglTexture,t.activeMipMapLevel)}},this.readRenderTargetPixels=function(t,e,n,r,i,a){if(!1===(t&&t.isWebGLRenderTarget))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");var o=ne.get(t).__webglFramebuffer;if(o){var s=!1;o!==ft&&(Kt.bindFramebuffer(Kt.FRAMEBUFFER,o),s=!0);try{var l=t.texture,u=l.format,c=l.type;if(u!==Oo&&F(u)!==Kt.getParameter(Kt.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(c===go||F(c)===Kt.getParameter(Kt.IMPLEMENTATION_COLOR_READ_TYPE)||c===wo&&(Qt.get("OES_texture_float")||Qt.get("WEBGL_color_buffer_float"))||c===Mo&&Qt.get("EXT_color_buffer_half_float")))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");Kt.checkFramebufferStatus(Kt.FRAMEBUFFER)===Kt.FRAMEBUFFER_COMPLETE?e>=0&&e<=t.width-r&&n>=0&&n<=t.height-i&&Kt.readPixels(e,n,r,i,F(u),F(c),a):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&Kt.bindFramebuffer(Kt.FRAMEBUFFER,ft)}}}}function he(t,e){this.name="",this.color=new q(t),this.density=void 0!==e?e:25e-5}function de(t,e,n){this.name="",this.color=new q(t),this.near=void 0!==e?e:1,this.far=void 0!==n?n:1e3}function fe(){ct.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function pe(t,e,n,r,i){ct.call(this),this.lensFlares=[],this.positionScreen=new c,this.customUpdateCallback=void 0,void 0!==t&&this.add(t,e,n,r,i)}function me(t){Q.call(this),this.type="SpriteMaterial",this.color=new q(16777215),this.map=null,this.rotation=0,this.fog=!1,this.lights=!1,this.setValues(t)}function ge(t){ct.call(this),this.type="Sprite",this.material=void 0!==t?t:new me}function ve(){ct.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function ye(t,e,n){if(this.useVertexTexture=void 0===n||n,this.identityMatrix=new h,t=t||[],this.bones=t.slice(0),this.useVertexTexture){var r=Math.sqrt(4*this.bones.length);r=fs.nextPowerOfTwo(Math.ceil(r)),r=Math.max(r,4),this.boneTextureWidth=r,this.boneTextureHeight=r,this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4),this.boneTexture=new X(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,Oo,wo)}else this.boneMatrices=new Float32Array(16*this.bones.length);if(void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{console.warn("THREE.Skeleton bonInverses is the wrong length."),this.boneInverses=[];for(var i=0,a=this.bones.length;i<a;i++)this.boneInverses.push(new h)}}function be(){ct.call(this),this.type="Bone"}function xe(t,e,n){Ot.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new h,this.bindMatrixInverse=new h;var r=[];if(this.geometry&&void 0!==this.geometry.bones){for(var i,a,o=0,s=this.geometry.bones.length;o<s;++o)a=this.geometry.bones[o],i=new be,r.push(i),i.name=a.name,i.position.fromArray(a.pos),i.quaternion.fromArray(a.rotq),void 0!==a.scl&&i.scale.fromArray(a.scl);for(var o=0,s=this.geometry.bones.length;o<s;++o)a=this.geometry.bones[o],-1!==a.parent&&null!==a.parent&&void 0!==r[a.parent]?r[a.parent].add(r[o]):this.add(r[o])}this.normalizeSkinWeights(),this.updateMatrixWorld(!0),this.bind(new ye(r,void 0,n),this.matrixWorld)}function _e(t){Q.call(this),this.type="LineBasicMaterial",this.color=new q(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(t)}function we(t,e,n){if(1===n)return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new Me(t,e);ct.call(this),this.type="Line",this.geometry=void 0!==t?t:new Pt,this.material=void 0!==e?e:new _e({color:16777215*Math.random()})}function Me(t,e){we.call(this,t,e),this.type="LineSegments"}function Se(t){Q.call(this),this.type="PointsMaterial",this.color=new q(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.lights=!1,this.setValues(t)}function Ee(t,e){ct.call(this),this.type="Points",this.geometry=void 0!==t?t:new Pt,this.material=void 0!==e?e:new Se({color:16777215*Math.random()})}function ke(){ct.call(this),this.type="Group"}function Te(t,e,n,r,i,o,s,l,u){function c(){requestAnimationFrame(c),t.readyState>=t.HAVE_CURRENT_DATA&&(h.needsUpdate=!0)}a.call(this,t,e,n,r,i,o,s,l,u),this.generateMipmaps=!1;var h=this;c()}function Ce(t,e,n,r,i,o,s,l,u,c,h,d){a.call(this,null,o,s,l,u,c,r,i,h,d),this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function Pe(t,e,n,r,i,o,s,l,u){a.call(this,t,e,n,r,i,o,s,l,u),this.needsUpdate=!0}function Oe(t,e,n,r,i,o,s,l,u,c){if((c=void 0!==c?c:Io)!==Io&&c!==Do)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&c===Io&&(n=bo),void 0===n&&c===Do&&(n=To),a.call(this,null,r,i,o,s,l,c,n,u),this.image={width:t,height:e},this.magFilter=void 0!==s?s:uo,this.minFilter=void 0!==l?l:uo,this.flipY=!1,this.generateMipmaps=!1}function Ae(t){function e(t,e){return t-e}Pt.call(this),this.type="WireframeGeometry";var n,r,i,a,o,s,l,u,h=[],d=[0,0],f={},p=["a","b","c"];if(t&&t.isGeometry){var m=t.faces;for(n=0,i=m.length;n<i;n++){var g=m[n];for(r=0;r<3;r++)d[0]=g[p[r]],d[1]=g[p[(r+1)%3]],d.sort(e),l=d.toString(),void 0===f[l]&&(f[l]={index1:d[0],index2:d[1]})}for(l in f)s=f[l],u=t.vertices[s.index1],h.push(u.x,u.y,u.z),u=t.vertices[s.index2],h.push(u.x,u.y,u.z)}else if(t&&t.isBufferGeometry){var v,y,b,x,_,w,M,S;if(u=new c,null!==t.index){for(v=t.attributes.position,y=t.index,b=t.groups,0===b.length&&t.addGroup(0,y.count),a=0,o=b.length;a<o;++a)for(x=b[a],_=x.start,w=x.count,n=_,i=_+w;n<i;n+=3)for(r=0;r<3;r++)d[0]=y.getX(n+r),d[1]=y.getX(n+(r+1)%3),d.sort(e),l=d.toString(),void 0===f[l]&&(f[l]={index1:d[0],index2:d[1]});for(l in f)s=f[l],u.fromBufferAttribute(v,s.index1),h.push(u.x,u.y,u.z),u.fromBufferAttribute(v,s.index2),h.push(u.x,u.y,u.z)}else for(v=t.attributes.position,n=0,i=v.count/3;n<i;n++)for(r=0;r<3;r++)M=3*n+r,u.fromBufferAttribute(v,M),h.push(u.x,u.y,u.z),S=3*n+(r+1)%3,u.fromBufferAttribute(v,S),h.push(u.x,u.y,u.z)}this.addAttribute("position",new Mt(h,3))}function Re(t,e,n){Ct.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:n},this.fromBufferGeometry(new Le(t,e,n)),this.mergeVertices()}function Le(t,e,n){Pt.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:e,stacks:n};var r,i,a=[],o=[],s=[],l=e+1;for(r=0;r<=n;r++){var u=r/n;for(i=0;i<=e;i++){var c=i/e,h=t(c,u);o.push(h.x,h.y,h.z),s.push(c,u)}}for(r=0;r<n;r++)for(i=0;i<e;i++){var d=r*l+i,f=r*l+i+1,p=(r+1)*l+i+1,m=(r+1)*l+i;a.push(d,f,m),a.push(f,p,m)}this.setIndex(a),this.addAttribute("position",new Mt(o,3)),this.addAttribute("uv",new Mt(s,2)),this.computeVertexNormals()}function Ie(t,e,n,r){Ct.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:r},this.fromBufferGeometry(new De(t,e,n,r)),this.mergeVertices()}function De(t,e,n,r){function a(t,e,n,r){var i,a,o=Math.pow(2,r),l=[];for(i=0;i<=o;i++){l[i]=[];var u=t.clone().lerp(n,i/o),c=e.clone().lerp(n,i/o),h=o-i;for(a=0;a<=h;a++)l[i][a]=0===a&&i===o?u:u.clone().lerp(c,a/h)}for(i=0;i<o;i++)for(a=0;a<2*(o-i)-1;a++){var d=Math.floor(a/2);a%2==0?(s(l[i][d+1]),s(l[i+1][d]),s(l[i][d])):(s(l[i][d+1]),s(l[i+1][d+1]),s(l[i+1][d]))}}function o(){for(var t=0;t<m.length;t+=6){var e=m[t+0],n=m[t+2],r=m[t+4],i=Math.max(e,n,r),a=Math.min(e,n,r);i>.9&&a<.1&&(e<.2&&(m[t+0]+=1),n<.2&&(m[t+2]+=1),r<.2&&(m[t+4]+=1))}}function s(t){p.push(t.x,t.y,t.z)}function l(e,n){var r=3*e;n.x=t[r+0],n.y=t[r+1],n.z=t[r+2]}function u(){for(var t=new c,e=new c,n=new c,r=new c,a=new i,o=new i,s=new i,l=0,u=0;l<p.length;l+=9,u+=6){t.set(p[l+0],p[l+1],p[l+2]),e.set(p[l+3],p[l+4],p[l+5]),n.set(p[l+6],p[l+7],p[l+8]),a.set(m[u+0],m[u+1]),o.set(m[u+2],m[u+3]),s.set(m[u+4],m[u+5]),r.copy(t).add(e).add(n).divideScalar(3);var f=d(r);h(a,u+0,t,f),h(o,u+2,e,f),h(s,u+4,n,f)}}function h(t,e,n,r){r<0&&1===t.x&&(m[e]=t.x-1),0===n.x&&0===n.z&&(m[e]=r/2/Math.PI+.5)}function d(t){return Math.atan2(t.z,-t.x)}function f(t){return Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))}Pt.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:r},n=n||1,r=r||0;var p=[],m=[];!function(t){for(var n=new c,r=new c,i=new c,o=0;o<e.length;o+=3)l(e[o+0],n),l(e[o+1],r),l(e[o+2],i),a(n,r,i,t)}(r),function(t){for(var e=new c,n=0;n<p.length;n+=3)e.x=p[n+0],e.y=p[n+1],e.z=p[n+2],e.normalize().multiplyScalar(t),p[n+0]=e.x,p[n+1]=e.y,p[n+2]=e.z}(n),function(){for(var t=new c,e=0;e<p.length;e+=3){t.x=p[e+0],t.y=p[e+1],t.z=p[e+2];var n=d(t)/2/Math.PI+.5,r=f(t)/Math.PI+.5;m.push(n,1-r)}u(),o()}(),this.addAttribute("position",new Mt(p,3)),this.addAttribute("normal",new Mt(p.slice(),3)),this.addAttribute("uv",new Mt(m,2)),this.normalizeNormals()}function Ne(t,e){Ct.call(this),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new ze(t,e)),this.mergeVertices()}function ze(t,e){var n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];De.call(this,n,r,t,e),this.type="TetrahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Be(t,e){Ct.call(this),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Fe(t,e)),this.mergeVertices()}function Fe(t,e){var n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];De.call(this,n,r,t,e),this.type="OctahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Ue(t,e){Ct.call(this),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new je(t,e)),this.mergeVertices()}function je(t,e){var n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],i=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];De.call(this,r,i,t,e),this.type="IcosahedronBufferGeometry",this.parameters={radius:t,detail:e}}function We(t,e){Ct.call(this),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Ge(t,e)),this.mergeVertices()}function Ge(t,e){var n=(1+Math.sqrt(5))/2,r=1/n,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];De.call(this,i,a,t,e),this.type="DodecahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Ve(t,e,n,r,i,a){Ct.call(this),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:r,closed:i},void 0!==a&&console.warn("THREE.TubeGeometry: taper has been removed.");var o=new He(t,e,n,r,i);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals,this.fromBufferGeometry(o),this.mergeVertices()}function He(t,e,n,r,a){function o(i){var a=t.getPointAt(i/e),o=u.normals[i],s=u.binormals[i];for(d=0;d<=r;d++){var l=d/r*Math.PI*2,c=Math.sin(l),h=-Math.cos(l);p.x=h*o.x+c*s.x,p.y=h*o.y+c*s.y,p.z=h*o.z+c*s.z,p.normalize(),v.push(p.x,p.y,p.z),f.x=a.x+n*p.x,f.y=a.y+n*p.y,f.z=a.z+n*p.z,g.push(f.x,f.y,f.z)}}function s(){for(d=1;d<=e;d++)for(h=1;h<=r;h++){var t=(r+1)*(d-1)+(h-1),n=(r+1)*d+(h-1),i=(r+1)*d+h,a=(r+1)*(d-1)+h;b.push(t,n,a),b.push(n,i,a)}}function l(){for(h=0;h<=e;h++)for(d=0;d<=r;d++)m.x=h/e,m.y=d/r,y.push(m.x,m.y)}Pt.call(this),this.type="TubeBufferGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:r,closed:a},e=e||64,n=n||1,r=r||8,a=a||!1;var u=t.computeFrenetFrames(e,a);this.tangents=u.tangents,this.normals=u.normals,this.binormals=u.binormals;var h,d,f=new c,p=new c,m=new i,g=[],v=[],y=[],b=[];!function(){for(h=0;h<e;h++)o(h);o(!1===a?e:0),l(),s()}(),this.setIndex(b),this.addAttribute("position",new Mt(g,3)),this.addAttribute("normal",new Mt(v,3)),this.addAttribute("uv",new Mt(y,2))}function Ye(t,e,n,r,i,a,o){Ct.call(this),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:r,p:i,q:a},void 0!==o&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new qe(t,e,n,r,i,a)),this.mergeVertices()}function qe(t,e,n,r,a,o){function s(t,e,n,r,i){var a=Math.cos(t),o=Math.sin(t),s=n/e*t,l=Math.cos(s);i.x=r*(2+l)*.5*a,i.y=r*(2+l)*o*.5,i.z=r*Math.sin(s)*.5}Pt.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:r,p:a,q:o},t=t||100,e=e||40,n=Math.floor(n)||64,r=Math.floor(r)||8,a=a||2,o=o||3;var l,u,h=[],d=[],f=[],p=[],m=new c,g=new c,v=(new i,new c),y=new c,b=new c,x=new c,_=new c;for(l=0;l<=n;++l){var w=l/n*a*Math.PI*2;for(s(w,a,o,t,v),s(w+.01,a,o,t,y),x.subVectors(y,v),_.addVectors(y,v),b.crossVectors(x,_),_.crossVectors(b,x),b.normalize(),_.normalize(),u=0;u<=r;++u){var M=u/r*Math.PI*2,S=-e*Math.cos(M),E=e*Math.sin(M);m.x=v.x+(S*_.x+E*b.x),m.y=v.y+(S*_.y+E*b.y),m.z=v.z+(S*_.z+E*b.z),d.push(m.x,m.y,m.z),g.subVectors(m,v).normalize(),f.push(g.x,g.y,g.z),p.push(l/n),p.push(u/r)}}for(u=1;u<=n;u++)for(l=1;l<=r;l++){var k=(r+1)*(u-1)+(l-1),T=(r+1)*u+(l-1),C=(r+1)*u+l,P=(r+1)*(u-1)+l;h.push(k,T,P),h.push(T,C,P)}this.setIndex(h),this.addAttribute("position",new Mt(d,3)),this.addAttribute("normal",new Mt(f,3)),this.addAttribute("uv",new Mt(p,2))}function Xe(t,e,n,r,i){Ct.call(this),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:r,arc:i},this.fromBufferGeometry(new Ze(t,e,n,r,i))}function Ze(t,e,n,r,i){Pt.call(this),this.type="TorusBufferGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:r,arc:i},t=t||100,e=e||40,n=Math.floor(n)||8,r=Math.floor(r)||6,i=i||2*Math.PI;var a,o,s=[],l=[],u=[],h=[],d=new c,f=new c,p=new c;for(a=0;a<=n;a++)for(o=0;o<=r;o++){var m=o/r*i,g=a/n*Math.PI*2;f.x=(t+e*Math.cos(g))*Math.cos(m),f.y=(t+e*Math.cos(g))*Math.sin(m),f.z=e*Math.sin(g),l.push(f.x,f.y,f.z),d.x=t*Math.cos(m),d.y=t*Math.sin(m),p.subVectors(f,d).normalize(),u.push(p.x,p.y,p.z),h.push(o/r),h.push(a/n)}for(a=1;a<=n;a++)for(o=1;o<=r;o++){var v=(r+1)*a+o-1,y=(r+1)*(a-1)+o-1,b=(r+1)*(a-1)+o,x=(r+1)*a+o;s.push(v,y,x),s.push(y,b,x)}this.setIndex(s),this.addAttribute("position",new Mt(l,3)),this.addAttribute("normal",new Mt(u,3)),this.addAttribute("uv",new Mt(h,2))}function Ke(t,e){if(void 0===t)return void(t=[]);Ct.call(this),this.type="ExtrudeGeometry",t=Array.isArray(t)?t:[t],this.addShapeList(t,e),this.computeFaceNormals()}function Je(t,e){e=e||{};var n=e.font;if(!1===(n&&n.isFont))return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Ct;var r=n.generateShapes(t,e.size,e.curveSegments);e.amount=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),Ke.call(this,r,e),this.type="TextGeometry"}function Qe(t,e,n,r,i,a,o){Ct.call(this),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:i,thetaStart:a,thetaLength:o},this.fromBufferGeometry(new $e(t,e,n,r,i,a,o))}function $e(t,e,n,r,i,a,o){Pt.call(this),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:i,thetaStart:a,thetaLength:o},t=t||50,e=Math.max(3,Math.floor(e)||8),n=Math.max(2,Math.floor(n)||6),r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI,a=void 0!==a?a:0,o=void 0!==o?o:Math.PI;var s,l,u=a+o,h=0,d=[],f=new c,p=new c,m=[],g=[],v=[],y=[];for(l=0;l<=n;l++){var b=[],x=l/n;for(s=0;s<=e;s++){var _=s/e;f.x=-t*Math.cos(r+_*i)*Math.sin(a+x*o),f.y=t*Math.cos(a+x*o),f.z=t*Math.sin(r+_*i)*Math.sin(a+x*o),g.push(f.x,f.y,f.z),p.set(f.x,f.y,f.z).normalize(),v.push(p.x,p.y,p.z),y.push(_,1-x),b.push(h++)}d.push(b)}for(l=0;l<n;l++)for(s=0;s<e;s++){var w=d[l][s+1],M=d[l][s],S=d[l+1][s],E=d[l+1][s+1];(0!==l||a>0)&&m.push(w,M,E),(l!==n-1||u<Math.PI)&&m.push(M,S,E)}this.setIndex(m),this.addAttribute("position",new Mt(g,3)),this.addAttribute("normal",new Mt(v,3)),this.addAttribute("uv",new Mt(y,2))}function tn(t,e,n,r,i,a){Ct.call(this),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:a},this.fromBufferGeometry(new en(t,e,n,r,i,a))}function en(t,e,n,r,a,o){Pt.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:r,thetaStart:a,thetaLength:o},t=t||20,e=e||50,a=void 0!==a?a:0,o=void 0!==o?o:2*Math.PI,n=void 0!==n?Math.max(3,n):8,r=void 0!==r?Math.max(1,r):1;var s,l,u,h=[],d=[],f=[],p=[],m=t,g=(e-t)/r,v=new c,y=new i;for(l=0;l<=r;l++){for(u=0;u<=n;u++)s=a+u/n*o,v.x=m*Math.cos(s),v.y=m*Math.sin(s),d.push(v.x,v.y,v.z),f.push(0,0,1),y.x=(v.x/e+1)/2,y.y=(v.y/e+1)/2,p.push(y.x,y.y);m+=g}for(l=0;l<r;l++){var b=l*(n+1);for(u=0;u<n;u++){s=u+b;var x=s,_=s+n+1,w=s+n+2,M=s+1;h.push(x,_,M),h.push(_,w,M)}}this.setIndex(h),this.addAttribute("position",new Mt(d,3)),this.addAttribute("normal",new Mt(f,3)),this.addAttribute("uv",new Mt(p,2))}function nn(t,e,n,r){Ct.call(this),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:r},this.fromBufferGeometry(new rn(t,e,n,r)),this.mergeVertices()}function rn(t,e,n,r){Pt.call(this),this.type="LatheBufferGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:r},e=Math.floor(e)||12,n=n||0,r=r||2*Math.PI,r=fs.clamp(r,0,2*Math.PI);var a,o,s,l=[],u=[],h=[],d=1/e,f=new c,p=new i;for(o=0;o<=e;o++){var m=n+o*d*r,g=Math.sin(m),v=Math.cos(m);for(s=0;s<=t.length-1;s++)f.x=t[s].x*g,f.y=t[s].y,f.z=t[s].x*v,u.push(f.x,f.y,f.z),p.x=o/e,p.y=s/(t.length-1),h.push(p.x,p.y)}for(o=0;o<e;o++)for(s=0;s<t.length-1;s++){a=s+o*t.length;var y=a,b=a+t.length,x=a+t.length+1,_=a+1;l.push(y,b,_),l.push(b,x,_)}if(this.setIndex(l),this.addAttribute("position",new Mt(u,3)),this.addAttribute("uv",new Mt(h,2)),this.computeVertexNormals(),r===2*Math.PI){var w=this.attributes.normal.array,M=new c,S=new c,E=new c;for(a=e*t.length*3,o=0,s=0;o<t.length;o++,s+=3)M.x=w[s+0],M.y=w[s+1],M.z=w[s+2],S.x=w[a+s+0],S.y=w[a+s+1],S.z=w[a+s+2],E.addVectors(M,S).normalize(),w[s+0]=w[a+s+0]=E.x,w[s+1]=w[a+s+1]=E.y,w[s+2]=w[a+s+2]=E.z}}function an(t,e){Ct.call(this),this.type="ShapeGeometry","object"==typeof e&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),e=e.curveSegments),this.parameters={shapes:t,curveSegments:e},this.fromBufferGeometry(new on(t,e)),this.mergeVertices()}function on(t,e){function n(t){var n,s,u,c=i.length/3,h=t.extractPoints(e),d=h.shape,f=h.holes;if(!1===Ps.isClockWise(d))for(d=d.reverse(),n=0,s=f.length;n<s;n++)u=f[n],!0===Ps.isClockWise(u)&&(f[n]=u.reverse());var p=Ps.triangulateShape(d,f);for(n=0,s=f.length;n<s;n++)u=f[n],d=d.concat(u);for(n=0,s=d.length;n<s;n++){var m=d[n];i.push(m.x,m.y,0),a.push(0,0,1),o.push(m.x,m.y)}for(n=0,s=p.length;n<s;n++){var g=p[n],v=g[0]+c,y=g[1]+c,b=g[2]+c;r.push(v,y,b),l+=3}}Pt.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:t,curveSegments:e},e=e||12;var r=[],i=[],a=[],o=[],s=0,l=0;if(!1===Array.isArray(t))n(t);else for(var u=0;u<t.length;u++)n(t[u]),this.addGroup(s,l,u),s+=l,l=0;this.setIndex(r),this.addAttribute("position",new Mt(i,3)),this.addAttribute("normal",new Mt(a,3)),this.addAttribute("uv",new Mt(o,2))}function sn(t,e){function n(t,e){return t-e}Pt.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:e},e=void 0!==e?e:1;var r,i,a=[],o=Math.cos(fs.DEG2RAD*e),s=[0,0],l={},u=["a","b","c"];t.isBufferGeometry?(i=new Ct,i.fromBufferGeometry(t)):i=t.clone(),i.mergeVertices(),i.computeFaceNormals();for(var c=i.vertices,h=i.faces,d=0,f=h.length;d<f;d++)for(var p=h[d],m=0;m<3;m++)s[0]=p[u[m]],s[1]=p[u[(m+1)%3]],s.sort(n),r=s.toString(),void 0===l[r]?l[r]={index1:s[0],index2:s[1],face1:d,face2:void 0}:l[r].face2=d;for(r in l){var g=l[r];if(void 0===g.face2||h[g.face1].normal.dot(h[g.face2].normal)<=o){var v=c[g.index1];a.push(v.x,v.y,v.z),v=c[g.index2],a.push(v.x,v.y,v.z)}}this.addAttribute("position",new Mt(a,3))}function ln(t,e,n,r,i,a,o,s){Ct.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:o,thetaLength:s},this.fromBufferGeometry(new un(t,e,n,r,i,a,o,s)),this.mergeVertices()}function un(t,e,n,r,a,o,s,l){function u(n){var a,o,u,v=new i,x=new c,_=0,w=!0===n?t:e,M=!0===n?1:-1;for(o=g,a=1;a<=r;a++)f.push(0,y*M,0),p.push(0,M,0),m.push(.5,.5),g++;for(u=g,a=0;a<=r;a++){var S=a/r,E=S*l+s,k=Math.cos(E),T=Math.sin(E);x.x=w*T,x.y=y*M,x.z=w*k,f.push(x.x,x.y,x.z),p.push(0,M,0),v.x=.5*k+.5,v.y=.5*T*M+.5,m.push(v.x,v.y),g++}for(a=0;a<r;a++){var C=o+a,P=u+a;!0===n?d.push(P,P+1,C):d.push(P+1,P,C),_+=3}h.addGroup(b,_,!0===n?1:2),b+=_}Pt.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:a,openEnded:o,thetaStart:s,thetaLength:l};var h=this;t=void 0!==t?t:20,e=void 0!==e?e:20,n=void 0!==n?n:100,r=Math.floor(r)||8,a=Math.floor(a)||1,o=void 0!==o&&o,s=void 0!==s?s:0,l=void 0!==l?l:2*Math.PI;var d=[],f=[],p=[],m=[],g=0,v=[],y=n/2,b=0;!function(){var i,o,u=new c,x=new c,_=0,w=(e-t)/n;for(o=0;o<=a;o++){var M=[],S=o/a,E=S*(e-t)+t;for(i=0;i<=r;i++){var k=i/r,T=k*l+s,C=Math.sin(T),P=Math.cos(T);x.x=E*C,x.y=-S*n+y,x.z=E*P,f.push(x.x,x.y,x.z),u.set(C,w,P).normalize(),p.push(u.x,u.y,u.z),m.push(k,1-S),M.push(g++)}v.push(M)}for(i=0;i<r;i++)for(o=0;o<a;o++){var O=v[o][i],A=v[o+1][i],R=v[o+1][i+1],L=v[o][i+1];d.push(O,A,L),d.push(A,R,L),_+=6}h.addGroup(b,_,0),b+=_}(),!1===o&&(t>0&&u(!0),e>0&&u(!1)),this.setIndex(d),this.addAttribute("position",new Mt(f,3)),this.addAttribute("normal",new Mt(p,3)),this.addAttribute("uv",new Mt(m,2))}function cn(t,e,n,r,i,a,o){ln.call(this,0,t,e,n,r,i,a,o),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:a,thetaLength:o}}function hn(t,e,n,r,i,a,o){un.call(this,0,t,e,n,r,i,a,o),this.type="ConeBufferGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:a,thetaLength:o}}function dn(t,e,n,r){Ct.call(this),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new fn(t,e,n,r))}function fn(t,e,n,r){Pt.call(this),this.type="CircleBufferGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:r},t=t||50,e=void 0!==e?Math.max(3,e):8,n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI;var a,o,s=[],l=[],u=[],h=[],d=new c,f=new i;for(l.push(0,0,0),u.push(0,0,1),h.push(.5,.5),o=0,a=3;o<=e;o++,a+=3){var p=n+o/e*r;d.x=t*Math.cos(p),d.y=t*Math.sin(p),l.push(d.x,d.y,d.z),u.push(0,0,1),f.x=(l[a]/t+1)/2,f.y=(l[a+1]/t+1)/2,h.push(f.x,f.y)}for(a=1;a<=e;a++)s.push(a,a+1,0);this.setIndex(s),this.addAttribute("position",new Mt(l,3)),this.addAttribute("normal",new Mt(u,3)),this.addAttribute("uv",new Mt(h,2))}function pn(){$.call(this,{uniforms:xs.merge([Ms.lights,{opacity:{value:1}}]),vertexShader:_s.shadow_vert,fragmentShader:_s.shadow_frag}),this.lights=!0,this.transparent=!0,Object.defineProperties(this,{opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(t){this.uniforms.opacity.value=t}}})}function mn(t){$.call(this,t),this.type="RawShaderMaterial"}function gn(t){this.uuid=fs.generateUUID(),this.type="MultiMaterial",this.materials=Array.isArray(t)?t:[],this.visible=!0}function vn(t){Q.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new q(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new q(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new i(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function yn(t){vn.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(t)}function bn(t){Q.call(this),this.type="MeshPhongMaterial",this.color=new q(16777215),this.specular=new q(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new q(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new i(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Va,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function xn(t){bn.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(t)}function _n(t){Q.call(this,t),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new i(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function wn(t){Q.call(this),this.type="MeshLambertMaterial",this.color=new q(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new q(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Va,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Mn(t){Q.call(this),this.type="LineDashedMaterial",this.color=new q(16777215),this.linewidth=1,this.scale=1,this.dashSize=3,this.gapSize=1,this.lights=!1,this.setValues(t)}function Sn(t,e,n){var r=this,i=!1,a=0,o=0;this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){o++,!1===i&&void 0!==r.onStart&&r.onStart(t,a,o),i=!0},this.itemEnd=function(t){a++,void 0!==r.onProgress&&r.onProgress(t,a,o),a===o&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(t){void 0!==r.onError&&r.onError(t)}}function En(t){this.manager=void 0!==t?t:Ls}function kn(t){this.manager=void 0!==t?t:Ls,this._parser=null}function Tn(t){this.manager=void 0!==t?t:Ls,this._parser=null}function Cn(t){this.manager=void 0!==t?t:Ls}function Pn(t){this.manager=void 0!==t?t:Ls}function On(t){this.manager=void 0!==t?t:Ls}function An(t,e){ct.call(this),this.type="Light",this.color=new q(t),this.intensity=void 0!==e?e:1,this.receiveShadow=void 0}function Rn(t,e,n){An.call(this,t,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(ct.DefaultUp),this.updateMatrix(),this.groundColor=new q(e)}function Ln(t){this.camera=t,this.bias=0,this.radius=1,this.mapSize=new i(512,512),this.map=null,this.matrix=new h}function In(){Ln.call(this,new Nt(50,1,.5,500))}function Dn(t,e,n,r,i,a){An.call(this,t,e),this.type="SpotLight",this.position.copy(ct.DefaultUp),this.updateMatrix(),this.target=new ct,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==a?a:1,this.shadow=new In}function Nn(t,e,n,r){An.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new Ln(new Nt(90,1,.5,500))}function zn(){Ln.call(this,new zt(-5,5,5,-5,.5,500))}function Bn(t,e){An.call(this,t,e),this.type="DirectionalLight",this.position.copy(ct.DefaultUp),this.updateMatrix(),this.target=new ct,this.shadow=new zn}function Fn(t,e){An.call(this,t,e),this.type="AmbientLight",this.castShadow=void 0}function Un(t,e,n,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new e.constructor(n),this.sampleValues=e,this.valueSize=n}function jn(t,e,n,r){Un.call(this,t,e,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Wn(t,e,n,r){Un.call(this,t,e,n,r)}function Gn(t,e,n,r){Un.call(this,t,e,n,r)}function Vn(t,e,n,r){if(void 0===t)throw new Error("track name is undefined");if(void 0===e||0===e.length)throw new Error("no keyframes in track named "+t);this.name=t,this.times=Is.convertArray(e,this.TimeBufferType),this.values=Is.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation),this.validate(),this.optimize()}function Hn(t,e,n,r){Vn.call(this,t,e,n,r)}function Yn(t,e,n,r){Un.call(this,t,e,n,r)}function qn(t,e,n,r){Vn.call(this,t,e,n,r)}function Xn(t,e,n,r){Vn.call(this,t,e,n,r)}function Zn(t,e,n,r){Vn.call(this,t,e,n,r)}function Kn(t,e,n){Vn.call(this,t,e,n)}function Jn(t,e,n,r){Vn.call(this,t,e,n,r)}function Qn(t,e,n,r){Vn.apply(this,arguments)}function $n(t,e,n){this.name=t,this.tracks=n,this.duration=void 0!==e?e:-1,this.uuid=fs.generateUUID(),this.duration<0&&this.resetDuration(),this.optimize()}function tr(t){this.manager=void 0!==t?t:Ls,this.textures={}}function er(t){this.manager=void 0!==t?t:Ls}function nr(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}}function rr(t){"boolean"==typeof t&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),t=void 0),this.manager=void 0!==t?t:Ls,this.withCredentials=!1}function ir(t){this.manager=void 0!==t?t:Ls,this.texturePath=""}function ar(t,e,n,r,i){var a=.5*(r-e),o=.5*(i-n),s=t*t;return(2*n-2*r+a+o)*(t*s)+(-3*n+3*r-2*a-o)*s+a*t+n}function or(t,e){var n=1-t;return n*n*e}function sr(t,e){return 2*(1-t)*t*e}function lr(t,e){return t*t*e}function ur(t,e,n,r){return or(t,e)+sr(t,n)+lr(t,r)}function cr(t,e){var n=1-t;return n*n*n*e}function hr(t,e){var n=1-t;return 3*n*n*t*e}function dr(t,e){return 3*(1-t)*t*t*e}function fr(t,e){return t*t*t*e}function pr(t,e,n,r,i){return cr(t,e)+hr(t,n)+dr(t,r)+fr(t,i)}function mr(){}function gr(t,e){this.v1=t,this.v2=e}function vr(){this.curves=[],this.autoClose=!1}function yr(t,e,n,r,i,a,o,s){this.aX=t,this.aY=e,this.xRadius=n,this.yRadius=r,this.aStartAngle=i,this.aEndAngle=a,this.aClockwise=o,this.aRotation=s||0}function br(t){this.points=void 0===t?[]:t}function xr(t,e,n,r){this.v0=t,this.v1=e,this.v2=n,this.v3=r}function _r(t,e,n){this.v0=t,this.v1=e,this.v2=n}function wr(t){vr.call(this),this.currentPoint=new i,t&&this.fromPoints(t)}function Mr(){wr.apply(this,arguments),this.holes=[]}function Sr(){this.subPaths=[],this.currentPath=null}function Er(t){this.data=t}function kr(t){this.manager=void 0!==t?t:Ls}function Tr(t){this.manager=void 0!==t?t:Ls}function Cr(t,e,n,r){An.call(this,t,e),this.type="RectAreaLight",this.position.set(0,1,0),this.updateMatrix(),this.width=void 0!==n?n:10,this.height=void 0!==r?r:10}function Pr(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Nt,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Nt,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function Or(t,e,n){ct.call(this),this.type="CubeCamera";var r=new Nt(90,1,t,e);r.up.set(0,-1,0),r.lookAt(new c(1,0,0)),this.add(r);var i=new Nt(90,1,t,e);i.up.set(0,-1,0),i.lookAt(new c(-1,0,0)),this.add(i);var a=new Nt(90,1,t,e);a.up.set(0,0,1),a.lookAt(new c(0,1,0)),this.add(a);var o=new Nt(90,1,t,e);o.up.set(0,0,-1),o.lookAt(new c(0,-1,0)),this.add(o);var s=new Nt(90,1,t,e);s.up.set(0,-1,0),s.lookAt(new c(0,0,1)),this.add(s);var u=new Nt(90,1,t,e);u.up.set(0,-1,0),u.lookAt(new c(0,0,-1)),this.add(u);var h={format:Po,magFilter:fo,minFilter:fo};this.renderTarget=new l(n,n,h),this.updateCubeMap=function(t,e){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,l=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,n.activeCubeFace=0,t.render(e,r,n),n.activeCubeFace=1,t.render(e,i,n),n.activeCubeFace=2,t.render(e,a,n),n.activeCubeFace=3,t.render(e,o,n),n.activeCubeFace=4,t.render(e,s,n),n.texture.generateMipmaps=l,n.activeCubeFace=5,t.render(e,u,n),t.setRenderTarget(null)}}function Ar(){ct.call(this),this.type="AudioListener",this.context=Bs.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}function Rr(t){ct.call(this),this.type="Audio",this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.loop=!1,this.startTime=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function Lr(t){Rr.call(this,t),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function Ir(t,e){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=void 0!==e?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}function Dr(t,e,n){this.binding=t,this.valueSize=n;var r,i=Float64Array;switch(e){case"quaternion":r=this._slerp;break;case"string":case"bool":i=Array,r=this._select;break;default:r=this._lerp}this.buffer=new i(4*n),this._mixBufferRegion=r,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}function Nr(t,e,n){this.path=e,this.parsedPath=n||Nr.parseTrackName(e),this.node=Nr.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}function zr(t){this.uuid=fs.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}function Br(t,e,n){this._mixer=t,this._clip=e,this._localRoot=n||null;for(var r=e.tracks,i=r.length,a=new Array(i),o={endingStart:Jo,endingEnd:Jo},s=0;s!==i;++s){var l=r[s].createInterpolant(null);a[s]=l,l.settings=o}this._interpolantSettings=o,this._interpolants=a,this._propertyBindings=new Array(i),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Yo,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Fr(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Ur(t){"string"==typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}function jr(){Pt.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function Wr(t,e,n,r){this.uuid=fs.generateUUID(),this.data=t,this.itemSize=e,this.offset=n,this.normalized=!0===r}function Gr(t,e){this.uuid=fs.generateUUID(),this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function Vr(t,e,n){Gr.call(this,t,e),this.meshPerAttribute=n||1}function Hr(t,e,n){mt.call(this,t,e),this.meshPerAttribute=n||1}function Yr(t,e,n,r){this.ray=new st(t,e),this.near=n||0,this.far=r||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function qr(t,e){return t.distance-e.distance}function Xr(t,e,n,r){if(!1!==t.visible&&(t.raycast(e,n),!0===r))for(var i=t.children,a=0,o=i.length;a<o;a++)Xr(i[a],e,n,!0)}function Zr(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function Kr(t,e,n){return this.radius=void 0!==t?t:1,this.phi=void 0!==e?e:0,this.theta=void 0!==n?n:0,this}function Jr(t,e,n){return this.radius=void 0!==t?t:1,this.theta=void 0!==e?e:0,this.y=void 0!==n?n:0,this}function Qr(t,e){Ot.call(this,t,e),this.animationsMap={},this.animationsList=[];var n=this.geometry.morphTargets.length,r=n-1,i=n/1;this.createAnimation("__default",0,r,i),this.setAnimationWeight("__default",1)}function $r(t){ct.call(this),this.material=t,this.render=function(t){}}function ti(t,e,n,r){this.object=t,this.size=void 0!==e?e:1;var i=void 0!==n?n:16711680,a=void 0!==r?r:1,o=0,s=this.object.geometry;s&&s.isGeometry?o=3*s.faces.length:s&&s.isBufferGeometry&&(o=s.attributes.normal.count);var l=new Pt,u=new Mt(2*o*3,3);l.addAttribute("position",u),Me.call(this,l,new _e({color:i,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}function ei(t){ct.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1;for(var e=new Pt,n=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],r=0,i=1;r<32;r++,i++){var a=r/32*Math.PI*2,o=i/32*Math.PI*2;n.push(Math.cos(a),Math.sin(a),1,Math.cos(o),Math.sin(o),1)}e.addAttribute("position",new Mt(n,3));var s=new _e({fog:!1});this.cone=new Me(e,s),this.add(this.cone),this.update()}function ni(t){this.bones=this.getBoneList(t);for(var e=new Pt,n=[],r=[],i=new q(0,0,1),a=new q(0,1,0),o=0;o<this.bones.length;o++){var s=this.bones[o];s.parent&&s.parent.isBone&&(n.push(0,0,0),n.push(0,0,0),r.push(i.r,i.g,i.b),r.push(a.r,a.g,a.b))}e.addAttribute("position",new Mt(n,3)),e.addAttribute("color",new Mt(r,3));var l=new _e({vertexColors:fa,depthTest:!1,depthWrite:!1,transparent:!0});Me.call(this,e,l),this.root=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function ri(t,e){this.light=t,this.light.updateMatrixWorld();var n=new $e(e,4,2),r=new pt({wireframe:!0,fog:!1});r.color.copy(this.light.color).multiplyScalar(this.light.intensity),Ot.call(this,n,r),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1}function ii(t){ct.call(this),this.light=t,this.light.updateMatrixWorld();var e=new pt({color:t.color,fog:!1}),n=new pt({color:t.color,fog:!1,wireframe:!0}),r=new Pt;r.addAttribute("position",new mt(new Float32Array(18),3)),this.add(new Ot(r,e)),this.add(new Ot(r,n)),this.update()}function ai(t,e){ct.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1;var n=new Fe(e);n.rotateY(.5*Math.PI);var r=new pt({vertexColors:fa,wireframe:!0}),i=n.getAttribute("position"),a=new Float32Array(3*i.count);n.addAttribute("color",new mt(a,3)),this.add(new Ot(n,r)),this.update()}function oi(t,e,n,r){t=t||10,e=e||10,n=new q(void 0!==n?n:4473924),r=new q(void 0!==r?r:8947848);for(var i=e/2,a=t/e,o=t/2,s=[],l=[],u=0,c=0,h=-o;u<=e;u++,h+=a){s.push(-o,0,h,o,0,h),s.push(h,0,-o,h,0,o);var d=u===i?n:r;d.toArray(l,c),c+=3,d.toArray(l,c),c+=3,d.toArray(l,c),c+=3,d.toArray(l,c),c+=3}var f=new Pt;f.addAttribute("position",new Mt(s,3)),f.addAttribute("color",new Mt(l,3));var p=new _e({vertexColors:fa});Me.call(this,f,p)}function si(t,e,n,r,i,a){t=t||10,e=e||16,n=n||8,r=r||64,i=new q(void 0!==i?i:4473924),a=new q(void 0!==a?a:8947848);var o,s,l,u,c,h,d,f=[],p=[];for(u=0;u<=e;u++)l=u/e*(2*Math.PI),o=Math.sin(l)*t,s=Math.cos(l)*t,f.push(0,0,0),f.push(o,0,s),d=1&u?i:a,p.push(d.r,d.g,d.b),p.push(d.r,d.g,d.b);for(u=0;u<=n;u++)for(d=1&u?i:a,h=t-t/n*u,c=0;c<r;c++)l=c/r*(2*Math.PI),o=Math.sin(l)*h,s=Math.cos(l)*h,f.push(o,0,s),p.push(d.r,d.g,d.b),l=(c+1)/r*(2*Math.PI),o=Math.sin(l)*h,s=Math.cos(l)*h,f.push(o,0,s),p.push(d.r,d.g,d.b);var m=new Pt;m.addAttribute("position",new Mt(f,3)),m.addAttribute("color",new Mt(p,3));var g=new _e({vertexColors:fa});Me.call(this,m,g)}function li(t,e,n,r){this.object=t,this.size=void 0!==e?e:1;var i=void 0!==n?n:16776960,a=void 0!==r?r:1,o=0,s=this.object.geometry;s&&s.isGeometry?o=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var l=new Pt,u=new Mt(2*o*3,3);l.addAttribute("position",u),Me.call(this,l,new _e({color:i,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}function ui(t,e){ct.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,void 0===e&&(e=1);var n=new Pt;n.addAttribute("position",new Mt([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));var r=new _e({fog:!1});this.add(new we(n,r)),n=new Pt,n.addAttribute("position",new Mt([0,0,0,0,0,1],3)),this.add(new we(n,r)),this.update()}function ci(t){function e(t,e,r){n(t,r),n(e,r)}function n(t,e){a.push(0,0,0),o.push(e.r,e.g,e.b),void 0===s[t]&&(s[t]=[]),s[t].push(a.length/3-1)}var r=new Pt,i=new _e({color:16777215,vertexColors:da}),a=[],o=[],s={},l=new q(16755200),u=new q(16711680),c=new q(43775),h=new q(16777215),d=new q(3355443);e("n1","n2",l),e("n2","n4",l),e("n4","n3",l),e("n3","n1",l),e("f1","f2",l),e("f2","f4",l),e("f4","f3",l),e("f3","f1",l),e("n1","f1",l),e("n2","f2",l),e("n3","f3",l),e("n4","f4",l),e("p","n1",u),e("p","n2",u),e("p","n3",u),e("p","n4",u),e("u1","u2",c),e("u2","u3",c),e("u3","u1",c),e("c","t",h),e("p","c",d),e("cn1","cn2",d),e("cn3","cn4",d),e("cf1","cf2",d),e("cf3","cf4",d),r.addAttribute("position",new Mt(a,3)),r.addAttribute("color",new Mt(o,3)),Me.call(this,r,i),this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update()}function hi(t,e){void 0===e&&(e=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new Pt;i.setIndex(new mt(n,1)),i.addAttribute("position",new mt(r,3)),Me.call(this,i,new _e({color:e})),void 0!==t&&this.update(t)}function di(t,e,n,r,i,a){ct.call(this),void 0===r&&(r=16776960),void 0===n&&(n=1),void 0===i&&(i=.2*n),void 0===a&&(a=.2*i),void 0===Fs&&(Fs=new Pt,Fs.addAttribute("position",new Mt([0,0,0,0,1,0],3)),Us=new un(0,.5,1,5,1),Us.translate(0,-.5,0)),this.position.copy(e),this.line=new we(Fs,new _e({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ot(Us,new pt({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(n,i,a)}function fi(t){t=t||1;var e=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Pt;r.addAttribute("position",new Mt(e,3)),r.addAttribute("color",new Mt(n,3));var i=new _e({vertexColors:fa});Me.call(this,r,i)}function pi(){function t(t,a,o,s){e=t,n=o,r=-3*t+3*a-2*o-s,i=2*t-2*a+o+s}var e=0,n=0,r=0,i=0;return{initCatmullRom:function(e,n,r,i,a){t(n,r,a*(r-e),a*(i-n))},initNonuniformCatmullRom:function(e,n,r,i,a,o,s){var l=(n-e)/a-(r-e)/(a+o)+(r-n)/o,u=(r-n)/o-(i-n)/(o+s)+(i-r)/s;l*=o,u*=o,t(n,r,l,u)},calc:function(t){var a=t*t;return e+n*t+r*a+i*(a*t)}}}function mi(t){this.points=t||[],this.closed=!1}function gi(t,e,n,r){this.v0=t,this.v1=e,this.v2=n,this.v3=r}function vi(t,e,n){this.v0=t,this.v1=e,this.v2=n}function yi(t,e){this.v1=t,this.v2=e}function bi(t,e,n,r,i,a){yr.call(this,t,e,n,n,r,i,a)}function xi(t,e,n,r,i,a,o){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new ft(t,e,n,i,a,o)}function _i(t){return console.warn("THREE.MeshFaceMaterial has been renamed to THREE.MultiMaterial."),new gn(t)}function wi(t,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Ee(t,e)}function Mi(t){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new ge(t)}function Si(t,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Ee(t,e)}function Ei(t){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Se(t)}function ki(t){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Se(t)}function Ti(t){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Se(t)}function Ci(t,e,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new c(t,e,n)}function Pi(t,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new mt(t,e).setDynamic(!0)}function Oi(t,e){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new gt(t,e)}function Ai(t,e){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new vt(t,e)}function Ri(t,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new yt(t,e)}function Li(t,e){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new bt(t,e)}function Ii(t,e){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new xt(t,e)}function Di(t,e){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new _t(t,e)}function Ni(t,e){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new wt(t,e)}function zi(t,e){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new Mt(t,e)}function Bi(t,e){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new St(t,e)}function Fi(t){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),mi.call(this,t),this.type="catmullrom",this.closed=!0}function Ui(t){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),mi.call(this,t),this.type="catmullrom"}function ji(t){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),mi.call(this,t),this.type="catmullrom"}function Wi(t,e){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new hi(t,e)}function Gi(t,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Me(new sn(t.geometry),new _e({color:void 0!==e?e:16777215}))}function Vi(t,e){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Me(new Ae(t.geometry),new _e({color:void 0!==e?e:16777215}))}function Hi(t){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new En(t)}function Yi(t){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new Tn(t)}function qi(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(t,e){console.warn("THREE.Projector: .projectVector() is now vector.project()."),t.project(e)},this.unprojectVector=function(t,e){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),t.unproject(e)},this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}}function Xi(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),this.domElement=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"WebGLRenderTargetCube",function(){return l}),n.d(e,"WebGLRenderTarget",function(){return s}),n.d(e,"WebGLRenderer",function(){return ce}),n.d(e,"ShaderLib",function(){return Ss}),n.d(e,"UniformsLib",function(){return Ms}),n.d(e,"UniformsUtils",function(){return xs}),n.d(e,"ShaderChunk",function(){return _s}),n.d(e,"FogExp2",function(){return he}),n.d(e,"Fog",function(){return de}),n.d(e,"Scene",function(){return fe}),n.d(e,"LensFlare",function(){return pe}),n.d(e,"Sprite",function(){return ge}),n.d(e,"LOD",function(){return ve}),n.d(e,"SkinnedMesh",function(){return xe}),n.d(e,"Skeleton",function(){return ye}),n.d(e,"Bone",function(){return be}),n.d(e,"Mesh",function(){return Ot}),n.d(e,"LineSegments",function(){return Me}),n.d(e,"Line",function(){return we}),n.d(e,"Points",function(){return Ee}),n.d(e,"Group",function(){return ke}),n.d(e,"VideoTexture",function(){return Te}),n.d(e,"DataTexture",function(){return X}),n.d(e,"CompressedTexture",function(){return Ce}),n.d(e,"CubeTexture",function(){return d}),n.d(e,"CanvasTexture",function(){return Pe}),n.d(e,"DepthTexture",function(){return Oe}),n.d(e,"Texture",function(){return a}),n.d(e,"CompressedTextureLoader",function(){return kn}),n.d(e,"DataTextureLoader",function(){return Tn}),n.d(e,"CubeTextureLoader",function(){return Pn}),n.d(e,"TextureLoader",function(){return On}),n.d(e,"ObjectLoader",function(){return ir}),n.d(e,"MaterialLoader",function(){return tr}),n.d(e,"BufferGeometryLoader",function(){return er}),n.d(e,"DefaultLoadingManager",function(){return Ls}),n.d(e,"LoadingManager",function(){return Sn}),n.d(e,"JSONLoader",function(){return rr}),n.d(e,"ImageLoader",function(){return Cn}),n.d(e,"FontLoader",function(){return kr}),n.d(e,"FileLoader",function(){return En}),n.d(e,"Loader",function(){return nr}),n.d(e,"Cache",function(){return Rs}),n.d(e,"AudioLoader",function(){return Tr}),n.d(e,"SpotLightShadow",function(){return In}),n.d(e,"SpotLight",function(){return Dn}),n.d(e,"PointLight",function(){return Nn}),n.d(e,"RectAreaLight",function(){return Cr}),n.d(e,"HemisphereLight",function(){return Rn}),n.d(e,"DirectionalLightShadow",function(){return zn}),n.d(e,"DirectionalLight",function(){return Bn}),n.d(e,"AmbientLight",function(){return Fn}),n.d(e,"LightShadow",function(){return Ln}),n.d(e,"Light",function(){return An}),n.d(e,"StereoCamera",function(){return Pr}),n.d(e,"PerspectiveCamera",function(){return Nt}),n.d(e,"OrthographicCamera",function(){return zt}),n.d(e,"CubeCamera",function(){return Or}),n.d(e,"Camera",function(){return Dt}),n.d(e,"AudioListener",function(){return Ar}),n.d(e,"PositionalAudio",function(){return Lr}),n.d(e,"AudioContext",function(){return Bs}),n.d(e,"AudioAnalyser",function(){return Ir}),n.d(e,"Audio",function(){return Rr}),n.d(e,"VectorKeyframeTrack",function(){return Hn}),n.d(e,"StringKeyframeTrack",function(){return Zn}),n.d(e,"QuaternionKeyframeTrack",function(){return qn}),n.d(e,"NumberKeyframeTrack",function(){return Xn}),n.d(e,"ColorKeyframeTrack",function(){return Jn}),n.d(e,"BooleanKeyframeTrack",function(){return Kn}),n.d(e,"PropertyMixer",function(){return Dr}),n.d(e,"PropertyBinding",function(){return Nr}),n.d(e,"KeyframeTrack",function(){return Qn}),n.d(e,"AnimationUtils",function(){return Is}),n.d(e,"AnimationObjectGroup",function(){return zr}),n.d(e,"AnimationMixer",function(){return Fr}),n.d(e,"AnimationClip",function(){return $n}),n.d(e,"Uniform",function(){return Ur}),n.d(e,"InstancedBufferGeometry",function(){return jr}),n.d(e,"BufferGeometry",function(){return Pt}),n.d(e,"GeometryIdCount",function(){return Tt}),n.d(e,"Geometry",function(){return Ct}),n.d(e,"InterleavedBufferAttribute",function(){return Wr}),n.d(e,"InstancedInterleavedBuffer",function(){return Vr}),n.d(e,"InterleavedBuffer",function(){return Gr}),n.d(e,"InstancedBufferAttribute",function(){return Hr}),n.d(e,"Face3",function(){return ft}),n.d(e,"Object3D",function(){return ct}),n.d(e,"Raycaster",function(){return Yr}),n.d(e,"Layers",function(){return ut}),n.d(e,"EventDispatcher",function(){return r}),n.d(e,"Clock",function(){return Zr}),n.d(e,"QuaternionLinearInterpolant",function(){return Yn}),n.d(e,"LinearInterpolant",function(){return Wn}),n.d(e,"DiscreteInterpolant",function(){return Gn}),n.d(e,"CubicInterpolant",function(){return jn}),n.d(e,"Interpolant",function(){return Un}),n.d(e,"Triangle",function(){return dt}),n.d(e,"Math",function(){return fs}),n.d(e,"Spherical",function(){return Kr}),n.d(e,"Cylindrical",function(){return Jr}),n.d(e,"Plane",function(){return it}),n.d(e,"Frustum",function(){return at}),n.d(e,"Sphere",function(){return nt}),n.d(e,"Ray",function(){return st}),n.d(e,"Matrix4",function(){return h}),n.d(e,"Matrix3",function(){return rt}),n.d(e,"Box3",function(){return et}),n.d(e,"Box2",function(){return Z}),n.d(e,"Line3",function(){return ht}),n.d(e,"Euler",function(){return lt}),n.d(e,"Vector4",function(){return o}),n.d(e,"Vector3",function(){return c}),n.d(e,"Vector2",function(){return i}),n.d(e,"Quaternion",function(){return u}),n.d(e,"Color",function(){return q}),n.d(e,"MorphBlendMesh",function(){return Qr}),n.d(e,"ImmediateRenderObject",function(){return $r}),n.d(e,"VertexNormalsHelper",function(){return ti}),n.d(e,"SpotLightHelper",function(){return ei}),n.d(e,"SkeletonHelper",function(){return ni}),n.d(e,"PointLightHelper",function(){return ri}),n.d(e,"RectAreaLightHelper",function(){return ii}),n.d(e,"HemisphereLightHelper",function(){return ai}),n.d(e,"GridHelper",function(){return oi}),n.d(e,"PolarGridHelper",function(){return si}),n.d(e,"FaceNormalsHelper",function(){return li}),n.d(e,"DirectionalLightHelper",function(){return ui}),n.d(e,"CameraHelper",function(){return ci}),n.d(e,"BoxHelper",function(){return hi}),n.d(e,"ArrowHelper",function(){return di}),n.d(e,"AxisHelper",function(){return fi}),n.d(e,"CatmullRomCurve3",function(){return mi}),n.d(e,"CubicBezierCurve3",function(){return gi}),n.d(e,"QuadraticBezierCurve3",function(){return vi}),n.d(e,"LineCurve3",function(){return yi}),n.d(e,"ArcCurve",function(){return bi}),n.d(e,"EllipseCurve",function(){return yr}),n.d(e,"SplineCurve",function(){return br}),n.d(e,"CubicBezierCurve",function(){return xr}),n.d(e,"QuadraticBezierCurve",function(){return _r}),n.d(e,"LineCurve",function(){return gr}),n.d(e,"Shape",function(){return Mr}),n.d(e,"Path",function(){return wr}),n.d(e,"ShapePath",function(){return Sr}),n.d(e,"Font",function(){return Er}),n.d(e,"CurvePath",function(){return vr}),n.d(e,"Curve",function(){return mr}),n.d(e,"ShapeUtils",function(){return Ps}),n.d(e,"SceneUtils",function(){return Hs}),n.d(e,"WireframeGeometry",function(){return Ae}),n.d(e,"ParametricGeometry",function(){return Re}),n.d(e,"ParametricBufferGeometry",function(){return Le}),n.d(e,"TetrahedronGeometry",function(){return Ne}),n.d(e,"TetrahedronBufferGeometry",function(){return ze}),n.d(e,"OctahedronGeometry",function(){return Be}),n.d(e,"OctahedronBufferGeometry",function(){return Fe}),n.d(e,"IcosahedronGeometry",function(){return Ue}),n.d(e,"IcosahedronBufferGeometry",function(){return je}),n.d(e,"DodecahedronGeometry",function(){return We}),n.d(e,"DodecahedronBufferGeometry",function(){return Ge}),n.d(e,"PolyhedronGeometry",function(){return Ie}),n.d(e,"PolyhedronBufferGeometry",function(){return De}),n.d(e,"TubeGeometry",function(){return Ve}),n.d(e,"TubeBufferGeometry",function(){return He}),n.d(e,"TorusKnotGeometry",function(){return Ye}),n.d(e,"TorusKnotBufferGeometry",function(){return qe}),n.d(e,"TorusGeometry",function(){return Xe}),n.d(e,"TorusBufferGeometry",function(){return Ze}),n.d(e,"TextGeometry",function(){return Je}),n.d(e,"SphereGeometry",function(){return Qe}),n.d(e,"SphereBufferGeometry",function(){return $e}),n.d(e,"RingGeometry",function(){return tn}),n.d(e,"RingBufferGeometry",function(){return en}),n.d(e,"PlaneGeometry",function(){return Lt}),n.d(e,"PlaneBufferGeometry",function(){return It}),n.d(e,"LatheGeometry",function(){return nn}),n.d(e,"LatheBufferGeometry",function(){return rn}),n.d(e,"ShapeGeometry",function(){return an}),n.d(e,"ShapeBufferGeometry",function(){return on}),n.d(e,"ExtrudeGeometry",function(){return Ke}),n.d(e,"EdgesGeometry",function(){return sn}),n.d(e,"ConeGeometry",function(){return cn}),n.d(e,"ConeBufferGeometry",function(){return hn}),n.d(e,"CylinderGeometry",function(){return ln}),n.d(e,"CylinderBufferGeometry",function(){return un}),n.d(e,"CircleGeometry",function(){return dn}),n.d(e,"CircleBufferGeometry",function(){return fn}),n.d(e,"BoxGeometry",function(){return At}),n.d(e,"BoxBufferGeometry",function(){return Rt}),n.d(e,"ShadowMaterial",function(){return pn}),n.d(e,"SpriteMaterial",function(){return me}),n.d(e,"RawShaderMaterial",function(){return mn}),n.d(e,"ShaderMaterial",function(){return $}),n.d(e,"PointsMaterial",function(){return Se}),n.d(e,"MultiMaterial",function(){return gn}),n.d(e,"MeshPhysicalMaterial",function(){return yn}),n.d(e,"MeshStandardMaterial",function(){return vn}),n.d(e,"MeshPhongMaterial",function(){return bn});n.d(e,"MeshToonMaterial",function(){return xn}),n.d(e,"MeshNormalMaterial",function(){return _n}),n.d(e,"MeshLambertMaterial",function(){return wn}),n.d(e,"MeshDepthMaterial",function(){return tt}),n.d(e,"MeshBasicMaterial",function(){return pt}),n.d(e,"LineDashedMaterial",function(){return Mn}),n.d(e,"LineBasicMaterial",function(){return _e}),n.d(e,"Material",function(){return Q}),n.d(e,"Float64BufferAttribute",function(){return St}),n.d(e,"Float32BufferAttribute",function(){return Mt}),n.d(e,"Uint32BufferAttribute",function(){return wt}),n.d(e,"Int32BufferAttribute",function(){return _t}),n.d(e,"Uint16BufferAttribute",function(){return xt}),n.d(e,"Int16BufferAttribute",function(){return bt}),n.d(e,"Uint8ClampedBufferAttribute",function(){return yt}),n.d(e,"Uint8BufferAttribute",function(){return vt}),n.d(e,"Int8BufferAttribute",function(){return gt}),n.d(e,"BufferAttribute",function(){return mt}),n.d(e,"REVISION",function(){return Zi}),n.d(e,"MOUSE",function(){return Ki}),n.d(e,"CullFaceNone",function(){return Ji}),n.d(e,"CullFaceBack",function(){return Qi}),n.d(e,"CullFaceFront",function(){return $i}),n.d(e,"CullFaceFrontBack",function(){return ta}),n.d(e,"FrontFaceDirectionCW",function(){return ea}),n.d(e,"FrontFaceDirectionCCW",function(){return na}),n.d(e,"BasicShadowMap",function(){return ra}),n.d(e,"PCFShadowMap",function(){return ia}),n.d(e,"PCFSoftShadowMap",function(){return aa}),n.d(e,"FrontSide",function(){return oa}),n.d(e,"BackSide",function(){return sa}),n.d(e,"DoubleSide",function(){return la}),n.d(e,"FlatShading",function(){return ua}),n.d(e,"SmoothShading",function(){return ca}),n.d(e,"NoColors",function(){return ha}),n.d(e,"FaceColors",function(){return da}),n.d(e,"VertexColors",function(){return fa}),n.d(e,"NoBlending",function(){return pa}),n.d(e,"NormalBlending",function(){return ma}),n.d(e,"AdditiveBlending",function(){return ga}),n.d(e,"SubtractiveBlending",function(){return va}),n.d(e,"MultiplyBlending",function(){return ya}),n.d(e,"CustomBlending",function(){return ba}),n.d(e,"AddEquation",function(){return xa}),n.d(e,"SubtractEquation",function(){return _a}),n.d(e,"ReverseSubtractEquation",function(){return wa}),n.d(e,"MinEquation",function(){return Ma}),n.d(e,"MaxEquation",function(){return Sa}),n.d(e,"ZeroFactor",function(){return Ea}),n.d(e,"OneFactor",function(){return ka}),n.d(e,"SrcColorFactor",function(){return Ta}),n.d(e,"OneMinusSrcColorFactor",function(){return Ca}),n.d(e,"SrcAlphaFactor",function(){return Pa}),n.d(e,"OneMinusSrcAlphaFactor",function(){return Oa}),n.d(e,"DstAlphaFactor",function(){return Aa}),n.d(e,"OneMinusDstAlphaFactor",function(){return Ra}),n.d(e,"DstColorFactor",function(){return La}),n.d(e,"OneMinusDstColorFactor",function(){return Ia}),n.d(e,"SrcAlphaSaturateFactor",function(){return Da}),n.d(e,"NeverDepth",function(){return Na}),n.d(e,"AlwaysDepth",function(){return za}),n.d(e,"LessDepth",function(){return Ba}),n.d(e,"LessEqualDepth",function(){return Fa}),n.d(e,"EqualDepth",function(){return Ua}),n.d(e,"GreaterEqualDepth",function(){return ja}),n.d(e,"GreaterDepth",function(){return Wa}),n.d(e,"NotEqualDepth",function(){return Ga}),n.d(e,"MultiplyOperation",function(){return Va}),n.d(e,"MixOperation",function(){return Ha}),n.d(e,"AddOperation",function(){return Ya}),n.d(e,"NoToneMapping",function(){return qa}),n.d(e,"LinearToneMapping",function(){return Xa}),n.d(e,"ReinhardToneMapping",function(){return Za}),n.d(e,"Uncharted2ToneMapping",function(){return Ka}),n.d(e,"CineonToneMapping",function(){return Ja}),n.d(e,"UVMapping",function(){return Qa}),n.d(e,"CubeReflectionMapping",function(){return $a}),n.d(e,"CubeRefractionMapping",function(){return to}),n.d(e,"EquirectangularReflectionMapping",function(){return eo}),n.d(e,"EquirectangularRefractionMapping",function(){return no}),n.d(e,"SphericalReflectionMapping",function(){return ro}),n.d(e,"CubeUVReflectionMapping",function(){return io}),n.d(e,"CubeUVRefractionMapping",function(){return ao}),n.d(e,"RepeatWrapping",function(){return oo}),n.d(e,"ClampToEdgeWrapping",function(){return so}),n.d(e,"MirroredRepeatWrapping",function(){return lo}),n.d(e,"NearestFilter",function(){return uo}),n.d(e,"NearestMipMapNearestFilter",function(){return co}),n.d(e,"NearestMipMapLinearFilter",function(){return ho}),n.d(e,"LinearFilter",function(){return fo}),n.d(e,"LinearMipMapNearestFilter",function(){return po}),n.d(e,"LinearMipMapLinearFilter",function(){return mo}),n.d(e,"UnsignedByteType",function(){return go}),n.d(e,"ByteType",function(){return vo}),n.d(e,"ShortType",function(){return yo}),n.d(e,"UnsignedShortType",function(){return bo}),n.d(e,"IntType",function(){return xo}),n.d(e,"UnsignedIntType",function(){return _o}),n.d(e,"FloatType",function(){return wo}),n.d(e,"HalfFloatType",function(){return Mo}),n.d(e,"UnsignedShort4444Type",function(){return So}),n.d(e,"UnsignedShort5551Type",function(){return Eo}),n.d(e,"UnsignedShort565Type",function(){return ko}),n.d(e,"UnsignedInt248Type",function(){return To}),n.d(e,"AlphaFormat",function(){return Co}),n.d(e,"RGBFormat",function(){return Po}),n.d(e,"RGBAFormat",function(){return Oo}),n.d(e,"LuminanceFormat",function(){return Ao}),n.d(e,"LuminanceAlphaFormat",function(){return Ro}),n.d(e,"RGBEFormat",function(){return Lo}),n.d(e,"DepthFormat",function(){return Io}),n.d(e,"DepthStencilFormat",function(){return Do}),n.d(e,"RGB_S3TC_DXT1_Format",function(){return No}),n.d(e,"RGBA_S3TC_DXT1_Format",function(){return zo}),n.d(e,"RGBA_S3TC_DXT3_Format",function(){return Bo}),n.d(e,"RGBA_S3TC_DXT5_Format",function(){return Fo}),n.d(e,"RGB_PVRTC_4BPPV1_Format",function(){return Uo}),n.d(e,"RGB_PVRTC_2BPPV1_Format",function(){return jo}),n.d(e,"RGBA_PVRTC_4BPPV1_Format",function(){return Wo}),n.d(e,"RGBA_PVRTC_2BPPV1_Format",function(){return Go}),n.d(e,"RGB_ETC1_Format",function(){return Vo}),n.d(e,"LoopOnce",function(){return Ho}),n.d(e,"LoopRepeat",function(){return Yo}),n.d(e,"LoopPingPong",function(){return qo}),n.d(e,"InterpolateDiscrete",function(){return Xo}),n.d(e,"InterpolateLinear",function(){return Zo}),n.d(e,"InterpolateSmooth",function(){return Ko}),n.d(e,"ZeroCurvatureEnding",function(){return Jo}),n.d(e,"ZeroSlopeEnding",function(){return Qo}),n.d(e,"WrapAroundEnding",function(){return $o}),n.d(e,"TrianglesDrawMode",function(){return ts}),n.d(e,"TriangleStripDrawMode",function(){return es}),n.d(e,"TriangleFanDrawMode",function(){return ns}),n.d(e,"LinearEncoding",function(){return rs}),n.d(e,"sRGBEncoding",function(){return is}),n.d(e,"GammaEncoding",function(){return as}),n.d(e,"RGBEEncoding",function(){return os}),n.d(e,"LogLuvEncoding",function(){return ss}),n.d(e,"RGBM7Encoding",function(){return ls}),n.d(e,"RGBM16Encoding",function(){return us}),n.d(e,"RGBDEncoding",function(){return cs}),n.d(e,"BasicDepthPacking",function(){return hs}),n.d(e,"RGBADepthPacking",function(){return ds}),n.d(e,"CubeGeometry",function(){return At}),n.d(e,"Face4",function(){return xi}),n.d(e,"LineStrip",function(){return Ys}),n.d(e,"LinePieces",function(){return qs}),n.d(e,"MeshFaceMaterial",function(){return _i}),n.d(e,"PointCloud",function(){return wi}),n.d(e,"Particle",function(){return Mi}),n.d(e,"ParticleSystem",function(){return Si}),n.d(e,"PointCloudMaterial",function(){return Ei}),n.d(e,"ParticleBasicMaterial",function(){return ki}),n.d(e,"ParticleSystemMaterial",function(){return Ti}),n.d(e,"Vertex",function(){return Ci}),n.d(e,"DynamicBufferAttribute",function(){return Pi}),n.d(e,"Int8Attribute",function(){return Oi}),n.d(e,"Uint8Attribute",function(){return Ai}),n.d(e,"Uint8ClampedAttribute",function(){return Ri}),n.d(e,"Int16Attribute",function(){return Li}),n.d(e,"Uint16Attribute",function(){return Ii}),n.d(e,"Int32Attribute",function(){return Di}),n.d(e,"Uint32Attribute",function(){return Ni}),n.d(e,"Float32Attribute",function(){return zi}),n.d(e,"Float64Attribute",function(){return Bi}),n.d(e,"ClosedSplineCurve3",function(){return Fi}),n.d(e,"SplineCurve3",function(){return Ui}),n.d(e,"Spline",function(){return ji}),n.d(e,"BoundingBoxHelper",function(){return Wi}),n.d(e,"EdgesHelper",function(){return Gi}),n.d(e,"WireframeHelper",function(){return Vi}),n.d(e,"XHRLoader",function(){return Hi}),n.d(e,"BinaryTextureLoader",function(){return Yi}),n.d(e,"GeometryUtils",function(){return Xs}),n.d(e,"ImageUtils",function(){return Zs}),n.d(e,"Projector",function(){return qi}),n.d(e,"CanvasRenderer",function(){return Xi}),void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Math.sign&&(Math.sign=function(t){return t<0?-1:t>0?1:+t}),void 0===Function.prototype.name&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&function(){Object.assign=function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}}(),r.prototype={addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var n=this._listeners,r=n[t];if(void 0!==r){var i=r.indexOf(e);-1!==i&&r.splice(i,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners,n=e[t.type];if(void 0!==n){t.target=this;var r=[],i=0,a=n.length;for(i=0;i<a;i++)r[i]=n[i];for(i=0;i<a;i++)r[i].call(this,t)}}}};var Zi="84",Ki={LEFT:0,MIDDLE:1,RIGHT:2},Ji=0,Qi=1,$i=2,ta=3,ea=0,na=1,ra=0,ia=1,aa=2,oa=0,sa=1,la=2,ua=1,ca=2,ha=0,da=1,fa=2,pa=0,ma=1,ga=2,va=3,ya=4,ba=5,xa=100,_a=101,wa=102,Ma=103,Sa=104,Ea=200,ka=201,Ta=202,Ca=203,Pa=204,Oa=205,Aa=206,Ra=207,La=208,Ia=209,Da=210,Na=0,za=1,Ba=2,Fa=3,Ua=4,ja=5,Wa=6,Ga=7,Va=0,Ha=1,Ya=2,qa=0,Xa=1,Za=2,Ka=3,Ja=4,Qa=300,$a=301,to=302,eo=303,no=304,ro=305,io=306,ao=307,oo=1e3,so=1001,lo=1002,uo=1003,co=1004,ho=1005,fo=1006,po=1007,mo=1008,go=1009,vo=1010,yo=1011,bo=1012,xo=1013,_o=1014,wo=1015,Mo=1016,So=1017,Eo=1018,ko=1019,To=1020,Co=1021,Po=1022,Oo=1023,Ao=1024,Ro=1025,Lo=Oo,Io=1026,Do=1027,No=2001,zo=2002,Bo=2003,Fo=2004,Uo=2100,jo=2101,Wo=2102,Go=2103,Vo=2151,Ho=2200,Yo=2201,qo=2202,Xo=2300,Zo=2301,Ko=2302,Jo=2400,Qo=2401,$o=2402,ts=0,es=1,ns=2,rs=3e3,is=3001,as=3007,os=3002,ss=3003,ls=3004,us=3005,cs=3006,hs=3200,ds=3201,fs={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var t,e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),n=new Array(36),r=0;return function(){for(var i=0;i<36;i++)8===i||13===i||18===i||23===i?n[i]="-":14===i?n[i]="4":(r<=2&&(r=33554432+16777216*Math.random()|0),t=15&r,r>>=4,n[i]=e[19===i?3&t|8:t]);return n.join("")}}(),clamp:function(t,e,n){return Math.max(e,Math.min(n,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)},lerp:function(t,e,n){return(1-n)*t+n*e},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*fs.DEG2RAD},radToDeg:function(t){return t*fs.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},nearestPowerOfTwo:function(t){return Math.pow(2,Math.round(Math.log(t)/Math.LN2))},nextPowerOfTwo:function(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t}};i.prototype={constructor:i,isVector2:!0,get width(){return this.x},set width(t){this.x=t},get height(){return this.y},set height(t){this.y=t},set:function(t,e){return this.x=t,this.y=e,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t):(this.x=0,this.y=0),this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:function(){var t,e;return function(n,r){return void 0===t&&(t=new i,e=new i),t.set(n,n),e.set(r,r),this.clamp(t,e)}}(),clampLength:function(t,e){var n=this.length();return this.multiplyScalar(Math.max(t,Math.min(e,n))/n)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length())},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},distanceToManhattan:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this},rotateAround:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=this.x-t.x,a=this.y-t.y;return this.x=i*n-a*r+t.x,this.y=i*r+a*n+t.y,this}};var ps=0;a.DEFAULT_IMAGE=void 0,a.DEFAULT_MAPPING=Qa,a.prototype={constructor:a,isTexture:!0,set needsUpdate(t){!0===t&&this.version++},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){if(void 0!==t.textures[this.uuid])return t.textures[this.uuid];var e={metadata:{version:4.4,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var n=this.image;void 0===n.uuid&&(n.uuid=fs.generateUUID()),void 0===t.images[n.uuid]&&(t.images[n.uuid]={uuid:n.uuid,url:function(t){var e;return void 0!==t.toDataURL?e=t:(e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),e.width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0,t.width,t.height)),e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}(n)}),e.image=n.uuid}return t.textures[this.uuid]=e,e},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(this.mapping===Qa){if(t.multiply(this.repeat),t.add(this.offset),t.x<0||t.x>1)switch(this.wrapS){case oo:t.x=t.x-Math.floor(t.x);break;case so:t.x=t.x<0?0:1;break;case lo:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case oo:t.y=t.y-Math.floor(t.y);break;case so:t.y=t.y<0?0:1;break;case lo:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}this.flipY&&(t.y=1-t.y)}}},Object.assign(a.prototype,r.prototype),o.prototype={constructor:o,isVector4:!0,set:function(t,e,n,r){return this.x=t,this.y=e,this.z=n,this.w=r,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t,this.w*=t):(this.x=0,this.y=0,this.z=0,this.w=0),this},applyMatrix4:function(t){var e=this.x,n=this.y,r=this.z,i=this.w,a=t.elements;return this.x=a[0]*e+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*e+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*e+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*e+a[7]*n+a[11]*r+a[15]*i,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,n,r,i,a=t.elements,o=a[0],s=a[4],l=a[8],u=a[1],c=a[5],h=a[9],d=a[2],f=a[6],p=a[10];if(Math.abs(s-u)<.01&&Math.abs(l-d)<.01&&Math.abs(h-f)<.01){if(Math.abs(s+u)<.1&&Math.abs(l+d)<.1&&Math.abs(h+f)<.1&&Math.abs(o+c+p-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;var m=(o+1)/2,g=(c+1)/2,v=(p+1)/2,y=(s+u)/4,b=(l+d)/4,x=(h+f)/4;return m>g&&m>v?m<.01?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(m),r=y/n,i=b/n):g>v?g<.01?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(g),n=y/r,i=x/r):v<.01?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(v),n=b/i,r=x/i),this.set(n,r,i,e),this}var _=Math.sqrt((f-h)*(f-h)+(l-d)*(l-d)+(u-s)*(u-s));return Math.abs(_)<.001&&(_=1),this.x=(f-h)/_,this.y=(l-d)/_,this.z=(u-s)/_,this.w=Math.acos((o+c+p-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:function(){var t,e;return function(n,r){return void 0===t&&(t=new o,e=new o),t.set(n,n,n,n),e.set(r,r,r,r),this.clamp(t,e)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}},s.prototype={constructor:s,isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}},Object.assign(s.prototype,r.prototype),l.prototype=Object.create(s.prototype),l.prototype.constructor=l,l.prototype.isWebGLRenderTargetCube=!0,u.prototype={constructor:u,get x(){return this._x},set x(t){this._x=t,this.onChangeCallback()},get y(){return this._y},set y(t){this._y=t,this.onChangeCallback()},get z(){return this._z},set z(t){this._z=t,this.onChangeCallback()},get w(){return this._w},set w(t){this._w=t,this.onChangeCallback()},set:function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,e){if(!1===(t&&t.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=Math.cos(t._x/2),r=Math.cos(t._y/2),i=Math.cos(t._z/2),a=Math.sin(t._x/2),o=Math.sin(t._y/2),s=Math.sin(t._z/2),l=t.order;return"XYZ"===l?(this._x=a*r*i+n*o*s,this._y=n*o*i-a*r*s,this._z=n*r*s+a*o*i,this._w=n*r*i-a*o*s):"YXZ"===l?(this._x=a*r*i+n*o*s,this._y=n*o*i-a*r*s,this._z=n*r*s-a*o*i,this._w=n*r*i+a*o*s):"ZXY"===l?(this._x=a*r*i-n*o*s,this._y=n*o*i+a*r*s,this._z=n*r*s+a*o*i,this._w=n*r*i-a*o*s):"ZYX"===l?(this._x=a*r*i-n*o*s,this._y=n*o*i+a*r*s,this._z=n*r*s-a*o*i,this._w=n*r*i+a*o*s):"YZX"===l?(this._x=a*r*i+n*o*s,this._y=n*o*i+a*r*s,this._z=n*r*s-a*o*i,this._w=n*r*i-a*o*s):"XZY"===l&&(this._x=a*r*i-n*o*s,this._y=n*o*i-a*r*s,this._z=n*r*s+a*o*i,this._w=n*r*i+a*o*s),!1!==e&&this.onChangeCallback(),this},setFromAxisAngle:function(t,e){var n=e/2,r=Math.sin(n);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var e,n=t.elements,r=n[0],i=n[4],a=n[8],o=n[1],s=n[5],l=n[9],u=n[2],c=n[6],h=n[10],d=r+s+h;return d>0?(e=.5/Math.sqrt(d+1),this._w=.25/e,this._x=(c-l)*e,this._y=(a-u)*e,this._z=(o-i)*e):r>s&&r>h?(e=2*Math.sqrt(1+r-s-h),this._w=(c-l)/e,this._x=.25*e,this._y=(i+o)/e,this._z=(a+u)/e):s>h?(e=2*Math.sqrt(1+s-r-h),this._w=(a-u)/e,this._x=(i+o)/e,this._y=.25*e,this._z=(l+c)/e):(e=2*Math.sqrt(1+h-r-s),this._w=(o-i)/e,this._x=(a+u)/e,this._y=(l+c)/e,this._z=.25*e),this.onChangeCallback(),this},setFromUnitVectors:function(){var t,e;return function(n,r){return void 0===t&&(t=new c),e=n.dot(r)+1,e<1e-6?(e=0,Math.abs(n.x)>Math.abs(n.z)?t.set(-n.y,n.x,0):t.set(0,-n.z,n.y)):t.crossVectors(n,r),this._x=t.x,this._y=t.y,this._z=t.z,this._w=e,this.normalize()}}(),inverse:function(){return this.conjugate().normalize()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,e){var n=t._x,r=t._y,i=t._z,a=t._w,o=e._x,s=e._y,l=e._z,u=e._w;return this._x=n*u+a*o+r*l-i*s,this._y=r*u+a*s+i*o-n*l,this._z=i*u+a*l+n*s-r*o,this._w=a*u-n*o-r*s-i*l,this.onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var n=this._x,r=this._y,i=this._z,a=this._w,o=a*t._w+n*t._x+r*t._y+i*t._z;if(o<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,o=-o):this.copy(t),o>=1)return this._w=a,this._x=n,this._y=r,this._z=i,this;var s=Math.sqrt(1-o*o);if(Math.abs(s)<.001)return this._w=.5*(a+this._w),this._x=.5*(n+this._x),this._y=.5*(r+this._y),this._z=.5*(i+this._z),this;var l=Math.atan2(s,o),u=Math.sin((1-e)*l)/s,c=Math.sin(e*l)/s;return this._w=a*u+this._w*c,this._x=n*u+this._x*c,this._y=r*u+this._y*c,this._z=i*u+this._z*c,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}},Object.assign(u,{slerp:function(t,e,n,r){return n.copy(t).slerp(e,r)},slerpFlat:function(t,e,n,r,i,a,o){var s=n[r+0],l=n[r+1],u=n[r+2],c=n[r+3],h=i[a+0],d=i[a+1],f=i[a+2],p=i[a+3];if(c!==p||s!==h||l!==d||u!==f){var m=1-o,g=s*h+l*d+u*f+c*p,v=g>=0?1:-1,y=1-g*g;if(y>Number.EPSILON){var b=Math.sqrt(y),x=Math.atan2(b,g*v);m=Math.sin(m*x)/b,o=Math.sin(o*x)/b}var _=o*v;if(s=s*m+h*_,l=l*m+d*_,u=u*m+f*_,c=c*m+p*_,m===1-o){var w=1/Math.sqrt(s*s+l*l+u*u+c*c);s*=w,l*=w,u*=w,c*=w}}t[e]=s,t[e+1]=l,t[e+2]=u,t[e+3]=c}}),c.prototype={constructor:c,isVector3:!0,set:function(t,e,n){return this.x=t,this.y=e,this.z=n,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t):(this.x=0,this.y=0,this.z=0),this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:function(){var t;return function(e){return!1===(e&&e.isEuler)&&console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),void 0===t&&(t=new u),this.applyQuaternion(t.setFromEuler(e))}}(),applyAxisAngle:function(){var t;return function(e,n){return void 0===t&&(t=new u),this.applyQuaternion(t.setFromAxisAngle(e,n))}}(),applyMatrix3:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6]*r,this.y=i[1]*e+i[4]*n+i[7]*r,this.z=i[2]*e+i[5]*n+i[8]*r,this},applyMatrix4:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;this.x=i[0]*e+i[4]*n+i[8]*r+i[12],this.y=i[1]*e+i[5]*n+i[9]*r+i[13],this.z=i[2]*e+i[6]*n+i[10]*r+i[14];var a=i[3]*e+i[7]*n+i[11]*r+i[15];return this.divideScalar(a)},applyQuaternion:function(t){var e=this.x,n=this.y,r=this.z,i=t.x,a=t.y,o=t.z,s=t.w,l=s*e+a*r-o*n,u=s*n+o*e-i*r,c=s*r+i*n-a*e,h=-i*e-a*n-o*r;return this.x=l*s+h*-i+u*-o-c*-a,this.y=u*s+h*-a+c*-i-l*-o,this.z=c*s+h*-o+l*-a-u*-i,this},project:function(){var t;return function(e){return void 0===t&&(t=new h),t.multiplyMatrices(e.projectionMatrix,t.getInverse(e.matrixWorld)),this.applyMatrix4(t)}}(),unproject:function(){var t;return function(e){return void 0===t&&(t=new h),t.multiplyMatrices(e.matrixWorld,t.getInverse(e.projectionMatrix)),this.applyMatrix4(t)}}(),transformDirection:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[4]*n+i[8]*r,this.y=i[1]*e+i[5]*n+i[9]*r,this.z=i[2]*e+i[6]*n+i[10]*r,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:function(){var t,e;return function(n,r){return void 0===t&&(t=new c,e=new c),t.set(n,n,n),e.set(r,r,r),this.clamp(t,e)}}(),clampLength:function(t,e){var n=this.length();return this.multiplyScalar(Math.max(t,Math.min(e,n))/n)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},cross:function(t,e){if(void 0!==e)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e);var n=this.x,r=this.y,i=this.z;return this.x=r*t.z-i*t.y,this.y=i*t.x-n*t.z,this.z=n*t.y-r*t.x,this},crossVectors:function(t,e){var n=t.x,r=t.y,i=t.z,a=e.x,o=e.y,s=e.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this},projectOnVector:function(t){var e=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(e)},projectOnPlane:function(){var t;return function(e){return void 0===t&&(t=new c),t.copy(this).projectOnVector(e),this.sub(t)}}(),reflect:function(){var t;return function(e){return void 0===t&&(t=new c),this.sub(t.copy(e).multiplyScalar(2*this.dot(e)))}}(),angleTo:function(t){var e=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(fs.clamp(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return e*e+n*n+r*r},distanceToManhattan:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){var e=Math.sin(t.phi)*t.radius;return this.x=e*Math.sin(t.theta),this.y=Math.cos(t.phi)*t.radius,this.z=e*Math.cos(t.theta),this},setFromCylindrical:function(t){return this.x=t.radius*Math.sin(t.theta),this.y=t.y,this.z=t.radius*Math.cos(t.theta),this},setFromMatrixPosition:function(t){return this.setFromMatrixColumn(t,3)},setFromMatrixScale:function(t){var e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=r,this},setFromMatrixColumn:function(t,e){if("number"==typeof t){console.warn("THREE.Vector3: setFromMatrixColumn now expects ( matrix, index ).");var n=t;t=e,e=n}return this.fromArray(t.elements,4*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}},h.prototype={constructor:h,isMatrix4:!0,set:function(t,e,n,r,i,a,o,s,l,u,c,h,d,f,p,m){var g=this.elements;return g[0]=t,g[4]=e,g[8]=n,g[12]=r,g[1]=i,g[5]=a,g[9]=o,g[13]=s,g[2]=l,g[6]=u,g[10]=c,g[14]=h,g[3]=d,g[7]=f,g[11]=p,g[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new h).fromArray(this.elements)},copy:function(t){return this.elements.set(t.elements),this},copyPosition:function(t){var e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this},extractBasis:function(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this},extractRotation:function(){var t;return function(e){void 0===t&&(t=new c);var n=this.elements,r=e.elements,i=1/t.setFromMatrixColumn(e,0).length(),a=1/t.setFromMatrixColumn(e,1).length(),o=1/t.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[4]=r[4]*a,n[5]=r[5]*a,n[6]=r[6]*a,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,this}}(),makeRotationFromEuler:function(t){!1===(t&&t.isEuler)&&console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,n=t.x,r=t.y,i=t.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(r),l=Math.sin(r),u=Math.cos(i),c=Math.sin(i);if("XYZ"===t.order){var h=a*u,d=a*c,f=o*u,p=o*c;e[0]=s*u,e[4]=-s*c,e[8]=l,e[1]=d+f*l,e[5]=h-p*l,e[9]=-o*s,e[2]=p-h*l,e[6]=f+d*l,e[10]=a*s}else if("YXZ"===t.order){var m=s*u,g=s*c,v=l*u,y=l*c;e[0]=m+y*o,e[4]=v*o-g,e[8]=a*l,e[1]=a*c,e[5]=a*u,e[9]=-o,e[2]=g*o-v,e[6]=y+m*o,e[10]=a*s}else if("ZXY"===t.order){var m=s*u,g=s*c,v=l*u,y=l*c;e[0]=m-y*o,e[4]=-a*c,e[8]=v+g*o,e[1]=g+v*o,e[5]=a*u,e[9]=y-m*o,e[2]=-a*l,e[6]=o,e[10]=a*s}else if("ZYX"===t.order){var h=a*u,d=a*c,f=o*u,p=o*c;e[0]=s*u,e[4]=f*l-d,e[8]=h*l+p,e[1]=s*c,e[5]=p*l+h,e[9]=d*l-f,e[2]=-l,e[6]=o*s,e[10]=a*s}else if("YZX"===t.order){var b=a*s,x=a*l,_=o*s,w=o*l;e[0]=s*u,e[4]=w-b*c,e[8]=_*c+x,e[1]=c,e[5]=a*u,e[9]=-o*u,e[2]=-l*u,e[6]=x*c+_,e[10]=b-w*c}else if("XZY"===t.order){var b=a*s,x=a*l,_=o*s,w=o*l;e[0]=s*u,e[4]=-c,e[8]=l*u,e[1]=b*c+w,e[5]=a*u,e[9]=x*c-_,e[2]=_*c-x,e[6]=o*u,e[10]=w*c+b}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:function(t){var e=this.elements,n=t.x,r=t.y,i=t.z,a=t.w,o=n+n,s=r+r,l=i+i,u=n*o,c=n*s,h=n*l,d=r*s,f=r*l,p=i*l,m=a*o,g=a*s,v=a*l;return e[0]=1-(d+p),e[4]=c-v,e[8]=h+g,e[1]=c+v,e[5]=1-(u+p),e[9]=f-m,e[2]=h-g,e[6]=f+m,e[10]=1-(u+d),e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},lookAt:function(){var t,e,n;return function(r,i,a){void 0===t&&(t=new c,e=new c,n=new c);var o=this.elements;return n.subVectors(r,i).normalize(),0===n.lengthSq()&&(n.z=1),t.crossVectors(a,n).normalize(),0===t.lengthSq()&&(n.z+=1e-4,t.crossVectors(a,n).normalize()),e.crossVectors(n,t),o[0]=t.x,o[4]=e.x,o[8]=n.x,o[1]=t.y,o[5]=e.y,o[9]=n.y,o[2]=t.z,o[6]=e.z,o[10]=n.z,this}}(),multiply:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var n=t.elements,r=e.elements,i=this.elements,a=n[0],o=n[4],s=n[8],l=n[12],u=n[1],c=n[5],h=n[9],d=n[13],f=n[2],p=n[6],m=n[10],g=n[14],v=n[3],y=n[7],b=n[11],x=n[15],_=r[0],w=r[4],M=r[8],S=r[12],E=r[1],k=r[5],T=r[9],C=r[13],P=r[2],O=r[6],A=r[10],R=r[14],L=r[3],I=r[7],D=r[11],N=r[15];return i[0]=a*_+o*E+s*P+l*L,i[4]=a*w+o*k+s*O+l*I,i[8]=a*M+o*T+s*A+l*D,i[12]=a*S+o*C+s*R+l*N,i[1]=u*_+c*E+h*P+d*L,i[5]=u*w+c*k+h*O+d*I,i[9]=u*M+c*T+h*A+d*D,i[13]=u*S+c*C+h*R+d*N,i[2]=f*_+p*E+m*P+g*L,i[6]=f*w+p*k+m*O+g*I,i[10]=f*M+p*T+m*A+g*D,i[14]=f*S+p*C+m*R+g*N,i[3]=v*_+y*E+b*P+x*L,i[7]=v*w+y*k+b*O+x*I,i[11]=v*M+y*T+b*A+x*D,i[15]=v*S+y*C+b*R+x*N,this},multiplyToArray:function(t,e,n){var r=this.elements;return this.multiplyMatrices(t,e),n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},applyToBufferAttribute:function(){var t;return function(e){void 0===t&&(t=new c);for(var n=0,r=e.count;n<r;n++)t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.applyMatrix4(this),e.setXYZ(n,t.x,t.y,t.z);return e}}(),determinant:function(){var t=this.elements,e=t[0],n=t[4],r=t[8],i=t[12],a=t[1],o=t[5],s=t[9],l=t[13],u=t[2],c=t[6],h=t[10],d=t[14];return t[3]*(+i*s*c-r*l*c-i*o*h+n*l*h+r*o*d-n*s*d)+t[7]*(+e*s*d-e*l*h+i*a*h-r*a*d+r*l*u-i*s*u)+t[11]*(+e*l*c-e*o*d-i*a*c+n*a*d+i*o*u-n*l*u)+t[15]*(-r*o*u-e*s*c+e*o*h+r*a*c-n*a*h+n*s*u)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(t){var e=this.elements;return e[12]=t.x,e[13]=t.y,e[14]=t.z,this},getInverse:function(t,e){var n=this.elements,r=t.elements,i=r[0],a=r[1],o=r[2],s=r[3],l=r[4],u=r[5],c=r[6],h=r[7],d=r[8],f=r[9],p=r[10],m=r[11],g=r[12],v=r[13],y=r[14],b=r[15],x=f*y*h-v*p*h+v*c*m-u*y*m-f*c*b+u*p*b,_=g*p*h-d*y*h-g*c*m+l*y*m+d*c*b-l*p*b,w=d*v*h-g*f*h+g*u*m-l*v*m-d*u*b+l*f*b,M=g*f*c-d*v*c-g*u*p+l*v*p+d*u*y-l*f*y,S=i*x+a*_+o*w+s*M;if(0===S){var E="THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0";if(!0===e)throw new Error(E);return console.warn(E),this.identity()}var k=1/S;return n[0]=x*k,n[1]=(v*p*s-f*y*s-v*o*m+a*y*m+f*o*b-a*p*b)*k,n[2]=(u*y*s-v*c*s+v*o*h-a*y*h-u*o*b+a*c*b)*k,n[3]=(f*c*s-u*p*s-f*o*h+a*p*h+u*o*m-a*c*m)*k,n[4]=_*k,n[5]=(d*y*s-g*p*s+g*o*m-i*y*m-d*o*b+i*p*b)*k,n[6]=(g*c*s-l*y*s-g*o*h+i*y*h+l*o*b-i*c*b)*k,n[7]=(l*p*s-d*c*s+d*o*h-i*p*h-l*o*m+i*c*m)*k,n[8]=w*k,n[9]=(g*f*s-d*v*s-g*a*m+i*v*m+d*a*b-i*f*b)*k,n[10]=(l*v*s-g*u*s+g*a*h-i*v*h-l*a*b+i*u*b)*k,n[11]=(d*u*s-l*f*s-d*a*h+i*f*h+l*a*m-i*u*m)*k,n[12]=M*k,n[13]=(d*v*o-g*f*o+g*a*p-i*v*p-d*a*y+i*f*y)*k,n[14]=(g*u*o-l*v*o-g*a*c+i*v*c+l*a*y-i*u*y)*k,n[15]=(l*f*o-d*u*o+d*a*c-i*f*c-l*a*p+i*u*p)*k,this},scale:function(t){var e=this.elements,n=t.x,r=t.y,i=t.z;return e[0]*=n,e[4]*=r,e[8]*=i,e[1]*=n,e[5]*=r,e[9]*=i,e[2]*=n,e[6]*=r,e[10]*=i,e[3]*=n,e[7]*=r,e[11]*=i,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,r))},makeTranslation:function(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=1-n,a=t.x,o=t.y,s=t.z,l=i*a,u=i*o;return this.set(l*a+n,l*o-r*s,l*s+r*o,0,l*o+r*s,u*o+n,u*s-r*a,0,l*s-r*o,u*s+r*a,i*s*s+n,0,0,0,0,1),this},makeScale:function(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(t,e,n){return this.set(1,e,n,0,t,1,n,0,t,e,1,0,0,0,0,1),this},compose:function(t,e,n){return this.makeRotationFromQuaternion(e),this.scale(n),this.setPosition(t),this},decompose:function(){var t,e;return function(n,r,i){void 0===t&&(t=new c,e=new h);var a=this.elements,o=t.set(a[0],a[1],a[2]).length(),s=t.set(a[4],a[5],a[6]).length(),l=t.set(a[8],a[9],a[10]).length();this.determinant()<0&&(o=-o),n.x=a[12],n.y=a[13],n.z=a[14],e.elements.set(this.elements);var u=1/o,d=1/s,f=1/l;return e.elements[0]*=u,e.elements[1]*=u,e.elements[2]*=u,e.elements[4]*=d,e.elements[5]*=d,e.elements[6]*=d,e.elements[8]*=f,e.elements[9]*=f,e.elements[10]*=f,r.setFromRotationMatrix(e),i.x=o,i.y=s,i.z=l,this}}(),makePerspective:function(t,e,n,r,i,a){void 0===a&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var o=this.elements,s=2*i/(e-t),l=2*i/(n-r),u=(e+t)/(e-t),c=(n+r)/(n-r),h=-(a+i)/(a-i),d=-2*a*i/(a-i);return o[0]=s,o[4]=0,o[8]=u,o[12]=0,o[1]=0,o[5]=l,o[9]=c,o[13]=0,o[2]=0,o[6]=0,o[10]=h,o[14]=d,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makeOrthographic:function(t,e,n,r,i,a){var o=this.elements,s=1/(e-t),l=1/(n-r),u=1/(a-i),c=(e+t)*s,h=(n+r)*l,d=(a+i)*u;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-c,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-h,o[2]=0,o[6]=0,o[10]=-2*u,o[14]=-d,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},equals:function(t){for(var e=this.elements,n=t.elements,r=0;r<16;r++)if(e[r]!==n[r])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<16;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}},d.prototype=Object.create(a.prototype),d.prototype.constructor=d,d.prototype.isCubeTexture=!0,Object.defineProperty(d.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}});var ms=new a,gs=new d,vs=[],ys=[];G.prototype.setValue=function(t,e){for(var n=this.seq,r=0,i=n.length;r!==i;++r){var a=n[r];a.setValue(t,e[a.id])}};var bs=/([\w\d_]+)(\])?(\[|\.)?/g;Y.prototype.setValue=function(t,e,n){var r=this.map[e];void 0!==r&&r.setValue(t,n,this.renderer)},Y.prototype.set=function(t,e,n){var r=this.map[n];void 0!==r&&r.setValue(t,e[n],this.renderer)},Y.prototype.setOptional=function(t,e,n){var r=e[n];void 0!==r&&this.setValue(t,n,r)},Y.upload=function(t,e,n,r){for(var i=0,a=e.length;i!==a;++i){var o=e[i],s=n[o.id];!1!==s.needsUpdate&&o.setValue(t,s.value,r)}},Y.seqWithValue=function(t,e){for(var n=[],r=0,i=t.length;r!==i;++r){var a=t[r];a.id in e&&n.push(a)}return n};var xs={merge:function(t){for(var e={},n=0;n<t.length;n++){var r=this.clone(t[n]);for(var i in r)e[i]=r[i]}return e},clone:function(t){var e={};for(var n in t){e[n]={};for(var r in t[n]){var i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}},_s={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"\nvec3 transformed = vec3( position );\n",beginnormal_vertex:"\nvec3 objectNormal = vec3( normal );\n",bsdfs:"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t\t}\n\t\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 ltcTextureCoords( const in GeometricContext geometry, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = (LUT_SIZE - 1.0)/LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5/LUT_SIZE;\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 P = geometry.position;\n\tfloat theta = acos( dot( N, V ) );\n\tvec2 uv = vec2(\n\t\tsqrt( saturate( roughness ) ),\n\t\tsaturate( theta / ( 0.5 * PI ) ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nvoid clipQuadToHorizon( inout vec3 L[5], out int n ) {\n\tint config = 0;\n\tif ( L[0].z > 0.0 ) config += 1;\n\tif ( L[1].z > 0.0 ) config += 2;\n\tif ( L[2].z > 0.0 ) config += 4;\n\tif ( L[3].z > 0.0 ) config += 8;\n\tn = 0;\n\tif ( config == 0 ) {\n\t} else if ( config == 1 ) {\n\t\tn = 3;\n\t\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\n\t\tL[2] = -L[3].z * L[0] + L[0].z * L[3];\n\t} else if ( config == 2 ) {\n\t\tn = 3;\n\t\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\n\t\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\n\t} else if ( config == 3 ) {\n\t\tn = 4;\n\t\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\n\t\tL[3] = -L[3].z * L[0] + L[0].z * L[3];\n\t} else if ( config == 4 ) {\n\t\tn = 3;\n\t\tL[0] = -L[3].z * L[2] + L[2].z * L[3];\n\t\tL[1] = -L[1].z * L[2] + L[2].z * L[1];\n\t} else if ( config == 5 ) {\n\t\tn = 0;\n\t} else if ( config == 6 ) {\n\t\tn = 4;\n\t\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\n\t\tL[3] = -L[3].z * L[2] + L[2].z * L[3];\n\t} else if ( config == 7 ) {\n\t\tn = 5;\n\t\tL[4] = -L[3].z * L[0] + L[0].z * L[3];\n\t\tL[3] = -L[3].z * L[2] + L[2].z * L[3];\n\t} else if ( config == 8 ) {\n\t\tn = 3;\n\t\tL[0] = -L[0].z * L[3] + L[3].z * L[0];\n\t\tL[1] = -L[2].z * L[3] + L[3].z * L[2];\n\t\tL[2] =  L[3];\n\t} else if ( config == 9 ) {\n\t\tn = 4;\n\t\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\n\t\tL[2] = -L[2].z * L[3] + L[3].z * L[2];\n\t} else if ( config == 10 ) {\n\t\tn = 0;\n\t} else if ( config == 11 ) {\n\t\tn = 5;\n\t\tL[4] = L[3];\n\t\tL[3] = -L[2].z * L[3] + L[3].z * L[2];\n\t\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\n\t} else if ( config == 12 ) {\n\t\tn = 4;\n\t\tL[1] = -L[1].z * L[2] + L[2].z * L[1];\n\t\tL[0] = -L[0].z * L[3] + L[3].z * L[0];\n\t} else if ( config == 13 ) {\n\t\tn = 5;\n\t\tL[4] = L[3];\n\t\tL[3] = L[2];\n\t\tL[2] = -L[1].z * L[2] + L[2].z * L[1];\n\t\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\n\t} else if ( config == 14 ) {\n\t\tn = 5;\n\t\tL[4] = -L[0].z * L[3] + L[3].z * L[0];\n\t\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\n\t} else if ( config == 15 ) {\n\t\tn = 4;\n\t}\n\tif ( n == 3 )\n\t\tL[3] = L[0];\n\tif ( n == 4 )\n\t\tL[4] = L[0];\n}\nfloat integrateLtcBrdfOverRectEdge( vec3 v1, vec3 v2 ) {\n\tfloat cosTheta = dot( v1, v2 );\n\tfloat theta = acos( cosTheta );\n\tfloat res = cross( v1, v2 ).z * ( ( theta > 0.001 ) ? theta / sin( theta ) : 1.0 );\n\treturn res;\n}\nvoid initRectPoints( const in vec3 pos, const in vec3 halfWidth, const in vec3 halfHeight, out vec3 rectPoints[4] ) {\n\trectPoints[0] = pos - halfWidth - halfHeight;\n\trectPoints[1] = pos + halfWidth - halfHeight;\n\trectPoints[2] = pos + halfWidth + halfHeight;\n\trectPoints[3] = pos - halfWidth + halfHeight;\n}\nvec3 integrateLtcBrdfOverRect( const in GeometricContext geometry, const in mat3 brdfMat, const in vec3 rectPoints[4] ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 P = geometry.position;\n\tvec3 T1, T2;\n\tT1 = normalize(V - N * dot( V, N ));\n\tT2 = - cross( N, T1 );\n\tmat3 brdfWrtSurface = brdfMat * transpose( mat3( T1, T2, N ) );\n\tvec3 clippedRect[5];\n\tclippedRect[0] = brdfWrtSurface * ( rectPoints[0] - P );\n\tclippedRect[1] = brdfWrtSurface * ( rectPoints[1] - P );\n\tclippedRect[2] = brdfWrtSurface * ( rectPoints[2] - P );\n\tclippedRect[3] = brdfWrtSurface * ( rectPoints[3] - P );\n\tint n;\n\tclipQuadToHorizon(clippedRect, n);\n\tif ( n == 0 )\n\t\treturn vec3( 0, 0, 0 );\n\tclippedRect[0] = normalize( clippedRect[0] );\n\tclippedRect[1] = normalize( clippedRect[1] );\n\tclippedRect[2] = normalize( clippedRect[2] );\n\tclippedRect[3] = normalize( clippedRect[3] );\n\tclippedRect[4] = normalize( clippedRect[4] );\n\tfloat sum = 0.0;\n\tsum += integrateLtcBrdfOverRectEdge( clippedRect[0], clippedRect[1] );\n\tsum += integrateLtcBrdfOverRectEdge( clippedRect[1], clippedRect[2] );\n\tsum += integrateLtcBrdfOverRectEdge( clippedRect[2], clippedRect[3] );\n\tif (n >= 4)\n\t\tsum += integrateLtcBrdfOverRectEdge( clippedRect[3], clippedRect[4] );\n\tif (n == 5)\n\t\tsum += integrateLtcBrdfOverRectEdge( clippedRect[4], clippedRect[0] );\n\tsum = max( 0.0, sum );\n\tvec3 Lo_i = vec3( sum, sum, sum );\n\treturn Lo_i;\n}\nvec3 Rect_Area_Light_Specular_Reflectance(\n\t\tconst in GeometricContext geometry,\n\t\tconst in vec3 lightPos, const in vec3 lightHalfWidth, const in vec3 lightHalfHeight,\n\t\tconst in float roughness,\n\t\tconst in sampler2D ltcMat, const in sampler2D ltcMag ) {\n\tvec3 rectPoints[4];\n\tinitRectPoints( lightPos, lightHalfWidth, lightHalfHeight, rectPoints );\n\tvec2 uv = ltcTextureCoords( geometry, roughness );\n\tvec4 brdfLtcApproxParams, t;\n\tbrdfLtcApproxParams = texture2D( ltcMat, uv );\n\tt = texture2D( ltcMat, uv );\n\tfloat brdfLtcScalar = texture2D( ltcMag, uv ).a;\n\tmat3 brdfLtcApproxMat = mat3(\n\t\tvec3(   1,   0, t.y ),\n\t\tvec3(   0, t.z,   0 ),\n\t\tvec3( t.w,   0, t.x )\n\t);\n\tvec3 specularReflectance = integrateLtcBrdfOverRect( geometry, brdfLtcApproxMat, rectPoints );\n\tspecularReflectance *= brdfLtcScalar;\n\treturn specularReflectance;\n}\nvec3 Rect_Area_Light_Diffuse_Reflectance(\n\t\tconst in GeometricContext geometry,\n\t\tconst in vec3 lightPos, const in vec3 lightHalfWidth, const in vec3 lightHalfHeight ) {\n\tvec3 rectPoints[4];\n\tinitRectPoints( lightPos, lightHalfWidth, lightHalfHeight, rectPoints );\n\tmat3 diffuseBrdfMat = mat3(1);\n\tvec3 diffuseReflectance = integrateLtcBrdfOverRect( geometry, diffuseBrdfMat, rectPoints );\n\treturn diffuseReflectance;\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos );\n\t\tvec3 vSigmaY = dFdy( surf_pos );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t\t\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\t\tvec4 plane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t\n\t#endif\n#endif\n",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transpose( const in mat3 v ) {\n\tmat3 tmp;\n\ttmp[0] = vec3(v[0].x, v[1].x, v[2].x);\n\ttmp[1] = vec3(v[0].y, v[1].y, v[2].y);\n\ttmp[2] = vec3(v[0].z, v[1].z, v[2].z);\n\treturn tmp;\n}\n",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",defaultnormal_vertex:"#ifdef FLIP_SIDED\n\tobjectNormal = -objectNormal;\n#endif\nvec3 transformedNormal = normalMatrix * objectNormal;\n",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",encodings_fragment:"  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM            = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat D      = max( maxRange / maxRGB, 1.0 );\n\tD            = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract(Le);\n\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max(vRGB, 0.0), 1.0 );\n}\n",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\tvec3 reflectView = flipNormal * normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",fog_vertex:"\n#ifdef USE_FOG\nfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n  varying float fogDepth;\n#endif\n",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",lights_pars:"uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltcMat;\tuniform sampler2D ltcMag;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = saturate( reflectVec.y * 0.5 + 0.5 );\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_BlinnPhong( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 matDiffColor = material.diffuseColor;\n\t\tvec3 matSpecColor = material.specularColor;\n\t\tvec3 lightColor   = rectAreaLight.color;\n\t\tfloat roughness = BlinnExponentToGGXRoughness( material.specularShininess );\n\t\tvec3 spec = Rect_Area_Light_Specular_Reflectance(\n\t\t\t\tgeometry,\n\t\t\t\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight,\n\t\t\t\troughness,\n\t\t\t\tltcMat, ltcMag );\n\t\tvec3 diff = Rect_Area_Light_Diffuse_Reflectance(\n\t\t\t\tgeometry,\n\t\t\t\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight );\n\t\treflectedLight.directSpecular += lightColor * matSpecColor * spec / PI2;\n\t\treflectedLight.directDiffuse  += lightColor * matDiffColor * diff / PI2;\n\t}\n#endif\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 matDiffColor = material.diffuseColor;\n\t\tvec3 matSpecColor = material.specularColor;\n\t\tvec3 lightColor   = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 spec = Rect_Area_Light_Specular_Reflectance(\n\t\t\t\tgeometry,\n\t\t\t\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight,\n\t\t\t\troughness,\n\t\t\t\tltcMat, ltcMag );\n\t\tvec3 diff = Rect_Area_Light_Diffuse_Reflectance(\n\t\t\t\tgeometry,\n\t\t\t\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight );\n\t\treflectedLight.directSpecular += lightColor * matSpecColor * spec;\n\t\treflectedLight.directDiffuse  += lightColor * matDiffColor * diff;\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",lights_template:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\t#ifndef STANDARD\n\t\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\n\t#else\n\t\tvec3 clearCoatRadiance = vec3( 0.0 );\n\t#endif\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",logdepthbuf_fragment:"#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\t#endif\n#endif\n",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",map_particle_fragment:"#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n#endif\n",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.r;\n#endif\n",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",normal_flip:"#ifdef DOUBLE_SIDED\n\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n#else\n\tfloat flipNormal = 1.0;\n#endif\n",normal_fragment:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal ) * flipNormal;\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 1.0 - 2.0 * rgb.xyz;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",project_vertex:"#ifdef USE_SKINNING\n\tvec4 mvPosition = modelViewMatrix * skinned;\n#else\n\tvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n#endif\ngl_Position = projectionMatrix * mvPosition;\n",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.r;\n#endif\n",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn 1.0;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\tfloat dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureWidth;\n\t\tuniform int boneTextureHeight;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureWidth ) );\n\t\t\tfloat y = floor( j / float( boneTextureWidth ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureWidth );\n\t\t\tfloat dy = 1.0 / float( boneTextureHeight );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\tskinned  = bindMatrixInverse * skinned;\n#endif\n",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",tonemapping_pars_fragment:"#define saturate(a) clamp( a, 0.0, 1.0 )\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n#endif\n",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\t#ifdef USE_SKINNING\n\t\tvec4 worldPosition = modelMatrix * skinned;\n\t#else\n\t\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n\t#endif\n#endif\n",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",cube_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",distanceRGBA_frag:"uniform vec3 lightPos;\nvarying vec4 vWorldPosition;\n#include <common>\n#include <packing>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\n}\n",distanceRGBA_vert:"varying vec4 vWorldPosition;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition;\n}\n",equirect_frag:"uniform sampler2D tEquirect;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",equirect_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",shadow_frag:"uniform float opacity;\n#include <common>\n#include <packing>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( 0.0, 0.0, 0.0, opacity * ( 1.0 - getShadowMask() ) );\n}\n",shadow_vert:"#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n"};q.prototype={constructor:q,isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,n){return this.r=t,this.g=e,this.b=n,this},setHSL:function(){function t(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}return function(e,n,r){if(e=fs.euclideanModulo(e,1),n=fs.clamp(n,0,1),r=fs.clamp(r,0,1),0===n)this.r=this.g=this.b=r;else{var i=r<=.5?r*(1+n):r+n-r*n,a=2*r-i;this.r=t(a,i,e+1/3),this.g=t(a,i,e),this.b=t(a,i,e-1/3)}return this}}(),setStyle:function(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var r,i=n[1],a=n[2];switch(i){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,e(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,e(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){var o=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,l=parseInt(r[3],10)/100;return e(r[5]),this.setHSL(o,s,l)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(t)){var u=n[1],c=u.length;if(3===c)return this.r=parseInt(u.charAt(0)+u.charAt(0),16)/255,this.g=parseInt(u.charAt(1)+u.charAt(1),16)/255,this.b=parseInt(u.charAt(2)+u.charAt(2),16)/255,this;if(6===c)return this.r=parseInt(u.charAt(0)+u.charAt(1),16)/255,this.g=parseInt(u.charAt(2)+u.charAt(3),16)/255,this.b=parseInt(u.charAt(4)+u.charAt(5),16)/255,this}if(t&&t.length>0){var u=ws[t];void 0!==u?this.setHex(u):console.warn("THREE.Color: Unknown color "+t)}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var n=e>0?1/e:1;return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this},convertGammaToLinear:function(){var t=this.r,e=this.g,n=this.b;return this.r=t*t,this.g=e*e,this.b=n*n,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){var e,n,r=t||{h:0,s:0,l:0},i=this.r,a=this.g,o=this.b,s=Math.max(i,a,o),l=Math.min(i,a,o),u=(l+s)/2;if(l===s)e=0,n=0;else{var c=s-l;switch(n=u<=.5?c/(s+l):c/(2-s-l),s){case i:e=(a-o)/c+(a<o?6:0);break;case a:e=(o-i)/c+2;break;case o:e=(i-a)/c+4}e/=6}return r.h=e,r.s=n,r.l=u,r},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(t,e,n){var r=this.getHSL();return r.h+=t,r.s+=e,r.l+=n,this.setHSL(r.h,r.s,r.l),this},add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t},toJSON:function(){return this.getHex()}};var ws={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};X.prototype=Object.create(a.prototype),X.prototype.constructor=X,X.prototype.isDataTexture=!0;var Ms={common:{diffuse:{value:new q(15658734)},opacity:{value:1},map:{value:null},offsetRepeat:{value:new o(0,0,1,1)},specularMap:{value:null},alphaMap:{value:null},envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new i(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new q(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new q(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},offsetRepeat:{value:new o(0,0,1,1)}}},Ss={basic:{uniforms:xs.merge([Ms.common,Ms.aomap,Ms.lightmap,Ms.fog]),vertexShader:_s.meshbasic_vert,fragmentShader:_s.meshbasic_frag},lambert:{uniforms:xs.merge([Ms.common,Ms.aomap,Ms.lightmap,Ms.emissivemap,Ms.fog,Ms.lights,{emissive:{value:new q(0)}}]),vertexShader:_s.meshlambert_vert,fragmentShader:_s.meshlambert_frag},phong:{uniforms:xs.merge([Ms.common,Ms.aomap,Ms.lightmap,Ms.emissivemap,Ms.bumpmap,Ms.normalmap,Ms.displacementmap,Ms.gradientmap,Ms.fog,Ms.lights,{emissive:{value:new q(0)},specular:{value:new q(1118481)},shininess:{value:30}}]),vertexShader:_s.meshphong_vert,fragmentShader:_s.meshphong_frag},standard:{uniforms:xs.merge([Ms.common,Ms.aomap,Ms.lightmap,Ms.emissivemap,Ms.bumpmap,Ms.normalmap,Ms.displacementmap,Ms.roughnessmap,Ms.metalnessmap,Ms.fog,Ms.lights,{emissive:{value:new q(0)},roughness:{value:.5},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:_s.meshphysical_vert,fragmentShader:_s.meshphysical_frag},points:{uniforms:xs.merge([Ms.points,Ms.fog]),vertexShader:_s.points_vert,fragmentShader:_s.points_frag},dashed:{uniforms:xs.merge([Ms.common,Ms.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:_s.linedashed_vert,fragmentShader:_s.linedashed_frag},depth:{uniforms:xs.merge([Ms.common,Ms.displacementmap]),vertexShader:_s.depth_vert,fragmentShader:_s.depth_frag},normal:{uniforms:xs.merge([Ms.common,Ms.bumpmap,Ms.normalmap,Ms.displacementmap,{opacity:{value:1}}]),vertexShader:_s.normal_vert,fragmentShader:_s.normal_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:_s.cube_vert,fragmentShader:_s.cube_frag},equirect:{uniforms:{tEquirect:{value:null},tFlip:{value:-1}},vertexShader:_s.equirect_vert,fragmentShader:_s.equirect_frag},distanceRGBA:{uniforms:{lightPos:{value:new c}},vertexShader:_s.distanceRGBA_vert,fragmentShader:_s.distanceRGBA_frag}};Ss.physical={uniforms:xs.merge([Ss.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:_s.meshphysical_vert,fragmentShader:_s.meshphysical_frag},Z.prototype={constructor:Z,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new i;return function(e,n){var r=t.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(t){var e=t||new i;return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){var e=t||new i;return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,e){return(e||new i).set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,e){return(e||new i).copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new i;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}};var Es=0;Q.prototype={constructor:Q,isMaterial:!0,get needsUpdate(){return this._needsUpdate},set needsUpdate(t){!0===t&&this.update(),this._needsUpdate=t},setValues:function(t){if(void 0!==t)for(var e in t){var n=t[e];if(void 0!==n){var r=this[e];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[e]="overdraw"===e?Number(n):n:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}else console.warn("THREE.Material: '"+e+"' parameter is undefined.")}},toJSON:function(t){function e(t){var e=[];for(var n in t){var r=t[n];delete r.metadata,e.push(r)}return e}var n=void 0===t;n&&(t={textures:{},images:{}});var r={metadata:{version:4.4,type:"Material",generator:"Material.toJSON"}};if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),void 0!==this.roughness&&(r.roughness=this.roughness),void 0!==this.metalness&&(r.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),void 0!==this.shininess&&(r.shininess=this.shininess),void 0!==this.clearCoat&&(r.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(r.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(t).uuid),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(t).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(t).uuid,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(t).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(t).uuid,r.reflectivity=this.reflectivity),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(r.size=this.size),void 0!==this.sizeAttenuation&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==ma&&(r.blending=this.blending),this.shading!==ca&&(r.shading=this.shading),this.side!==oa&&(r.side=this.side),this.vertexColors!==ha&&(r.vertexColors=this.vertexColors),this.opacity<1&&(r.opacity=this.opacity),!0===this.transparent&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,this.alphaTest>0&&(r.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(r.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(r.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(r.wireframeLinejoin=this.wireframeLinejoin),r.skinning=this.skinning,r.morphTargets=this.morphTargets,n){var i=e(t.textures),a=e(t.images);i.length>0&&(r.textures=i),a.length>0&&(r.images=a)}return r},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.lights=t.lights,this.blending=t.blending,this.side=t.side,this.shading=t.shading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.overdraw=t.overdraw,this.visible=t.visible,this.clipShadows=t.clipShadows,this.clipIntersection=t.clipIntersection;var e=t.clippingPlanes,n=null;if(null!==e){var r=e.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=e[i].clone()}return this.clippingPlanes=n,this},update:function(){this.dispatchEvent({type:"update"})},dispose:function(){this.dispatchEvent({type:"dispose"})}},Object.assign(Q.prototype,r.prototype),$.prototype=Object.create(Q.prototype),$.prototype.constructor=$,$.prototype.isShaderMaterial=!0,$.prototype.copy=function(t){return Q.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=xs.clone(t.uniforms),this.defines=t.defines,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=t.extensions,this},$.prototype.toJSON=function(t){var e=Q.prototype.toJSON.call(this,t);return e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e},tt.prototype=Object.create(Q.prototype),tt.prototype.constructor=tt,tt.prototype.isMeshDepthMaterial=!0,tt.prototype.copy=function(t){return Q.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},et.prototype={constructor:et,isBox3:!0,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){for(var e=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,l=t.length;s<l;s+=3){var u=t[s],c=t[s+1],h=t[s+2];u<e&&(e=u),c<n&&(n=c),h<r&&(r=h),u>i&&(i=u),c>a&&(a=c),h>o&&(o=h)}return this.min.set(e,n,r),this.max.set(i,a,o),this},setFromBufferAttribute:function(t){for(var e=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,l=t.count;s<l;s++){var u=t.getX(s),c=t.getY(s),h=t.getZ(s);u<e&&(e=u),c<n&&(n=c),h<r&&(r=h),u>i&&(i=u),c>a&&(a=c),h>o&&(o=h)}return this.min.set(e,n,r),this.max.set(i,a,o),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new c;return function(e,n){var r=t.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}}(),setFromObject:function(t){return this.makeEmpty(),this.expandByObject(t)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){var e=t||new c;return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){var e=t||new c;return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},expandByObject:function(){var t=new c;return function(e){var n=this;return e.updateMatrixWorld(!0),e.traverse(function(e){var r,i,a=e.geometry;if(void 0!==a)if(a.isGeometry){var o=a.vertices;for(r=0,i=o.length;r<i;r++)t.copy(o[r]),t.applyMatrix4(e.matrixWorld),n.expandByPoint(t)}else if(a.isBufferGeometry){var s=a.attributes.position;if(void 0!==s)for(r=0,i=s.count;r<i;r++)t.fromBufferAttribute(s,r).applyMatrix4(e.matrixWorld),n.expandByPoint(t)}}),this}}(),containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){return(e||new c).set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:function(){var t;return function(e){return void 0===t&&(t=new c),this.clampPoint(e.center,t),t.distanceToSquared(e.center)<=e.radius*e.radius}}(),intersectsPlane:function(t){var e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=t.constant&&n>=t.constant},clampPoint:function(t,e){return(e||new c).copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new c;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),getBoundingSphere:function(){var t=new c;return function(e){var n=e||new nt;return this.getCenter(n.center),n.radius=.5*this.getSize(t).length(),n}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:function(){var t=[new c,new c,new c,new c,new c,new c,new c,new c];return function(e){return this.isEmpty()?this:(t[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),t[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),t[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),t[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),t[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),t[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),t[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),t[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(t),this)}}(),translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}},nt.prototype={constructor:nt,set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:function(){var t;return function(e,n){void 0===t&&(t=new et);var r=this.center;void 0!==n?r.copy(n):t.setFromPoints(e).getCenter(r);for(var i=0,a=0,o=e.length;a<o;a++)i=Math.max(i,r.distanceToSquared(e[a]));return this.radius=Math.sqrt(i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(this.center.dot(t.normal)-t.constant)<=this.radius},clampPoint:function(t,e){var n=this.center.distanceToSquared(t),r=e||new c;return r.copy(t),n>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r},getBoundingBox:function(t){var e=t||new et;return e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}},rt.prototype={constructor:rt,isMatrix3:!0,set:function(t,e,n,r,i,a,o,s,l){var u=this.elements;return u[0]=t,u[1]=r,u[2]=o,u[3]=e,u[4]=i,u[5]=s,u[6]=n,u[7]=a,u[8]=l,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var e=t.elements;return this.set(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8]),this},setFromMatrix4:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},applyToBufferAttribute:function(){var t;return function(e){void 0===t&&(t=new c);for(var n=0,r=e.count;n<r;n++)t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.applyMatrix3(this),e.setXYZ(n,t.x,t.y,t.z);return e}}(),multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],o=t[5],s=t[6],l=t[7],u=t[8];return e*a*u-e*o*l-n*i*u+n*o*s+r*i*l-r*a*s},getInverse:function(t,e){t&&t.isMatrix4&&console.error("THREE.Matrix3.getInverse no longer takes a Matrix4 argument.");var n=t.elements,r=this.elements,i=n[0],a=n[1],o=n[2],s=n[3],l=n[4],u=n[5],c=n[6],h=n[7],d=n[8],f=d*l-u*h,p=u*c-d*s,m=h*s-l*c,g=i*f+a*p+o*m;if(0===g){var v="THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0";if(!0===e)throw new Error(v);return console.warn(v),this.identity()}var y=1/g;return r[0]=f*y,r[1]=(o*h-d*a)*y,r[2]=(u*a-o*l)*y,r[3]=p*y,r[4]=(d*i-o*c)*y,r[5]=(o*s-u*i)*y,r[6]=m*y,r[7]=(a*c-h*i)*y,r[8]=(l*i-a*s)*y,this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<9;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}},it.prototype={constructor:it,set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,n,r){return this.normal.set(t,e,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(){var t=new c,e=new c;return function(n,r,i){var a=t.subVectors(i,r).cross(e.subVectors(n,r)).normalize();return this.setFromNormalAndCoplanarPoint(a,n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return this.orthoPoint(t,e).sub(t).negate()},orthoPoint:function(t,e){var n=this.distanceToPoint(t);return(e||new c).copy(this.normal).multiplyScalar(n)},intersectLine:function(){var t=new c;return function(e,n){var r=n||new c,i=e.delta(t),a=this.normal.dot(i);if(0!==a){var o=-(e.start.dot(this.normal)+this.constant)/a;if(!(o<0||o>1))return r.copy(i).multiplyScalar(o).add(e.start)}else if(0===this.distanceToPoint(e.start))return r.copy(e.start)}}(),intersectsLine:function(t){var e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){return(t||new c).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var t=new c,e=new rt;return function(n,r){var i=this.coplanarPoint(t).applyMatrix4(n),a=r||e.getNormalMatrix(n),o=this.normal.applyMatrix3(a).normalize();return this.constant=-i.dot(o),this}}(),translate:function(t){return this.constant=this.constant-t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}},at.prototype={constructor:at,set:function(t,e,n,r,i,a){var o=this.planes;return o[0].copy(t),o[1].copy(e),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){for(var e=this.planes,n=0;n<6;n++)e[n].copy(t.planes[n]);return this},setFromMatrix:function(t){var e=this.planes,n=t.elements,r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],l=n[5],u=n[6],c=n[7],h=n[8],d=n[9],f=n[10],p=n[11],m=n[12],g=n[13],v=n[14],y=n[15];return e[0].setComponents(o-r,c-s,p-h,y-m).normalize(),e[1].setComponents(o+r,c+s,p+h,y+m).normalize(),e[2].setComponents(o+i,c+l,p+d,y+g).normalize(),e[3].setComponents(o-i,c-l,p-d,y-g).normalize(),e[4].setComponents(o-a,c-u,p-f,y-v).normalize(),e[5].setComponents(o+a,c+u,p+f,y+v).normalize(),this},intersectsObject:function(){var t=new nt;return function(e){var n=e.geometry;return null===n.boundingSphere&&n.computeBoundingSphere(),t.copy(n.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSprite:function(){var t=new nt;return function(e){return t.center.set(0,0,0),t.radius=.7071067811865476,t.applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSphere:function(t){for(var e=this.planes,n=t.center,r=-t.radius,i=0;i<6;i++){if(e[i].distanceToPoint(n)<r)return!1}return!0},intersectsBox:function(){var t=new c,e=new c;return function(n){for(var r=this.planes,i=0;i<6;i++){var a=r[i];t.x=a.normal.x>0?n.min.x:n.max.x,e.x=a.normal.x>0?n.max.x:n.min.x,t.y=a.normal.y>0?n.min.y:n.max.y,e.y=a.normal.y>0?n.max.y:n.min.y,t.z=a.normal.z>0?n.min.z:n.max.z,e.z=a.normal.z>0?n.max.z:n.min.z;var o=a.distanceToPoint(t),s=a.distanceToPoint(e);if(o<0&&s<0)return!1}return!0}}(),containsPoint:function(t){for(var e=this.planes,n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}},st.prototype={constructor:st,set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){return(e||new c).copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},recast:function(){var t=new c;return function(e){return this.origin.copy(this.at(e,t)),this}}(),closestPointToPoint:function(t,e){var n=e||new c;n.subVectors(t,this.origin);var r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(r).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:function(){var t=new c;return function(e){var n=t.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(t.copy(this.direction).multiplyScalar(n).add(this.origin),t.distanceToSquared(e))}}(),distanceSqToSegment:function(){var t=new c,e=new c,n=new c;return function(r,i,a,o){t.copy(r).add(i).multiplyScalar(.5),e.copy(i).sub(r).normalize(),n.copy(this.origin).sub(t);var s,l,u,c,h=.5*r.distanceTo(i),d=-this.direction.dot(e),f=n.dot(this.direction),p=-n.dot(e),m=n.lengthSq(),g=Math.abs(1-d*d);if(g>0)if(s=d*p-f,l=d*f-p,c=h*g,s>=0)if(l>=-c)if(l<=c){var v=1/g;s*=v,l*=v,u=s*(s+d*l+2*f)+l*(d*s+l+2*p)+m}else l=h,s=Math.max(0,-(d*l+f)),u=-s*s+l*(l+2*p)+m;else l=-h,s=Math.max(0,-(d*l+f)),u=-s*s+l*(l+2*p)+m;else l<=-c?(s=Math.max(0,-(-d*h+f)),l=s>0?-h:Math.min(Math.max(-h,-p),h),u=-s*s+l*(l+2*p)+m):l<=c?(s=0,l=Math.min(Math.max(-h,-p),h),u=l*(l+2*p)+m):(s=Math.max(0,-(d*h+f)),l=s>0?h:Math.min(Math.max(-h,-p),h),u=-s*s+l*(l+2*p)+m);else l=d>0?-h:h,s=Math.max(0,-(d*l+f)),u=-s*s+l*(l+2*p)+m;return a&&a.copy(this.direction).multiplyScalar(s).add(this.origin),o&&o.copy(e).multiplyScalar(l).add(t),u}}(),intersectSphere:function(){var t=new c;return function(e,n){t.subVectors(e.center,this.origin);var r=t.dot(this.direction),i=t.dot(t)-r*r,a=e.radius*e.radius;if(i>a)return null;var o=Math.sqrt(a-i),s=r-o,l=r+o;return s<0&&l<0?null:s<0?this.at(l,n):this.at(s,n)}}(),intersectsSphere:function(t){return this.distanceToPoint(t.center)<=t.radius},distanceToPlane:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null},intersectPlane:function(t,e){var n=this.distanceToPlane(t);return null===n?null:this.at(n,e)},intersectsPlane:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0},intersectBox:function(t,e){var n,r,i,a,o,s,l=1/this.direction.x,u=1/this.direction.y,c=1/this.direction.z,h=this.origin;return l>=0?(n=(t.min.x-h.x)*l,r=(t.max.x-h.x)*l):(n=(t.max.x-h.x)*l,r=(t.min.x-h.x)*l),u>=0?(i=(t.min.y-h.y)*u,a=(t.max.y-h.y)*u):(i=(t.max.y-h.y)*u,a=(t.min.y-h.y)*u),n>a||i>r?null:((i>n||n!==n)&&(n=i),(a<r||r!==r)&&(r=a),c>=0?(o=(t.min.z-h.z)*c,s=(t.max.z-h.z)*c):(o=(t.max.z-h.z)*c,s=(t.min.z-h.z)*c),n>s||o>r?null:((o>n||n!==n)&&(n=o),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,e)))},intersectsBox:function(){var t=new c;return function(e){return null!==this.intersectBox(e,t)}}(),intersectTriangle:function(){var t=new c,e=new c,n=new c,r=new c;return function(i,a,o,s,l){e.subVectors(a,i),n.subVectors(o,i),r.crossVectors(e,n);var u,c=this.direction.dot(r);if(c>0){if(s)return null;u=1}else{if(!(c<0))return null;u=-1,c=-c}t.subVectors(this.origin,i);var h=u*this.direction.dot(n.crossVectors(t,n));if(h<0)return null;var d=u*this.direction.dot(e.cross(t));if(d<0)return null;if(h+d>c)return null;var f=-u*t.dot(r);return f<0?null:this.at(f/c,l)}}(),applyMatrix4:function(t){return this.direction.add(this.origin).applyMatrix4(t),this.origin.applyMatrix4(t),this.direction.sub(this.origin),this.direction.normalize(),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}},lt.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],lt.DefaultOrder="XYZ",lt.prototype={constructor:lt,isEuler:!0,get x(){return this._x},set x(t){this._x=t,this.onChangeCallback()},get y(){return this._y},set y(t){this._y=t,this.onChangeCallback()},get z(){return this._z},set z(t){this._z=t,this.onChangeCallback()},get order(){return this._order},set order(t){this._order=t,this.onChangeCallback()},set:function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,e,n){var r=fs.clamp,i=t.elements,a=i[0],o=i[4],s=i[8],l=i[1],u=i[5],c=i[9],h=i[2],d=i[6],f=i[10];return e=e||this._order,"XYZ"===e?(this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-c,f),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(d,u),this._z=0)):"YXZ"===e?(this._x=Math.asin(-r(c,-1,1)),Math.abs(c)<.99999?(this._y=Math.atan2(s,f),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-h,a),this._z=0)):"ZXY"===e?(this._x=Math.asin(r(d,-1,1)),Math.abs(d)<.99999?(this._y=Math.atan2(-h,f),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,a))):"ZYX"===e?(this._y=Math.asin(-r(h,-1,1)),Math.abs(h)<.99999?(this._x=Math.atan2(d,f),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-o,u))):"YZX"===e?(this._z=Math.asin(r(l,-1,1)),Math.abs(l)<.99999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-h,a)):(this._x=0,this._y=Math.atan2(s,f))):"XZY"===e?(this._z=Math.asin(-r(o,-1,1)),Math.abs(o)<.99999?(this._x=Math.atan2(d,u),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-c,f),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+e),this._order=e,!1!==n&&this.onChangeCallback(),this},setFromQuaternion:function(){var t;return function(e,n,r){return void 0===t&&(t=new h),t.makeRotationFromQuaternion(e),this.setFromRotationMatrix(t,n,r)}}(),setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:function(){var t=new u;return function(e){return t.setFromEuler(this),this.setFromQuaternion(t,e)}}(),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new c(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}},ut.prototype={constructor:ut,set:function(t){this.mask=1<<t},enable:function(t){this.mask|=1<<t},toggle:function(t){this.mask^=1<<t},disable:function(t){this.mask&=~(1<<t)},test:function(t){return 0!=(this.mask&t.mask)}};var ks=0;ct.DefaultUp=new c(0,1,0),ct.DefaultMatrixAutoUpdate=!0,ct.prototype={constructor:ct,isObject3D:!0,applyMatrix:function(t){this.matrix.multiplyMatrices(t,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(){var t=new u;return function(e,n){return t.setFromAxisAngle(e,n),this.quaternion.multiply(t),this}}(),rotateX:function(){var t=new c(1,0,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateY:function(){var t=new c(0,1,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateZ:function(){var t=new c(0,0,1);return function(e){return this.rotateOnAxis(t,e)}}(),translateOnAxis:function(){var t=new c;return function(e,n){return t.copy(e).applyQuaternion(this.quaternion),this.position.add(t.multiplyScalar(n)),this}}(),translateX:function(){var t=new c(1,0,0);return function(e){return this.translateOnAxis(t,e)}}(),translateY:function(){var t=new c(0,1,0);return function(e){return this.translateOnAxis(t,e)}}(),translateZ:function(){var t=new c(0,0,1);return function(e){return this.translateOnAxis(t,e)}}(),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var t=new h;return function(e){return e.applyMatrix4(t.getInverse(this.matrixWorld))}}(),lookAt:function(){var t=new h;return function(e){t.lookAt(e,this.position,this.up),this.quaternion.setFromRotationMatrix(t)}}(),add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,t.dispatchEvent({type:"added"}),this.children.push(t)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)},remove:function(t){if(arguments.length>1)for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);var n=this.children.indexOf(t);-1!==n&&(t.parent=null,t.dispatchEvent({type:"removed"}),this.children.splice(n,1))},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n],a=i.getObjectByProperty(t,e);if(void 0!==a)return a}},getWorldPosition:function(t){var e=t||new c;return this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var t=new c,e=new c;return function(n){var r=n||new u;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,r,e),r}}(),getWorldRotation:function(){var t=new u;return function(e){var n=e||new lt;return this.getWorldQuaternion(t),n.setFromQuaternion(t,this.rotation.order,!1)}}(),getWorldScale:function(){var t=new c,e=new u;return function(n){var r=n||new c;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,e,r),r}}(),getWorldDirection:function(){var t=new u;return function(e){var n=e||new c;return this.getWorldQuaternion(t),n.set(0,0,1).applyQuaternion(t)}}(),raycast:function(){},traverse:function(t){t(this);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){!0===this.matrixAutoUpdate&&this.updateMatrix(),!0!==this.matrixWorldNeedsUpdate&&!0!==t||(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].updateMatrixWorld(t)},toJSON:function(t){function e(t){var e=[];for(var n in t){var r=t[n];delete r.metadata,e.push(r)}return e}var n=void 0===t||""===t,r={};n&&(t={geometries:{},materials:{},textures:{},images:{}},r.metadata={version:4.4,type:"Object",generator:"Object3D.toJSON"});var i={};if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),i.matrix=this.matrix.toArray(),void 0!==this.geometry&&(void 0===t.geometries[this.geometry.uuid]&&(t.geometries[this.geometry.uuid]=this.geometry.toJSON(t)),i.geometry=this.geometry.uuid),void 0!==this.material&&(void 0===t.materials[this.material.uuid]&&(t.materials[this.material.uuid]=this.material.toJSON(t)),i.material=this.material.uuid),this.children.length>0){i.children=[];for(var a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(t).object)}if(n){var o=e(t.geometries),s=e(t.materials),l=e(t.textures),u=e(t.images);o.length>0&&(r.geometries=o),s.length>0&&(r.materials=s),l.length>0&&(r.textures=l),u.length>0&&(r.images=u)}return r.object=i,r},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(var n=0;n<t.children.length;n++){var r=t.children[n];this.add(r.clone())}return this}},Object.assign(ct.prototype,r.prototype),ht.prototype={constructor:ht,set:function(t,e){return this.start.copy(t),this.end.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},getCenter:function(t){return(t||new c).addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){return(t||new c).subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){var n=e||new c;return this.delta(n).multiplyScalar(t).add(this.start)},closestPointToPointParameter:function(){var t=new c,e=new c;return function(n,r){t.subVectors(n,this.start),e.subVectors(this.end,this.start);var i=e.dot(e),a=e.dot(t),o=a/i;return r&&(o=fs.clamp(o,0,1)),o}}(),closestPointToPoint:function(t,e,n){var r=this.closestPointToPointParameter(t,e),i=n||new c;return this.delta(i).multiplyScalar(r).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}},dt.normal=function(){var t=new c;return function(e,n,r,i){var a=i||new c;a.subVectors(r,n),t.subVectors(e,n),a.cross(t);var o=a.lengthSq();return o>0?a.multiplyScalar(1/Math.sqrt(o)):a.set(0,0,0)}}(),dt.barycoordFromPoint=function(){var t=new c,e=new c,n=new c;return function(r,i,a,o,s){t.subVectors(o,i),e.subVectors(a,i),n.subVectors(r,i);var l=t.dot(t),u=t.dot(e),h=t.dot(n),d=e.dot(e),f=e.dot(n),p=l*d-u*u,m=s||new c;if(0===p)return m.set(-2,-1,-1);var g=1/p,v=(d*h-u*f)*g,y=(l*f-u*h)*g;return m.set(1-v-y,y,v)}}(),dt.containsPoint=function(){var t=new c;return function(e,n,r,i){var a=dt.barycoordFromPoint(e,n,r,i,t);return a.x>=0&&a.y>=0&&a.x+a.y<=1}}(),dt.prototype={constructor:dt,set:function(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this},setFromPointsAndIndices:function(t,e,n,r){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},area:function(){var t=new c,e=new c;return function(){return t.subVectors(this.c,this.b),e.subVectors(this.a,this.b),.5*t.cross(e).length()}}(),midpoint:function(t){return(t||new c).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(t){return dt.normal(this.a,this.b,this.c,t)},plane:function(t){return(t||new it).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(t,e){return dt.barycoordFromPoint(t,this.a,this.b,this.c,e)},containsPoint:function(t){return dt.containsPoint(t,this.a,this.b,this.c)},closestPointToPoint:function(){var t,e,n,r;return function(i,a){void 0===t&&(t=new it,e=[new ht,new ht,new ht],n=new c,r=new c);var o=a||new c,s=1/0;if(t.setFromCoplanarPoints(this.a,this.b,this.c),t.projectPoint(i,n),!0===this.containsPoint(n))o.copy(n);else{e[0].set(this.a,this.b),e[1].set(this.b,this.c),e[2].set(this.c,this.a);for(var l=0;l<e.length;l++){e[l].closestPointToPoint(n,!0,r);var u=n.distanceToSquared(r);u<s&&(s=u,o.copy(r))}}return o}}(),equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}},ft.prototype={constructor:ft,clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,n=t.vertexNormals.length;e<n;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(var e=0,n=t.vertexColors.length;e<n;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}},pt.prototype=Object.create(Q.prototype),pt.prototype.constructor=pt,pt.prototype.isMeshBasicMaterial=!0,pt.prototype.copy=function(t){return Q.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this},mt.prototype={constructor:mt,isBufferAttribute:!0,set needsUpdate(t){!0===t&&this.version++},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==t?t.length/this.itemSize:0,this.array=t},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[t+r]=e.array[n+r];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var a=t[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),a=new q),e[n++]=a.r,e[n++]=a.g,e[n++]=a.b}return this},copyIndicesArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var a=t[r];e[n++]=a.a,e[n++]=a.b,e[n++]=a.c}return this},copyVector2sArray:function(t){for(var e=this.array,n=0,r=0,a=t.length;r<a;r++){var o=t[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),o=new i),e[n++]=o.x,e[n++]=o.y}return this},copyVector3sArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var a=t[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),a=new c),e[n++]=a.x,e[n++]=a.y,e[n++]=a.z}return this},copyVector4sArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var a=t[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),a=new o),e[n++]=a.x,e[n++]=a.y,e[n++]=a.z,e[n++]=a.w}return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this},setXYZ:function(t,e,n,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this},setXYZW:function(t,e,n,r,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this.array[t+3]=i,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},gt.prototype=Object.create(mt.prototype),gt.prototype.constructor=gt,vt.prototype=Object.create(mt.prototype),vt.prototype.constructor=vt,yt.prototype=Object.create(mt.prototype),yt.prototype.constructor=yt,bt.prototype=Object.create(mt.prototype),bt.prototype.constructor=bt,xt.prototype=Object.create(mt.prototype),xt.prototype.constructor=xt,_t.prototype=Object.create(mt.prototype),_t.prototype.constructor=_t,wt.prototype=Object.create(mt.prototype),wt.prototype.constructor=wt,Mt.prototype=Object.create(mt.prototype),Mt.prototype.constructor=Mt,St.prototype=Object.create(mt.prototype),St.prototype.constructor=St,Object.assign(Et.prototype,{computeGroups:function(t){for(var e,n=[],r=void 0,i=t.faces,a=0;a<i.length;a++){var o=i[a];o.materialIndex!==r&&(r=o.materialIndex,void 0!==e&&(e.count=3*a-e.start,n.push(e)),e={start:3*a,materialIndex:r})}void 0!==e&&(e.count=3*a-e.start,n.push(e)),this.groups=n},fromGeometry:function(t){var e,n=t.faces,r=t.vertices,a=t.faceVertexUvs,o=a[0]&&a[0].length>0,s=a[1]&&a[1].length>0,l=t.morphTargets,u=l.length;if(u>0){e=[];for(var c=0;c<u;c++)e[c]=[];this.morphTargets.position=e}var h,d=t.morphNormals,f=d.length;if(f>0){h=[];for(var c=0;c<f;c++)h[c]=[];this.morphTargets.normal=h}for(var p=t.skinIndices,m=t.skinWeights,g=p.length===r.length,v=m.length===r.length,c=0;c<n.length;c++){var y=n[c];this.vertices.push(r[y.a],r[y.b],r[y.c]);var b=y.vertexNormals;if(3===b.length)this.normals.push(b[0],b[1],b[2]);else{var x=y.normal;this.normals.push(x,x,x)}var _=y.vertexColors;if(3===_.length)this.colors.push(_[0],_[1],_[2]);else{var w=y.color;this.colors.push(w,w,w)}if(!0===o){var M=a[0][c];void 0!==M?this.uvs.push(M[0],M[1],M[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",c),this.uvs.push(new i,new i,new i))}if(!0===s){var M=a[1][c];void 0!==M?this.uvs2.push(M[0],M[1],M[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",c),this.uvs2.push(new i,new i,new i))}for(var S=0;S<u;S++){var E=l[S].vertices;e[S].push(E[y.a],E[y.b],E[y.c])}for(var S=0;S<f;S++){var k=d[S].vertexNormals[c];h[S].push(k.a,k.b,k.c)}g&&this.skinIndices.push(p[y.a],p[y.b],p[y.c]),v&&this.skinWeights.push(m[y.a],m[y.b],m[y.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this}});var Ts=0;Ct.prototype={constructor:Ct,isGeometry:!0,applyMatrix:function(t){for(var e=(new rt).getNormalMatrix(t),n=0,r=this.vertices.length;n<r;n++){this.vertices[n].applyMatrix4(t)}for(var n=0,r=this.faces.length;n<r;n++){var i=this.faces[n];i.normal.applyMatrix3(e).normalize();for(var a=0,o=i.vertexNormals.length;a<o;a++)i.vertexNormals[a].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var t;return function(e){return void 0===t&&(t=new h),t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t;return function(e){return void 0===t&&(t=new h),t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t;return function(e){return void 0===t&&(t=new h),t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t;return function(e,n,r){return void 0===t&&(t=new h),t.makeTranslation(e,n,r),this.applyMatrix(t),this}}(),scale:function(){var t;return function(e,n,r){return void 0===t&&(t=new h),t.makeScale(e,n,r),this.applyMatrix(t),this}}(),lookAt:function(){var t;return function(e){void 0===t&&(t=new ct),t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),fromBufferGeometry:function(t){function e(t,e,r,i){var a=void 0!==s?[d[t].clone(),d[e].clone(),d[r].clone()]:[],o=void 0!==l?[n.colors[t].clone(),n.colors[e].clone(),n.colors[r].clone()]:[],c=new ft(t,e,r,a,o,i);n.faces.push(c),void 0!==u&&n.faceVertexUvs[0].push([f[t].clone(),f[e].clone(),f[r].clone()]),void 0!==h&&n.faceVertexUvs[1].push([p[t].clone(),p[e].clone(),p[r].clone()])}var n=this,r=null!==t.index?t.index.array:void 0,a=t.attributes,o=a.position.array,s=void 0!==a.normal?a.normal.array:void 0,l=void 0!==a.color?a.color.array:void 0,u=void 0!==a.uv?a.uv.array:void 0,h=void 0!==a.uv2?a.uv2.array:void 0;void 0!==h&&(this.faceVertexUvs[1]=[]);for(var d=[],f=[],p=[],m=0,g=0;m<o.length;m+=3,g+=2)n.vertices.push(new c(o[m],o[m+1],o[m+2])),void 0!==s&&d.push(new c(s[m],s[m+1],s[m+2])),void 0!==l&&n.colors.push(new q(l[m],l[m+1],l[m+2])),void 0!==u&&f.push(new i(u[g],u[g+1])),void 0!==h&&p.push(new i(h[g],h[g+1]));if(void 0!==r){var v=t.groups;if(v.length>0)for(var m=0;m<v.length;m++)for(var y=v[m],b=y.start,x=y.count,g=b,_=b+x;g<_;g+=3)e(r[g],r[g+1],r[g+2],y.materialIndex);else for(var m=0;m<r.length;m+=3)e(r[m],r[m+1],r[m+2])}else for(var m=0;m<o.length/3;m+=3)e(m,m+1,m+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var t=this.boundingBox.getCenter().negate();return this.translate(t.x,t.y,t.z),t},normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius,n=0===e?1:1/e,r=new h;return r.set(n,0,0,-n*t.x,0,n,0,-n*t.y,0,0,n,-n*t.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var t=new c,e=new c,n=0,r=this.faces.length;n<r;n++){var i=this.faces[n],a=this.vertices[i.a],o=this.vertices[i.b],s=this.vertices[i.c];t.subVectors(s,o),e.subVectors(a,o),t.cross(e),t.normalize(),i.normal.copy(t)}},computeVertexNormals:function(t){void 0===t&&(t=!0);var e,n,r,i,a,o;for(o=new Array(this.vertices.length),e=0,n=this.vertices.length;e<n;e++)o[e]=new c;if(t){var s,l,u,h=new c,d=new c;for(r=0,i=this.faces.length;r<i;r++)a=this.faces[r],s=this.vertices[a.a],l=this.vertices[a.b],u=this.vertices[a.c],h.subVectors(u,l),d.subVectors(s,l),h.cross(d),o[a.a].add(h),o[a.b].add(h),o[a.c].add(h)}else for(this.computeFaceNormals(),r=0,i=this.faces.length;r<i;r++)a=this.faces[r],o[a.a].add(a.normal),o[a.b].add(a.normal),o[a.c].add(a.normal);for(e=0,n=this.vertices.length;e<n;e++)o[e].normalize();for(r=0,i=this.faces.length;r<i;r++){a=this.faces[r];var f=a.vertexNormals;3===f.length?(f[0].copy(o[a.a]),f[1].copy(o[a.b]),f[2].copy(o[a.c])):(f[0]=o[a.a].clone(),f[1]=o[a.b].clone(),f[2]=o[a.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var t,e,n;for(this.computeFaceNormals(),t=0,e=this.faces.length;t<e;t++){n=this.faces[t];var r=n.vertexNormals;3===r.length?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,e,n,r,i;for(n=0,r=this.faces.length;n<r;n++)for(i=this.faces[n],i.__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),t=0,e=i.vertexNormals.length;t<e;t++)i.__originalVertexNormals[t]?i.__originalVertexNormals[t].copy(i.vertexNormals[t]):i.__originalVertexNormals[t]=i.vertexNormals[t].clone();var a=new Ct;for(a.faces=this.faces,t=0,e=this.morphTargets.length;t<e;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];var o,s,l=this.morphNormals[t].faceNormals,u=this.morphNormals[t].vertexNormals;for(n=0,r=this.faces.length;n<r;n++)o=new c,s={a:new c,b:new c,c:new c},l.push(o),u.push(s)}var h=this.morphNormals[t];a.vertices=this.morphTargets[t].vertices,a.computeFaceNormals(),a.computeVertexNormals();var o,s;for(n=0,r=this.faces.length;n<r;n++)i=this.faces[n],o=h.faceNormals[n],s=h.vertexNormals[n],o.copy(i.normal),s.a.copy(i.vertexNormals[0]),s.b.copy(i.vertexNormals[1]),s.c.copy(i.vertexNormals[2])}for(n=0,r=this.faces.length;n<r;n++)i=this.faces[n],i.normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeLineDistances:function(){for(var t=0,e=this.vertices,n=0,r=e.length;n<r;n++)n>0&&(t+=e[n].distanceTo(e[n-1])),this.lineDistances[n]=t},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new et),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new nt),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,n){if(!1===(t&&t.isGeometry))return void console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t);var r,i=this.vertices.length,a=this.vertices,o=t.vertices,s=this.faces,l=t.faces,u=this.faceVertexUvs[0],c=t.faceVertexUvs[0],h=this.colors,d=t.colors;void 0===n&&(n=0),void 0!==e&&(r=(new rt).getNormalMatrix(e));for(var f=0,p=o.length;f<p;f++){var m=o[f],g=m.clone();void 0!==e&&g.applyMatrix4(e),a.push(g)}for(var f=0,p=d.length;f<p;f++)h.push(d[f].clone());for(f=0,p=l.length;f<p;f++){var v,y,b,x=l[f],_=x.vertexNormals,w=x.vertexColors;v=new ft(x.a+i,x.b+i,x.c+i),v.normal.copy(x.normal),void 0!==r&&v.normal.applyMatrix3(r).normalize();for(var M=0,S=_.length;M<S;M++)y=_[M].clone(),void 0!==r&&y.applyMatrix3(r).normalize(),v.vertexNormals.push(y);v.color.copy(x.color);for(var M=0,S=w.length;M<S;M++)b=w[M],v.vertexColors.push(b.clone());v.materialIndex=x.materialIndex+n,s.push(v)}for(f=0,p=c.length;f<p;f++){var E=c[f],k=[];if(void 0!==E){for(var M=0,S=E.length;M<S;M++)k.push(E[M].clone());u.push(k)}}},mergeMesh:function(t){if(!1===(t&&t.isMesh))return void console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",t);t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix)},mergeVertices:function(){var t,e,n,r,i,a,o,s,l={},u=[],c=[],h=Math.pow(10,4);for(n=0,r=this.vertices.length;n<r;n++)t=this.vertices[n],e=Math.round(t.x*h)+"_"+Math.round(t.y*h)+"_"+Math.round(t.z*h),void 0===l[e]?(l[e]=n,u.push(this.vertices[n]),c[n]=u.length-1):c[n]=c[l[e]];var d=[];for(n=0,r=this.faces.length;n<r;n++){i=this.faces[n],i.a=c[i.a],i.b=c[i.b],i.c=c[i.c],a=[i.a,i.b,i.c];for(var f=0;f<3;f++)if(a[f]===a[(f+1)%3]){d.push(n);break}}for(n=d.length-1;n>=0;n--){var p=d[n];for(this.faces.splice(p,1),o=0,s=this.faceVertexUvs.length;o<s;o++)this.faceVertexUvs[o].splice(p,1)}var m=this.vertices.length-u.length;return this.vertices=u,m},sortFacesByMaterialIndex:function(){function t(t,e){return t.materialIndex-e.materialIndex}for(var e=this.faces,n=e.length,r=0;r<n;r++)e[r]._id=r;e.sort(t);var i,a,o=this.faceVertexUvs[0],s=this.faceVertexUvs[1];o&&o.length===n&&(i=[]),s&&s.length===n&&(a=[]);for(var r=0;r<n;r++){var l=e[r]._id;i&&i.push(o[l]),a&&a.push(s[l])}i&&(this.faceVertexUvs[0]=i),a&&(this.faceVertexUvs[1]=a)},toJSON:function(){function t(t,e,n){return n?t|1<<e:t&~(1<<e)}function e(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==d[e]?d[e]:(d[e]=h.length/3,h.push(t.x,t.y,t.z),d[e])}function n(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==p[e]?p[e]:(p[e]=f.length,f.push(t.getHex()),p[e])}function r(t){var e=t.x.toString()+t.y.toString();return void 0!==g[e]?g[e]:(g[e]=m.length/2,m.push(t.x,t.y),g[e])}var i={metadata:{version:4.4,type:"Geometry",generator:"Geometry.toJSON"}};if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),void 0!==this.parameters){var a=this.parameters;for(var o in a)void 0!==a[o]&&(i[o]=a[o]);return i}for(var s=[],l=0;l<this.vertices.length;l++){var u=this.vertices[l];s.push(u.x,u.y,u.z)}for(var c=[],h=[],d={},f=[],p={},m=[],g={},l=0;l<this.faces.length;l++){var v=this.faces[l],y=void 0!==this.faceVertexUvs[0][l],b=v.normal.length()>0,x=v.vertexNormals.length>0,_=1!==v.color.r||1!==v.color.g||1!==v.color.b,w=v.vertexColors.length>0,M=0;if(M=t(M,0,0),M=t(M,1,!0),M=t(M,2,!1),M=t(M,3,y),M=t(M,4,b),M=t(M,5,x),M=t(M,6,_),M=t(M,7,w),c.push(M),c.push(v.a,v.b,v.c),c.push(v.materialIndex),y){var S=this.faceVertexUvs[0][l];c.push(r(S[0]),r(S[1]),r(S[2]))}if(b&&c.push(e(v.normal)),x){var E=v.vertexNormals;c.push(e(E[0]),e(E[1]),e(E[2]))}if(_&&c.push(n(v.color)),w){var k=v.vertexColors;c.push(n(k[0]),n(k[1]),n(k[2]))}}return i.data={},i.data.vertices=s,i.data.normals=h,f.length>0&&(i.data.colors=f),m.length>0&&(i.data.uvs=[m]),i.data.faces=c,i},clone:function(){return(new Ct).copy(this)},copy:function(t){var e,n,r,i,a,o;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var s=t.vertices;for(e=0,n=s.length;e<n;e++)this.vertices.push(s[e].clone());var l=t.colors;for(e=0,n=l.length;e<n;e++)this.colors.push(l[e].clone());var u=t.faces;for(e=0,n=u.length;e<n;e++)this.faces.push(u[e].clone());for(e=0,n=t.faceVertexUvs.length;e<n;e++){var c=t.faceVertexUvs[e];for(void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]),r=0,i=c.length;r<i;r++){var h=c[r],d=[];for(a=0,o=h.length;a<o;a++){var f=h[a];d.push(f.clone())}this.faceVertexUvs[e].push(d)}}var p=t.morphTargets;for(e=0,n=p.length;e<n;e++){var m={};if(m.name=p[e].name,void 0!==p[e].vertices)for(m.vertices=[],r=0,i=p[e].vertices.length;r<i;r++)m.vertices.push(p[e].vertices[r].clone());if(void 0!==p[e].normals)for(m.normals=[],r=0,i=p[e].normals.length;r<i;r++)m.normals.push(p[e].normals[r].clone());this.morphTargets.push(m)}var g=t.morphNormals;for(e=0,n=g.length;e<n;e++){var v={};if(void 0!==g[e].vertexNormals)for(v.vertexNormals=[],r=0,i=g[e].vertexNormals.length;r<i;r++){var y=g[e].vertexNormals[r],b={};b.a=y.a.clone(),b.b=y.b.clone(),b.c=y.c.clone(),v.vertexNormals.push(b)}if(void 0!==g[e].faceNormals)for(v.faceNormals=[],r=0,i=g[e].faceNormals.length;r<i;r++)v.faceNormals.push(g[e].faceNormals[r].clone());this.morphNormals.push(v)}var x=t.skinWeights;for(e=0,n=x.length;e<n;e++)this.skinWeights.push(x[e].clone());var _=t.skinIndices;for(e=0,n=_.length;e<n;e++)this.skinIndices.push(_[e].clone());var w=t.lineDistances;for(e=0,n=w.length;e<n;e++)this.lineDistances.push(w[e]);var M=t.boundingBox;null!==M&&(this.boundingBox=M.clone());var S=t.boundingSphere;return null!==S&&(this.boundingSphere=S.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}},Object.assign(Ct.prototype,r.prototype),Pt.prototype={constructor:Pt,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){Array.isArray(t)?this.index=new(kt(t)>65535?wt:xt)(t,1):this.index=t},addAttribute:function(t,e){return!1===(e&&e.isBufferAttribute)&&!1===(e&&e.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),void this.addAttribute(t,new mt(arguments[1],arguments[2]))):"index"===t?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),void this.setIndex(e)):(this.attributes[t]=e,this)},getAttribute:function(t){return this.attributes[t]},removeAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,n){this.groups.push({start:t,count:e,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix:function(t){var e=this.attributes.position;void 0!==e&&(t.applyToBufferAttribute(e),e.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){(new rt).getNormalMatrix(t).applyToBufferAttribute(n),n.needsUpdate=!0}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var t;return function(e){return void 0===t&&(t=new h),t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t;return function(e){return void 0===t&&(t=new h),t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t;return function(e){return void 0===t&&(t=new h),t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t;return function(e,n,r){return void 0===t&&(t=new h),t.makeTranslation(e,n,r),this.applyMatrix(t),this}}(),scale:function(){var t;return function(e,n,r){return void 0===t&&(t=new h),t.makeScale(e,n,r),this.applyMatrix(t),this}}(),lookAt:function(){var t;return function(e){void 0===t&&(t=new ct),t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),center:function(){this.computeBoundingBox();var t=this.boundingBox.getCenter().negate();return this.translate(t.x,t.y,t.z),t},setFromObject:function(t){var e=t.geometry;if(t.isPoints||t.isLine){var n=new Mt(3*e.vertices.length,3),r=new Mt(3*e.colors.length,3);if(this.addAttribute("position",n.copyVector3sArray(e.vertices)),this.addAttribute("color",r.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var i=new Mt(e.lineDistances.length,1);this.addAttribute("lineDistance",i.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},updateFromObject:function(t){var e=t.geometry;if(t.isMesh){var n=e.__directGeometry;if(!0===e.elementsNeedUpdate&&(n=void 0,e.elementsNeedUpdate=!1),void 0===n)return this.fromGeometry(e);n.verticesNeedUpdate=e.verticesNeedUpdate,n.normalsNeedUpdate=e.normalsNeedUpdate,n.colorsNeedUpdate=e.colorsNeedUpdate,n.uvsNeedUpdate=e.uvsNeedUpdate,n.groupsNeedUpdate=e.groupsNeedUpdate,e.verticesNeedUpdate=!1,e.normalsNeedUpdate=!1,e.colorsNeedUpdate=!1,e.uvsNeedUpdate=!1,e.groupsNeedUpdate=!1,e=n}var r;return!0===e.verticesNeedUpdate&&(r=this.attributes.position,void 0!==r&&(r.copyVector3sArray(e.vertices),r.needsUpdate=!0),e.verticesNeedUpdate=!1),!0===e.normalsNeedUpdate&&(r=this.attributes.normal,void 0!==r&&(r.copyVector3sArray(e.normals),r.needsUpdate=!0),e.normalsNeedUpdate=!1),!0===e.colorsNeedUpdate&&(r=this.attributes.color,void 0!==r&&(r.copyColorsArray(e.colors),r.needsUpdate=!0),e.colorsNeedUpdate=!1),e.uvsNeedUpdate&&(r=this.attributes.uv,void 0!==r&&(r.copyVector2sArray(e.uvs),r.needsUpdate=!0),e.uvsNeedUpdate=!1),e.lineDistancesNeedUpdate&&(r=this.attributes.lineDistance,void 0!==r&&(r.copyArray(e.lineDistances),r.needsUpdate=!0),e.lineDistancesNeedUpdate=!1),e.groupsNeedUpdate&&(e.computeGroups(t.geometry),this.groups=e.groups,e.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new Et).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.addAttribute("position",new mt(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){var n=new Float32Array(3*t.normals.length);this.addAttribute("normal",new mt(n,3).copyVector3sArray(t.normals))}if(t.colors.length>0){var r=new Float32Array(3*t.colors.length);this.addAttribute("color",new mt(r,3).copyColorsArray(t.colors))}if(t.uvs.length>0){var i=new Float32Array(2*t.uvs.length);this.addAttribute("uv",new mt(i,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){var a=new Float32Array(2*t.uvs2.length);this.addAttribute("uv2",new mt(a,2).copyVector2sArray(t.uvs2))}if(t.indices.length>0){var o=kt(t.indices)>65535?Uint32Array:Uint16Array,s=new o(3*t.indices.length);this.setIndex(new mt(s,1).copyIndicesArray(t.indices))}this.groups=t.groups;for(var l in t.morphTargets){for(var u=[],c=t.morphTargets[l],h=0,d=c.length;h<d;h++){var f=c[h],p=new Mt(3*f.length,3);u.push(p.copyVector3sArray(f))}this.morphAttributes[l]=u}if(t.skinIndices.length>0){var m=new Mt(4*t.skinIndices.length,4);this.addAttribute("skinIndex",m.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){var g=new Mt(4*t.skinWeights.length,4);this.addAttribute("skinWeight",g.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new et);var t=this.attributes.position;void 0!==t?this.boundingBox.setFromBufferAttribute(t):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var t=new et,e=new c;return function(){null===this.boundingSphere&&(this.boundingSphere=new nt);var n=this.attributes.position;if(n){var r=this.boundingSphere.center;t.setFromBufferAttribute(n),t.getCenter(r);for(var i=0,a=0,o=n.count;a<o;a++)e.x=n.getX(a),e.y=n.getY(a),e.z=n.getZ(a),i=Math.max(i,r.distanceToSquared(e));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.attributes,n=this.groups;if(e.position){var r=e.position.array;if(void 0===e.normal)this.addAttribute("normal",new mt(new Float32Array(r.length),3));else for(var i=e.normal.array,a=0,o=i.length;a<o;a++)i[a]=0;var s,l,u,h=e.normal.array,d=new c,f=new c,p=new c,m=new c,g=new c;if(t){var v=t.array;0===n.length&&this.addGroup(0,v.length);for(var y=0,b=n.length;y<b;++y)for(var x=n[y],_=x.start,w=x.count,a=_,o=_+w;a<o;a+=3)s=3*v[a+0],l=3*v[a+1],u=3*v[a+2],d.fromArray(r,s),f.fromArray(r,l),p.fromArray(r,u),m.subVectors(p,f),g.subVectors(d,f),m.cross(g),h[s]+=m.x,h[s+1]+=m.y,h[s+2]+=m.z,h[l]+=m.x,h[l+1]+=m.y,h[l+2]+=m.z,h[u]+=m.x,h[u+1]+=m.y,h[u+2]+=m.z}else for(var a=0,o=r.length;a<o;a+=9)d.fromArray(r,a),f.fromArray(r,a+3),p.fromArray(r,a+6),m.subVectors(p,f),g.subVectors(d,f),m.cross(g),h[a]=m.x,h[a+1]=m.y,h[a+2]=m.z,h[a+3]=m.x,h[a+4]=m.y,h[a+5]=m.z,h[a+6]=m.x,h[a+7]=m.y,h[a+8]=m.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},merge:function(t,e){if(!1===(t&&t.isBufferGeometry))return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t);void 0===e&&(e=0);var n=this.attributes;for(var r in n)if(void 0!==t.attributes[r])for(var i=n[r],a=i.array,o=t.attributes[r],s=o.array,l=o.itemSize,u=0,c=l*e;u<s.length;u++,c++)a[c]=s[u];return this},normalizeNormals:function(){for(var t,e,n,r,i=this.attributes.normal.array,a=0,o=i.length;a<o;a+=3)t=i[a],e=i[a+1],n=i[a+2],r=1/Math.sqrt(t*t+e*e+n*n),i[a]*=r,i[a+1]*=r,i[a+2]*=r},toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new Pt,e=this.index.array,n=this.attributes;for(var r in n){for(var i=n[r],a=i.array,o=i.itemSize,s=new a.constructor(e.length*o),l=0,u=0,c=0,h=e.length;c<h;c++){l=e[c]*o;for(var d=0;d<o;d++)s[u++]=a[l++]}t.addAttribute(r,new mt(s,o))}return t},toJSON:function(){var t={metadata:{version:4.4,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};var r=this.index;if(null!==r){var i=Array.prototype.slice.call(r.array);t.data.index={type:r.array.constructor.name,array:i}}var a=this.attributes;for(var n in a){var o=a[n],i=Array.prototype.slice.call(o.array);t.data.attributes[n]={itemSize:o.itemSize,type:o.array.constructor.name,array:i,normalized:o.normalized}}var s=this.groups;s.length>0&&(t.data.groups=JSON.parse(JSON.stringify(s)));var l=this.boundingSphere;return null!==l&&(t.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),t},clone:function(){return(new Pt).copy(this)},copy:function(t){var e,n,r;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var i=t.index;null!==i&&this.setIndex(i.clone());var a=t.attributes;for(e in a){var o=a[e];this.addAttribute(e,o.clone())}var s=t.morphAttributes;for(e in s){var l=[],u=s[e];for(n=0,r=u.length;n<r;n++)l.push(u[n].clone());this.morphAttributes[e]=l}var c=t.groups;for(n=0,r=c.length;n<r;n++){var h=c[n];this.addGroup(h.start,h.count,h.materialIndex)}var d=t.boundingBox;null!==d&&(this.boundingBox=d.clone());var f=t.boundingSphere;return null!==f&&(this.boundingSphere=f.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this},dispose:function(){this.dispatchEvent({type:"dispose"})}},Pt.MaxIndex=65535,Object.assign(Pt.prototype,r.prototype),Ot.prototype=Object.assign(Object.create(ct.prototype),{constructor:Ot,isMesh:!0,setDrawMode:function(t){this.drawMode=t},copy:function(t){return ct.prototype.copy.call(this,t),this.drawMode=t.drawMode,this},updateMorphTargets:function(){var t=this.geometry.morphTargets;if(void 0!==t&&t.length>0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var e=0,n=t.length;e<n;e++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[t[e].name]=e}},raycast:function(){function t(t,e,n,r,i,a,o){return dt.barycoordFromPoint(t,e,n,r,y),i.multiplyScalar(y.x),a.multiplyScalar(y.y),o.multiplyScalar(y.z),i.add(a).add(o),i.clone()}function e(t,e,n,r,i,a,o){var s=t.material;if(null===(s.side===sa?n.intersectTriangle(a,i,r,!0,o):n.intersectTriangle(r,i,a,s.side!==la,o)))return null;x.copy(o),x.applyMatrix4(t.matrixWorld);var l=e.ray.origin.distanceTo(x);return l<e.near||l>e.far?null:{distance:l,point:x.clone(),object:t}}function n(n,r,i,a,o,c,h,d){s.fromBufferAttribute(a,c),l.fromBufferAttribute(a,h),u.fromBufferAttribute(a,d);var f=e(n,r,i,s,l,u,b);return f&&(o&&(m.fromBufferAttribute(o,c),g.fromBufferAttribute(o,h),v.fromBufferAttribute(o,d),f.uv=t(b,s,l,u,m,g,v)),f.face=new ft(c,h,d,dt.normal(s,l,u)),f.faceIndex=c),f}var r=new h,a=new st,o=new nt,s=new c,l=new c,u=new c,d=new c,f=new c,p=new c,m=new i,g=new i,v=new i,y=new c,b=new c,x=new c;return function(i,c){var h=this.geometry,y=this.material,x=this.matrixWorld;if(void 0!==y&&(null===h.boundingSphere&&h.computeBoundingSphere(),o.copy(h.boundingSphere),o.applyMatrix4(x),!1!==i.ray.intersectsSphere(o)&&(r.getInverse(x),a.copy(i.ray).applyMatrix4(r),null===h.boundingBox||!1!==a.intersectsBox(h.boundingBox)))){var _;if(h.isBufferGeometry){var w,M,S,E,k,T=h.index,C=h.attributes.position,P=h.attributes.uv;if(null!==T)for(E=0,k=T.count;E<k;E+=3)w=T.getX(E),M=T.getX(E+1),S=T.getX(E+2),(_=n(this,i,a,C,P,w,M,S))&&(_.faceIndex=Math.floor(E/3),c.push(_));else for(E=0,k=C.count;E<k;E+=3)w=E,M=E+1,S=E+2,(_=n(this,i,a,C,P,w,M,S))&&(_.index=w,c.push(_))}else if(h.isGeometry){var O,A,R,L,I=y&&y.isMultiMaterial,D=!0===I?y.materials:null,N=h.vertices,z=h.faces,B=h.faceVertexUvs[0];B.length>0&&(L=B);for(var F=0,U=z.length;F<U;F++){var j=z[F],W=!0===I?D[j.materialIndex]:y;if(void 0!==W){if(O=N[j.a],A=N[j.b],R=N[j.c],!0===W.morphTargets){var G=h.morphTargets,V=this.morphTargetInfluences;s.set(0,0,0),l.set(0,0,0),u.set(0,0,0);for(var H=0,Y=G.length;H<Y;H++){var q=V[H];if(0!==q){var X=G[H].vertices;s.addScaledVector(d.subVectors(X[j.a],O),q),l.addScaledVector(f.subVectors(X[j.b],A),q),u.addScaledVector(p.subVectors(X[j.c],R),q)}}s.add(O),l.add(A),u.add(R),O=s,A=l,R=u}if(_=e(this,i,a,O,A,R,b)){if(L){var Z=L[F];m.copy(Z[0]),g.copy(Z[1]),v.copy(Z[2]),_.uv=t(b,O,A,R,m,g,v)}_.face=j,_.faceIndex=F,c.push(_)}}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),At.prototype=Object.create(Ct.prototype),At.prototype.constructor=At,Rt.prototype=Object.create(Pt.prototype),Rt.prototype.constructor=Rt,Lt.prototype=Object.create(Ct.prototype),Lt.prototype.constructor=Lt,It.prototype=Object.create(Pt.prototype),It.prototype.constructor=It,Dt.prototype=Object.create(ct.prototype),Dt.prototype.constructor=Dt,Dt.prototype.isCamera=!0,Dt.prototype.getWorldDirection=function(){var t=new u;return function(e){var n=e||new c;return this.getWorldQuaternion(t),n.set(0,0,-1).applyQuaternion(t)}}(),Dt.prototype.lookAt=function(){var t=new h;return function(e){t.lookAt(this.position,e,this.up),this.quaternion.setFromRotationMatrix(t)}}(),Dt.prototype.clone=function(){return(new this.constructor).copy(this)},Dt.prototype.copy=function(t){return ct.prototype.copy.call(this,t),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this},Nt.prototype=Object.assign(Object.create(Dt.prototype),{constructor:Nt,isPerspectiveCamera:!0,copy:function(t){return Dt.prototype.copy.call(this,t),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*fs.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*fs.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*fs.RAD2DEG*Math.atan(Math.tan(.5*fs.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,n,r,i,a){this.aspect=t/e,this.view={fullWidth:t,fullHeight:e,offsetX:n,offsetY:r,width:i,height:a},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*fs.DEG2RAD*this.fov)/this.zoom,n=2*e,r=this.aspect*n,i=-.5*r,a=this.view;if(null!==a){var o=a.fullWidth,s=a.fullHeight;i+=a.offsetX*r/o,e-=a.offsetY*n/s,r*=a.width/o,n*=a.height/s}var l=this.filmOffset;0!==l&&(i+=t*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,e,e-n,t,this.far)},toJSON:function(t){var e=ct.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),zt.prototype=Object.assign(Object.create(Dt.prototype),{constructor:zt,isOrthographicCamera:!0,copy:function(t){return Dt.prototype.copy.call(this,t),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this},setViewOffset:function(t,e,n,r,i,a){this.view={fullWidth:t,fullHeight:e,offsetX:n,offsetY:r,width:i,height:a},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-t,a=n+t,o=r+e,s=r-e;if(null!==this.view){var l=this.zoom/(this.view.width/this.view.fullWidth),u=this.zoom/(this.view.height/this.view.fullHeight),c=(this.right-this.left)/this.view.width,h=(this.top-this.bottom)/this.view.height;i+=c*(this.view.offsetX/l),a=i+c*(this.view.width/l),o-=h*(this.view.offsetY/u),s=o-h*(this.view.height/u)}this.projectionMatrix.makeOrthographic(i,a,o,s,this.near,this.far)},toJSON:function(t){var e=ct.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}});var Cs=0;he.prototype.isFogExp2=!0,he.prototype.clone=function(){return new he(this.color.getHex(),this.density)},he.prototype.toJSON=function(t){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},de.prototype.isFog=!0,de.prototype.clone=function(){return new de(this.color.getHex(),this.near,this.far)},de.prototype.toJSON=function(t){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},fe.prototype=Object.create(ct.prototype),fe.prototype.constructor=fe,fe.prototype.copy=function(t,e){return ct.prototype.copy.call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},fe.prototype.toJSON=function(t){var e=ct.prototype.toJSON.call(this,t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e},pe.prototype=Object.assign(Object.create(ct.prototype),{constructor:pe,isLensFlare:!0,copy:function(t){ct.prototype.copy.call(this,t),this.positionScreen.copy(t.positionScreen),this.customUpdateCallback=t.customUpdateCallback;for(var e=0,n=t.lensFlares.length;e<n;e++)this.lensFlares.push(t.lensFlares[e]);return this},add:function(t,e,n,r,i,a){void 0===e&&(e=-1),void 0===n&&(n=0),void 0===a&&(a=1),void 0===i&&(i=new q(16777215)),void 0===r&&(r=ma),n=Math.min(n,Math.max(0,n)),this.lensFlares.push({texture:t,size:e,distance:n,x:0,y:0,z:0,scale:1,rotation:0,opacity:a,color:i,blending:r})},updateLensFlares:function(){var t,e,n=this.lensFlares.length,r=2*-this.positionScreen.x,i=2*-this.positionScreen.y;for(t=0;t<n;t++)e=this.lensFlares[t],e.x=this.positionScreen.x+r*e.distance,e.y=this.positionScreen.y+i*e.distance,e.wantedRotation=e.x*Math.PI*.25,e.rotation+=.25*(e.wantedRotation-e.rotation)}}),me.prototype=Object.create(Q.prototype),me.prototype.constructor=me,me.prototype.copy=function(t){return Q.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.rotation=t.rotation,this},ge.prototype=Object.assign(Object.create(ct.prototype),{constructor:ge,isSprite:!0,raycast:function(){var t=new c;return function(e,n){t.setFromMatrixPosition(this.matrixWorld);var r=e.ray.distanceSqToPoint(t);r>this.scale.x*this.scale.y/4||n.push({distance:Math.sqrt(r),point:this.position,face:null,object:this})}}(),clone:function(){return new this.constructor(this.material).copy(this)}}),ve.prototype=Object.assign(Object.create(ct.prototype),{constructor:ve,copy:function(t){ct.prototype.copy.call(this,t,!1);for(var e=t.levels,n=0,r=e.length;n<r;n++){var i=e[n];this.addLevel(i.object.clone(),i.distance)}return this},addLevel:function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var n=this.levels,r=0;r<n.length&&!(e<n[r].distance);r++);n.splice(r,0,{distance:e,object:t}),this.add(t)},getObjectForDistance:function(t){for(var e=this.levels,n=1,r=e.length;n<r&&!(t<e[n].distance);n++);return e[n-1].object},raycast:function(){var t=new c;return function(e,n){t.setFromMatrixPosition(this.matrixWorld);var r=e.ray.origin.distanceTo(t);this.getObjectForDistance(r).raycast(e,n)}}(),update:function(){var t=new c,e=new c;return function(n){var r=this.levels;if(r.length>1){t.setFromMatrixPosition(n.matrixWorld),e.setFromMatrixPosition(this.matrixWorld);var i=t.distanceTo(e);r[0].object.visible=!0;for(var a=1,o=r.length;a<o&&i>=r[a].distance;a++)r[a-1].object.visible=!1,r[a].object.visible=!0;for(;a<o;a++)r[a].object.visible=!1}}}(),toJSON:function(t){var e=ct.prototype.toJSON.call(this,t);e.object.levels=[];for(var n=this.levels,r=0,i=n.length;r<i;r++){var a=n[r];e.object.levels.push({object:a.object.uuid,distance:a.distance})}return e}}),Object.assign(ye.prototype,{calculateInverses:function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var n=new h;this.bones[t]&&n.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(n)}},pose:function(){for(var t,e=0,n=this.bones.length;e<n;e++)(t=this.bones[e])&&t.matrixWorld.getInverse(this.boneInverses[e]);for(var e=0,n=this.bones.length;e<n;e++)(t=this.bones[e])&&(t.parent&&t.parent.isBone?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},update:function(){var t=new h;return function(){for(var e=0,n=this.bones.length;e<n;e++){var r=this.bones[e]?this.bones[e].matrixWorld:this.identityMatrix;t.multiplyMatrices(r,this.boneInverses[e]),t.toArray(this.boneMatrices,16*e)}this.useVertexTexture&&(this.boneTexture.needsUpdate=!0)}}(),clone:function(){return new ye(this.bones,this.boneInverses,this.useVertexTexture)}}),be.prototype=Object.assign(Object.create(ct.prototype),{constructor:be,isBone:!0}),xe.prototype=Object.assign(Object.create(Ot.prototype),{constructor:xe,isSkinnedMesh:!0,bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){if(this.geometry&&this.geometry.isGeometry)for(var t=0;t<this.geometry.skinWeights.length;t++){var e=this.geometry.skinWeights[t],n=1/e.lengthManhattan();n!==1/0?e.multiplyScalar(n):e.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry)for(var r=new o,i=this.geometry.attributes.skinWeight,t=0;t<i.count;t++){r.x=i.getX(t),r.y=i.getY(t),r.z=i.getZ(t),r.w=i.getW(t);var n=1/r.lengthManhattan();n!==1/0?r.multiplyScalar(n):r.set(1,0,0,0),i.setXYZW(t,r.x,r.y,r.z,r.w)}},updateMatrixWorld:function(t){Ot.prototype.updateMatrixWorld.call(this,!0),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material,this.skeleton.useVertexTexture).copy(this)}}),_e.prototype=Object.create(Q.prototype),_e.prototype.constructor=_e,_e.prototype.isLineBasicMaterial=!0,_e.prototype.copy=function(t){return Q.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this},we.prototype=Object.assign(Object.create(ct.prototype),{constructor:we,isLine:!0,raycast:function(){var t=new h,e=new st,n=new nt;return function(r,i){var a=r.linePrecision,o=a*a,s=this.geometry,l=this.matrixWorld;if(null===s.boundingSphere&&s.computeBoundingSphere(),n.copy(s.boundingSphere),n.applyMatrix4(l),!1!==r.ray.intersectsSphere(n)){t.getInverse(l),e.copy(r.ray).applyMatrix4(t);var u=new c,h=new c,d=new c,f=new c,p=this&&this.isLineSegments?2:1;if(s.isBufferGeometry){var m=s.index,g=s.attributes,v=g.position.array;if(null!==m)for(var y=m.array,b=0,x=y.length-1;b<x;b+=p){var _=y[b],w=y[b+1];u.fromArray(v,3*_),h.fromArray(v,3*w);var M=e.distanceSqToSegment(u,h,f,d);if(!(M>o)){f.applyMatrix4(this.matrixWorld);var S=r.ray.origin.distanceTo(f);S<r.near||S>r.far||i.push({distance:S,point:d.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else for(var b=0,x=v.length/3-1;b<x;b+=p){u.fromArray(v,3*b),h.fromArray(v,3*b+3);var M=e.distanceSqToSegment(u,h,f,d);if(!(M>o)){f.applyMatrix4(this.matrixWorld);var S=r.ray.origin.distanceTo(f);S<r.near||S>r.far||i.push({distance:S,point:d.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}else if(s.isGeometry)for(var E=s.vertices,k=E.length,b=0;b<k-1;b+=p){var M=e.distanceSqToSegment(E[b],E[b+1],f,d);if(!(M>o)){f.applyMatrix4(this.matrixWorld);var S=r.ray.origin.distanceTo(f);S<r.near||S>r.far||i.push({distance:S,point:d.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Me.prototype=Object.assign(Object.create(we.prototype),{constructor:Me,isLineSegments:!0}),Se.prototype=Object.create(Q.prototype),Se.prototype.constructor=Se,Se.prototype.isPointsMaterial=!0,Se.prototype.copy=function(t){return Q.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this},Ee.prototype=Object.assign(Object.create(ct.prototype),{constructor:Ee,isPoints:!0,raycast:function(){var t=new h,e=new st,n=new nt;return function(r,i){function a(t,n){var a=e.distanceSqToPoint(t);if(a<d){var s=e.closestPointToPoint(t);s.applyMatrix4(l);var u=r.ray.origin.distanceTo(s);if(u<r.near||u>r.far)return;i.push({distance:u,distanceToRay:Math.sqrt(a),point:s.clone(),index:n,face:null,object:o})}}var o=this,s=this.geometry,l=this.matrixWorld,u=r.params.Points.threshold;if(null===s.boundingSphere&&s.computeBoundingSphere(),n.copy(s.boundingSphere),n.applyMatrix4(l),!1!==r.ray.intersectsSphere(n)){t.getInverse(l),e.copy(r.ray).applyMatrix4(t);var h=u/((this.scale.x+this.scale.y+this.scale.z)/3),d=h*h,f=new c;if(s.isBufferGeometry){var p=s.index,m=s.attributes,g=m.position.array;if(null!==p)for(var v=p.array,y=0,b=v.length;y<b;y++){var x=v[y];f.fromArray(g,3*x),a(f,x)}else for(var y=0,_=g.length/3;y<_;y++)f.fromArray(g,3*y),a(f,y)}else for(var w=s.vertices,y=0,_=w.length;y<_;y++)a(w[y],y)}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),ke.prototype=Object.assign(Object.create(ct.prototype),{constructor:ke}),Te.prototype=Object.create(a.prototype),Te.prototype.constructor=Te,Ce.prototype=Object.create(a.prototype),Ce.prototype.constructor=Ce,Ce.prototype.isCompressedTexture=!0,Pe.prototype=Object.create(a.prototype),Pe.prototype.constructor=Pe,Oe.prototype=Object.create(a.prototype),Oe.prototype.constructor=Oe,Oe.prototype.isDepthTexture=!0,Ae.prototype=Object.create(Pt.prototype),Ae.prototype.constructor=Ae,Re.prototype=Object.create(Ct.prototype),Re.prototype.constructor=Re,Le.prototype=Object.create(Pt.prototype),Le.prototype.constructor=Le,Ie.prototype=Object.create(Ct.prototype),Ie.prototype.constructor=Ie,De.prototype=Object.create(Pt.prototype),De.prototype.constructor=De,Ne.prototype=Object.create(Ct.prototype),Ne.prototype.constructor=Ne,ze.prototype=Object.create(De.prototype),ze.prototype.constructor=ze,Be.prototype=Object.create(Ct.prototype),Be.prototype.constructor=Be,Fe.prototype=Object.create(De.prototype),Fe.prototype.constructor=Fe,Ue.prototype=Object.create(Ct.prototype),Ue.prototype.constructor=Ue,je.prototype=Object.create(De.prototype),je.prototype.constructor=je,We.prototype=Object.create(Ct.prototype),We.prototype.constructor=We,Ge.prototype=Object.create(De.prototype),Ge.prototype.constructor=Ge,Ve.prototype=Object.create(Ct.prototype),Ve.prototype.constructor=Ve,He.prototype=Object.create(Pt.prototype),He.prototype.constructor=He,Ye.prototype=Object.create(Ct.prototype),Ye.prototype.constructor=Ye,qe.prototype=Object.create(Pt.prototype),qe.prototype.constructor=qe,Xe.prototype=Object.create(Ct.prototype),Xe.prototype.constructor=Xe,Ze.prototype=Object.create(Pt.prototype),Ze.prototype.constructor=Ze;var Ps={area:function(t){for(var e=t.length,n=0,r=e-1,i=0;i<e;r=i++)n+=t[r].x*t[i].y-t[i].x*t[r].y;return.5*n},triangulate:function(){function t(t,e,n,r,i,a){var o,s,l,u,c,h,d,f,p;if(s=t[a[e]].x,l=t[a[e]].y,u=t[a[n]].x,c=t[a[n]].y,h=t[a[r]].x,d=t[a[r]].y,(u-s)*(d-l)-(c-l)*(h-s)<=0)return!1;var m,g,v,y,b,x,_,w,M,S,E,k,T,C,P;for(m=h-u,g=d-c,v=s-h,y=l-d,b=u-s,x=c-l,o=0;o<i;o++)if(f=t[a[o]].x,p=t[a[o]].y,!(f===s&&p===l||f===u&&p===c||f===h&&p===d)&&(_=f-s,w=p-l,M=f-u,S=p-c,E=f-h,k=p-d,P=m*S-g*M,T=b*w-x*_,C=v*k-y*E,P>=-Number.EPSILON&&C>=-Number.EPSILON&&T>=-Number.EPSILON))return!1;return!0}return function(e,n){var r=e.length;if(r<3)return null;var i,a,o,s=[],l=[],u=[];if(Ps.area(e)>0)for(a=0;a<r;a++)l[a]=a;else for(a=0;a<r;a++)l[a]=r-1-a;var c=r,h=2*c;for(a=c-1;c>2;){if(h--<=0)return console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()"),n?u:s;if(i=a,c<=i&&(i=0),a=i+1,c<=a&&(a=0),o=a+1,c<=o&&(o=0),t(e,i,a,o,c,l)){var d,f,p,m,g;for(d=l[i],f=l[a],p=l[o],s.push([e[d],e[f],e[p]]),u.push([l[i],l[a],l[o]]),m=a,g=a+1;g<c;m++,g++)l[m]=l[g];c--,h=2*c}}return n?u:s}}(),triangulateShape:function(t,e){function n(t){var e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function r(t,e,n){return t.x!==e.x?t.x<e.x?t.x<=n.x&&n.x<=e.x:e.x<=n.x&&n.x<=t.x:t.y<e.y?t.y<=n.y&&n.y<=e.y:e.y<=n.y&&n.y<=t.y}function i(t,e,n,i,a){var o=e.x-t.x,s=e.y-t.y,l=i.x-n.x,u=i.y-n.y,c=t.x-n.x,h=t.y-n.y,d=s*l-o*u,f=s*c-o*h;if(Math.abs(d)>Number.EPSILON){var p;if(d>0){if(f<0||f>d)return[];if((p=u*c-l*h)<0||p>d)return[]}else{if(f>0||f<d)return[];if((p=u*c-l*h)>0||p<d)return[]}if(0===p)return!a||0!==f&&f!==d?[t]:[];if(p===d)return!a||0!==f&&f!==d?[e]:[];if(0===f)return[n];if(f===d)return[i];var m=p/d;return[{x:t.x+m*o,y:t.y+m*s}]}if(0!==f||u*c!=l*h)return[];var g=0===o&&0===s,v=0===l&&0===u;if(g&&v)return t.x!==n.x||t.y!==n.y?[]:[t];if(g)return r(n,i,t)?[t]:[];if(v)return r(t,e,n)?[n]:[];var y,b,x,_,w,M,S,E;return 0!==o?(t.x<e.x?(y=t,x=t.x,b=e,_=e.x):(y=e,x=e.x,b=t,_=t.x),n.x<i.x?(w=n,S=n.x,M=i,E=i.x):(w=i,S=i.x,M=n,E=n.x)):(t.y<e.y?(y=t,x=t.y,b=e,_=e.y):(y=e,x=e.y,b=t,_=t.y),n.y<i.y?(w=n,S=n.y,M=i,E=i.y):(w=i,S=i.y,M=n,E=n.y)),x<=S?_<S?[]:_===S?a?[]:[w]:_<=E?[w,b]:[w,M]:x>E?[]:x===E?a?[]:[y]:_<=E?[y,b]:[y,M]}function a(t,e,n,r){var i=e.x-t.x,a=e.y-t.y,o=n.x-t.x,s=n.y-t.y,l=r.x-t.x,u=r.y-t.y,c=i*s-a*o,h=i*u-a*l;if(Math.abs(c)>Number.EPSILON){var d=l*s-u*o;return c>0?h>=0&&d>=0:h>=0||d>=0}return h>0}n(t),e.forEach(n);for(var o,s,l,u,c,h,d={},f=t.concat(),p=0,m=e.length;p<m;p++)Array.prototype.push.apply(f,e[p]);for(o=0,s=f.length;o<s;o++)c=f[o].x+":"+f[o].y,void 0!==d[c]&&console.warn("THREE.ShapeUtils: Duplicate point",c,o),d[c]=o;var g=function(t,e){for(var n,r,o,s,l,u,c,h,d,f,p,m=t.concat(),g=[],v=[],y=0,b=e.length;y<b;y++)g.push(y);for(var x=0,_=2*g.length;g.length>0;){if(--_<0){console.log("Infinite Loop! Holes left:"+g.length+", Probably Hole outside Shape!");break}for(o=x;o<m.length;o++){s=m[o],r=-1;for(var y=0;y<g.length;y++)if(u=g[y],c=s.x+":"+s.y+":"+u,void 0===v[c]){n=e[u];for(var w=0;w<n.length;w++)if(l=n[w],function(t,e){var r=m.length-1,i=t-1;i<0&&(i=r);var o=t+1;o>r&&(o=0);var s=a(m[t],m[i],m[o],n[e]);if(!s)return!1;var l=n.length-1,u=e-1;u<0&&(u=l);var c=e+1;return c>l&&(c=0),!!(s=a(n[e],n[u],n[c],m[t]))}(o,w)&&!function(t,e){var n,r,a;for(n=0;n<m.length;n++)if(r=n+1,r%=m.length,a=i(t,e,m[n],m[r],!0),a.length>0)return!0;return!1}(s,l)&&!function(t,n){var r,a,o,s,l;for(r=0;r<g.length;r++)for(a=e[g[r]],o=0;o<a.length;o++)if(s=o+1,s%=a.length,l=i(t,n,a[o],a[s],!0),l.length>0)return!0;return!1}(s,l)){r=w,g.splice(y,1),h=m.slice(0,o+1),d=m.slice(o),f=n.slice(r),p=n.slice(0,r+1),m=h.concat(f).concat(p).concat(d),x=o;break}if(r>=0)break;v[c]=!0}if(r>=0)break}}return m}(t,e),v=Ps.triangulate(g,!1);for(o=0,s=v.length;o<s;o++)for(u=v[o],l=0;l<3;l++)c=u[l].x+":"+u[l].y,void 0!==(h=d[c])&&(u[l]=h);return v.concat()},isClockWise:function(t){return Ps.area(t)<0}};Ke.prototype=Object.create(Ct.prototype),Ke.prototype.constructor=Ke,Ke.prototype.addShapeList=function(t,e){for(var n=t.length,r=0;r<n;r++){var i=t[r];this.addShape(i,e)}},Ke.prototype.addShape=function(t,e){function n(t,e,n){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(n).add(t)}function r(t,e,n){var r,a,o=1,s=t.x-e.x,l=t.y-e.y,u=n.x-t.x,c=n.y-t.y,h=s*s+l*l,d=s*c-l*u;if(Math.abs(d)>Number.EPSILON){var f=Math.sqrt(h),p=Math.sqrt(u*u+c*c),m=e.x-l/f,g=e.y+s/f,v=n.x-c/p,y=n.y+u/p,b=((v-m)*c-(y-g)*u)/(s*c-l*u);r=m+s*b-t.x,a=g+l*b-t.y;var x=r*r+a*a;if(x<=2)return new i(r,a);o=Math.sqrt(x/2)}else{var _=!1;s>Number.EPSILON?u>Number.EPSILON&&(_=!0):s<-Number.EPSILON?u<-Number.EPSILON&&(_=!0):Math.sign(l)===Math.sign(c)&&(_=!0),_?(r=-l,a=s,o=Math.sqrt(h)):(r=s,a=l,o=Math.sqrt(h/2))}return new i(r/o,a/o)}function a(t,e){var n,r;for(H=t.length;--H>=0;){n=H,r=H-1,r<0&&(r=t.length-1);var i=0,a=_+2*y;for(i=0;i<a;i++){var o=W*i,s=W*(i+1);l(e+n+o,e+r+o,e+r+s,e+n+s,t,i,a,n,r)}}}function o(t,e,n){C.vertices.push(new c(t,e,n))}function s(t,e,n){t+=P,e+=P,n+=P,C.faces.push(new ft(t,e,n,null,null,0));var r=S.generateTopUV(C,t,e,n);C.faceVertexUvs[0].push(r)}function l(t,e,n,r,i,a,o,s,l){t+=P,e+=P,n+=P,r+=P,C.faces.push(new ft(t,e,r,null,null,1)),C.faces.push(new ft(e,n,r,null,null,1));var u=S.generateSideWallUV(C,t,e,n,r);C.faceVertexUvs[0].push([u[0],u[1],u[3]]),C.faceVertexUvs[0].push([u[1],u[2],u[3]])}var u,h,d,f,p,m=void 0!==e.amount?e.amount:100,g=void 0!==e.bevelThickness?e.bevelThickness:6,v=void 0!==e.bevelSize?e.bevelSize:g-2,y=void 0!==e.bevelSegments?e.bevelSegments:3,b=void 0===e.bevelEnabled||e.bevelEnabled,x=void 0!==e.curveSegments?e.curveSegments:12,_=void 0!==e.steps?e.steps:1,w=e.extrudePath,M=!1,S=void 0!==e.UVGenerator?e.UVGenerator:Ke.WorldUVGenerator;w&&(u=w.getSpacedPoints(_),M=!0,b=!1,h=void 0!==e.frames?e.frames:w.computeFrenetFrames(_,!1),d=new c,f=new c,p=new c),b||(y=0,g=0,v=0);var E,k,T,C=this,P=this.vertices.length,O=t.extractPoints(x),A=O.shape,R=O.holes,L=!Ps.isClockWise(A);if(L){for(A=A.reverse(),k=0,T=R.length;k<T;k++)E=R[k],Ps.isClockWise(E)&&(R[k]=E.reverse());L=!1}var I=Ps.triangulateShape(A,R),D=A;for(k=0,T=R.length;k<T;k++)E=R[k],A=A.concat(E);for(var N,z,B,F,U,j,W=A.length,G=I.length,V=[],H=0,Y=D.length,q=Y-1,X=H+1;H<Y;H++,q++,X++)q===Y&&(q=0),X===Y&&(X=0),V[H]=r(D[H],D[q],D[X]);var Z,K=[],J=V.concat();for(k=0,T=R.length;k<T;k++){for(E=R[k],Z=[],H=0,Y=E.length,q=Y-1,X=H+1;H<Y;H++,q++,X++)q===Y&&(q=0),X===Y&&(X=0),Z[H]=r(E[H],E[q],E[X]);K.push(Z),J=J.concat(Z)}for(N=0;N<y;N++){for(B=N/y,F=g*Math.cos(B*Math.PI/2),z=v*Math.sin(B*Math.PI/2),H=0,Y=D.length;H<Y;H++)U=n(D[H],V[H],z),o(U.x,U.y,-F);for(k=0,T=R.length;k<T;k++)for(E=R[k],Z=K[k],H=0,Y=E.length;H<Y;H++)U=n(E[H],Z[H],z),o(U.x,U.y,-F)}for(z=v,H=0;H<W;H++)U=b?n(A[H],J[H],z):A[H],M?(f.copy(h.normals[0]).multiplyScalar(U.x),d.copy(h.binormals[0]).multiplyScalar(U.y),p.copy(u[0]).add(f).add(d),o(p.x,p.y,p.z)):o(U.x,U.y,0);var Q;for(Q=1;Q<=_;Q++)for(H=0;H<W;H++)U=b?n(A[H],J[H],z):A[H],M?(f.copy(h.normals[Q]).multiplyScalar(U.x),d.copy(h.binormals[Q]).multiplyScalar(U.y),p.copy(u[Q]).add(f).add(d),o(p.x,p.y,p.z)):o(U.x,U.y,m/_*Q);for(N=y-1;N>=0;N--){for(B=N/y,F=g*Math.cos(B*Math.PI/2),z=v*Math.sin(B*Math.PI/2),H=0,Y=D.length;H<Y;H++)U=n(D[H],V[H],z),o(U.x,U.y,m+F);for(k=0,T=R.length;k<T;k++)for(E=R[k],Z=K[k],H=0,Y=E.length;H<Y;H++)U=n(E[H],Z[H],z),M?o(U.x,U.y+u[_-1].y,u[_-1].x+F):o(U.x,U.y,m+F)}!function(){if(b){var t=0,e=W*t;for(H=0;H<G;H++)j=I[H],s(j[2]+e,j[1]+e,j[0]+e);for(t=_+2*y,e=W*t,H=0;H<G;H++)j=I[H],s(j[0]+e,j[1]+e,j[2]+e)}else{for(H=0;H<G;H++)j=I[H],s(j[2],j[1],j[0]);for(H=0;H<G;H++)j=I[H],s(j[0]+W*_,j[1]+W*_,j[2]+W*_)}}(),function(){var t=0;for(a(D,t),t+=D.length,k=0,T=R.length;k<T;k++)E=R[k],a(E,t),t+=E.length}()},Ke.WorldUVGenerator={generateTopUV:function(t,e,n,r){var a=t.vertices,o=a[e],s=a[n],l=a[r];return[new i(o.x,o.y),new i(s.x,s.y),new i(l.x,l.y)]},generateSideWallUV:function(t,e,n,r,a){var o=t.vertices,s=o[e],l=o[n],u=o[r],c=o[a];return Math.abs(s.y-l.y)<.01?[new i(s.x,1-s.z),new i(l.x,1-l.z),new i(u.x,1-u.z),new i(c.x,1-c.z)]:[new i(s.y,1-s.z),new i(l.y,1-l.z),new i(u.y,1-u.z),new i(c.y,1-c.z)]}},Je.prototype=Object.create(Ke.prototype),Je.prototype.constructor=Je,Qe.prototype=Object.create(Ct.prototype),Qe.prototype.constructor=Qe,$e.prototype=Object.create(Pt.prototype),$e.prototype.constructor=$e,tn.prototype=Object.create(Ct.prototype),tn.prototype.constructor=tn,en.prototype=Object.create(Pt.prototype),en.prototype.constructor=en,nn.prototype=Object.create(Ct.prototype),nn.prototype.constructor=nn,rn.prototype=Object.create(Pt.prototype),rn.prototype.constructor=rn,an.prototype=Object.create(Ct.prototype),an.prototype.constructor=an,on.prototype=Object.create(Pt.prototype),on.prototype.constructor=on,sn.prototype=Object.create(Pt.prototype),sn.prototype.constructor=sn,ln.prototype=Object.create(Ct.prototype),ln.prototype.constructor=ln,un.prototype=Object.create(Pt.prototype),un.prototype.constructor=un,cn.prototype=Object.create(ln.prototype),cn.prototype.constructor=cn,hn.prototype=Object.create(un.prototype),hn.prototype.constructor=hn,dn.prototype=Object.create(Ct.prototype),dn.prototype.constructor=dn,fn.prototype=Object.create(Pt.prototype),fn.prototype.constructor=fn;var Os=Object.freeze({WireframeGeometry:Ae,ParametricGeometry:Re,ParametricBufferGeometry:Le,TetrahedronGeometry:Ne,TetrahedronBufferGeometry:ze,OctahedronGeometry:Be,OctahedronBufferGeometry:Fe,IcosahedronGeometry:Ue,IcosahedronBufferGeometry:je,DodecahedronGeometry:We,DodecahedronBufferGeometry:Ge,PolyhedronGeometry:Ie,PolyhedronBufferGeometry:De,TubeGeometry:Ve,TubeBufferGeometry:He,TorusKnotGeometry:Ye,TorusKnotBufferGeometry:qe,TorusGeometry:Xe,TorusBufferGeometry:Ze,TextGeometry:Je,SphereGeometry:Qe,SphereBufferGeometry:$e,RingGeometry:tn,RingBufferGeometry:en,PlaneGeometry:Lt,PlaneBufferGeometry:It,LatheGeometry:nn,LatheBufferGeometry:rn,ShapeGeometry:an,ShapeBufferGeometry:on,ExtrudeGeometry:Ke,EdgesGeometry:sn,ConeGeometry:cn,ConeBufferGeometry:hn,CylinderGeometry:ln,CylinderBufferGeometry:un,CircleGeometry:dn,CircleBufferGeometry:fn,BoxGeometry:At,BoxBufferGeometry:Rt});pn.prototype=Object.create($.prototype),pn.prototype.constructor=pn,pn.prototype.isShadowMaterial=!0,mn.prototype=Object.create($.prototype),mn.prototype.constructor=mn,mn.prototype.isRawShaderMaterial=!0,gn.prototype={constructor:gn,isMultiMaterial:!0,toJSON:function(t){for(var e={metadata:{version:4.2,type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type,materials:[]},n=this.materials,r=0,i=n.length;r<i;r++){var a=n[r].toJSON(t);delete a.metadata,e.materials.push(a)}return e.visible=this.visible,e},clone:function(){for(var t=new this.constructor,e=0;e<this.materials.length;e++)t.materials.push(this.materials[e].clone());return t.visible=this.visible,t}},vn.prototype=Object.create(Q.prototype),vn.prototype.constructor=vn,vn.prototype.isMeshStandardMaterial=!0,vn.prototype.copy=function(t){return Q.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},yn.prototype=Object.create(vn.prototype),yn.prototype.constructor=yn,yn.prototype.isMeshPhysicalMaterial=!0,yn.prototype.copy=function(t){return vn.prototype.copy.call(this,t),this.defines={PHYSICAL:""},this.reflectivity=t.reflectivity,this.clearCoat=t.clearCoat,this.clearCoatRoughness=t.clearCoatRoughness,this},bn.prototype=Object.create(Q.prototype),bn.prototype.constructor=bn,bn.prototype.isMeshPhongMaterial=!0,bn.prototype.copy=function(t){return Q.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},xn.prototype=Object.create(bn.prototype),xn.prototype.constructor=xn,xn.prototype.isMeshToonMaterial=!0,xn.prototype.copy=function(t){return bn.prototype.copy.call(this,t),this.gradientMap=t.gradientMap,this},_n.prototype=Object.create(Q.prototype),_n.prototype.constructor=_n,_n.prototype.isMeshNormalMaterial=!0,_n.prototype.copy=function(t){return Q.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},wn.prototype=Object.create(Q.prototype),wn.prototype.constructor=wn,wn.prototype.isMeshLambertMaterial=!0,wn.prototype.copy=function(t){return Q.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Mn.prototype=Object.create(Q.prototype),Mn.prototype.constructor=Mn,Mn.prototype.isLineDashedMaterial=!0,Mn.prototype.copy=function(t){return Q.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var As=Object.freeze({ShadowMaterial:pn,SpriteMaterial:me,RawShaderMaterial:mn,ShaderMaterial:$,PointsMaterial:Se,MultiMaterial:gn,MeshPhysicalMaterial:yn,MeshStandardMaterial:vn,MeshPhongMaterial:bn,MeshToonMaterial:xn,MeshNormalMaterial:_n,MeshLambertMaterial:wn,MeshDepthMaterial:tt,MeshBasicMaterial:pt,LineDashedMaterial:Mn,LineBasicMaterial:_e,Material:Q}),Rs={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}},Ls=new Sn;Object.assign(En.prototype,{load:function(t,e,n,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t);var i=this,a=Rs.get(t);if(void 0!==a)return i.manager.itemStart(t),setTimeout(function(){e&&e(a),i.manager.itemEnd(t)},0),a;var o=/^data:(.*?)(;base64)?,(.*)$/,s=t.match(o);if(s){var l=s[1],u=!!s[2],c=s[3];c=window.decodeURIComponent(c),u&&(c=window.atob(c));try{var h,d=(this.responseType||"").toLowerCase();switch(d){case"arraybuffer":case"blob":h=new ArrayBuffer(c.length);for(var f=new Uint8Array(h),p=0;p<c.length;p++)f[p]=c.charCodeAt(p);"blob"===d&&(h=new Blob([h],{type:l}));break;case"document":var m=new DOMParser;h=m.parseFromString(c,l);break;case"json":h=JSON.parse(c);break;default:h=c}window.setTimeout(function(){e&&e(h),i.manager.itemEnd(t)},0)}catch(e){window.setTimeout(function(){r&&r(e),i.manager.itemError(t)},0)}}else{var g=new XMLHttpRequest;g.open("GET",t,!0),g.addEventListener("load",function(n){var a=n.target.response;Rs.add(t,a),200===this.status?(e&&e(a),i.manager.itemEnd(t)):0===this.status?(console.warn("THREE.FileLoader: HTTP Status 0 received."),e&&e(a),i.manager.itemEnd(t)):(r&&r(n),i.manager.itemError(t))},!1),void 0!==n&&g.addEventListener("progress",function(t){n(t)},!1),g.addEventListener("error",function(e){r&&r(e),i.manager.itemError(t)},!1),void 0!==this.responseType&&(g.responseType=this.responseType),void 0!==this.withCredentials&&(g.withCredentials=this.withCredentials),g.overrideMimeType&&g.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),g.send(null)}return i.manager.itemStart(t),g},setPath:function(t){return this.path=t,this},setResponseType:function(t){return this.responseType=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setMimeType:function(t){return this.mimeType=t,this}}),Object.assign(kn.prototype,{load:function(t,e,n,r){var i=this,a=[],o=new Ce;o.image=a;var s=new En(this.manager);if(s.setPath(this.path),s.setResponseType("arraybuffer"),Array.isArray(t))for(var l=0,u=0,c=t.length;u<c;++u)!function(u){s.load(t[u],function(t){var n=i._parser(t,!0);a[u]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(l+=1)&&(1===n.mipmapCount&&(o.minFilter=fo),o.format=n.format,o.needsUpdate=!0,e&&e(o))},n,r)}(u);else s.load(t,function(t){var n=i._parser(t,!0);if(n.isCubemap)for(var r=n.mipmaps.length/n.mipmapCount,s=0;s<r;s++){a[s]={mipmaps:[]};for(var l=0;l<n.mipmapCount;l++)a[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+l]),a[s].format=n.format,a[s].width=n.width,a[s].height=n.height}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=fo),o.format=n.format,o.needsUpdate=!0,e&&e(o)},n,r);return o},setPath:function(t){return this.path=t,this}}),Object.assign(Tn.prototype,{load:function(t,e,n,r){var i=this,a=new X,o=new En(this.manager);return o.setResponseType("arraybuffer"),o.load(t,function(t){var n=i._parser(t);n&&(void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:so,a.wrapT=void 0!==n.wrapT?n.wrapT:so,a.magFilter=void 0!==n.magFilter?n.magFilter:fo,a.minFilter=void 0!==n.minFilter?n.minFilter:mo,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps),1===n.mipmapCount&&(a.minFilter=fo),a.needsUpdate=!0,e&&e(a,n))},n,r),a}}),Object.assign(Cn.prototype,{load:function(t,e,n,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t);var i=this,a=Rs.get(t);if(void 0!==a)return i.manager.itemStart(t),setTimeout(function(){e&&e(a),i.manager.itemEnd(t)},0),a;var o=document.createElementNS("http://www.w3.org/1999/xhtml","img");return o.addEventListener("load",function(){Rs.add(t,this),e&&e(this),i.manager.itemEnd(t)},!1),o.addEventListener("error",function(e){r&&r(e),i.manager.itemError(t)},!1),void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),i.manager.itemStart(t),o.src=t,o},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(Pn.prototype,{load:function(t,e,n,r){var i=new d,a=new Cn(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);for(var o=0,s=0;s<t.length;++s)!function(n){a.load(t[n],function(t){i.images[n]=t,6==++o&&(i.needsUpdate=!0,e&&e(i))},void 0,r)}(s);return i},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(On.prototype,{load:function(t,e,n,r){var i=new a,o=new Cn(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,function(n){var r=t.search(/\.(jpg|jpeg)$/)>0||0===t.search(/^data\:image\/jpeg/);i.format=r?Po:Oo,i.image=n,i.needsUpdate=!0,void 0!==e&&e(i)},n,r),i},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),An.prototype=Object.assign(Object.create(ct.prototype),{constructor:An,isLight:!0,copy:function(t){return ct.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){var e=ct.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),Rn.prototype=Object.assign(Object.create(An.prototype),{constructor:Rn,isHemisphereLight:!0,copy:function(t){return An.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Object.assign(Ln.prototype,{copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),In.prototype=Object.assign(Object.create(Ln.prototype),{constructor:In,isSpotLightShadow:!0,update:function(t){var e=2*fs.RAD2DEG*t.angle,n=this.mapSize.width/this.mapSize.height,r=t.distance||500,i=this.camera;e===i.fov&&n===i.aspect&&r===i.far||(i.fov=e,i.aspect=n,i.far=r,i.updateProjectionMatrix())}}),Dn.prototype=Object.assign(Object.create(An.prototype),{constructor:Dn,isSpotLight:!0,copy:function(t){return An.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Nn.prototype=Object.assign(Object.create(An.prototype),{constructor:Nn,isPointLight:!0,copy:function(t){return An.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),zn.prototype=Object.assign(Object.create(Ln.prototype),{constructor:zn}),Bn.prototype=Object.assign(Object.create(An.prototype),{constructor:Bn,isDirectionalLight:!0,copy:function(t){return An.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Fn.prototype=Object.assign(Object.create(An.prototype),{constructor:Fn,isAmbientLight:!0});var Is={arraySlice:function(t,e,n){return Is.isTypedArray(t)?new t.constructor(t.subarray(e,n)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){function e(e,n){return t[e]-t[n]}for(var n=t.length,r=new Array(n),i=0;i!==n;++i)r[i]=i;return r.sort(e),r},sortedArray:function(t,e,n){for(var r=t.length,i=new t.constructor(r),a=0,o=0;o!==r;++a)for(var s=n[a]*e,l=0;l!==e;++l)i[o++]=t[s+l];return i},flattenJSON:function(t,e,n,r){for(var i=1,a=t[0];void 0!==a&&void 0===a[r];)a=t[i++];if(void 0!==a){var o=a[r];if(void 0!==o)if(Array.isArray(o))do{o=a[r],void 0!==o&&(e.push(a.time),n.push.apply(n,o)),a=t[i++]}while(void 0!==a);else if(void 0!==o.toArray)do{o=a[r],void 0!==o&&(e.push(a.time),o.toArray(n,n.length)),a=t[i++]}while(void 0!==a);else do{o=a[r],void 0!==o&&(e.push(a.time),n.push(o)),a=t[i++]}while(void 0!==a)}}};Un.prototype={constructor:Un,evaluate:function(t){var e=this.parameterPositions,n=this._cachedIndex,r=e[n],i=e[n-1];t:{e:{var a;n:{r:if(!(t<r)){for(var o=n+2;;){if(void 0===r){if(t<i)break r;return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,t,i)}if(n===o)break;if(i=r,r=e[++n],t<r)break e}a=e.length;break n}{if(t>=i)break t;var s=e[1];t<s&&(n=2,i=s);for(var o=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,t,r);if(n===o)break;if(r=i,i=e[--n-1],t>=i)break e}a=n,n=0}}for(;n<a;){var l=n+a>>>1;t<e[l]?a=l:n=l+1}if(r=e[n],void 0===(i=e[n-1]))return this._cachedIndex=0,this.beforeStart_(0,t,r);if(void 0===r)return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,i,t)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,t,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){for(var e=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=t*r,a=0;a!==r;++a)e[a]=n[i+a];return e},interpolate_:function(t,e,n,r){throw new Error("call to abstract method")},intervalChanged_:function(t,e,n){}},Object.assign(Un.prototype,{beforeStart_:Un.prototype.copySampleValue_,afterEnd_:Un.prototype.copySampleValue_}),jn.prototype=Object.assign(Object.create(Un.prototype),{constructor:jn,DefaultSettings_:{endingStart:Jo,endingEnd:Jo},intervalChanged_:function(t,e,n){var r=this.parameterPositions,i=t-2,a=t+1,o=r[i],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case Qo:i=t,o=2*e-n;break;case $o:i=r.length-2,o=e+r[i]-r[i+1];break;default:i=t,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case Qo:a=t,s=2*n-e;break;case $o:a=1,s=n+r[1]-r[0];break;default:a=t-1,s=e}var l=.5*(n-e),u=this.valueSize;this._weightPrev=l/(e-o),this._weightNext=l/(s-n),this._offsetPrev=i*u,this._offsetNext=a*u},interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,l=s-o,u=this._offsetPrev,c=this._offsetNext,h=this._weightPrev,d=this._weightNext,f=(n-e)/(r-e),p=f*f,m=p*f,g=-h*m+2*h*p-h*f,v=(1+h)*m+(-1.5-2*h)*p+(-.5+h)*f+1,y=(-1-d)*m+(1.5+d)*p+.5*f,b=d*m-d*p,x=0;x!==o;++x)i[x]=g*a[u+x]+v*a[l+x]+y*a[s+x]+b*a[c+x];return i}}),Wn.prototype=Object.assign(Object.create(Un.prototype),{constructor:Wn,interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,l=s-o,u=(n-e)/(r-e),c=1-u,h=0;h!==o;++h)i[h]=a[l+h]*c+a[s+h]*u;return i}}),Gn.prototype=Object.assign(Object.create(Un.prototype),{constructor:Gn,interpolate_:function(t,e,n,r){return this.copySampleValue_(t-1)}});var Ds;Ds={TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:Zo,InterpolantFactoryMethodDiscrete:function(t){return new Gn(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new Wn(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new jn(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){var e;switch(t){case Xo:e=this.InterpolantFactoryMethodDiscrete;break;case Zo:e=this.InterpolantFactoryMethodLinear;break;case Ko:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return void console.warn(n)}this.createInterpolant=e},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Xo;case this.InterpolantFactoryMethodLinear:return Zo;case this.InterpolantFactoryMethodSmooth:return Ko}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,n=0,r=e.length;n!==r;++n)e[n]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,n=0,r=e.length;n!==r;++n)e[n]*=t;return this},trim:function(t,e){for(var n=this.times,r=n.length,i=0,a=r-1;i!==r&&n[i]<t;)++i;for(;-1!==a&&n[a]>e;)--a;if(++a,0!==i||a!==r){i>=a&&(a=Math.max(a,1),i=a-1);var o=this.getValueSize();this.times=Is.arraySlice(n,i,a),this.values=Is.arraySlice(this.values,i*o,a*o)}return this},validate:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("invalid value size in track",this),t=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("track is empty",this),t=!1);for(var a=null,o=0;o!==i;o++){var s=n[o];if("number"==typeof s&&isNaN(s)){console.error("time is not a valid number",this,o,s),t=!1;break}if(null!==a&&a>s){console.error("out of order keys",this,o,s,a),t=!1;break}a=s}if(void 0!==r&&Is.isTypedArray(r))for(var o=0,l=r.length;o!==l;++o){var u=r[o];if(isNaN(u)){console.error("value is not a valid number",this,o,u),t=!1;break}}return t},optimize:function(){for(var t=this.times,e=this.values,n=this.getValueSize(),r=this.getInterpolation()===Ko,i=1,a=t.length-1,o=1;o<a;++o){var s=!1,l=t[o];if(l!==t[o+1]&&(1!==o||l!==l[0]))if(r)s=!0;else for(var u=o*n,c=u-n,h=u+n,d=0;d!==n;++d){var f=e[u+d];if(f!==e[c+d]||f!==e[h+d]){s=!0;break}}if(s){if(o!==i){t[i]=t[o];for(var p=o*n,m=i*n,d=0;d!==n;++d)e[m+d]=e[p+d]}++i}}if(a>0){t[i]=t[a];for(var p=a*n,m=i*n,d=0;d!==n;++d)e[m+d]=e[p+d];++i}return i!==t.length&&(this.times=Is.arraySlice(t,0,i),this.values=Is.arraySlice(e,0,i*n)),this}},Hn.prototype=Object.assign(Object.create(Ds),{constructor:Hn,ValueTypeName:"vector"}),Yn.prototype=Object.assign(Object.create(Un.prototype),{constructor:Yn,interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,l=(n-e)/(r-e),c=s+o;s!==c;s+=4)u.slerpFlat(i,0,a,s-o,a,s,l);return i}}),qn.prototype=Object.assign(Object.create(Ds),{constructor:qn,ValueTypeName:"quaternion",DefaultInterpolation:Zo,InterpolantFactoryMethodLinear:function(t){return new Yn(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),Xn.prototype=Object.assign(Object.create(Ds),{constructor:Xn,ValueTypeName:"number"}),Zn.prototype=Object.assign(Object.create(Ds),{constructor:Zn,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:Xo,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Kn.prototype=Object.assign(Object.create(Ds),{constructor:Kn,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:Xo,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Jn.prototype=Object.assign(Object.create(Ds),{constructor:Jn,ValueTypeName:"color"}),Qn.prototype=Ds,Ds.constructor=Qn,Object.assign(Qn,{parse:function(t){if(void 0===t.type)throw new Error("track type undefined, can not parse");var e=Qn._getTrackTypeForValueTypeName(t.type);if(void 0===t.times){var n=[],r=[];Is.flattenJSON(t.keys,n,r,"value"),t.times=n,t.values=r}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)},toJSON:function(t){var e,n=t.constructor;if(void 0!==n.toJSON)e=n.toJSON(t);else{e={name:t.name,times:Is.convertArray(t.times,Array),values:Is.convertArray(t.values,Array)};var r=t.getInterpolation();r!==t.DefaultInterpolation&&(e.interpolation=r)}return e.type=t.ValueTypeName,e},_getTrackTypeForValueTypeName:function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Xn;case"vector":case"vector2":case"vector3":case"vector4":return Hn;case"color":return Jn;case"quaternion":return qn;case"bool":case"boolean":return Kn;case"string":return Zn}throw new Error("Unsupported typeName: "+t)}}),$n.prototype={constructor:$n,resetDuration:function(){for(var t=this.tracks,e=0,n=0,r=t.length;n!==r;++n){var i=this.tracks[n];e=Math.max(e,i.times[i.times.length-1])}this.duration=e},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}},Object.assign($n,{parse:function(t){for(var e=[],n=t.tracks,r=1/(t.fps||1),i=0,a=n.length;i!==a;++i)e.push(Qn.parse(n[i]).scale(r));return new $n(t.name,t.duration,e)},toJSON:function(t){for(var e=[],n=t.tracks,r={name:t.name,duration:t.duration,tracks:e},i=0,a=n.length;i!==a;++i)e.push(Qn.toJSON(n[i]));return r},CreateFromMorphTargetSequence:function(t,e,n,r){for(var i=e.length,a=[],o=0;o<i;o++){var s=[],l=[];s.push((o+i-1)%i,o,(o+1)%i),l.push(0,1,0);var u=Is.getKeyframeOrder(s);s=Is.sortedArray(s,1,u),l=Is.sortedArray(l,1,u),r||0!==s[0]||(s.push(i),l.push(l[0])),a.push(new Xn(".morphTargetInfluences["+e[o].name+"]",s,l).scale(1/n))}return new $n(t,-1,a)},findByName:function(t,e){var n=t;if(!Array.isArray(t)){var r=t;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===e)return n[i];return null},CreateClipsFromMorphTargetSequences:function(t,e,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,a=0,o=t.length;a<o;a++){var s=t[a],l=s.name.match(i);if(l&&l.length>1){var u=l[1],c=r[u];c||(r[u]=c=[]),c.push(s)}}var h=[];for(var u in r)h.push($n.CreateFromMorphTargetSequence(u,r[u],e,n));return h},parseAnimation:function(t,e){if(!t)return console.error("  no animation in JSONLoader data"),null;for(var n=function(t,e,n,r,i){if(0!==n.length){var a=[],o=[];Is.flattenJSON(n,a,o,r),0!==a.length&&i.push(new t(e,a,o))}},r=[],i=t.name||"default",a=t.length||-1,o=t.fps||30,s=t.hierarchy||[],l=0;l<s.length;l++){var u=s[l].keys;if(u&&0!==u.length)if(u[0].morphTargets){for(var c={},h=0;h<u.length;h++)if(u[h].morphTargets)for(var d=0;d<u[h].morphTargets.length;d++)c[u[h].morphTargets[d]]=-1;for(var f in c){for(var p=[],m=[],d=0;d!==u[h].morphTargets.length;++d){var g=u[h];p.push(g.time),m.push(g.morphTarget===f?1:0)}r.push(new Xn(".morphTargetInfluence["+f+"]",p,m))}a=c.length*(o||1)}else{var v=".bones["+e[l].name+"]";n(Hn,v+".position",u,"pos",r),n(qn,v+".quaternion",u,"rot",r),n(Hn,v+".scale",u,"scl",r)}}return 0===r.length?null:new $n(i,a,r)}}),Object.assign(tr.prototype,{load:function(t,e,n,r){var i=this;new En(i.manager).load(t,function(t){e(i.parse(JSON.parse(t)))},n,r)},setTextures:function(t){this.textures=t},parse:function(t){function e(t){return void 0===n[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),n[t]}var n=this.textures,r=new As[t.type];if(void 0!==t.uuid&&(r.uuid=t.uuid),void 0!==t.name&&(r.name=t.name),void 0!==t.color&&r.color.setHex(t.color),void 0!==t.roughness&&(r.roughness=t.roughness),void 0!==t.metalness&&(r.metalness=t.metalness),void 0!==t.emissive&&r.emissive.setHex(t.emissive),void 0!==t.specular&&r.specular.setHex(t.specular),void 0!==t.shininess&&(r.shininess=t.shininess),void 0!==t.clearCoat&&(r.clearCoat=t.clearCoat),void 0!==t.clearCoatRoughness&&(r.clearCoatRoughness=t.clearCoatRoughness),void 0!==t.uniforms&&(r.uniforms=t.uniforms),void 0!==t.vertexShader&&(r.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(r.fragmentShader=t.fragmentShader),void 0!==t.vertexColors&&(r.vertexColors=t.vertexColors),void 0!==t.fog&&(r.fog=t.fog),void 0!==t.shading&&(r.shading=t.shading),void 0!==t.blending&&(r.blending=t.blending),void 0!==t.side&&(r.side=t.side),void 0!==t.opacity&&(r.opacity=t.opacity),void 0!==t.transparent&&(r.transparent=t.transparent),void 0!==t.alphaTest&&(r.alphaTest=t.alphaTest),void 0!==t.depthTest&&(r.depthTest=t.depthTest),void 0!==t.depthWrite&&(r.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(r.colorWrite=t.colorWrite),void 0!==t.wireframe&&(r.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(r.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(r.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(r.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.skinning&&(r.skinning=t.skinning),void 0!==t.morphTargets&&(r.morphTargets=t.morphTargets),void 0!==t.size&&(r.size=t.size),void 0!==t.sizeAttenuation&&(r.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(r.map=e(t.map)),void 0!==t.alphaMap&&(r.alphaMap=e(t.alphaMap),r.transparent=!0),void 0!==t.bumpMap&&(r.bumpMap=e(t.bumpMap)),void 0!==t.bumpScale&&(r.bumpScale=t.bumpScale),void 0!==t.normalMap&&(r.normalMap=e(t.normalMap)),void 0!==t.normalScale){var a=t.normalScale;!1===Array.isArray(a)&&(a=[a,a]),r.normalScale=(new i).fromArray(a)}if(void 0!==t.displacementMap&&(r.displacementMap=e(t.displacementMap)),void 0!==t.displacementScale&&(r.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(r.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(r.roughnessMap=e(t.roughnessMap)),void 0!==t.metalnessMap&&(r.metalnessMap=e(t.metalnessMap)),void 0!==t.emissiveMap&&(r.emissiveMap=e(t.emissiveMap)),void 0!==t.emissiveIntensity&&(r.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(r.specularMap=e(t.specularMap)),void 0!==t.envMap&&(r.envMap=e(t.envMap)),void 0!==t.reflectivity&&(r.reflectivity=t.reflectivity),void 0!==t.lightMap&&(r.lightMap=e(t.lightMap)),void 0!==t.lightMapIntensity&&(r.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(r.aoMap=e(t.aoMap)),void 0!==t.aoMapIntensity&&(r.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(r.gradientMap=e(t.gradientMap)),void 0!==t.materials)for(var o=0,s=t.materials.length;o<s;o++)r.materials.push(this.parse(t.materials[o]));return r}}),Object.assign(er.prototype,{load:function(t,e,n,r){var i=this;new En(i.manager).load(t,function(t){e(i.parse(JSON.parse(t)))},n,r)},parse:function(t){var e=new Pt,n=t.data.index,r={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};if(void 0!==n){var i=new r[n.type](n.array);e.setIndex(new mt(i,1))}var a=t.data.attributes;for(var o in a){var s=a[o],i=new r[s.type](s.array);e.addAttribute(o,new mt(i,s.itemSize,s.normalized))}var l=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==l)for(var u=0,h=l.length;u!==h;++u){var d=l[u];e.addGroup(d.start,d.count,d.materialIndex)}var f=t.data.boundingSphere;if(void 0!==f){var p=new c;void 0!==f.center&&p.fromArray(f.center),e.boundingSphere=new nt(p,f.radius)}return e}}),nr.prototype={constructor:nr,crossOrigin:void 0,extractUrlBase:function(t){var e=t.split("/");return 1===e.length?"./":(e.pop(),e.join("/")+"/")},initMaterials:function(t,e,n){for(var r=[],i=0;i<t.length;++i)r[i]=this.createMaterial(t[i],e,n);return r},createMaterial:function(){var t,e,n,r={NoBlending:pa,NormalBlending:ma,AdditiveBlending:ga,SubtractiveBlending:va,MultiplyBlending:ya,CustomBlending:ba};return function(i,a,o){function s(t,n,r,i,s){var u,c=a+t,h=nr.Handlers.get(c);null!==h?u=h.load(c):(e.setCrossOrigin(o),u=e.load(c)),void 0!==n&&(u.repeat.fromArray(n),1!==n[0]&&(u.wrapS=oo),1!==n[1]&&(u.wrapT=oo)),void 0!==r&&u.offset.fromArray(r),void 0!==i&&("repeat"===i[0]&&(u.wrapS=oo),"mirror"===i[0]&&(u.wrapS=lo),"repeat"===i[1]&&(u.wrapT=oo),"mirror"===i[1]&&(u.wrapT=lo)),void 0!==s&&(u.anisotropy=s);var d=fs.generateUUID();return l[d]=u,d}void 0===t&&(t=new q),void 0===e&&(e=new On),void 0===n&&(n=new tr);var l={},u={uuid:fs.generateUUID(),type:"MeshLambertMaterial"};for(var c in i){var h=i[c];switch(c){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":u.name=h;break;case"blending":u.blending=r[h];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",c,"is no longer supported.");break;case"colorDiffuse":u.color=t.fromArray(h).getHex();break;case"colorSpecular":u.specular=t.fromArray(h).getHex();break;case"colorEmissive":u.emissive=t.fromArray(h).getHex();break;case"specularCoef":u.shininess=h;break;case"shading":"basic"===h.toLowerCase()&&(u.type="MeshBasicMaterial"),"phong"===h.toLowerCase()&&(u.type="MeshPhongMaterial"),"standard"===h.toLowerCase()&&(u.type="MeshStandardMaterial");break;case"mapDiffuse":u.map=s(h,i.mapDiffuseRepeat,i.mapDiffuseOffset,i.mapDiffuseWrap,i.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":u.emissiveMap=s(h,i.mapEmissiveRepeat,i.mapEmissiveOffset,i.mapEmissiveWrap,i.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":u.lightMap=s(h,i.mapLightRepeat,i.mapLightOffset,i.mapLightWrap,i.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":u.aoMap=s(h,i.mapAORepeat,i.mapAOOffset,i.mapAOWrap,i.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":u.bumpMap=s(h,i.mapBumpRepeat,i.mapBumpOffset,i.mapBumpWrap,i.mapBumpAnisotropy);break;case"mapBumpScale":u.bumpScale=h;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":u.normalMap=s(h,i.mapNormalRepeat,i.mapNormalOffset,i.mapNormalWrap,i.mapNormalAnisotropy);break;case"mapNormalFactor":u.normalScale=[h,h];break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":u.specularMap=s(h,i.mapSpecularRepeat,i.mapSpecularOffset,i.mapSpecularWrap,i.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":u.metalnessMap=s(h,i.mapMetalnessRepeat,i.mapMetalnessOffset,i.mapMetalnessWrap,i.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":u.roughnessMap=s(h,i.mapRoughnessRepeat,i.mapRoughnessOffset,i.mapRoughnessWrap,i.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":u.alphaMap=s(h,i.mapAlphaRepeat,i.mapAlphaOffset,i.mapAlphaWrap,i.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":u.side=sa;break;case"doubleSided":u.side=la;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),u.opacity=h;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":u[c]=h;break;case"vertexColors":!0===h&&(u.vertexColors=fa),"face"===h&&(u.vertexColors=da);break;default:console.error("THREE.Loader.createMaterial: Unsupported",c,h)}}return"MeshBasicMaterial"===u.type&&delete u.emissive,"MeshPhongMaterial"!==u.type&&delete u.specular,u.opacity<1&&(u.transparent=!0),n.setTextures(l),n.parse(u)}}()},nr.Handlers={handlers:[],add:function(t,e){this.handlers.push(t,e)},get:function(t){for(var e=this.handlers,n=0,r=e.length;n<r;n+=2){var i=e[n],a=e[n+1];if(i.test(t))return a}return null}},Object.assign(rr.prototype,{load:function(t,e,n,r){var i=this,a=this.texturePath&&"string"==typeof this.texturePath?this.texturePath:nr.prototype.extractUrlBase(t),o=new En(this.manager);o.setWithCredentials(this.withCredentials),o.load(t,function(n){var r=JSON.parse(n),o=r.metadata;if(void 0!==o){var s=o.type;if(void 0!==s){if("object"===s.toLowerCase())return void console.error("THREE.JSONLoader: "+t+" should be loaded with THREE.ObjectLoader instead.");if("scene"===s.toLowerCase())return void console.error("THREE.JSONLoader: "+t+" should be loaded with THREE.SceneLoader instead.")}}var l=i.parse(r,a);e(l.geometry,l.materials)},n,r)},setTexturePath:function(t){this.texturePath=t},parse:function(t,e){var n=new Ct,r=void 0!==t.scale?1/t.scale:1;if(function(e){function r(t,e){return t&1<<e}var a,o,s,l,u,h,d,f,p,m,g,v,y,b,x,_,w,M,S,E,k,T,C,P,O,A,R,L=t.faces,I=t.vertices,D=t.normals,N=t.colors,z=0;if(void 0!==t.uvs){for(a=0;a<t.uvs.length;a++)t.uvs[a].length&&z++;for(a=0;a<z;a++)n.faceVertexUvs[a]=[]}for(l=0,u=I.length;l<u;)M=new c,M.x=I[l++]*e,M.y=I[l++]*e,M.z=I[l++]*e,n.vertices.push(M);for(l=0,u=L.length;l<u;)if(m=L[l++],g=r(m,0),v=r(m,1),y=r(m,3),b=r(m,4),x=r(m,5),_=r(m,6),w=r(m,7),g){if(E=new ft,E.a=L[l],E.b=L[l+1],E.c=L[l+3],k=new ft,k.a=L[l+1],k.b=L[l+2],k.c=L[l+3],l+=4,v&&(p=L[l++],E.materialIndex=p,k.materialIndex=p),s=n.faces.length,y)for(a=0;a<z;a++)for(P=t.uvs[a],n.faceVertexUvs[a][s]=[],n.faceVertexUvs[a][s+1]=[],o=0;o<4;o++)f=L[l++],A=P[2*f],R=P[2*f+1],O=new i(A,R),2!==o&&n.faceVertexUvs[a][s].push(O),0!==o&&n.faceVertexUvs[a][s+1].push(O);if(b&&(d=3*L[l++],E.normal.set(D[d++],D[d++],D[d]),k.normal.copy(E.normal)),x)for(a=0;a<4;a++)d=3*L[l++],C=new c(D[d++],D[d++],D[d]),2!==a&&E.vertexNormals.push(C),0!==a&&k.vertexNormals.push(C);if(_&&(h=L[l++],T=N[h],E.color.setHex(T),k.color.setHex(T)),w)for(a=0;a<4;a++)h=L[l++],T=N[h],2!==a&&E.vertexColors.push(new q(T)),0!==a&&k.vertexColors.push(new q(T));n.faces.push(E),n.faces.push(k)}else{if(S=new ft,S.a=L[l++],S.b=L[l++],S.c=L[l++],v&&(p=L[l++],S.materialIndex=p),s=n.faces.length,y)for(a=0;a<z;a++)for(P=t.uvs[a],n.faceVertexUvs[a][s]=[],o=0;o<3;o++)f=L[l++],A=P[2*f],R=P[2*f+1],O=new i(A,R),n.faceVertexUvs[a][s].push(O);if(b&&(d=3*L[l++],S.normal.set(D[d++],D[d++],D[d])),x)for(a=0;a<3;a++)d=3*L[l++],C=new c(D[d++],D[d++],D[d]),S.vertexNormals.push(C);if(_&&(h=L[l++],S.color.setHex(N[h])),w)for(a=0;a<3;a++)h=L[l++],S.vertexColors.push(new q(N[h]));n.faces.push(S)}}(r),function(){var e=void 0!==t.influencesPerVertex?t.influencesPerVertex:2;if(t.skinWeights)for(var r=0,i=t.skinWeights.length;r<i;r+=e){var a=t.skinWeights[r],s=e>1?t.skinWeights[r+1]:0,l=e>2?t.skinWeights[r+2]:0,u=e>3?t.skinWeights[r+3]:0;n.skinWeights.push(new o(a,s,l,u))}if(t.skinIndices)for(var r=0,i=t.skinIndices.length;r<i;r+=e){var c=t.skinIndices[r],h=e>1?t.skinIndices[r+1]:0,d=e>2?t.skinIndices[r+2]:0,f=e>3?t.skinIndices[r+3]:0;n.skinIndices.push(new o(c,h,d,f))}n.bones=t.bones,n.bones&&n.bones.length>0&&(n.skinWeights.length!==n.skinIndices.length||n.skinIndices.length!==n.vertices.length)&&console.warn("When skinning, number of vertices ("+n.vertices.length+"), skinIndices ("+n.skinIndices.length+"), and skinWeights ("+n.skinWeights.length+") should match.")}(),function(e){if(void 0!==t.morphTargets)for(var r=0,i=t.morphTargets.length;r<i;r++){n.morphTargets[r]={},n.morphTargets[r].name=t.morphTargets[r].name,n.morphTargets[r].vertices=[];for(var a=n.morphTargets[r].vertices,o=t.morphTargets[r].vertices,s=0,l=o.length;s<l;s+=3){var u=new c;u.x=o[s]*e,u.y=o[s+1]*e,u.z=o[s+2]*e,a.push(u)}}if(void 0!==t.morphColors&&t.morphColors.length>0){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');for(var h=n.faces,d=t.morphColors[0].colors,r=0,i=h.length;r<i;r++)h[r].color.fromArray(d,3*r)}}(r),function(){var e=[],r=[];void 0!==t.animation&&r.push(t.animation),void 0!==t.animations&&(t.animations.length?r=r.concat(t.animations):r.push(t.animations));for(var i=0;i<r.length;i++){var a=$n.parseAnimation(r[i],n.bones);a&&e.push(a)}if(n.morphTargets){var o=$n.CreateClipsFromMorphTargetSequences(n.morphTargets,10);e=e.concat(o)}e.length>0&&(n.animations=e)}(),n.computeFaceNormals(),n.computeBoundingSphere(),void 0===t.materials||0===t.materials.length)return{geometry:n};var a=nr.prototype.initMaterials(t.materials,e,this.crossOrigin);return{geometry:n,materials:a}}}),Object.assign(ir.prototype,{load:function(t,e,n,r){""===this.texturePath&&(this.texturePath=t.substring(0,t.lastIndexOf("/")+1));var i=this;new En(i.manager).load(t,function(n){var a=null;try{a=JSON.parse(n)}catch(e){return void 0!==r&&r(e),void console.error("THREE:ObjectLoader: Can't parse "+t+".",e.message)}var o=a.metadata;if(void 0===o||void 0===o.type||"geometry"===o.type.toLowerCase())return void console.error("THREE.ObjectLoader: Can't load "+t+". Use THREE.JSONLoader instead.");i.parse(a,e)},n,r)},setTexturePath:function(t){this.texturePath=t},setCrossOrigin:function(t){this.crossOrigin=t},parse:function(t,e){var n=this.parseGeometries(t.geometries),r=this.parseImages(t.images,function(){void 0!==e&&e(o)}),i=this.parseTextures(t.textures,r),a=this.parseMaterials(t.materials,i),o=this.parseObject(t.object,n,a);return t.animations&&(o.animations=this.parseAnimations(t.animations)),void 0!==t.images&&0!==t.images.length||void 0!==e&&e(o),o},parseGeometries:function(t){var e={};if(void 0!==t)for(var n=new rr,r=new er,i=0,a=t.length;i<a;i++){var o,s=t[i];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":o=new Os[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":o=new Os[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":o=new Os[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":o=new Os[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":o=new Os[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":o=new Os[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"IcosahedronGeometry":case"OctahedronGeometry":case"TetrahedronGeometry":o=new Os[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":o=new Os[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":o=new Os[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":o=new Os[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"LatheGeometry":case"LatheBufferGeometry":o=new Os[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"BufferGeometry":o=r.parse(s);break;case"Geometry":o=n.parse(s.data,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),e[s.uuid]=o}return e},parseMaterials:function(t,e){var n={};if(void 0!==t){var r=new tr;r.setTextures(e);for(var i=0,a=t.length;i<a;i++){var o=r.parse(t[i]);n[o.uuid]=o}}return n},parseAnimations:function(t){for(var e=[],n=0;n<t.length;n++){var r=$n.parse(t[n]);e.push(r)}return e},parseImages:function(t,e){var n=this,r={};if(void 0!==t&&t.length>0){var i=new Sn(e),a=new Cn(i);a.setCrossOrigin(this.crossOrigin);for(var o=0,s=t.length;o<s;o++){var l=t[o],u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l.url)?l.url:n.texturePath+l.url;r[l.uuid]=function(t){return n.manager.itemStart(t),a.load(t,function(){n.manager.itemEnd(t)},void 0,function(){n.manager.itemError(t)})}(u)}}return r},parseTextures:function(t,e){function n(t,e){return"number"==typeof t?t:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",t),e[t])}var r={UVMapping:Qa,CubeReflectionMapping:$a,CubeRefractionMapping:to,EquirectangularReflectionMapping:eo,EquirectangularRefractionMapping:no,SphericalReflectionMapping:ro,CubeUVReflectionMapping:io,CubeUVRefractionMapping:ao},i={RepeatWrapping:oo,ClampToEdgeWrapping:so,MirroredRepeatWrapping:lo},o={NearestFilter:uo,NearestMipMapNearestFilter:co,NearestMipMapLinearFilter:ho,LinearFilter:fo,LinearMipMapNearestFilter:po,LinearMipMapLinearFilter:mo},s={};if(void 0!==t)for(var l=0,u=t.length;l<u;l++){var c=t[l];void 0===c.image&&console.warn('THREE.ObjectLoader: No "image" specified for',c.uuid),void 0===e[c.image]&&console.warn("THREE.ObjectLoader: Undefined image",c.image);var h=new a(e[c.image]);h.needsUpdate=!0,h.uuid=c.uuid,void 0!==c.name&&(h.name=c.name),void 0!==c.mapping&&(h.mapping=n(c.mapping,r)),void 0!==c.offset&&h.offset.fromArray(c.offset),void 0!==c.repeat&&h.repeat.fromArray(c.repeat),void 0!==c.wrap&&(h.wrapS=n(c.wrap[0],i),h.wrapT=n(c.wrap[1],i)),void 0!==c.minFilter&&(h.minFilter=n(c.minFilter,o)),void 0!==c.magFilter&&(h.magFilter=n(c.magFilter,o)),void 0!==c.anisotropy&&(h.anisotropy=c.anisotropy),void 0!==c.flipY&&(h.flipY=c.flipY),s[c.uuid]=h}return s},parseObject:function(){var t=new h;return function(e,n,r){function i(t){return void 0===n[t]&&console.warn("THREE.ObjectLoader: Undefined geometry",t),n[t]}function a(t){if(void 0!==t)return void 0===r[t]&&console.warn("THREE.ObjectLoader: Undefined material",t),r[t]}var o;switch(e.type){case"Scene":o=new fe,void 0!==e.background&&Number.isInteger(e.background)&&(o.background=new q(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?o.fog=new de(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(o.fog=new he(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":o=new Nt(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(o.focus=e.focus),void 0!==e.zoom&&(o.zoom=e.zoom),void 0!==e.filmGauge&&(o.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(o.filmOffset=e.filmOffset),void 0!==e.view&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new zt(e.left,e.right,e.top,e.bottom,e.near,e.far);break;case"AmbientLight":o=new Fn(e.color,e.intensity);break;case"DirectionalLight":o=new Bn(e.color,e.intensity);break;case"PointLight":o=new Nn(e.color,e.intensity,e.distance,e.decay);break;case"SpotLight":o=new Dn(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new Rn(e.color,e.groundColor,e.intensity);break;case"Mesh":var s=i(e.geometry),l=a(e.material);o=s.bones&&s.bones.length>0?new xe(s,l):new Ot(s,l);break;case"LOD":o=new ve;break;case"Line":o=new we(i(e.geometry),a(e.material),e.mode);break;case"LineSegments":o=new Me(i(e.geometry),a(e.material));break;case"PointCloud":case"Points":o=new Ee(i(e.geometry),a(e.material));break;case"Sprite":o=new ge(a(e.material));break;case"Group":o=new ke;break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh type. Instantiates Object3D instead.");default:o=new ct}if(o.uuid=e.uuid,void 0!==e.name&&(o.name=e.name),void 0!==e.matrix?(t.fromArray(e.matrix),t.decompose(o.position,o.quaternion,o.scale)):(void 0!==e.position&&o.position.fromArray(e.position),void 0!==e.rotation&&o.rotation.fromArray(e.rotation),void 0!==e.quaternion&&o.quaternion.fromArray(e.quaternion),void 0!==e.scale&&o.scale.fromArray(e.scale)),void 0!==e.castShadow&&(o.castShadow=e.castShadow),void 0!==e.receiveShadow&&(o.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(o.shadow.bias=e.shadow.bias),void 0!==e.shadow.radius&&(o.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&o.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(o.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(o.visible=e.visible),void 0!==e.userData&&(o.userData=e.userData),void 0!==e.children)for(var u in e.children)o.add(this.parseObject(e.children[u],n,r));if("LOD"===e.type)for(var c=e.levels,h=0;h<c.length;h++){var d=c[h],u=o.getObjectByProperty("uuid",d.object);void 0!==u&&o.addLevel(u,d.distance)}return o}}()}),mr.prototype={constructor:mr,getPoint:function(t){return console.warn("THREE.Curve: Warning, getPoint() not implemented!"),null},getPointAt:function(t){var e=this.getUtoTmapping(t);return this.getPoint(e)},getPoints:function(t){isNaN(t)&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return e},getSpacedPoints:function(t){isNaN(t)&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(isNaN(t)&&(t=this.__arcLengthDivisions?this.__arcLengthDivisions:200),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,n,r=[],i=this.getPoint(0),a=0;for(r.push(0),n=1;n<=t;n++)e=this.getPoint(n/t),a+=e.distanceTo(i),r.push(a),i=e;return this.cacheArcLengths=r,r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var n,r=this.getLengths(),i=0,a=r.length;n=e||t*r[a-1];for(var o,s=0,l=a-1;s<=l;)if(i=Math.floor(s+(l-s)/2),(o=r[i]-n)<0)s=i+1;else{if(!(o>0)){l=i;break}l=i-1}if(i=l,r[i]===n){var u=i/(a-1);return u}var c=r[i],h=r[i+1],d=h-c,f=(n-c)/d,u=(i+f)/(a-1);return u},getTangent:function(t){var e=t-1e-4,n=t+1e-4;e<0&&(e=0),n>1&&(n=1);var r=this.getPoint(e);return this.getPoint(n).clone().sub(r).normalize()},getTangentAt:function(t){var e=this.getUtoTmapping(t);return this.getTangent(e)},computeFrenetFrames:function(t,e){var n,r,i,a=new c,o=[],s=[],l=[],u=new c,d=new h;for(n=0;n<=t;n++)r=n/t,o[n]=this.getTangentAt(r),o[n].normalize();s[0]=new c,l[0]=new c;var f=Number.MAX_VALUE,p=Math.abs(o[0].x),m=Math.abs(o[0].y),g=Math.abs(o[0].z);for(p<=f&&(f=p,a.set(1,0,0)),m<=f&&(f=m,a.set(0,1,0)),g<=f&&a.set(0,0,1),u.crossVectors(o[0],a).normalize(),s[0].crossVectors(o[0],u),l[0].crossVectors(o[0],s[0]),n=1;n<=t;n++)s[n]=s[n-1].clone(),l[n]=l[n-1].clone(),u.crossVectors(o[n-1],o[n]),u.length()>Number.EPSILON&&(u.normalize(),i=Math.acos(fs.clamp(o[n-1].dot(o[n]),-1,1)),s[n].applyMatrix4(d.makeRotationAxis(u,i))),l[n].crossVectors(o[n],s[n]);if(!0===e)for(i=Math.acos(fs.clamp(s[0].dot(s[t]),-1,1)),i/=t,o[0].dot(u.crossVectors(s[0],s[t]))>0&&(i=-i),n=1;n<=t;n++)s[n].applyMatrix4(d.makeRotationAxis(o[n],i*n)),l[n].crossVectors(o[n],s[n]);return{tangents:o,normals:s,binormals:l}}},gr.prototype=Object.create(mr.prototype),gr.prototype.constructor=gr,gr.prototype.isLineCurve=!0,gr.prototype.getPoint=function(t){if(1===t)return this.v2.clone();var e=this.v2.clone().sub(this.v1);return e.multiplyScalar(t).add(this.v1),e},gr.prototype.getPointAt=function(t){return this.getPoint(t)},gr.prototype.getTangent=function(t){return this.v2.clone().sub(this.v1).normalize()},vr.prototype=Object.assign(Object.create(mr.prototype),{constructor:vr,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new gr(e,t))},getPoint:function(t){for(var e=t*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=e){var i=n[r]-e,a=this.curves[r],o=a.getLength(),s=0===o?0:1-i/o;return a.getPointAt(s)}r++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,n=0,r=this.curves.length;n<r;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t){isNaN(t)&&(t=40);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;for(var e,n=[],r=0,i=this.curves;r<i.length;r++)for(var a=i[r],o=a&&a.isEllipseCurve?2*t:a&&a.isLineCurve?1:a&&a.isSplineCurve?t*a.points.length:t,s=a.getPoints(o),l=0;l<s.length;l++){var u=s[l];e&&e.equals(u)||(n.push(u),e=u)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},createPointsGeometry:function(t){var e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){var e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){for(var e=new Ct,n=0,r=t.length;n<r;n++){var i=t[n];e.vertices.push(new c(i.x,i.y,i.z||0))}return e}}),yr.prototype=Object.create(mr.prototype),yr.prototype.constructor=yr,yr.prototype.isEllipseCurve=!0,yr.prototype.getPoint=function(t){for(var e=2*Math.PI,n=this.aEndAngle-this.aStartAngle,r=Math.abs(n)<Number.EPSILON;n<0;)n+=e;for(;n>e;)n-=e;n<Number.EPSILON&&(n=r?0:e),!0!==this.aClockwise||r||(n===e?n=-e:n-=e);var a=this.aStartAngle+t*n,o=this.aX+this.xRadius*Math.cos(a),s=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){var l=Math.cos(this.aRotation),u=Math.sin(this.aRotation),c=o-this.aX,h=s-this.aY;o=c*l-h*u+this.aX,s=c*u+h*l+this.aY}return new i(o,s)},br.prototype=Object.create(mr.prototype),br.prototype.constructor=br,br.prototype.isSplineCurve=!0,br.prototype.getPoint=function(t){var e=this.points,n=(e.length-1)*t,r=Math.floor(n),a=n-r,o=e[0===r?r:r-1],s=e[r],l=e[r>e.length-2?e.length-1:r+1],u=e[r>e.length-3?e.length-1:r+2];return new i(ar(a,o.x,s.x,l.x,u.x),ar(a,o.y,s.y,l.y,u.y))},xr.prototype=Object.create(mr.prototype),xr.prototype.constructor=xr,xr.prototype.getPoint=function(t){var e=this.v0,n=this.v1,r=this.v2,a=this.v3;return new i(pr(t,e.x,n.x,r.x,a.x),pr(t,e.y,n.y,r.y,a.y))},_r.prototype=Object.create(mr.prototype),_r.prototype.constructor=_r,_r.prototype.getPoint=function(t){var e=this.v0,n=this.v1,r=this.v2;return new i(ur(t,e.x,n.x,r.x),ur(t,e.y,n.y,r.y))};var Ns=Object.assign(Object.create(vr.prototype),{fromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y)},moveTo:function(t,e){this.currentPoint.set(t,e)},lineTo:function(t,e){var n=new gr(this.currentPoint.clone(),new i(t,e));this.curves.push(n),this.currentPoint.set(t,e)},quadraticCurveTo:function(t,e,n,r){var a=new _r(this.currentPoint.clone(),new i(t,e),new i(n,r));this.curves.push(a),this.currentPoint.set(n,r)},bezierCurveTo:function(t,e,n,r,a,o){var s=new xr(this.currentPoint.clone(),new i(t,e),new i(n,r),new i(a,o));this.curves.push(s),this.currentPoint.set(a,o)},splineThru:function(t){var e=[this.currentPoint.clone()].concat(t),n=new br(e);this.curves.push(n),this.currentPoint.copy(t[t.length-1])},arc:function(t,e,n,r,i,a){var o=this.currentPoint.x,s=this.currentPoint.y;this.absarc(t+o,e+s,n,r,i,a)},absarc:function(t,e,n,r,i,a){this.absellipse(t,e,n,n,r,i,a)},ellipse:function(t,e,n,r,i,a,o,s){var l=this.currentPoint.x,u=this.currentPoint.y;this.absellipse(t+l,e+u,n,r,i,a,o,s)},absellipse:function(t,e,n,r,i,a,o,s){var l=new yr(t,e,n,r,i,a,o,s);if(this.curves.length>0){var u=l.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(l);var c=l.getPoint(1);this.currentPoint.copy(c)}});wr.prototype=Ns,Ns.constructor=wr,Mr.prototype=Object.assign(Object.create(Ns),{constructor:Mr,getPointsHoles:function(t){for(var e=[],n=0,r=this.holes.length;n<r;n++)e[n]=this.holes[n].getPoints(t);return e},extractAllPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},extractPoints:function(t){return this.extractAllPoints(t)}}),Sr.prototype={moveTo:function(t,e){this.currentPath=new wr,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e)},lineTo:function(t,e){this.currentPath.lineTo(t,e)},quadraticCurveTo:function(t,e,n,r){this.currentPath.quadraticCurveTo(t,e,n,r)},bezierCurveTo:function(t,e,n,r,i,a){this.currentPath.bezierCurveTo(t,e,n,r,i,a)},splineThru:function(t){this.currentPath.splineThru(t)},toShapes:function(t,e){function n(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n],a=new Mr;a.curves=i.curves,e.push(a)}return e}var r=Ps.isClockWise,i=this.subPaths;if(0===i.length)return[];if(!0===e)return n(i);var a,o,s,l=[];if(1===i.length)return o=i[0],s=new Mr,s.curves=o.curves,l.push(s),l;var u=!r(i[0].getPoints());u=t?!u:u;var c,h=[],d=[],f=[],p=0;d[p]=void 0,f[p]=[];for(var m=0,g=i.length;m<g;m++)o=i[m],c=o.getPoints(),a=r(c),a=t?!a:a,a?(!u&&d[p]&&p++,d[p]={s:new Mr,p:c},d[p].s.curves=o.curves,u&&p++,f[p]=[]):f[p].push({h:o,p:c[0]});if(!d[0])return n(i);if(d.length>1){for(var v=!1,y=[],b=0,x=d.length;b<x;b++)h[b]=[];for(var b=0,x=d.length;b<x;b++)for(var _=f[b],w=0;w<_.length;w++){for(var M=_[w],S=!0,E=0;E<d.length;E++)(function(t,e){for(var n=e.length,r=!1,i=n-1,a=0;a<n;i=a++){var o=e[i],s=e[a],l=s.x-o.x,u=s.y-o.y;if(Math.abs(u)>Number.EPSILON){if(u<0&&(o=e[a],l=-l,s=e[i],u=-u),t.y<o.y||t.y>s.y)continue;if(t.y===o.y){if(t.x===o.x)return!0}else{var c=u*(t.x-o.x)-l*(t.y-o.y);if(0===c)return!0;if(c<0)continue;r=!r}}else{if(t.y!==o.y)continue;if(s.x<=t.x&&t.x<=o.x||o.x<=t.x&&t.x<=s.x)return!0}}return r})(M.p,d[E].p)&&(b!==E&&y.push({froms:b,tos:E,hole:w}),S?(S=!1,h[E].push(M)):v=!0);S&&h[b].push(M)}y.length>0&&(v||(f=h))}for(var k,m=0,T=d.length;m<T;m++){s=d[m].s,l.push(s),k=f[m];for(var C=0,P=k.length;C<P;C++)s.holes.push(k[C].h)}return l}},Object.assign(Er.prototype,{isFont:!0,generateShapes:function(t,e,n){function r(t,e,r,a){var o=i.glyphs[t]||i.glyphs["?"];if(o){var s,l,u,c,h,d,f,p,m,g,v,y=new Sr,b=[];if(o.o)for(var x=o._cachedOutline||(o._cachedOutline=o.o.split(" ")),_=0,w=x.length;_<w;){var M=x[_++];switch(M){case"m":s=x[_++]*e+r,l=x[_++]*e+a,y.moveTo(s,l);break;case"l":s=x[_++]*e+r,l=x[_++]*e+a,y.lineTo(s,l);break;case"q":if(u=x[_++]*e+r,c=x[_++]*e+a,f=x[_++]*e+r,p=x[_++]*e+a,y.quadraticCurveTo(f,p,u,c),v=b[b.length-1]){h=v.x,d=v.y;for(var S=1;S<=n;S++){var E=S/n;ur(E,h,f,u),ur(E,d,p,c)}}break;case"b":if(u=x[_++]*e+r,c=x[_++]*e+a,f=x[_++]*e+r,p=x[_++]*e+a,m=x[_++]*e+r,g=x[_++]*e+a,y.bezierCurveTo(f,p,m,g,u,c),v=b[b.length-1]){h=v.x,d=v.y;for(var S=1;S<=n;S++){var E=S/n;pr(E,h,f,m,u),pr(E,d,p,g,c)}}}}return{offsetX:o.ha*e,path:y}}}void 0===e&&(e=100),void 0===n&&(n=4);for(var i=this.data,a=function(t){for(var n=String(t).split(""),a=e/i.resolution,o=(i.boundingBox.yMax-i.boundingBox.yMin+i.underlineThickness)*a,s=0,l=0,u=[],c=0;c<n.length;c++){var h=n[c];if("\n"===h)s=0,l-=o;else{var d=r(h,a,s,l);s+=d.offsetX,u.push(d.path)}}return u}(t),o=[],s=0,l=a.length;s<l;s++)Array.prototype.push.apply(o,a[s].toShapes());return o}}),Object.assign(kr.prototype,{load:function(t,e,n,r){var i=this;new En(this.manager).load(t,function(t){var n;try{n=JSON.parse(t)}catch(e){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(t.substring(65,t.length-2))}var r=i.parse(n);e&&e(r)},n,r)},parse:function(t){return new Er(t)}});var zs,Bs={getContext:function(){return void 0===zs&&(zs=new(window.AudioContext||window.webkitAudioContext)),zs},setContext:function(t){zs=t}};Object.assign(Tr.prototype,{load:function(t,e,n,r){var i=new En(this.manager);i.setResponseType("arraybuffer"),i.load(t,function(t){Bs.getContext().decodeAudioData(t,function(t){e(t)})},n,r)}}),Cr.prototype=Object.assign(Object.create(An.prototype),{constructor:Cr,isRectAreaLight:!0,copy:function(t){return An.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this}}),Object.assign(Pr.prototype,{update:function(){var t,e,n,r,i,a,o,s=new h,l=new h;return function(u){if(t!==this||e!==u.focus||n!==u.fov||r!==u.aspect*this.aspect||i!==u.near||a!==u.far||o!==u.zoom){t=this,e=u.focus,n=u.fov,r=u.aspect*this.aspect,i=u.near,a=u.far,o=u.zoom;var c,h,d=u.projectionMatrix.clone(),f=this.eyeSep/2,p=f*i/e,m=i*Math.tan(fs.DEG2RAD*n*.5)/o;l.elements[12]=-f,s.elements[12]=f,c=-m*r+p,h=m*r+p,d.elements[0]=2*i/(h-c),d.elements[8]=(h+c)/(h-c),this.cameraL.projectionMatrix.copy(d),c=-m*r-p,h=m*r-p,d.elements[0]=2*i/(h-c),d.elements[8]=(h+c)/(h-c),this.cameraR.projectionMatrix.copy(d)}this.cameraL.matrixWorld.copy(u.matrixWorld).multiply(l),this.cameraR.matrixWorld.copy(u.matrixWorld).multiply(s)}}()}),Or.prototype=Object.create(ct.prototype),Or.prototype.constructor=Or,Ar.prototype=Object.assign(Object.create(ct.prototype),{constructor:Ar,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(t){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(t){this.gain.gain.value=t},updateMatrixWorld:function(){var t=new c,e=new u,n=new c,r=new c;return function(i){ct.prototype.updateMatrixWorld.call(this,i);var a=this.context.listener,o=this.up;this.matrixWorld.decompose(t,e,n),r.set(0,0,-1).applyQuaternion(e),a.positionX?(a.positionX.setValueAtTime(t.x,this.context.currentTime),a.positionY.setValueAtTime(t.y,this.context.currentTime),a.positionZ.setValueAtTime(t.z,this.context.currentTime),a.forwardX.setValueAtTime(r.x,this.context.currentTime),a.forwardY.setValueAtTime(r.y,this.context.currentTime),a.forwardZ.setValueAtTime(r.z,this.context.currentTime),a.upX.setValueAtTime(o.x,this.context.currentTime),a.upY.setValueAtTime(o.y,this.context.currentTime),a.upZ.setValueAtTime(o.z,this.context.currentTime)):(a.setPosition(t.x,t.y,t.z),a.setOrientation(r.x,r.y,r.z,o.x,o.y,o.z))}}()}),Rr.prototype=Object.assign(Object.create(ct.prototype),{constructor:Rr,getOutput:function(){return this.gain},setNodeSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this},setBuffer:function(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.onended=this.onEnded.bind(this),t.playbackRate.setValueAtTime(this.playbackRate,this.startTime),t.start(0,this.startTime),this.isPlaying=!0,this.source=t,this.connect()},pause:function(){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.source.stop(),this.startTime=this.context.currentTime,this.isPlaying=!1,this)},stop:function(){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.source.stop(),this.startTime=0,this.isPlaying=!1,this)},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(t){return t||(t=[]),!0===this.isPlaying?(this.disconnect(),this.filters=t,this.connect()):this.filters=t,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(t){return this.setFilters(t?[t]:[])},setPlaybackRate:function(t){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this)},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(t){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this)},getVolume:function(){return this.gain.gain.value},setVolume:function(t){return this.gain.gain.value=t,this}}),Lr.prototype=Object.assign(Object.create(Rr.prototype),{constructor:Lr,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(t){this.panner.refDistance=t},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(t){this.panner.rolloffFactor=t},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(t){this.panner.distanceModel=t},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(t){this.panner.maxDistance=t},updateMatrixWorld:function(){var t=new c;return function(e){ct.prototype.updateMatrixWorld.call(this,e),t.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(t.x,t.y,t.z)}}()}),Object.assign(Ir.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var t=0,e=this.getFrequencyData(),n=0;n<e.length;n++)t+=e[n];return t/e.length}}),Dr.prototype={constructor:Dr,accumulate:function(t,e){var n=this.buffer,r=this.valueSize,i=t*r+r,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==r;++o)n[i+o]=n[o];a=e}else{a+=e;var s=e/a;this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=a},apply:function(t){var e=this.valueSize,n=this.buffer,r=t*e+e,i=this.cumulativeWeight,a=this.binding;if(this.cumulativeWeight=0,i<1){var o=3*e;this._mixBufferRegion(n,r,o,1-i,e)}for(var s=e,l=e+e;s!==l;++s)if(n[s]!==n[s+e]){a.setValue(n,r);break}},saveOriginalState:function(){var t=this.binding,e=this.buffer,n=this.valueSize,r=3*n;t.getValue(e,r);for(var i=n,a=r;i!==a;++i)e[i]=e[r+i%n];this.cumulativeWeight=0},restoreOriginalState:function(){var t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_select:function(t,e,n,r,i){if(r>=.5)for(var a=0;a!==i;++a)t[e+a]=t[n+a]},_slerp:function(t,e,n,r,i){u.slerpFlat(t,e,t,e,t,n,r)},_lerp:function(t,e,n,r,i){for(var a=1-r,o=0;o!==i;++o){var s=e+o;t[s]=t[s]*a+t[n+o]*r}}},Nr.prototype={constructor:Nr,getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){var t=this.node,e=this.parsedPath,n=e.objectName,r=e.propertyName,i=e.propertyIndex;if(t||(t=Nr.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.error("  trying to update node for track: "+this.path+" but it wasn't found.");if(n){var a=e.objectIndex;switch(n){case"materials":if(!t.material)return void console.error("  can not bind to material as node does not have a material",this);if(!t.material.materials)return void console.error("  can not bind to material.materials as node.material does not have a materials array",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("  can not bind to bones as node does not have a skeleton",this);t=t.skeleton.bones;for(var o=0;o<t.length;o++)if(t[o].name===a){a=o;break}break;default:if(void 0===t[n])return void console.error("  can not bind to objectName of node, undefined",this);t=t[n]}if(void 0!==a){if(void 0===t[a])return void console.error("  trying to bind to objectIndex of objectName, but is undefined:",this,t);t=t[a]}}var s=t[r];if(void 0===s){var l=e.nodeName;return void console.error("  trying to update property for track: "+l+"."+r+" but it wasn't found.",t)}var u=this.Versioning.None;void 0!==t.needsUpdate?(u=this.Versioning.NeedsUpdate,this.targetObject=t):void 0!==t.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=t);var c=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!t.geometry)return void console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry",this);if(!t.geometry.morphTargets)return void console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets",this);for(var o=0;o<this.node.geometry.morphTargets.length;o++)if(t.geometry.morphTargets[o].name===i){i=o;break}}c=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=s):void 0!==s.length?(c=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][u]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}},Object.assign(Nr.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},_getValue_unbound:Nr.prototype.getValue,_setValue_unbound:Nr.prototype.setValue,BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)t[e++]=n[r]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.node[this.propertyName]=t[e]},function(t,e){this.node[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.node[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++]},function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]]}),Nr.Composite=function(t,e,n){var r=n||Nr.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,r)},Nr.Composite.prototype={constructor:Nr.Composite,getValue:function(t,e){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(t,e)},setValue:function(t,e){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}},Nr.create=function(t,e,n){return t&&t.isAnimationObjectGroup?new Nr.Composite(t,e,n):new Nr(t,e,n)},Nr.parseTrackName=function(t){var e=/^((?:[\w-]+[\/:])*)([\w-]+)?(?:\.([\w-]+)(?:\[(.+)\])?)?\.([\w-]+)(?:\[(.+)\])?$/,n=e.exec(t);if(!n)throw new Error("cannot parse trackName at all: "+t);var r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]};if(null===r.propertyName||0===r.propertyName.length)throw new Error("can not parse propertyName from trackName: "+t);return r},Nr.findNode=function(t,e){if(!e||""===e||"root"===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){var n=function(t){for(var n=0;n<t.bones.length;n++){var r=t.bones[n];if(r.name===e)return r}return null}(t.skeleton);if(n)return n}if(t.children){var r=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.name===e||i.uuid===e)return i;var a=r(i.children);if(a)return a}return null},i=r(t.children);if(i)return i}return null},zr.prototype={constructor:zr,isAnimationObjectGroup:!0,add:function(t){for(var e=this._objects,n=e.length,r=this.nCachedObjects_,i=this._indicesByUUID,a=this._paths,o=this._parsedPaths,s=this._bindings,l=s.length,u=0,c=arguments.length;u!==c;++u){var h=arguments[u],d=h.uuid,f=i[d],p=void 0;if(void 0===f){f=n++,i[d]=f,e.push(h);for(var m=0,g=l;m!==g;++m)s[m].push(new Nr(h,a[m],o[m]))}else if(f<r){p=e[f];var v=--r,y=e[v];i[y.uuid]=f,e[f]=y,i[d]=v,e[v]=h;for(var m=0,g=l;m!==g;++m){var b=s[m],x=b[v],_=b[f];b[f]=x,void 0===_&&(_=new Nr(h,a[m],o[m])),b[v]=_}}else e[f]!==p&&console.error("Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes...")}this.nCachedObjects_=r},remove:function(t){for(var e=this._objects,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._bindings,a=i.length,o=0,s=arguments.length;o!==s;++o){var l=arguments[o],u=l.uuid,c=r[u];if(void 0!==c&&c>=n){var h=n++,d=e[h];r[d.uuid]=c,e[c]=d,r[u]=h,e[h]=l;for(var f=0,p=a;f!==p;++f){var m=i[f],g=m[h],v=m[c];m[c]=g,m[h]=v}}}this.nCachedObjects_=n},uncache:function(t){for(var e=this._objects,n=e.length,r=this.nCachedObjects_,i=this._indicesByUUID,a=this._bindings,o=a.length,s=0,l=arguments.length;s!==l;++s){var u=arguments[s],c=u.uuid,h=i[c];if(void 0!==h)if(delete i[c],h<r){var d=--r,f=e[d],p=--n,m=e[p];i[f.uuid]=h,e[h]=f,i[m.uuid]=d,e[d]=m,e.pop();for(var g=0,v=o;g!==v;++g){var y=a[g],b=y[d],x=y[p];y[h]=b,y[d]=x,y.pop()}}else{var p=--n,m=e[p];i[m.uuid]=h,e[h]=m,e.pop();for(var g=0,v=o;g!==v;++g){var y=a[g];y[h]=y[p],y.pop()}}}this.nCachedObjects_=r},subscribe_:function(t,e){var n=this._bindingsIndicesByPath,r=n[t],i=this._bindings;if(void 0!==r)return i[r];var a=this._paths,o=this._parsedPaths,s=this._objects,l=s.length,u=this.nCachedObjects_,c=new Array(l);r=i.length,n[t]=r,a.push(t),o.push(e),i.push(c);for(var h=u,d=s.length;h!==d;++h){var f=s[h];c[h]=new Nr(f,t,e)}return c},unsubscribe_:function(t){var e=this._bindingsIndicesByPath,n=e[t];if(void 0!==n){var r=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];e[t[o]]=n,a[n]=s,a.pop(),i[n]=i[o],i.pop(),r[n]=r[o],r.pop()}}},Br.prototype={constructor:Br,play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(t){return this._startTime=t,this},setLoop:function(t,e){return this.loop=t,this.repetitions=e,this},setEffectiveWeight:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(t){return this._scheduleFading(t,0,1)},fadeOut:function(t){return this._scheduleFading(t,1,0)},crossFadeFrom:function(t,e,n){if(t.fadeOut(e),this.fadeIn(e),n){var r=this._clip.duration,i=t._clip.duration,a=i/r,o=r/i;t.warp(1,a,e),this.warp(o,1,e)}return this},crossFadeTo:function(t,e,n){return t.crossFadeFrom(this,e,n)},stopFading:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},setEffectiveTimeScale:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},syncWith:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},halt:function(t){return this.warp(this._effectiveTimeScale,0,t)},warp:function(t,e,n){var r=this._mixer,i=r.time,a=this._timeScaleInterpolant,o=this.timeScale;null===a&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);var s=a.parameterPositions,l=a.sampleValues;return s[0]=i,s[1]=i+n,l[0]=t/o,l[1]=e/o,this},stopWarping:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(t,e,n,r){var i=this._startTime;if(null!==i){var a=(t-i)*n;if(a<0||0===n)return;this._startTime=null,e=n*a}e*=this._updateTimeScale(t);var o=this._updateTime(e),s=this._updateWeight(t);if(s>0)for(var l=this._interpolants,u=this._propertyBindings,c=0,h=l.length;c!==h;++c)l[c].evaluate(o),u[c].accumulate(r,s)},_updateWeight:function(t){var e=0;if(this.enabled){e=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(t)[0];e*=r,t>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=e,e},_updateTimeScale:function(t){var e=0;if(!this.paused){e=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n){e*=n.evaluate(t)[0],t>n.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e)}}return this._effectiveTimeScale=e,e},_updateTime:function(t){var e=this.time+t;if(0===t)return e;var n=this._clip.duration,r=this.loop,i=this._loopCount;if(r===Ho){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(e>=n)e=n;else{if(!(e<0))break t;e=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{var a=r===qo;if(-1===i&&(t>=0?(i=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),e>=n||e<0){var o=Math.floor(e/n);e-=n*o,i+=Math.abs(o);var s=this.repetitions-i;if(s<0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,e=t>0?n:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(0===s){var l=t<0;this._setEndings(l,!l,a)}else this._setEndings(!1,!1,a);this._loopCount=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}if(a&&1==(1&i))return this.time=e,n-e}return this.time=e,e},_setEndings:function(t,e,n){var r=this._interpolantSettings;n?(r.endingStart=Qo,r.endingEnd=Qo):(r.endingStart=t?this.zeroSlopeAtStart?Qo:Jo:$o,r.endingEnd=e?this.zeroSlopeAtEnd?Qo:Jo:$o)},_scheduleFading:function(t,e,n){var r=this._mixer,i=r.time,a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=i,s[0]=e,o[1]=i+t,s[1]=n,this}},Fr.prototype={constructor:Fr,clipAction:function(t,e){var n=e||this._root,r=n.uuid,i="string"==typeof t?$n.findByName(n,t):t,a=null!==i?i.uuid:t,o=this._actionsByClip[a],s=null;if(void 0!==o){var l=o.actionByRoot[r];if(void 0!==l)return l;s=o.knownActions[0],null===i&&(i=s._clip)}if(null===i)return null;var u=new Br(this,i,e);return this._bindAction(u,s),this._addInactiveAction(u,a,r),u},existingAction:function(t,e){var n=e||this._root,r=n.uuid,i="string"==typeof t?$n.findByName(n,t):t,a=i?i.uuid:t,o=this._actionsByClip[a];return void 0!==o?o.actionByRoot[r]||null:null},stopAllAction:function(){var t=this._actions,e=this._nActiveActions,n=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var i=0;i!==e;++i)t[i].reset();for(var i=0;i!==r;++i)n[i].useCount=0;return this},update:function(t){t*=this.timeScale;for(var e=this._actions,n=this._nActiveActions,r=this.time+=t,i=Math.sign(t),a=this._accuIndex^=1,o=0;o!==n;++o){var s=e[o];s.enabled&&s._update(r,t,i,a)}for(var l=this._bindings,u=this._nActiveBindings,o=0;o!==u;++o)l[o].apply(a);return this},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions,n=t.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var a=i.knownActions,o=0,s=a.length;o!==s;++o){var l=a[o];this._deactivateAction(l);var u=l._cacheIndex,c=e[e.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,c._cacheIndex=u,e[u]=c,e.pop(),this._removeInactiveBindingsForAction(l)}delete r[n]}},uncacheRoot:function(t){var e=t.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot,a=i[e];void 0!==a&&(this._deactivateAction(a),this._removeInactiveAction(a))}var o=this._bindingsByRootAndName,s=o[e];if(void 0!==s)for(var l in s){var u=s[l];u.restoreOriginalState(),this._removeInactiveBinding(u)}},uncacheAction:function(t,e){var n=this.existingAction(t,e);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}},Object.assign(Fr.prototype,{_bindAction:function(t,e){var n=t._localRoot||this._root,r=t._clip.tracks,i=r.length,a=t._propertyBindings,o=t._interpolants,s=n.uuid,l=this._bindingsByRootAndName,u=l[s];void 0===u&&(u={},l[s]=u);for(var c=0;c!==i;++c){var h=r[c],d=h.name,f=u[d];if(void 0!==f)a[c]=f;else{if(void 0!==(f=a[c])){null===f._cacheIndex&&(++f.referenceCount,this._addInactiveBinding(f,s,d));continue}var p=e&&e._propertyBindings[c].binding.parsedPath;f=new Dr(Nr.create(n,d,p),h.ValueTypeName,h.getValueSize()),++f.referenceCount,this._addInactiveBinding(f,s,d),a[c]=f}o[c].resultBuffer=f.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,n=t._clip.uuid,r=this._actionsByClip[n];this._bindAction(t,r&&r.knownActions[0]),this._addInactiveAction(t,n,e)}for(var i=t._propertyBindings,a=0,o=i.length;a!==o;++a){var s=i[a];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,n=0,r=e.length;n!==r;++n){var i=e[n];0==--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,n){var r=this._actions,i=this._actionsByClip,a=i[e];if(void 0===a)a={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,i[e]=a;else{var o=a.knownActions;t._byClipCacheIndex=o.length,o.push(t)}t._cacheIndex=r.length,r.push(t),a.actionByRoot[n]=t},_removeInactiveAction:function(t){var e=this._actions,n=e[e.length-1],r=t._cacheIndex;n._cacheIndex=r,e[r]=n,e.pop(),t._cacheIndex=null;var i=t._clip.uuid,a=this._actionsByClip,o=a[i],s=o.knownActions,l=s[s.length-1],u=t._byClipCacheIndex;l._byClipCacheIndex=u,s[u]=l,s.pop(),t._byClipCacheIndex=null,delete o.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete a[i],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=t._propertyBindings,n=0,r=e.length;n!==r;++n){var i=e[n];0==--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(t){var e=this._actions,n=t._cacheIndex,r=this._nActiveActions++,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_takeBackAction:function(t){var e=this._actions,n=t._cacheIndex,r=--this._nActiveActions,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_addInactiveBinding:function(t,e,n){var r=this._bindingsByRootAndName,i=r[e],a=this._bindings;void 0===i&&(i={},r[e]=i),i[n]=t,t._cacheIndex=a.length,a.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,n=t.binding,r=n.rootNode.uuid,i=n.path,a=this._bindingsByRootAndName,o=a[r],s=e[e.length-1],l=t._cacheIndex;s._cacheIndex=l,e[l]=s,e.pop(),delete o[i];t:{for(var u in o)break t;delete a[r]}},_lendBinding:function(t){var e=this._bindings,n=t._cacheIndex,r=this._nActiveBindings++,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_takeBackBinding:function(t){var e=this._bindings,n=t._cacheIndex,r=--this._nActiveBindings,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,n=t[e];return void 0===n&&(n=new Wn(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=e,t[e]=n),n},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,n=t.__cacheIndex,r=--this._nActiveControlInterpolants,i=e[r];t.__cacheIndex=r,e[r]=t,i.__cacheIndex=n,e[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1)}),Object.assign(Fr.prototype,r.prototype),Ur.prototype.clone=function(){return new Ur(void 0===this.value.clone?this.value:this.value.clone())},jr.prototype=Object.create(Pt.prototype),jr.prototype.constructor=jr,jr.prototype.isInstancedBufferGeometry=!0,jr.prototype.addGroup=function(t,e,n){this.groups.push({start:t,count:e,materialIndex:n})},jr.prototype.copy=function(t){var e=t.index;null!==e&&this.setIndex(e.clone());var n=t.attributes;for(var r in n){var i=n[r];this.addAttribute(r,i.clone())}for(var a=t.groups,o=0,s=a.length;o<s;o++){var l=a[o];this.addGroup(l.start,l.count,l.materialIndex)}return this},Wr.prototype={constructor:Wr,isInterleavedBufferAttribute:!0,get count(){return this.data.count},get array(){return this.data.array},setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this},setXYZ:function(t,e,n,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this},setXYZW:function(t,e,n,r,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this.data.array[t+3]=i,this}},Gr.prototype={constructor:Gr,isInterleavedBuffer:!0,set needsUpdate(t){!0===t&&this.version++},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==t?t.length/this.stride:0,this.array=t},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.stride,n*=e.stride;for(var r=0,i=this.stride;r<i;r++)this.array[t+r]=e.array[n+r];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(t){return this.onUploadCallback=t,this}},Vr.prototype=Object.create(Gr.prototype),Vr.prototype.constructor=Vr,Vr.prototype.isInstancedInterleavedBuffer=!0,Vr.prototype.copy=function(t){return Gr.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},Hr.prototype=Object.create(mt.prototype),Hr.prototype.constructor=Hr,Hr.prototype.isInstancedBufferAttribute=!0,Hr.prototype.copy=function(t){return mt.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},Yr.prototype={constructor:Yr,linePrecision:1,set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize()):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(t,e){var n=[];return Xr(t,this,n,e),n.sort(qr),n},intersectObjects:function(t,e){var n=[];if(!1===Array.isArray(t))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),n;for(var r=0,i=t.length;r<i;r++)Xr(t[r],this,n,e);return n.sort(qr),n}},Zr.prototype={constructor:Zr,start:function(){this.startTime=(performance||Date).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running&&this.start(),this.running){var e=(performance||Date).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}},Kr.prototype={constructor:Kr,set:function(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(t){return this.radius=t.length(),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t.x,t.z),this.phi=Math.acos(fs.clamp(t.y/this.radius,-1,1))),this}},Jr.prototype={constructor:Jr,set:function(t,e,n){return this.radius=t,this.theta=e,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this},setFromVector3:function(t){return this.radius=Math.sqrt(t.x*t.x+t.z*t.z),this.theta=Math.atan2(t.x,t.z),this.y=t.y,this}},Qr.prototype=Object.create(Ot.prototype),Qr.prototype.constructor=Qr,Qr.prototype.createAnimation=function(t,e,n,r){var i={start:e,end:n,length:n-e+1,fps:r,duration:(n-e)/r,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[t]=i,this.animationsList.push(i)},Qr.prototype.autoCreateAnimations=function(t){for(var e,n=/([a-z]+)_?(\d+)/i,r={},i=this.geometry,a=0,o=i.morphTargets.length;a<o;a++){var s=i.morphTargets[a],l=s.name.match(n);if(l&&l.length>1){var u=l[1];r[u]||(r[u]={start:1/0,end:-1/0});var c=r[u];a<c.start&&(c.start=a),a>c.end&&(c.end=a),e||(e=u)}}for(var u in r){var c=r[u];this.createAnimation(u,c.start,c.end,t)}this.firstAnimation=e},Qr.prototype.setAnimationDirectionForward=function(t){var e=this.animationsMap[t];e&&(e.direction=1,e.directionBackwards=!1)},Qr.prototype.setAnimationDirectionBackward=function(t){var e=this.animationsMap[t];e&&(e.direction=-1,e.directionBackwards=!0)},Qr.prototype.setAnimationFPS=function(t,e){var n=this.animationsMap[t];n&&(n.fps=e,n.duration=(n.end-n.start)/n.fps)},Qr.prototype.setAnimationDuration=function(t,e){var n=this.animationsMap[t];n&&(n.duration=e,n.fps=(n.end-n.start)/n.duration)},Qr.prototype.setAnimationWeight=function(t,e){var n=this.animationsMap[t];n&&(n.weight=e)},Qr.prototype.setAnimationTime=function(t,e){var n=this.animationsMap[t];n&&(n.time=e)},Qr.prototype.getAnimationTime=function(t){var e=0,n=this.animationsMap[t];return n&&(e=n.time),e},Qr.prototype.getAnimationDuration=function(t){var e=-1,n=this.animationsMap[t];return n&&(e=n.duration),e},Qr.prototype.playAnimation=function(t){var e=this.animationsMap[t];e?(e.time=0,e.active=!0):console.warn("THREE.MorphBlendMesh: animation["+t+"] undefined in .playAnimation()")},Qr.prototype.stopAnimation=function(t){var e=this.animationsMap[t];e&&(e.active=!1)},Qr.prototype.update=function(t){for(var e=0,n=this.animationsList.length;e<n;e++){var r=this.animationsList[e];if(r.active){var i=r.duration/r.length;r.time+=r.direction*t,r.mirroredLoop?(r.time>r.duration||r.time<0)&&(r.direction*=-1,r.time>r.duration&&(r.time=r.duration,r.directionBackwards=!0),r.time<0&&(r.time=0,r.directionBackwards=!1)):(r.time=r.time%r.duration,r.time<0&&(r.time+=r.duration));var a=r.start+fs.clamp(Math.floor(r.time/i),0,r.length-1),o=r.weight;a!==r.currentFrame&&(this.morphTargetInfluences[r.lastFrame]=0,this.morphTargetInfluences[r.currentFrame]=1*o,this.morphTargetInfluences[a]=0,r.lastFrame=r.currentFrame,r.currentFrame=a);var s=r.time%i/i;r.directionBackwards&&(s=1-s),r.currentFrame!==r.lastFrame?(this.morphTargetInfluences[r.currentFrame]=s*o,this.morphTargetInfluences[r.lastFrame]=(1-s)*o):this.morphTargetInfluences[r.currentFrame]=o}}},$r.prototype=Object.create(ct.prototype),$r.prototype.constructor=$r,$r.prototype.isImmediateRenderObject=!0,ti.prototype=Object.create(Me.prototype),ti.prototype.constructor=ti,ti.prototype.update=function(){var t=new c,e=new c,n=new rt;return function(){var r=["a","b","c"];this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);var i=this.object.matrixWorld,a=this.geometry.attributes.position,o=this.object.geometry;if(o&&o.isGeometry)for(var s=o.vertices,l=o.faces,u=0,c=0,h=l.length;c<h;c++)for(var d=l[c],f=0,p=d.vertexNormals.length;f<p;f++){var m=s[d[r[f]]],g=d.vertexNormals[f];t.copy(m).applyMatrix4(i),e.copy(g).applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),a.setXYZ(u,t.x,t.y,t.z),u+=1,a.setXYZ(u,e.x,e.y,e.z),u+=1}else if(o&&o.isBufferGeometry)for(var v=o.attributes.position,y=o.attributes.normal,u=0,f=0,p=v.count;f<p;f++)t.set(v.getX(f),v.getY(f),v.getZ(f)).applyMatrix4(i),e.set(y.getX(f),y.getY(f),y.getZ(f)),e.applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),a.setXYZ(u,t.x,t.y,t.z),u+=1,a.setXYZ(u,e.x,e.y,e.z),u+=1;return a.needsUpdate=!0,this}}(),ei.prototype=Object.create(ct.prototype),ei.prototype.constructor=ei,ei.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},ei.prototype.update=function(){var t=new c,e=new c;return function(){var n=this.light.distance?this.light.distance:1e3,r=n*Math.tan(this.light.angle);this.cone.scale.set(r,r,n),t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(e.sub(t)),this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}(),ni.prototype=Object.create(Me.prototype),ni.prototype.constructor=ni,ni.prototype.getBoneList=function(t){var e=[];t&&t.isBone&&e.push(t);for(var n=0;n<t.children.length;n++)e.push.apply(e,this.getBoneList(t.children[n]));return e},ni.prototype.update=function(){var t=new c,e=new h,n=new h;return function(){var r=this.geometry,i=r.getAttribute("position");n.getInverse(this.root.matrixWorld);for(var a=0,o=0;a<this.bones.length;a++){var s=this.bones[a];s.parent&&s.parent.isBone&&(e.multiplyMatrices(n,s.matrixWorld),t.setFromMatrixPosition(e),i.setXYZ(o,t.x,t.y,t.z),e.multiplyMatrices(n,s.parent.matrixWorld),t.setFromMatrixPosition(e),i.setXYZ(o+1,t.x,t.y,t.z),o+=2)}r.getAttribute("position").needsUpdate=!0}}(),ri.prototype=Object.create(Ot.prototype),ri.prototype.constructor=ri,ri.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},ri.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)},ii.prototype=Object.create(ct.prototype),ii.prototype.constructor=ii,ii.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose(),this.children[1].geometry.dispose(),this.children[1].material.dispose()},ii.prototype.update=function(){var t=new c,e=new c;return function(){var n=this.children[0],r=this.children[1];if(this.light.target){t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld);var i=e.clone().sub(t);n.lookAt(i),r.lookAt(i)}n.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),r.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);var a=.5*this.light.width,o=.5*this.light.height,s=n.geometry.getAttribute("position"),l=s.array;l[0]=a,l[1]=-o,l[2]=0,l[3]=a,l[4]=o,l[5]=0,l[6]=-a,l[7]=o,l[8]=0,l[9]=-a,l[10]=o,l[11]=0,l[12]=-a,l[13]=-o,l[14]=0,l[15]=a,l[16]=-o,l[17]=0,s.needsUpdate=!0}}(),ai.prototype=Object.create(ct.prototype),ai.prototype.constructor=ai,ai.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},ai.prototype.update=function(){var t=new c,e=new q,n=new q;return function(){var r=this.children[0],i=r.geometry.getAttribute("color");e.copy(this.light.color).multiplyScalar(this.light.intensity),n.copy(this.light.groundColor).multiplyScalar(this.light.intensity);for(var a=0,o=i.count;a<o;a++){var s=a<o/2?e:n;i.setXYZ(a,s.r,s.g,s.b)}r.lookAt(t.setFromMatrixPosition(this.light.matrixWorld).negate()),i.needsUpdate=!0}}(),oi.prototype=Object.create(Me.prototype),oi.prototype.constructor=oi,si.prototype=Object.create(Me.prototype),si.prototype.constructor=si,li.prototype=Object.create(Me.prototype),li.prototype.constructor=li,li.prototype.update=function(){var t=new c,e=new c,n=new rt;return function(){this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);for(var r=this.object.matrixWorld,i=this.geometry.attributes.position,a=this.object.geometry,o=a.vertices,s=a.faces,l=0,u=0,c=s.length;u<c;u++){var h=s[u],d=h.normal;t.copy(o[h.a]).add(o[h.b]).add(o[h.c]).divideScalar(3).applyMatrix4(r),e.copy(d).applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),i.setXYZ(l,t.x,t.y,t.z),l+=1,i.setXYZ(l,e.x,e.y,e.z),l+=1}return i.needsUpdate=!0,this}}(),ui.prototype=Object.create(ct.prototype),ui.prototype.constructor=ui,ui.prototype.dispose=function(){var t=this.children[0],e=this.children[1];t.geometry.dispose(),t.material.dispose(),e.geometry.dispose(),e.material.dispose()},ui.prototype.update=function(){var t=new c,e=new c,n=new c;return function(){t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),n.subVectors(e,t);var r=this.children[0],i=this.children[1];r.lookAt(n),r.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),i.lookAt(n),i.scale.z=n.length()}}(),ci.prototype=Object.create(Me.prototype),ci.prototype.constructor=ci,ci.prototype.update=function(){function t(t,a,o,s){r.set(a,o,s).unproject(i);var l=n[t];if(void 0!==l)for(var u=e.getAttribute("position"),c=0,h=l.length;c<h;c++)u.setXYZ(l[c],r.x,r.y,r.z)}var e,n,r=new c,i=new Dt;return function(){e=this.geometry,n=this.pointMap;i.projectionMatrix.copy(this.camera.projectionMatrix),t("c",0,0,-1),t("t",0,0,1),t("n1",-1,-1,-1),t("n2",1,-1,-1),t("n3",-1,1,-1),t("n4",1,1,-1),t("f1",-1,-1,1),t("f2",1,-1,1),t("f3",-1,1,1),t("f4",1,1,1),t("u1",.7,1.1,-1),t("u2",-.7,1.1,-1),t("u3",0,2,-1),t("cf1",-1,0,1),t("cf2",1,0,1),t("cf3",0,-1,1),t("cf4",0,1,1),t("cn1",-1,0,-1),t("cn2",1,0,-1),t("cn3",0,-1,-1),t("cn4",0,1,-1),e.getAttribute("position").needsUpdate=!0}}(),hi.prototype=Object.create(Me.prototype),hi.prototype.constructor=hi,hi.prototype.update=function(){var t=new et;return function(e){if(e&&e.isBox3?t.copy(e):t.setFromObject(e),!t.isEmpty()){var n=t.min,r=t.max,i=this.geometry.attributes.position,a=i.array;a[0]=r.x,a[1]=r.y,a[2]=r.z,a[3]=n.x,a[4]=r.y,a[5]=r.z,a[6]=n.x,a[7]=n.y,a[8]=r.z,a[9]=r.x,a[10]=n.y,a[11]=r.z,a[12]=r.x,a[13]=r.y,a[14]=n.z,a[15]=n.x,a[16]=r.y,a[17]=n.z,a[18]=n.x,a[19]=n.y,a[20]=n.z,a[21]=r.x,a[22]=n.y,a[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}();var Fs,Us;di.prototype=Object.create(ct.prototype),di.prototype.constructor=di,di.prototype.setDirection=function(){var t,e=new c;return function(n){n.y>.99999?this.quaternion.set(0,0,0,1):n.y<-.99999?this.quaternion.set(1,0,0,0):(e.set(n.z,0,-n.x).normalize(),t=Math.acos(n.y),this.quaternion.setFromAxisAngle(e,t))}}(),di.prototype.setLength=function(t,e,n){void 0===e&&(e=.2*t),void 0===n&&(n=.2*e),this.line.scale.set(1,Math.max(0,t-e),1),this.line.updateMatrix(),this.cone.scale.set(n,e,n),this.cone.position.y=t,this.cone.updateMatrix()},di.prototype.setColor=function(t){this.line.material.color.copy(t),this.cone.material.color.copy(t)},fi.prototype=Object.create(Me.prototype),fi.prototype.constructor=fi;var js=new c,Ws=new pi,Gs=new pi,Vs=new pi;mi.prototype=Object.create(mr.prototype),mi.prototype.constructor=mi,mi.prototype.getPoint=function(t){var e=this.points,n=e.length;n<2&&console.log("duh, you need at least 2 points");var r=(n-(this.closed?0:1))*t,i=Math.floor(r),a=r-i;this.closed?i+=i>0?0:(Math.floor(Math.abs(i)/e.length)+1)*e.length:0===a&&i===n-1&&(i=n-2,a=1);var o,s,l,u;if(this.closed||i>0?o=e[(i-1)%n]:(js.subVectors(e[0],e[1]).add(e[0]),o=js),s=e[i%n],l=e[(i+1)%n],this.closed||i+2<n?u=e[(i+2)%n]:(js.subVectors(e[n-1],e[n-2]).add(e[n-1]),u=js),void 0===this.type||"centripetal"===this.type||"chordal"===this.type){var h="chordal"===this.type?.5:.25,d=Math.pow(o.distanceToSquared(s),h),f=Math.pow(s.distanceToSquared(l),h),p=Math.pow(l.distanceToSquared(u),h);f<1e-4&&(f=1),d<1e-4&&(d=f),p<1e-4&&(p=f),Ws.initNonuniformCatmullRom(o.x,s.x,l.x,u.x,d,f,p),Gs.initNonuniformCatmullRom(o.y,s.y,l.y,u.y,d,f,p),Vs.initNonuniformCatmullRom(o.z,s.z,l.z,u.z,d,f,p)}else if("catmullrom"===this.type){var m=void 0!==this.tension?this.tension:.5;Ws.initCatmullRom(o.x,s.x,l.x,u.x,m),Gs.initCatmullRom(o.y,s.y,l.y,u.y,m),Vs.initCatmullRom(o.z,s.z,l.z,u.z,m)}return new c(Ws.calc(a),Gs.calc(a),Vs.calc(a))},gi.prototype=Object.create(mr.prototype),gi.prototype.constructor=gi,gi.prototype.getPoint=function(t){var e=this.v0,n=this.v1,r=this.v2,i=this.v3;return new c(pr(t,e.x,n.x,r.x,i.x),pr(t,e.y,n.y,r.y,i.y),pr(t,e.z,n.z,r.z,i.z))},vi.prototype=Object.create(mr.prototype),vi.prototype.constructor=vi,vi.prototype.getPoint=function(t){var e=this.v0,n=this.v1,r=this.v2;return new c(ur(t,e.x,n.x,r.x),ur(t,e.y,n.y,r.y),ur(t,e.z,n.z,r.z))},yi.prototype=Object.create(mr.prototype),yi.prototype.constructor=yi,yi.prototype.getPoint=function(t){if(1===t)return this.v2.clone();var e=new c;return e.subVectors(this.v2,this.v1),e.multiplyScalar(t),e.add(this.v1),e},bi.prototype=Object.create(yr.prototype),bi.prototype.constructor=bi;var Hs={createMultiMaterialObject:function(t,e){for(var n=new ke,r=0,i=e.length;r<i;r++)n.add(new Ot(t,e[r]));return n},detach:function(t,e,n){t.applyMatrix(e.matrixWorld),e.remove(t),n.add(t)},attach:function(t,e,n){var r=new h;r.getInverse(n.matrixWorld),t.applyMatrix(r),e.remove(t),n.add(t)}},Ys=0,qs=1;mr.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(mr.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},Fi.prototype=Object.create(mi.prototype),Ui.prototype=Object.create(mi.prototype),ji.prototype=Object.create(mi.prototype),Object.assign(ji.prototype,{initFromArray:function(t){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(t){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(t){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),oi.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Object.assign(Z.prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(et.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}}),ht.prototype.center=function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)},fs.random16=function(){return console.warn("THREE.Math.random16() has been deprecated. Use Math.random() instead."),Math.random()},Object.assign(rt.prototype,{flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(t){return console.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(t)},applyToBuffer:function(t,e,n){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(t,e,n){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(h.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},getPosition:function(){var t;return function(){return void 0===t&&(t=new c),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),t.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(t){return console.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(t)},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(t,e,n){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(t,e,n){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(t,e,n,r,i,a){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,r,n,i,a)}}),it.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)},u.prototype.multiplyVector3=function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},Object.assign(st.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}),Object.assign(Mr.prototype,{extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Ke(this,t)},makeGeometry:function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new an(this,t)}}),Object.assign(i.prototype,{fromAttribute:function(t,e,n){return console.error("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)}}),Object.assign(c.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},applyProjection:function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},fromAttribute:function(t,e,n){return console.error("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)}}),Object.assign(o.prototype,{fromAttribute:function(t,e,n){return console.error("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)}}),Ct.prototype.computeTangents=function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")},Object.assign(ct.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)}}),Object.defineProperties(ct.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(ve.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Nt.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(An.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(mt.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}}}),Object.assign(Pt.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addDrawCall:function(t,e,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(Pt.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(Ur.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(Q.prototype,{wrapAround:{get:function(){console.warn("THREE."+this.type+": .wrapAround has been removed.")},set:function(){console.warn("THREE."+this.type+": .wrapAround has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE."+this.type+": .wrapRGB has been removed."),new q}}}),Object.defineProperties(bn.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties($.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),Object.assign(ce.prototype,{supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}}),Object.defineProperties(ce.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace."),this.shadowMap.cullFace=t}}}),Object.defineProperties(ot.prototype,{cullFace:{get:function(){return this.renderReverseSided?$i:Qi},set:function(t){var e=t!==Qi;console.warn("WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to "+e+"."),this.renderReverseSided=e}}}),Object.defineProperties(s.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),Rr.prototype.load=function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var e=this;return(new Tr).load(t,function(t){e.setBuffer(t)}),this},Ir.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};var Xs={merge:function(t,e,n){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");var r;e.isMesh&&(e.matrixAutoUpdate&&e.updateMatrix(),r=e.matrix,e=e.geometry),t.merge(e,r,n)},center:function(t){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),t.center()}},Zs={crossOrigin:void 0,loadTexture:function(t,e,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new On;i.setCrossOrigin(this.crossOrigin);var a=i.load(t,n,void 0,r);return e&&(a.mapping=e),a},loadTextureCube:function(t,e,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new Pn;i.setCrossOrigin(this.crossOrigin);var a=i.load(t,n,void 0,r);return e&&(a.mapping=e),a},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}}},function(t,e,n){"use strict";(function(t){function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n,r){n&&(0,S.default)(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function a(t,e,n,r,i){var a={};return Object.keys(r).forEach(function(t){a[t]=r[t]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(t,e,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0});var o,s,l,u,c,h,d,f,p,m,g,v,y,b,x,_,w,M=n(20),S=r(M),E=n(25),k=r(E),T=n(0),C=r(T),P=n(1),O=r(P),A=n(24),R=n(225),L=r(R),I=n(224),D=r(I),N=n(226),z=r(N),B=n(227),F=r(B),U=n(228),j=r(U),W=n(229),G=r(W),V=n(230),H=(r(V),n(231)),Y=r(H),q=n(232),X=r(q),Z=n(30),K=r(Z),J=(o=function(){function e(){(0,C.default)(this,e),i(this,"timestamp",s,this),i(this,"worldTimestamp",l,this),i(this,"sceneDimension",u,this),i(this,"dimension",c,this),i(this,"isInitialized",h,this),i(this,"hmi",d,this),i(this,"planningData",f,this),i(this,"controlData",p,this),i(this,"playback",m,this),i(this,"trafficSignal",g,this),i(this,"meters",v,this),i(this,"monitor",y,this),i(this,"options",b,this),i(this,"routeEditingManager",x,this),i(this,"geolocation",_,this),i(this,"moduleDelay",w,this)}return(0,O.default)(e,[{key:"updateTimestamp",value:function(t){this.timestamp=t}},{key:"updateWidthInPercentage",value:function(t){this.sceneDimension.widthRatio=t}},{key:"setInitializationStatus",value:function(t){this.isInitialized=t}},{key:"updatePlanning",value:function(t){this.planning.update(t)}},{key:"setGeolocation",value:function(t){this.geolocation=t}},{key:"enablePNCMonitor",value:function(){this.updateWidthInPercentage(.7),this.options.showPlanningReference=!0,this.options.showPlanningDpOptimizer=!0,this.options.showPlanningQpOptimizer=!0}},{key:"disablePNCMonitor",value:function(){this.updateWidthInPercentage(1),this.options.showPlanningCar=!1,this.options.showPlanningReference=!1,this.options.showPlanningDpOptimizer=!1,this.options.showPlanningQpOptimizer=!1}},{key:"updateModuleDelay",value:function(e){if(e&&e.delay)for(t in e.delay){var n=e.delay[t]<0,r=n?"-":e.delay[t].toFixed(2);this.moduleDelay.has(t)?this.moduleDelay.get(t).delay=r:this.moduleDelay.set(t,{delay:r,name:t[0].toUpperCase()+t.slice(1)})}}},{key:"handleOptionToggle",value:function(t){var e=this.options.showPNCMonitor,n=this.options.showRouteEditingBar;if(this.options.toggle(t),e&&!this.options.showPNCMonitor&&this.disablePNCMonitor(),n&&!this.options.showRouteEditingBar&&this.routeEditingManager.disableRouteEditing(),this.options[t])switch(t){case"showPNCMonitor":this.enablePNCMonitor();break;case"showRouteEditingBar":this.options.showPOI=!1,this.routeEditingManager.enableRouteEditing()}}},{key:"setOptionStatus",value:function(t,e){this.options[t]=e||!1}},{key:"updateDimension",value:function(){var t=0,e=0,n=.65,r=window.innerHeight<800||window.innerWidth<1280;t=r?80:90,e=r?55:60,n=.6,this.dimension.width=window.innerWidth*this.sceneDimension.widthRatio,this.dimension.height=window.innerHeight-e,this.sceneDimension.width=this.dimension.width-t,this.sceneDimension.height=this.options.showTools?this.dimension.height*n:this.dimension.height}},{key:"enableHMIButtonsOnly",get:function(){return!this.isInitialized}}]),e}(),s=a(o.prototype,"timestamp",[A.observable],{enumerable:!0,initializer:function(){return 0}}),l=a(o.prototype,"worldTimestamp",[A.observable],{enumerable:!0,initializer:function(){return 0}}),u=a(o.prototype,"sceneDimension",[A.observable],{enumerable:!0,initializer:function(){return{width:window.innerWidth,height:window.innerHeight,widthRatio:1}}}),c=a(o.prototype,"dimension",[A.observable],{enumerable:!0,initializer:function(){return{width:window.innerWidth,height:window.innerHeight}}}),h=a(o.prototype,"isInitialized",[A.observable],{enumerable:!0,initializer:function(){return!1}}),d=a(o.prototype,"hmi",[A.observable],{enumerable:!0,initializer:function(){return new L.default}}),f=a(o.prototype,"planningData",[A.observable],{enumerable:!0,initializer:function(){return new G.default}}),p=a(o.prototype,"controlData",[A.observable],{enumerable:!0,initializer:function(){return new D.default}}),m=a(o.prototype,"playback",[A.observable],{enumerable:!0,initializer:function(){return null}}),g=a(o.prototype,"trafficSignal",[A.observable],{enumerable:!0,initializer:function(){return new X.default}}),v=a(o.prototype,"meters",[A.observable],{enumerable:!0,initializer:function(){return new z.default}}),y=a(o.prototype,"monitor",[A.observable],{enumerable:!0,initializer:function(){return new F.default}}),b=a(o.prototype,"options",[A.observable],{enumerable:!0,initializer:function(){return new j.default}}),x=a(o.prototype,"routeEditingManager",[A.observable],{enumerable:!0,initializer:function(){return new Y.default}}),_=a(o.prototype,"geolocation",[A.observable],{enumerable:!0,initializer:function(){return{}}}),w=a(o.prototype,"moduleDelay",[A.observable],{enumerable:!0,initializer:function(){return A.observable.map()}}),a(o.prototype,"enableHMIButtonsOnly",[A.computed],(0,k.default)(o.prototype,"enableHMIButtonsOnly"),o.prototype),a(o.prototype,"updateTimestamp",[A.action],(0,k.default)(o.prototype,"updateTimestamp"),o.prototype),a(o.prototype,"updateWidthInPercentage",[A.action],(0,k.default)(o.prototype,"updateWidthInPercentage"),o.prototype),a(o.prototype,"setInitializationStatus",[A.action],(0,k.default)(o.prototype,"setInitializationStatus"),o.prototype),a(o.prototype,"updatePlanning",[A.action],(0,k.default)(o.prototype,"updatePlanning"),o.prototype),a(o.prototype,"setGeolocation",[A.action],(0,k.default)(o.prototype,"setGeolocation"),o.prototype),a(o.prototype,"enablePNCMonitor",[A.action],(0,k.default)(o.prototype,"enablePNCMonitor"),o.prototype),a(o.prototype,"disablePNCMonitor",[A.action],(0,k.default)(o.prototype,"disablePNCMonitor"),o.prototype),a(o.prototype,"updateModuleDelay",[A.action],(0,k.default)(o.prototype,"updateModuleDelay"),o.prototype),o),Q=new J;(0,A.autorun)(function(){Q.updateDimension()});K.default.debug.autoMonitorMessage&&setInterval(function(){var t=[{level:"FATAL",message:"There is a fatal hardware issue detected. It might be due to an incorrect power management setup. Please see the logs for details."},{level:"WARN",message:"The warning indicator on the instrument panel is on. This is usually due to a failure in engine."},{level:"ERROR",message:"Invalid coordinates received from the localization module."},{level:"INFO",message:"Monitor module has started and is succesfully initialized."}][Math.floor(4*Math.random())];Q.monitor.insert(t.level,t.message,Date.now())},1e4);e.default=Q}).call(e,n(112)(t))},function(t,e,n){var r,i;/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];if(r){var i=typeof r;if("string"===i||"number"===i)t.push(r);else if(Array.isArray(r))t.push(n.apply(null,r));else if("object"===i)for(var o in r)a.call(r,o)&&r[o]&&t.push(o)}}return t.join(" ")}var a={}.hasOwnProperty;void 0!==t&&t.exports?t.exports=n:(r=[],void 0!==(i=function(){return n}.apply(e,r))&&(t.exports=i))}()},function(t,e,n){var r=n(18),i=n(10),a=n(28),o=n(34),s=function(t,e,n){var l,u,c,h=t&s.F,d=t&s.G,f=t&s.S,p=t&s.P,m=t&s.B,g=t&s.W,v=d?i:i[e]||(i[e]={}),y=v.prototype,b=d?r:f?r[e]:(r[e]||{}).prototype;d&&(n=e);for(l in n)(u=!h&&b&&void 0!==b[l])&&l in v||(c=u?b[l]:n[l],v[l]=d&&"function"!=typeof b[l]?n[l]:m&&u?a(c,r):g&&b[l]==c?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(c):p&&"function"==typeof c?a(Function.call,c):c,p&&((v.virtual||(v.virtual={}))[l]=c,t&s.R&&y&&!y[l]&&o(y,l,c)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},function(t,e,n){var r=n(93)("wks"),i=n(68),a=n(18).Symbol,o="function"==typeof a;(t.exports=function(t){return r[t]||(r[t]=o&&a[t]||(o?a:i)("Symbol."+t))}).store=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){var e=window.location.origin,n=document.createElement("a");n.href=e;var r="https:"===location.protocol?"wss":"ws",i=window.location.port,a="";switch(t){case"map":a="map";break;case"point_cloud":a="pointcloud";break;case"sim_world":a="websocket"}return r+"://"+n.hostname+":"+i+"/"+a}Object.defineProperty(e,"__esModule",{value:!0}),e.POINT_CLOUD_WS=e.MAP_WS=void 0;var a=n(30),o=(r(a),n(234)),s=(r(o),n(236)),l=r(s),u=n(233),c=r(u),h=n(235),d=r(h),f=i("sim_world"),p=new l.default(f);e.default=p;var m=i("map"),g=(e.MAP_WS=new c.default(m),i("point_cloud"));e.POINT_CLOUD_WS=new d.default(g)},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){t.exports=n(469)()},function(t,e,n){t.exports={default:n(309),__esModule:!0}},function(t,e,n){"use strict";function r(t,e,n,r){var a,o,s,l,u,c,h,d,f,p=Object.keys(n);for(a=0,o=p.length;a<o;++a)if(s=p[a],c=n[s],e.hasOwnProperty(s)||(e[s]=c),(l=e[s])!==c&&"_"!==s[0]){if(t.hasOwnProperty(s)||(t[s]=l),u=t[s],(h=typeof c)===typeof u)if("string"===h){if(d=i(u),d.valid&&(f=i(c),f.valid)){e[s]=f.mix(d,r).rgbString();continue}}else if("number"===h&&isFinite(u)&&isFinite(c)){e[s]=u+(c-u)*r;continue}e[s]=c}}var i=n(124),a=n(6),o=function(t){a.extend(this,t),this.initialize.apply(this,arguments)};a.extend(o.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var t=this;return t._view||(t._view=a.clone(t._model)),t._start={},t},transition:function(t){var e=this,n=e._model,i=e._start,a=e._view;return n&&1!==t?(a||(a=e._view={}),i||(i=e._start={}),r(i,a,n,t),e):(e._view=n,e._start=null,e)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return a.isNumber(this._model.x)&&a.isNumber(this._model.y)}}),o.extend=a.inherits,t.exports=o},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(26),i=n(126),a=n(95),o=Object.defineProperty;e.f=n(27)?Object.defineProperty:function(t,e,n){if(r(t),e=a(e,!0),r(n),i)try{return o(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){function r(t,e){function n(){this.constructor=t}Qe(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function i(t){return t.interceptors&&t.interceptors.length>0}function a(t,e){var n=t.interceptors||(t.interceptors=[]);return n.push(e),St(function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)})}function o(t,e){var n=Me();try{var r=t.interceptors;if(r)for(var i=0,a=r.length;i<a&&(e=r[i](e),wt(!e||e.type,"Intercept handlers should return nothing or a change object"),e);i++);return e}finally{Se(n)}}function s(t){return t.changeListeners&&t.changeListeners.length>0}function l(t,e){var n=t.changeListeners||(t.changeListeners=[]);return n.push(e),St(function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)})}function u(t,e){var n=Me(),r=t.changeListeners;if(r){r=r.slice();for(var i=0,a=r.length;i<a;i++)r[i](e);Se(n)}}function c(){return!!Wn.spyListeners.length}function h(t){if(Wn.spyListeners.length)for(var e=Wn.spyListeners,n=0,r=e.length;n<r;n++)e[n](t)}function d(t){h(Pt({},t,{spyReportStart:!0}))}function f(t){h(t?Pt({},t,nn):nn)}function p(t){return Wn.spyListeners.push(t),St(function(){var e=Wn.spyListeners.indexOf(t);-1!==e&&Wn.spyListeners.splice(e,1)})}function m(){return"function"==typeof Symbol&&Symbol.iterator||"@@iterator"}function g(t){wt(!0!==t[rn],"Illegal state: cannot recycle array as iterator"),Rt(t,rn,!0);var e=-1;return Rt(t,"next",function(){return e++,{done:e>=this.length,value:e<this.length?this[e]:void 0}}),t}function v(t,e){Rt(t,m(),e)}function y(t){return{enumerable:!1,configurable:!1,get:function(){return this.get(t)},set:function(e){this.set(t,e)}}}function b(t){Object.defineProperty(un.prototype,""+t,y(t))}function x(t){for(var e=on;e<t;e++)b(e);on=t}function _(t){return Tt(t)&&hn(t.$mobx)}function w(t){return mn[t]}function M(t,e){wt("function"==typeof e,w("m026")),wt("string"==typeof t&&t.length>0,"actions should have valid names, got: '"+t+"'");var n=function(){return S(t,e,this,arguments)};return n.originalFn=e,n.isMobxAction=!0,n}function S(t,e,n,r){var i=E(t,e,n,r);try{return e.apply(n,r)}finally{k(i)}}function E(t,e,n,r){var i=c()&&!!t,a=0;if(i){a=Date.now();var o=r&&r.length||0,s=new Array(o);if(o>0)for(var l=0;l<o;l++)s[l]=r[l];d({type:"action",name:t,fn:e,object:n,arguments:s})}var u=Me();return se(),{prevDerivation:u,prevAllowStateChanges:O(!0),notifySpy:i,startTime:a}}function k(t){A(t.prevAllowStateChanges),le(),Se(t.prevDerivation),t.notifySpy&&f({time:Date.now()-t.startTime})}function T(t){wt(null===Wn.trackingDerivation,w("m028")),Wn.strictMode=t,Wn.allowStateChanges=!t}function C(){return Wn.strictMode}function P(t,e){var n,r=O(t);try{n=e()}finally{A(r)}return n}function O(t){var e=Wn.allowStateChanges;return Wn.allowStateChanges=t,e}function A(t){Wn.allowStateChanges=t}function R(t,e,n,r,i){function a(a,o,s,l,u){if(void 0===u&&(u=0),wt(i||D(arguments),"This function is a decorator, but it wasn't invoked like a decorator"),s){Ot(a,"__mobxLazyInitializers")||At(a,"__mobxLazyInitializers",a.__mobxLazyInitializers&&a.__mobxLazyInitializers.slice()||[]);var c=s.value,h=s.initializer;return a.__mobxLazyInitializers.push(function(e){t(e,o,h?h.call(e):c,l,s)}),{enumerable:r,configurable:!0,get:function(){return!0!==this.__mobxDidRunLazyInitializers&&I(this),e.call(this,o)},set:function(t){!0!==this.__mobxDidRunLazyInitializers&&I(this),n.call(this,o,t)}}}var d={enumerable:r,configurable:!0,get:function(){return this.__mobxInitializedProps&&!0===this.__mobxInitializedProps[o]||L(this,o,void 0,t,l,s),e.call(this,o)},set:function(e){this.__mobxInitializedProps&&!0===this.__mobxInitializedProps[o]?n.call(this,o,e):L(this,o,e,t,l,s)}};return(arguments.length<3||5===arguments.length&&u<3)&&Object.defineProperty(a,o,d),d}return i?function(){if(D(arguments))return a.apply(null,arguments);var t=arguments,e=arguments.length;return function(n,r,i){return a(n,r,i,t,e)}}:a}function L(t,e,n,r,i,a){Ot(t,"__mobxInitializedProps")||At(t,"__mobxInitializedProps",{}),t.__mobxInitializedProps[e]=!0,r(t,e,n,i,a)}function I(t){!0!==t.__mobxDidRunLazyInitializers&&t.__mobxLazyInitializers&&(At(t,"__mobxDidRunLazyInitializers",!0),t.__mobxDidRunLazyInitializers&&t.__mobxLazyInitializers.forEach(function(e){return e(t)}))}function D(t){return(2===t.length||3===t.length)&&"string"==typeof t[1]}function N(t){return function(e,n,r){if(r&&"function"==typeof r.value)return r.value=M(t,r.value),r.enumerable=!1,r.configurable=!0,r;if(void 0!==r&&void 0!==r.get)throw new Error("[mobx] action is not expected to be used with getters");return gn(t).apply(this,arguments)}}function z(t,e,n){var r="string"==typeof t?t:t.name||"<unnamed action>",i="function"==typeof t?t:e,a="function"==typeof t?e:n;return wt("function"==typeof i,w("m002")),wt(0===i.length,w("m003")),wt("string"==typeof r&&r.length>0,"actions should have valid names, got: '"+r+"'"),S(r,i,a,void 0)}function B(t){return"function"==typeof t&&!0===t.isMobxAction}function F(t,e,n){var r=function(){return S(e,n,t,arguments)};r.isMobxAction=!0,At(t,e,r)}function U(t,e){return t===e}function j(t,e){return Nt(t,e)}function W(t,e){return Bt(t,e)||U(t,e)}function G(t,e,n){function r(){a(s)}var i,a,o;"string"==typeof t?(i=t,a=e,o=n):(i=t.name||"Autorun@"+xt(),a=t,o=e),wt("function"==typeof a,w("m004")),wt(!1===B(a),w("m005")),o&&(a=a.bind(o));var s=new Kn(i,function(){this.track(r)});return s.schedule(),s.getDisposer()}function V(t,e,n,r){var i,a,o,s;return"string"==typeof t?(i=t,a=e,o=n,s=r):(i="When@"+xt(),a=t,o=e,s=n),G(i,function(t){if(a.call(s)){t.dispose();var e=Me();o.call(s),Se(e)}})}function H(t,e,n,r){function i(){o(c)}var a,o,s,l;"string"==typeof t?(a=t,o=e,s=n,l=r):(a=t.name||"AutorunAsync@"+xt(),o=t,s=e,l=n),wt(!1===B(o),w("m006")),void 0===s&&(s=1),l&&(o=o.bind(l));var u=!1,c=new Kn(a,function(){u||(u=!0,setTimeout(function(){u=!1,c.isDisposed||c.track(i)},s))});return c.schedule(),c.getDisposer()}function Y(t,e,n){function r(){if(!u.isDisposed){var n=!1;u.track(function(){var e=t(u);n=o||!l(a,e),a=e}),o&&i.fireImmediately&&e(a,u),o||!0!==n||e(a,u),o&&(o=!1)}}arguments.length>3&&_t(w("m007")),ct(t)&&_t(w("m008"));var i;i="object"==typeof n?n:{},i.name=i.name||t.name||e.name||"Reaction@"+xt(),i.fireImmediately=!0===n||!0===i.fireImmediately,i.delay=i.delay||0,i.compareStructural=i.compareStructural||i.struct||!1,e=yn(i.name,i.context?e.bind(i.context):e),i.context&&(t=t.bind(i.context));var a,o=!0,s=!1,l=i.equals?i.equals:i.compareStructural||i.struct?bn.structural:bn.default,u=new Kn(i.name,function(){o||i.delay<1?r():s||(s=!0,setTimeout(function(){s=!1,r()},i.delay))});return u.schedule(),u.getDisposer()}function q(t,e){if(nt(t)&&t.hasOwnProperty("$mobx"))return t.$mobx;wt(Object.isExtensible(t),w("m035")),Ct(t)||(e=(t.constructor.name||"ObservableObject")+"@"+xt()),e||(e="ObservableObject@"+xt());var n=new wn(t,e);return Rt(t,"$mobx",n),n}function X(t,e,n,r){if(t.values[e]&&!_n(t.values[e]))return wt("value"in n,"The property "+e+" in "+t.name+" is already observable, cannot redefine it as computed property"),void(t.target[e]=n.value);if("value"in n)if(ct(n.value)){var i=n.value;Z(t,e,i.initialValue,i.enhancer)}else B(n.value)&&!0===n.value.autoBind?F(t.target,e,n.value.originalFn):_n(n.value)?J(t,e,n.value):Z(t,e,n.value,r);else K(t,e,n.get,n.set,bn.default,!0)}function Z(t,e,n,r){if(It(t.target,e),i(t)){var a=o(t,{object:t.target,name:e,type:"add",newValue:n});if(!a)return;n=a.newValue}n=(t.values[e]=new fn(n,r,t.name+"."+e,!1)).value,Object.defineProperty(t.target,e,Q(e)),et(t,t.target,e,n)}function K(t,e,n,r,i,a){a&&It(t.target,e),t.values[e]=new xn(n,t.target,i,t.name+"."+e,r),a&&Object.defineProperty(t.target,e,$(e))}function J(t,e,n){var r=t.name+"."+e;n.name=r,n.scope||(n.scope=t.target),t.values[e]=n,Object.defineProperty(t.target,e,$(e))}function Q(t){return Mn[t]||(Mn[t]={configurable:!0,enumerable:!0,get:function(){return this.$mobx.values[t].get()},set:function(e){tt(this,t,e)}})}function $(t){return Sn[t]||(Sn[t]={configurable:!0,enumerable:!1,get:function(){return this.$mobx.values[t].get()},set:function(e){return this.$mobx.values[t].set(e)}})}function tt(t,e,n){var r=t.$mobx,a=r.values[e];if(i(r)){var l=o(r,{type:"update",object:t,name:e,newValue:n});if(!l)return;n=l.newValue}if((n=a.prepareNewValue(n))!==dn){var h=s(r),p=c(),l=h||p?{type:"update",object:t,oldValue:a.value,name:e,newValue:n}:null;p&&d(l),a.setNewValue(n),h&&u(r,l),p&&f()}}function et(t,e,n,r){var i=s(t),a=c(),o=i||a?{type:"add",object:e,name:n,newValue:r}:null;a&&d(o),i&&u(t,o),a&&f()}function nt(t){return!!Tt(t)&&(I(t),En(t.$mobx))}function rt(t,e){if(null===t||void 0===t)return!1;if(void 0!==e){if(_(t)||Dn(t))throw new Error(w("m019"));if(nt(t)){var n=t.$mobx;return n.values&&!!n.values[e]}return!1}return nt(t)||!!t.$mobx||en(t)||$n(t)||_n(t)}function it(t){return wt(!!t,":("),R(function(e,n,r,i,a){It(e,n),wt(!a||!a.get,w("m022")),Z(q(e,void 0),n,r,t)},function(t){var e=this.$mobx.values[t];if(void 0!==e)return e.get()},function(t,e){tt(this,t,e)},!0,!1)}function at(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return st(t,dt,e)}function ot(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return st(t,pt,e)}function st(t,e,n){wt(arguments.length>=2,w("m014")),wt("object"==typeof t,w("m015")),wt(!Dn(t),w("m016")),n.forEach(function(t){wt("object"==typeof t,w("m017")),wt(!rt(t),w("m018"))});for(var r=q(t),i={},a=n.length-1;a>=0;a--){var o=n[a];for(var s in o)if(!0!==i[s]&&Ot(o,s)){if(i[s]=!0,t===o&&!Lt(t,s))continue;var l=Object.getOwnPropertyDescriptor(o,s);X(r,s,l,e)}}return t}function lt(t){if(void 0===t&&(t=void 0),"string"==typeof arguments[1])return kn.apply(null,arguments);if(wt(arguments.length<=1,w("m021")),wt(!ct(t),w("m020")),rt(t))return t;var e=dt(t,void 0,void 0);return e!==t?e:Rn.box(t)}function ut(t){_t("Expected one or two arguments to observable."+t+". Did you accidentally try to use observable."+t+" as decorator?")}function ct(t){return"object"==typeof t&&null!==t&&!0===t.isMobxModifierDescriptor}function ht(t,e){return wt(!ct(e),"Modifiers cannot be nested"),{isMobxModifierDescriptor:!0,initialValue:e,enhancer:t}}function dt(t,e,n){return ct(t)&&_t("You tried to assign a modifier wrapped value to a collection, please define modifiers when creating the collection, not when modifying it"),rt(t)?t:Array.isArray(t)?Rn.array(t,n):Ct(t)?Rn.object(t,n):jt(t)?Rn.map(t,n):t}function ft(t,e,n){return ct(t)&&_t("You tried to assign a modifier wrapped value to a collection, please define modifiers when creating the collection, not when modifying it"),void 0===t||null===t?t:nt(t)||_(t)||Dn(t)?t:Array.isArray(t)?Rn.shallowArray(t,n):Ct(t)?Rn.shallowObject(t,n):jt(t)?Rn.shallowMap(t,n):_t("The shallow modifier / decorator can only used in combination with arrays, objects and maps")}function pt(t){return t}function mt(t,e,n){if(Nt(t,e))return e;if(rt(t))return t;if(Array.isArray(t))return new un(t,mt,n);if(jt(t))return new In(t,mt,n);if(Ct(t)){var r={};return q(r,n),st(r,mt,[t]),r}return t}function gt(t,e,n){return Nt(t,e)?e:t}function vt(t,e){void 0===e&&(e=void 0),se();try{return t.apply(e)}finally{le()}}function yt(t){return Mt("`mobx.map` is deprecated, use `new ObservableMap` or `mobx.observable.map` instead"),Rn.map(t)}function bt(){return"undefined"!=typeof window?window:t}function xt(){return++Wn.mobxGuid}function _t(t,e){throw wt(!1,t,e),"X"}function wt(t,e,n){if(!t)throw new Error("[mobx] Invariant failed: "+e+(n?" in '"+n+"'":""))}function Mt(t){return-1===zn.indexOf(t)&&(zn.push(t),console.error("[mobx] Deprecated: "+t),!0)}function St(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}function Et(t){var e=[];return t.forEach(function(t){-1===e.indexOf(t)&&e.push(t)}),e}function kt(t,e,n){return void 0===e&&(e=100),void 0===n&&(n=" - "),t?t.slice(0,e).join(n)+(t.length>e?" (... and "+(t.length-e)+"more)":""):""}function Tt(t){return null!==t&&"object"==typeof t}function Ct(t){if(null===t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}function Pt(){for(var t=arguments[0],e=1,n=arguments.length;e<n;e++){var r=arguments[e];for(var i in r)Ot(r,i)&&(t[i]=r[i])}return t}function Ot(t,e){return Fn.call(t,e)}function At(t,e,n){Object.defineProperty(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function Rt(t,e,n){Object.defineProperty(t,e,{enumerable:!1,writable:!1,configurable:!0,value:n})}function Lt(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return!n||!1!==n.configurable&&!1!==n.writable}function It(t,e){wt(Lt(t,e),"Cannot make property '"+e+"' observable, it is not configurable and writable in the target object")}function Dt(t){var e=[];for(var n in t)e.push(n);return e}function Nt(t,e){if(null===t&&null===e)return!0;if(void 0===t&&void 0===e)return!0;if(Bt(t,e))return!0;if("object"!=typeof t)return t===e;var n=Ft(t),r=Ut(t);if(n!==Ft(e))return!1;if(r!==Ut(e))return!1;if(n){if(t.length!==e.length)return!1;for(var i=t.length-1;i>=0;i--)if(!Nt(t[i],e[i]))return!1;return!0}if(r){if(t.size!==e.size)return!1;var a=!0;return t.forEach(function(t,n){a=a&&Nt(e.get(n),t)}),a}if("object"==typeof t&&"object"==typeof e){if(null===t||null===e)return!1;if(Ut(t)&&Ut(e))return t.size===e.size&&Nt(Rn.shallowMap(t).entries(),Rn.shallowMap(e).entries());if(Dt(t).length!==Dt(e).length)return!1;for(var o in t){if(!(o in e))return!1;if(!Nt(t[o],e[o]))return!1}return!0}return!1}function zt(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(t){return Tt(t)&&!0===t[n]}}function Bt(t,e){return"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function Ft(t){return Array.isArray(t)||_(t)}function Ut(t){return jt(t)||Dn(t)}function jt(t){return void 0!==bt().Map&&t instanceof bt().Map}function Wt(t){var e;return Ct(t)?e=Object.keys(t):Array.isArray(t)?e=t.map(function(t){return t[0]}):Ut(t)?e=Array.from(t.keys()):_t("Cannot get keys from "+t),e}function Gt(){return"function"==typeof Symbol&&Symbol.toPrimitive||"@@toPrimitive"}function Vt(t){return null===t?null:"object"==typeof t?""+t:t}function Ht(){Vn=!0,bt().__mobxInstanceCount--}function Yt(){Mt("Using `shareGlobalState` is not recommended, use peer dependencies instead. See https://github.com/mobxjs/mobx/issues/1082 for details."),Gn=!0;var t=bt(),e=Wn;if(t.__mobservableTrackingStack||t.__mobservableViewStack)throw new Error("[mobx] An incompatible version of mobservable is already loaded.");if(t.__mobxGlobal&&t.__mobxGlobal.version!==e.version)throw new Error("[mobx] An incompatible version of mobx is already loaded.");t.__mobxGlobal?Wn=t.__mobxGlobal:t.__mobxGlobal=e}function qt(){return Wn}function Xt(){Wn.resetId++;var t=new jn;for(var e in t)-1===Un.indexOf(e)&&(Wn[e]=t[e]);Wn.allowStateChanges=!Wn.strictMode}function Zt(t,e){if("object"==typeof t&&null!==t){if(_(t))return wt(void 0===e,w("m036")),t.$mobx.atom;if(Dn(t)){var n=t;if(void 0===e)return Zt(n._keys);var r=n._data[e]||n._hasMap[e];return wt(!!r,"the entry '"+e+"' does not exist in the observable map '"+Jt(t)+"'"),r}if(I(t),e&&!t.$mobx&&t[e],nt(t)){if(!e)return _t("please specify a property");var r=t.$mobx.values[e];return wt(!!r,"no observable property '"+e+"' found on the observable object '"+Jt(t)+"'"),r}if(en(t)||_n(t)||$n(t))return t}else if("function"==typeof t&&$n(t.$mobx))return t.$mobx;return _t("Cannot obtain atom from "+t)}function Kt(t,e){return wt(t,"Expecting some object"),void 0!==e?Kt(Zt(t,e)):en(t)||_n(t)||$n(t)?t:Dn(t)?t:(I(t),t.$mobx?t.$mobx:void wt(!1,"Cannot obtain administration from "+t))}function Jt(t,e){var n;return n=void 0!==e?Zt(t,e):nt(t)||Dn(t)?Kt(t):Zt(t),n.name}function Qt(t,e){return $t(Zt(t,e))}function $t(t){var e={name:t.name};return t.observing&&t.observing.length>0&&(e.dependencies=Et(t.observing).map($t)),e}function te(t,e){return ee(Zt(t,e))}function ee(t){var e={name:t.name};return ne(t)&&(e.observers=re(t).map(ee)),e}function ne(t){return t.observers&&t.observers.length>0}function re(t){return t.observers}function ie(t,e){var n=t.observers.length;n&&(t.observersIndexes[e.__mapid]=n),t.observers[n]=e,t.lowestObserverState>e.dependenciesState&&(t.lowestObserverState=e.dependenciesState)}function ae(t,e){if(1===t.observers.length)t.observers.length=0,oe(t);else{var n=t.observers,r=t.observersIndexes,i=n.pop();if(i!==e){var a=r[e.__mapid]||0;a?r[i.__mapid]=a:delete r[i.__mapid],n[a]=i}delete r[e.__mapid]}}function oe(t){t.isPendingUnobservation||(t.isPendingUnobservation=!0,Wn.pendingUnobservations.push(t))}function se(){Wn.inBatch++}function le(){if(0==--Wn.inBatch){Re();for(var t=Wn.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation=!1,0===n.observers.length&&n.onBecomeUnobserved()}Wn.pendingUnobservations=[]}}function ue(t){var e=Wn.trackingDerivation;null!==e?e.runId!==t.lastAccessedBy&&(t.lastAccessedBy=e.runId,e.newObserving[e.unboundDepsCount++]=t):0===t.observers.length&&oe(t)}function ce(t){if(t.lowestObserverState!==qn.STALE){t.lowestObserverState=qn.STALE;for(var e=t.observers,n=e.length;n--;){var r=e[n];r.dependenciesState===qn.UP_TO_DATE&&(r.isTracing!==Xn.NONE&&fe(r,t),r.onBecomeStale()),r.dependenciesState=qn.STALE}}}function he(t){if(t.lowestObserverState!==qn.STALE){t.lowestObserverState=qn.STALE;for(var e=t.observers,n=e.length;n--;){var r=e[n];r.dependenciesState===qn.POSSIBLY_STALE?r.dependenciesState=qn.STALE:r.dependenciesState===qn.UP_TO_DATE&&(t.lowestObserverState=qn.UP_TO_DATE)}}}function de(t){if(t.lowestObserverState===qn.UP_TO_DATE){t.lowestObserverState=qn.POSSIBLY_STALE;for(var e=t.observers,n=e.length;n--;){var r=e[n];r.dependenciesState===qn.UP_TO_DATE&&(r.dependenciesState=qn.POSSIBLY_STALE,r.isTracing!==Xn.NONE&&fe(r,t),r.onBecomeStale())}}}function fe(t,e){if(console.log("[mobx.trace] '"+t.name+"' is invalidated due to a change in: '"+e.name+"'"),t.isTracing===Xn.BREAK){var n=[];pe(Qt(t),n,1),new Function("debugger;\n/*\nTracing '"+t.name+"'\n\nYou are entering this break point because derivation '"+t.name+"' is being traced and '"+e.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(t instanceof xn?t.derivation.toString():"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}function pe(t,e,n){if(e.length>=1e3)return void e.push("(and many more)");e.push(""+new Array(n).join("\t")+t.name),t.dependencies&&t.dependencies.forEach(function(t){return pe(t,e,n+1)})}function me(t){return t instanceof Zn}function ge(t){switch(t.dependenciesState){case qn.UP_TO_DATE:return!1;case qn.NOT_TRACKING:case qn.STALE:return!0;case qn.POSSIBLY_STALE:for(var e=Me(),n=t.observing,r=n.length,i=0;i<r;i++){var a=n[i];if(_n(a)){try{a.get()}catch(t){return Se(e),!0}if(t.dependenciesState===qn.STALE)return Se(e),!0}}return Ee(t),Se(e),!1}}function ve(){return null!==Wn.trackingDerivation}function ye(t){var e=t.observers.length>0;Wn.computationDepth>0&&e&&_t(w("m031")+t.name),!Wn.allowStateChanges&&e&&_t(w(Wn.strictMode?"m030a":"m030b")+t.name)}function be(t,e,n){Ee(t),t.newObserving=new Array(t.observing.length+100),t.unboundDepsCount=0,t.runId=++Wn.runId;var r=Wn.trackingDerivation;Wn.trackingDerivation=t;var i;try{i=e.call(n)}catch(t){i=new Zn(t)}return Wn.trackingDerivation=r,xe(t),i}function xe(t){for(var e=t.observing,n=t.observing=t.newObserving,r=qn.UP_TO_DATE,i=0,a=t.unboundDepsCount,o=0;o<a;o++){var s=n[o];0===s.diffValue&&(s.diffValue=1,i!==o&&(n[i]=s),i++),s.dependenciesState>r&&(r=s.dependenciesState)}for(n.length=i,t.newObserving=null,a=e.length;a--;){var s=e[a];0===s.diffValue&&ae(s,t),s.diffValue=0}for(;i--;){var s=n[i];1===s.diffValue&&(s.diffValue=0,ie(s,t))}r!==qn.UP_TO_DATE&&(t.dependenciesState=r,t.onBecomeStale())}function _e(t){var e=t.observing;t.observing=[];for(var n=e.length;n--;)ae(e[n],t);t.dependenciesState=qn.NOT_TRACKING}function we(t){var e=Me(),n=t();return Se(e),n}function Me(){var t=Wn.trackingDerivation;return Wn.trackingDerivation=null,t}function Se(t){Wn.trackingDerivation=t}function Ee(t){if(t.dependenciesState!==qn.UP_TO_DATE){t.dependenciesState=qn.UP_TO_DATE;for(var e=t.observing,n=e.length;n--;)e[n].lowestObserverState=qn.UP_TO_DATE}}function ke(t){return console.log(t),t}function Te(t,e){return Mt("`whyRun` is deprecated in favor of `trace`"),t=Pe(arguments),t?_n(t)||$n(t)?ke(t.whyRun()):_t(w("m025")):ke(w("m024"))}function Ce(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=!1;"boolean"==typeof t[t.length-1]&&(n=t.pop());var r=Pe(t);if(!r)return _t("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");r.isTracing===Xn.NONE&&console.log("[mobx.trace] '"+r.name+"' tracing enabled"),r.isTracing=n?Xn.BREAK:Xn.LOG}function Pe(t){switch(t.length){case 0:return Wn.trackingDerivation;case 1:return Zt(t[0]);case 2:return Zt(t[0],t[1])}}function Oe(t){wt(this&&this.$mobx&&$n(this.$mobx),"Invalid `this`"),wt(!this.$mobx.errorHandler,"Only one onErrorHandler can be registered"),this.$mobx.errorHandler=t}function Ae(t){return Wn.globalReactionErrorHandlers.push(t),function(){var e=Wn.globalReactionErrorHandlers.indexOf(t);e>=0&&Wn.globalReactionErrorHandlers.splice(e,1)}}function Re(){Wn.inBatch>0||Wn.isRunningReactions||Qn(Le)}function Le(){Wn.isRunningReactions=!0;for(var t=Wn.pendingReactions,e=0;t.length>0;){++e===Jn&&(console.error("Reaction doesn't converge to a stable state after "+Jn+" iterations. Probably there is a cycle in the reactive function: "+t[0]),t.splice(0));for(var n=t.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction()}Wn.isRunningReactions=!1}function Ie(t){var e=Qn;Qn=function(n){return t(function(){return e(n)})}}function De(t){return Mt("asReference is deprecated, use observable.ref instead"),Rn.ref(t)}function Ne(t){return Mt("asStructure is deprecated. Use observable.struct, computed.struct or reaction options instead."),Rn.struct(t)}function ze(t){return Mt("asFlat is deprecated, use observable.shallow instead"),Rn.shallow(t)}function Be(t){return Mt("asMap is deprecated, use observable.map or observable.shallowMap instead"),Rn.map(t||{})}function Fe(t){return R(function(e,n,r,i,a){wt(void 0!==a,w("m009")),wt("function"==typeof a.get,w("m010")),K(q(e,""),n,a.get,a.set,t,!1)},function(t){var e=this.$mobx.values[t];if(void 0!==e)return e.get()},function(t,e){this.$mobx.values[t].set(e)},!1,!1)}function Ue(t,e){if(null===t||void 0===t)return!1;if(void 0!==e){if(!1===nt(t))return!1;if(!t.$mobx.values[e])return!1;var n=Zt(t,e);return _n(n)}return _n(t)}function je(t,e,n,r){return"function"==typeof n?Ge(t,e,n,r):We(t,e,n)}function We(t,e,n){return Kt(t).observe(e,n)}function Ge(t,e,n,r){return Kt(t,e).observe(n,r)}function Ve(t,e,n){return"function"==typeof n?Ye(t,e,n):He(t,e)}function He(t,e){return Kt(t).intercept(e)}function Ye(t,e,n){return Kt(t,e).intercept(n)}function qe(t,e){return ve()||console.warn(w("m013")),nr(t,{context:e}).get()}function Xe(t,e,n){function r(r){return e&&n.push([t,r]),r}if(void 0===e&&(e=!0),void 0===n&&(n=[]),rt(t)){if(e&&null===n&&(n=[]),e&&null!==t&&"object"==typeof t)for(var i=0,a=n.length;i<a;i++)if(n[i][0]===t)return n[i][1];if(_(t)){var o=r([]),s=t.map(function(t){return Xe(t,e,n)});o.length=s.length;for(var i=0,a=s.length;i<a;i++)o[i]=s[i];return o}if(nt(t)){var o=r({});for(var l in t)o[l]=Xe(t[l],e,n);return o}if(Dn(t)){var u=r({});return t.forEach(function(t,r){return u[r]=Xe(t,e,n)}),u}if(pn(t))return Xe(t.get(),e,n)}return t}function Ze(t,e){wt("function"==typeof t&&t.length<2,"createTransformer expects a function that accepts one argument");var n={},i=Wn.resetId,a=function(i){function a(e,n){var r=i.call(this,function(){return t(n)},void 0,bn.default,"Transformer-"+t.name+"-"+e,void 0)||this;return r.sourceIdentifier=e,r.sourceObject=n,r}return r(a,i),a.prototype.onBecomeUnobserved=function(){var t=this.value;i.prototype.onBecomeUnobserved.call(this),delete n[this.sourceIdentifier],e&&e(t,this.sourceObject)},a}(xn);return function(t){i!==Wn.resetId&&(n={},i=Wn.resetId);var e=Ke(t),r=n[e];return r?r.get():(r=n[e]=new a(e,t),r.get())}}function Ke(t){if("string"==typeof t||"number"==typeof t)return t;if(null===t||"object"!=typeof t)throw new Error("[mobx] transform expected some kind of object or primitive value, got: "+t);var e=t.$transformId;return void 0===e&&(e=xt(),At(t,"$transformId",e)),e}function Je(t,e,n){var r;if(Dn(t)||_(t)||pn(t))r=Kt(t);else{if(!nt(t))return _t("Expected observable map, object or array as first array");if("string"!=typeof e)return _t("InterceptReads can only be used with a specific property, not with an object in general");r=Kt(t,e)}return void 0!==r.dehancer?_t("An intercept reader was already established"):(r.dehancer="function"==typeof e?e:n,function(){r.dehancer=void 0})}n.d(e,"extras",function(){return rr}),n.d(e,"Reaction",function(){return Kn}),n.d(e,"untracked",function(){return we}),n.d(e,"IDerivationState",function(){return qn}),n.d(e,"Atom",function(){return tn}),n.d(e,"BaseAtom",function(){return $e}),n.d(e,"useStrict",function(){return T}),n.d(e,"isStrictModeEnabled",function(){return C}),n.d(e,"spy",function(){return p}),n.d(e,"comparer",function(){return bn}),n.d(e,"asReference",function(){return De}),n.d(e,"asFlat",function(){return ze}),n.d(e,"asStructure",function(){return Ne}),n.d(e,"asMap",function(){return Be}),n.d(e,"isModifierDescriptor",function(){return ct}),n.d(e,"isObservableObject",function(){return nt}),n.d(e,"isBoxedObservable",function(){return pn}),n.d(e,"isObservableArray",function(){return _}),n.d(e,"ObservableMap",function(){return In}),n.d(e,"isObservableMap",function(){return Dn}),n.d(e,"map",function(){return yt}),n.d(e,"transaction",function(){return vt}),n.d(e,"observable",function(){return Rn}),n.d(e,"computed",function(){return nr}),n.d(e,"isObservable",function(){return rt}),n.d(e,"isComputed",function(){return Ue}),n.d(e,"extendObservable",function(){return at}),n.d(e,"extendShallowObservable",function(){return ot}),n.d(e,"observe",function(){return je}),n.d(e,"intercept",function(){return Ve}),n.d(e,"autorun",function(){return G}),n.d(e,"autorunAsync",function(){return H}),n.d(e,"when",function(){return V}),n.d(e,"reaction",function(){return Y}),n.d(e,"action",function(){return yn}),n.d(e,"isAction",function(){return B}),n.d(e,"runInAction",function(){return z}),n.d(e,"expr",function(){return qe}),n.d(e,"toJS",function(){return Xe}),n.d(e,"createTransformer",function(){return Ze}),n.d(e,"whyRun",function(){return Te}),n.d(e,"trace",function(){return Ce}),n.d(e,"isArrayLike",function(){return Ft});/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var Qe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},$e=function(){function t(t){void 0===t&&(t="Atom@"+xt()),this.name=t,this.isPendingUnobservation=!0,this.observers=[],this.observersIndexes={},this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=qn.NOT_TRACKING}return t.prototype.onBecomeUnobserved=function(){},t.prototype.reportObserved=function(){ue(this)},t.prototype.reportChanged=function(){se(),ce(this),le()},t.prototype.toString=function(){return this.name},t}(),tn=function(t){function e(e,n,r){void 0===e&&(e="Atom@"+xt()),void 0===n&&(n=Bn),void 0===r&&(r=Bn);var i=t.call(this,e)||this;return i.name=e,i.onBecomeObservedHandler=n,i.onBecomeUnobservedHandler=r,i.isPendingUnobservation=!1,i.isBeingTracked=!1,i}return r(e,t),e.prototype.reportObserved=function(){return se(),t.prototype.reportObserved.call(this),this.isBeingTracked||(this.isBeingTracked=!0,this.onBecomeObservedHandler()),le(),!!Wn.trackingDerivation},e.prototype.onBecomeUnobserved=function(){this.isBeingTracked=!1,this.onBecomeUnobservedHandler()},e}($e),en=zt("Atom",$e),nn={spyReportEnd:!0},rn="__$$iterating",an=function(){var t=!1,e={};return Object.defineProperty(e,"0",{set:function(){t=!0}}),Object.create(e)[0]=1,!1===t}(),on=0,sn=function(){function t(){}return t}();!function(t,e){void 0!==Object.setPrototypeOf?Object.setPrototypeOf(t.prototype,e):void 0!==t.prototype.__proto__?t.prototype.__proto__=e:t.prototype=e}(sn,Array.prototype),Object.isFrozen(Array)&&["constructor","push","shift","concat","pop","unshift","replace","find","findIndex","splice","reverse","sort"].forEach(function(t){Object.defineProperty(sn.prototype,t,{configurable:!0,writable:!0,value:Array.prototype[t]})});var ln=function(){function t(t,e,n,r){this.array=n,this.owned=r,this.values=[],this.lastKnownLength=0,this.interceptors=null,this.changeListeners=null,this.atom=new $e(t||"ObservableArray@"+xt()),this.enhancer=function(n,r){return e(n,r,t+"[..]")}}return t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.dehanceValues=function(t){return void 0!==this.dehancer?t.map(this.dehancer):t},t.prototype.intercept=function(t){return a(this,t)},t.prototype.observe=function(t,e){return void 0===e&&(e=!1),e&&t({object:this.array,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),l(this,t)},t.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},t.prototype.setArrayLength=function(t){if("number"!=typeof t||t<0)throw new Error("[mobx.array] Out of range: "+t);var e=this.values.length;if(t!==e)if(t>e){for(var n=new Array(t-e),r=0;r<t-e;r++)n[r]=void 0;this.spliceWithArray(e,0,n)}else this.spliceWithArray(t,e-t)},t.prototype.updateArrayLength=function(t,e){if(t!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");this.lastKnownLength+=e,e>0&&t+e+1>on&&x(t+e+1)},t.prototype.spliceWithArray=function(t,e,n){var r=this;ye(this.atom);var a=this.values.length;if(void 0===t?t=0:t>a?t=a:t<0&&(t=Math.max(0,a+t)),e=1===arguments.length?a-t:void 0===e||null===e?0:Math.max(0,Math.min(e,a-t)),void 0===n&&(n=[]),i(this)){var s=o(this,{object:this.array,type:"splice",index:t,removedCount:e,added:n});if(!s)return Nn;e=s.removedCount,n=s.added}n=n.map(function(t){return r.enhancer(t,void 0)});var l=n.length-e;this.updateArrayLength(a,l);var u=this.spliceItemsIntoValues(t,e,n);return 0===e&&0===n.length||this.notifyArraySplice(t,n,u),this.dehanceValues(u)},t.prototype.spliceItemsIntoValues=function(t,e,n){if(n.length<1e4)return(i=this.values).splice.apply(i,[t,e].concat(n));var r=this.values.slice(t,t+e);return this.values=this.values.slice(0,t).concat(n,this.values.slice(t+e)),r;var i},t.prototype.notifyArrayChildUpdate=function(t,e,n){var r=!this.owned&&c(),i=s(this),a=i||r?{object:this.array,type:"update",index:t,newValue:e,oldValue:n}:null;r&&d(a),this.atom.reportChanged(),i&&u(this,a),r&&f()},t.prototype.notifyArraySplice=function(t,e,n){var r=!this.owned&&c(),i=s(this),a=i||r?{object:this.array,type:"splice",index:t,removed:n,added:e,removedCount:n.length,addedCount:e.length}:null;r&&d(a),this.atom.reportChanged(),i&&u(this,a),r&&f()},t}(),un=function(t){function e(e,n,r,i){void 0===r&&(r="ObservableArray@"+xt()),void 0===i&&(i=!1);var a=t.call(this)||this,o=new ln(r,n,a,i);return Rt(a,"$mobx",o),e&&e.length&&a.spliceWithArray(0,0,e),an&&Object.defineProperty(o.array,"0",cn),a}return r(e,t),e.prototype.intercept=function(t){return this.$mobx.intercept(t)},e.prototype.observe=function(t,e){return void 0===e&&(e=!1),this.$mobx.observe(t,e)},e.prototype.clear=function(){return this.splice(0)},e.prototype.concat=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.$mobx.atom.reportObserved(),Array.prototype.concat.apply(this.peek(),t.map(function(t){return _(t)?t.peek():t}))},e.prototype.replace=function(t){return this.$mobx.spliceWithArray(0,this.$mobx.values.length,t)},e.prototype.toJS=function(){return this.slice()},e.prototype.toJSON=function(){return this.toJS()},e.prototype.peek=function(){return this.$mobx.atom.reportObserved(),this.$mobx.dehanceValues(this.$mobx.values)},e.prototype.find=function(t,e,n){void 0===n&&(n=0);var r=this.findIndex.apply(this,arguments);return-1===r?void 0:this.get(r)},e.prototype.findIndex=function(t,e,n){void 0===n&&(n=0);for(var r=this.peek(),i=r.length,a=n;a<i;a++)if(t.call(e,r[a],a,this))return a;return-1},e.prototype.splice=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];switch(arguments.length){case 0:return[];case 1:return this.$mobx.spliceWithArray(t);case 2:return this.$mobx.spliceWithArray(t,e)}return this.$mobx.spliceWithArray(t,e,n)},e.prototype.spliceWithArray=function(t,e,n){return this.$mobx.spliceWithArray(t,e,n)},e.prototype.push=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.$mobx;return n.spliceWithArray(n.values.length,0,t),n.values.length},e.prototype.pop=function(){return this.splice(Math.max(this.$mobx.values.length-1,0),1)[0]},e.prototype.shift=function(){return this.splice(0,1)[0]},e.prototype.unshift=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.$mobx;return n.spliceWithArray(0,0,t),n.values.length},e.prototype.reverse=function(){var t=this.slice();return t.reverse.apply(t,arguments)},e.prototype.sort=function(t){var e=this.slice();return e.sort.apply(e,arguments)},e.prototype.remove=function(t){var e=this.$mobx.dehanceValues(this.$mobx.values).indexOf(t);return e>-1&&(this.splice(e,1),!0)},e.prototype.move=function(t,e){function n(t){if(t<0)throw new Error("[mobx.array] Index out of bounds: "+t+" is negative");var e=this.$mobx.values.length;if(t>=e)throw new Error("[mobx.array] Index out of bounds: "+t+" is not smaller than "+e)}if(n.call(this,t),n.call(this,e),t!==e){var r,i=this.$mobx.values;r=t<e?i.slice(0,t).concat(i.slice(t+1,e+1),[i[t]],i.slice(e+1)):i.slice(0,e).concat([i[t]],i.slice(e,t),i.slice(t+1)),this.replace(r)}},e.prototype.get=function(t){var e=this.$mobx;if(e){if(t<e.values.length)return e.atom.reportObserved(),e.dehanceValue(e.values[t]);console.warn("[mobx.array] Attempt to read an array index ("+t+") that is out of bounds ("+e.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},e.prototype.set=function(t,e){var n=this.$mobx,r=n.values;if(t<r.length){ye(n.atom);var a=r[t];if(i(n)){var s=o(n,{type:"update",object:this,index:t,newValue:e});if(!s)return;e=s.newValue}e=n.enhancer(e,a);e!==a&&(r[t]=e,n.notifyArrayChildUpdate(t,e,a))}else{if(t!==r.length)throw new Error("[mobx.array] Index out of bounds, "+t+" is larger than "+r.length);n.spliceWithArray(t,0,[e])}},e}(sn);v(un.prototype,function(){return g(this.slice())}),Object.defineProperty(un.prototype,"length",{enumerable:!1,configurable:!0,get:function(){return this.$mobx.getArrayLength()},set:function(t){this.$mobx.setArrayLength(t)}}),["every","filter","forEach","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toString","toLocaleString"].forEach(function(t){var e=Array.prototype[t];wt("function"==typeof e,"Base function not defined on Array prototype: '"+t+"'"),At(un.prototype,t,function(){return e.apply(this.peek(),arguments)})}),function(t,e){for(var n=0;n<e.length;n++)At(t,e[n],t[e[n]])}(un.prototype,["constructor","intercept","observe","clear","concat","get","replace","toJS","toJSON","peek","find","findIndex","splice","spliceWithArray","push","pop","set","shift","unshift","reverse","sort","remove","move","toString","toLocaleString"]);var cn=y(0);x(1e3);var hn=zt("ObservableArrayAdministration",ln),dn={},fn=function(t){function e(e,n,r,i){void 0===r&&(r="ObservableValue@"+xt()),void 0===i&&(i=!0);var a=t.call(this,r)||this;return a.enhancer=n,a.hasUnreportedChange=!1,a.dehancer=void 0,a.value=n(e,void 0,r),i&&c()&&h({type:"create",object:a,newValue:a.value}),a}return r(e,t),e.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},e.prototype.set=function(t){var e=this.value;if((t=this.prepareNewValue(t))!==dn){var n=c();n&&d({type:"update",object:this,newValue:t,oldValue:e}),this.setNewValue(t),n&&f()}},e.prototype.prepareNewValue=function(t){if(ye(this),i(this)){var e=o(this,{object:this,type:"update",newValue:t});if(!e)return dn;t=e.newValue}return t=this.enhancer(t,this.value,this.name),this.value!==t?t:dn},e.prototype.setNewValue=function(t){var e=this.value;this.value=t,this.reportChanged(),s(this)&&u(this,{type:"update",object:this,newValue:t,oldValue:e})},e.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},e.prototype.intercept=function(t){return a(this,t)},e.prototype.observe=function(t,e){return e&&t({object:this,type:"update",newValue:this.value,oldValue:void 0}),l(this,t)},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.value+"]"},e.prototype.valueOf=function(){return Vt(this.get())},e}($e);fn.prototype[Gt()]=fn.prototype.valueOf;var pn=zt("ObservableValue",fn),mn={m001:"It is not allowed to assign new values to @action fields",m002:"`runInAction` expects a function",m003:"`runInAction` expects a function without arguments",m004:"autorun expects a function",m005:"Warning: attempted to pass an action to autorun. Actions are untracked and will not trigger on state changes. Use `reaction` or wrap only your state modification code in an action.",m006:"Warning: attempted to pass an action to autorunAsync. Actions are untracked and will not trigger on state changes. Use `reaction` or wrap only your state modification code in an action.",m007:"reaction only accepts 2 or 3 arguments. If migrating from MobX 2, please provide an options object",m008:"wrapping reaction expression in `asReference` is no longer supported, use options object instead",m009:"@computed can only be used on getter functions, like: '@computed get myProps() { return ...; }'. It looks like it was used on a property.",m010:"@computed can only be used on getter functions, like: '@computed get myProps() { return ...; }'",m011:"First argument to `computed` should be an expression. If using computed as decorator, don't pass it arguments",m012:"computed takes one or two arguments if used as function",m013:"[mobx.expr] 'expr' should only be used inside other reactive functions.",m014:"extendObservable expected 2 or more arguments",m015:"extendObservable expects an object as first argument",m016:"extendObservable should not be used on maps, use map.merge instead",m017:"all arguments of extendObservable should be objects",m018:"extending an object with another observable (object) is not supported. Please construct an explicit propertymap, using `toJS` if need. See issue #540",m019:"[mobx.isObservable] isObservable(object, propertyName) is not supported for arrays and maps. Use map.has or array.length instead.",m020:"modifiers can only be used for individual object properties",m021:"observable expects zero or one arguments",m022:"@observable can not be used on getters, use @computed instead",m024:"whyRun() can only be used if a derivation is active, or by passing an computed value / reaction explicitly. If you invoked whyRun from inside a computation; the computation is currently suspended but re-evaluating because somebody requested its value.",m025:"whyRun can only be used on reactions and computed values",m026:"`action` can only be invoked on functions",m028:"It is not allowed to set `useStrict` when a derivation is running",m029:"INTERNAL ERROR only onBecomeUnobserved shouldn't be called twice in a row",m030a:"Since strict-mode is enabled, changing observed observable values outside actions is not allowed. Please wrap the code in an `action` if this change is intended. Tried to modify: ",m030b:"Side effects like changing state are not allowed at this point. Are you trying to modify state from, for example, the render function of a React component? Tried to modify: ",m031:"Computed values are not allowed to cause side effects by changing observables that are already being observed. Tried to modify: ",m032:"* This computation is suspended (not in use by any reaction) and won't run automatically.\n\tDidn't expect this computation to be suspended at this point?\n\t  1. Make sure this computation is used by a reaction (reaction, autorun, observer).\n\t  2. Check whether you are using this computation synchronously (in the same stack as they reaction that needs it).",m033:"`observe` doesn't support the fire immediately property for observable maps.",m034:"`mobx.map` is deprecated, use `new ObservableMap` or `mobx.observable.map` instead",m035:"Cannot make the designated object observable; it is not extensible",m036:"It is not possible to get index atoms from arrays",m037:'Hi there! I\'m sorry you have just run into an exception.\nIf your debugger ends up here, know that some reaction (like the render() of an observer component, autorun or reaction)\nthrew an exception and that mobx caught it, to avoid that it brings the rest of your application down.\nThe original cause of the exception (the code that caused this reaction to run (again)), is still in the stack.\n\nHowever, more interesting is the actual stack trace of the error itself.\nHopefully the error is an instanceof Error, because in that case you can inspect the original stack of the error from where it was thrown.\nSee `error.stack` property, or press the very subtle "(...)" link you see near the console.error message that probably brought you here.\nThat stack is more interesting than the stack of this console.error itself.\n\nIf the exception you see is an exception you created yourself, make sure to use `throw new Error("Oops")` instead of `throw "Oops"`,\nbecause the javascript environment will only preserve the original stack trace in the first form.\n\nYou can also make sure the debugger pauses the next time this very same exception is thrown by enabling "Pause on caught exception".\n(Note that it might pause on many other, unrelated exception as well).\n\nIf that all doesn\'t help you out, feel free to open an issue https://github.com/mobxjs/mobx/issues!\n',m038:"Missing items in this list?\n    1. Check whether all used values are properly marked as observable (use isObservable to verify)\n    2. Make sure you didn't dereference values too early. MobX observes props, not primitives. E.g: use 'person.name' instead of 'name' in your computation.\n"},gn=R(function(t,e,n,r,i){var a=r&&1===r.length?r[0]:n.name||e||"<unnamed action>";At(t,e,yn(a,n))},function(t){return this[t]},function(){wt(!1,w("m001"))},!1,!0),vn=R(function(t,e,n){F(t,e,n)},function(t){return this[t]},function(){wt(!1,w("m001"))},!1,!1),yn=function(t,e,n,r){return 1===arguments.length&&"function"==typeof t?M(t.name||"<unnamed action>",t):2===arguments.length&&"function"==typeof e?M(t,e):1===arguments.length&&"string"==typeof t?N(t):N(e).apply(null,arguments)};yn.bound=function(t,e,n){if("function"==typeof t){var r=M("<not yet bound action>",t);return r.autoBind=!0,r}return vn.apply(null,arguments)};var bn={identity:U,structural:j,default:W},xn=function(){function t(t,e,n,r,i){this.derivation=t,this.scope=e,this.equals=n,this.dependenciesState=qn.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isPendingUnobservation=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=qn.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+xt(),this.value=new Zn(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Xn.NONE,this.name=r||"ComputedValue@"+xt(),i&&(this.setter=M(r+"-setter",i))}return t.prototype.onBecomeStale=function(){de(this)},t.prototype.onBecomeUnobserved=function(){_e(this),this.value=void 0},t.prototype.get=function(){wt(!this.isComputing,"Cycle detected in computation "+this.name,this.derivation),0===Wn.inBatch?(se(),ge(this)&&(this.isTracing!==Xn.NONE&&console.log("[mobx.trace] '"+this.name+"' is being read outside a reactive context and doing a full recompute"),this.value=this.computeValue(!1)),le()):(ue(this),ge(this)&&this.trackAndCompute()&&he(this));var t=this.value;if(me(t))throw t.cause;return t},t.prototype.peek=function(){var t=this.computeValue(!1);if(me(t))throw t.cause;return t},t.prototype.set=function(t){if(this.setter){wt(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,t)}finally{this.isRunningSetter=!1}}else wt(!1,"[ComputedValue '"+this.name+"'] It is not possible to assign a new value to a computed value.")},t.prototype.trackAndCompute=function(){c()&&h({object:this.scope,type:"compute",fn:this.derivation});var t=this.value,e=this.dependenciesState===qn.NOT_TRACKING,n=this.value=this.computeValue(!0);return e||me(t)||me(n)||!this.equals(t,n)},t.prototype.computeValue=function(t){this.isComputing=!0,Wn.computationDepth++;var e;if(t)e=be(this,this.derivation,this.scope);else try{e=this.derivation.call(this.scope)}catch(t){e=new Zn(t)}return Wn.computationDepth--,this.isComputing=!1,e},t.prototype.observe=function(t,e){var n=this,r=!0,i=void 0;return G(function(){var a=n.get();if(!r||e){var o=Me();t({type:"update",object:n,newValue:a,oldValue:i}),Se(o)}r=!1,i=a})},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},t.prototype.valueOf=function(){return Vt(this.get())},t.prototype.whyRun=function(){var t=Boolean(Wn.trackingDerivation),e=Et(this.isComputing?this.newObserving:this.observing).map(function(t){return t.name}),n=Et(re(this).map(function(t){return t.name}));return"\nWhyRun? computation '"+this.name+"':\n * Running because: "+(t?"[active] the value of this computation is needed by a reaction":this.isComputing?"[get] The value of this computed was requested outside a reaction":"[idle] not running at the moment")+"\n"+(this.dependenciesState===qn.NOT_TRACKING?w("m032"):" * This computation will re-run if any of the following observables changes:\n    "+kt(e)+"\n    "+(this.isComputing&&t?" (... or any observable accessed during the remainder of the current run)":"")+"\n    "+w("m038")+"\n\n  * If the outcome of this computation changes, the following observers will be re-run:\n    "+kt(n)+"\n")},t}();xn.prototype[Gt()]=xn.prototype.valueOf;var _n=zt("ComputedValue",xn),wn=function(){function t(t,e){this.target=t,this.name=e,this.values={},this.changeListeners=null,this.interceptors=null}return t.prototype.observe=function(t,e){return wt(!0!==e,"`observe` doesn't support the fire immediately property for observable objects."),l(this,t)},t.prototype.intercept=function(t){return a(this,t)},t}(),Mn={},Sn={},En=zt("ObservableObjectAdministration",wn),kn=it(dt),Tn=it(ft),Cn=it(pt),Pn=it(mt),On=it(gt),An={box:function(t,e){return arguments.length>2&&ut("box"),new fn(t,dt,e)},shallowBox:function(t,e){return arguments.length>2&&ut("shallowBox"),new fn(t,pt,e)},array:function(t,e){return arguments.length>2&&ut("array"),new un(t,dt,e)},shallowArray:function(t,e){return arguments.length>2&&ut("shallowArray"),new un(t,pt,e)},map:function(t,e){return arguments.length>2&&ut("map"),new In(t,dt,e)},shallowMap:function(t,e){return arguments.length>2&&ut("shallowMap"),new In(t,pt,e)},object:function(t,e){arguments.length>2&&ut("object");var n={};return q(n,e),at(n,t),n},shallowObject:function(t,e){arguments.length>2&&ut("shallowObject");var n={};return q(n,e),ot(n,t),n},ref:function(){return arguments.length<2?ht(pt,arguments[0]):Cn.apply(null,arguments)},shallow:function(){return arguments.length<2?ht(ft,arguments[0]):Tn.apply(null,arguments)},deep:function(){return arguments.length<2?ht(dt,arguments[0]):kn.apply(null,arguments)},struct:function(){return arguments.length<2?ht(mt,arguments[0]):Pn.apply(null,arguments)}},Rn=lt;Object.keys(An).forEach(function(t){return Rn[t]=An[t]}),Rn.deep.struct=Rn.struct,Rn.ref.struct=function(){return arguments.length<2?ht(gt,arguments[0]):On.apply(null,arguments)};var Ln={},In=function(){function t(t,e,n){void 0===e&&(e=dt),void 0===n&&(n="ObservableMap@"+xt()),this.enhancer=e,this.name=n,this.$mobx=Ln,this._data=Object.create(null),this._hasMap=Object.create(null),this._keys=new un(void 0,pt,this.name+".keys()",!0),this.interceptors=null,this.changeListeners=null,this.dehancer=void 0,this.merge(t)}return t.prototype._has=function(t){return void 0!==this._data[t]},t.prototype.has=function(t){return!!this.isValidKey(t)&&(t=""+t,this._hasMap[t]?this._hasMap[t].get():this._updateHasMapEntry(t,!1).get())},t.prototype.set=function(t,e){this.assertValidKey(t),t=""+t;var n=this._has(t);if(i(this)){var r=o(this,{type:n?"update":"add",object:this,newValue:e,name:t});if(!r)return this;e=r.newValue}return n?this._updateValue(t,e):this._addValue(t,e),this},t.prototype.delete=function(t){var e=this;if(this.assertValidKey(t),t=""+t,i(this)){var n=o(this,{type:"delete",object:this,name:t});if(!n)return!1}if(this._has(t)){var r=c(),a=s(this),n=a||r?{type:"delete",object:this,oldValue:this._data[t].value,name:t}:null;return r&&d(n),vt(function(){e._keys.remove(t),e._updateHasMapEntry(t,!1),e._data[t].setNewValue(void 0),e._data[t]=void 0}),a&&u(this,n),r&&f(),!0}return!1},t.prototype._updateHasMapEntry=function(t,e){var n=this._hasMap[t];return n?n.setNewValue(e):n=this._hasMap[t]=new fn(e,pt,this.name+"."+t+"?",!1),n},t.prototype._updateValue=function(t,e){var n=this._data[t];if((e=n.prepareNewValue(e))!==dn){var r=c(),i=s(this),a=i||r?{type:"update",object:this,oldValue:n.value,name:t,newValue:e}:null;r&&d(a),n.setNewValue(e),i&&u(this,a),r&&f()}},t.prototype._addValue=function(t,e){var n=this;vt(function(){var r=n._data[t]=new fn(e,n.enhancer,n.name+"."+t,!1);e=r.value,n._updateHasMapEntry(t,!0),n._keys.push(t)});var r=c(),i=s(this),a=i||r?{type:"add",object:this,name:t,newValue:e}:null;r&&d(a),i&&u(this,a),r&&f()},t.prototype.get=function(t){return t=""+t,this.has(t)?this.dehanceValue(this._data[t].get()):this.dehanceValue(void 0)},t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.keys=function(){return g(this._keys.slice())},t.prototype.values=function(){return g(this._keys.map(this.get,this))},t.prototype.entries=function(){var t=this;return g(this._keys.map(function(e){return[e,t.get(e)]}))},t.prototype.forEach=function(t,e){var n=this;this.keys().forEach(function(r){return t.call(e,n.get(r),r,n)})},t.prototype.merge=function(t){var e=this;return Dn(t)&&(t=t.toJS()),vt(function(){Ct(t)?Object.keys(t).forEach(function(n){return e.set(n,t[n])}):Array.isArray(t)?t.forEach(function(t){var n=t[0],r=t[1];return e.set(n,r)}):jt(t)?t.forEach(function(t,n){return e.set(n,t)}):null!==t&&void 0!==t&&_t("Cannot initialize map from "+t)}),this},t.prototype.clear=function(){var t=this;vt(function(){we(function(){t.keys().forEach(t.delete,t)})})},t.prototype.replace=function(t){var e=this;return vt(function(){var n=Wt(t);e.keys().filter(function(t){return-1===n.indexOf(t)}).forEach(function(t){return e.delete(t)}),e.merge(t)}),this},Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.toJS=function(){var t=this,e={};return this.keys().forEach(function(n){return e[n]=t.get(n)}),e},t.prototype.toJSON=function(){return this.toJS()},t.prototype.isValidKey=function(t){return null!==t&&void 0!==t&&("string"==typeof t||"number"==typeof t||"boolean"==typeof t)},t.prototype.assertValidKey=function(t){if(!this.isValidKey(t))throw new Error("[mobx.map] Invalid key: '"+t+"', only strings, numbers and booleans are accepted as key in observable maps.")},t.prototype.toString=function(){var t=this;return this.name+"[{ "+this.keys().map(function(e){return e+": "+t.get(e)}).join(", ")+" }]"},t.prototype.observe=function(t,e){return wt(!0!==e,w("m033")),l(this,t)},t.prototype.intercept=function(t){return a(this,t)},t}();v(In.prototype,function(){return this.entries()});var Dn=zt("ObservableMap",In),Nn=[];Object.freeze(Nn);var zn=[],Bn=function(){},Fn=Object.prototype.hasOwnProperty,Un=["mobxGuid","resetId","spyListeners","strictMode","runId"],jn=function(){function t(){this.version=5,this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.strictMode=!1,this.resetId=0,this.spyListeners=[],this.globalReactionErrorHandlers=[]}return t}(),Wn=new jn,Gn=!1,Vn=!1,Hn=!1,Yn=bt();Yn.__mobxInstanceCount?(Yn.__mobxInstanceCount++,setTimeout(function(){Gn||Vn||Hn||(Hn=!0,console.warn("[mobx] Warning: there are multiple mobx instances active. This might lead to unexpected results. See https://github.com/mobxjs/mobx/issues/1082 for details."))})):Yn.__mobxInstanceCount=1;var qn;!function(t){t[t.NOT_TRACKING=-1]="NOT_TRACKING",t[t.UP_TO_DATE=0]="UP_TO_DATE",t[t.POSSIBLY_STALE=1]="POSSIBLY_STALE",t[t.STALE=2]="STALE"}(qn||(qn={}));var Xn;!function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"}(Xn||(Xn={}));var Zn=function(){function t(t){this.cause=t}return t}(),Kn=function(){function t(t,e){void 0===t&&(t="Reaction@"+xt()),this.name=t,this.onInvalidate=e,this.observing=[],this.newObserving=[],this.dependenciesState=qn.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+xt(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Xn.NONE}return t.prototype.onBecomeStale=function(){this.schedule()},t.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Wn.pendingReactions.push(this),Re())},t.prototype.isScheduled=function(){return this._isScheduled},t.prototype.runReaction=function(){this.isDisposed||(se(),this._isScheduled=!1,ge(this)&&(this._isTrackPending=!0,this.onInvalidate(),this._isTrackPending&&c()&&h({object:this,type:"scheduled-reaction"})),le())},t.prototype.track=function(t){se();var e,n=c();n&&(e=Date.now(),d({object:this,type:"reaction",fn:t})),this._isRunning=!0;var r=be(this,t,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&_e(this),me(r)&&this.reportExceptionInDerivation(r.cause),n&&f({time:Date.now()-e}),le()},t.prototype.reportExceptionInDerivation=function(t){var e=this;if(this.errorHandler)return void this.errorHandler(t,this);var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this,r=w("m037");console.error(n||r,t),c()&&h({type:"error",message:n,error:t,object:this}),Wn.globalReactionErrorHandlers.forEach(function(n){return n(t,e)})},t.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(se(),_e(this),le()))},t.prototype.getDisposer=function(){var t=this.dispose.bind(this);return t.$mobx=this,t.onError=Oe,t},t.prototype.toString=function(){return"Reaction["+this.name+"]"},t.prototype.whyRun=function(){var t=Et(this._isRunning?this.newObserving:this.observing).map(function(t){return t.name});return"\nWhyRun? reaction '"+this.name+"':\n * Status: ["+(this.isDisposed?"stopped":this._isRunning?"running":this.isScheduled()?"scheduled":"idle")+"]\n * This reaction will re-run if any of the following observables changes:\n    "+kt(t)+"\n    "+(this._isRunning?" (... or any observable accessed during the remainder of the current run)":"")+"\n\t"+w("m038")+"\n"},t.prototype.trace=function(t){void 0===t&&(t=!1),Ce(this,t)},t}(),Jn=100,Qn=function(t){return t()},$n=zt("Reaction",Kn),tr=Fe(bn.default),er=Fe(bn.structural),nr=function(t,e,n){if("string"==typeof e)return tr.apply(null,arguments);wt("function"==typeof t,w("m011")),wt(arguments.length<3,w("m012"));var r="object"==typeof e?e:{};r.setter="function"==typeof e?e:r.setter;var i=r.equals?r.equals:r.compareStructural||r.struct?bn.structural:bn.default;return new xn(t,r.context,i,r.name||t.name||"",r.setter)};nr.struct=er,nr.equals=Fe;var rr={allowStateChanges:P,deepEqual:Nt,getAtom:Zt,getDebugName:Jt,getDependencyTree:Qt,getAdministration:Kt,getGlobalState:qt,getObserverTree:te,interceptReads:Je,isComputingDerivation:ve,isSpyEnabled:c,onReactionError:Ae,reserveArrayBuffer:x,resetGlobalState:Xt,isolateGlobalState:Ht,shareGlobalState:Yt,spyReport:h,spyReportEnd:f,spyReportStart:d,setReactionScheduler:Ie},ir={Reaction:Kn,untracked:we,Atom:tn,BaseAtom:$e,useStrict:T,isStrictModeEnabled:C,spy:p,comparer:bn,asReference:De,asFlat:ze,asStructure:Ne,asMap:Be,isModifierDescriptor:ct,isObservableObject:nt,isBoxedObservable:pn,isObservableArray:_,ObservableMap:In,isObservableMap:Dn,map:yt,transaction:vt,observable:Rn,computed:nr,isObservable:rt,isComputed:Ue,extendObservable:at,extendShallowObservable:ot,observe:je,intercept:Ve,autorun:G,autorunAsync:H,when:V,reaction:Y,action:yn,isAction:B,runInAction:z,expr:qe,toJS:Xe,createTransformer:Ze,whyRun:Te,isArrayLike:Ft,extras:rr},ar=!1;for(var or in ir)!function(t){var e=ir[t];Object.defineProperty(ir,t,{get:function(){return ar||(ar=!0,console.warn("Using default export (`import mobx from 'mobx'`) is deprecated and won’t work in mobx@4.0.0\nUse `import * as mobx from 'mobx'` instead")),e}})}(or);"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:p,extras:rr}),e.default=ir}.call(e,n(61))},function(t,e,n){t.exports={default:n(310),__esModule:!0}},function(t,e,n){var r=n(22);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){t.exports=!n(38)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(51);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){"use strict";function r(t,e,n){return n?[t,e]:t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r,t.exports=e.default},function(t,e){t.exports={camera:{viewAngle:.65,Default:{fov:60,near:1,far:300},Near:{fov:60,near:1,far:200},Overhead:{fov:60,near:1,far:100},Map:{fov:70,near:1,far:4e3},laneWidth:4.5,laneWidthToViewDistanceRatio:5},ground:{defaults:{mpp:.125,xres:8192,yres:8192,xorigin:4096,yorigin:4096,type:"default",tileRange:4},sunnyvale_big_loop:{mpp:.125,xres:24576,yres:16384,xorigin:587392,yorigin:4140800,type:"default",tileRange:4}},planning:{minInterval:.1,defaults:{width:1.4}},options:{defaults:{enableSimControl:!1,showModuleController:!1,showMenu:!1,showPOI:!1,enableVoiceCommand:!1,showPNCMonitor:!1,showRouteEditingBar:!1,showDataRecorder:!1,showTasks:!0,showVideo:!1,showPlanningCar:!1,showPlanningReference:!1,showPlaningDpOptimizer:!1,showPlanningQpOptimizer:!1,showPlanning:!0,showDecisionMain:!0,showDecisionObstacle:!0,showRouting:!0,showPerceptionLaneMarker:!1,showPredictionMajor:!0,showPredictionMinor:!0,showObstaclesVehicle:!0,showObstaclesPedestrian:!0,showObstaclesBicycle:!0,showObstaclesUnknownMovable:!0,showObstaclesUnknownUnmovable:!0,showObstaclesUnknown:!0,showObstaclesVirtual:!1,showObstaclesCipv:!0,showObstaclesVelocity:!0,showObstaclesHeading:!0,showObstaclesId:!0,showObstaclesInfo:!0,showPointCloud:!1,showPositionGps:!1,showPositionLocalization:!0,showMapCrosswalk:!0,showMapClearArea:!0,showMapJunction:!1,showMapLane:!0,showMapRoad:!1,showMapSignal:!0,showMapStopSign:!0,cameraAngle:"Default"}},navigation:{map:"BaiduMap",mapAPiUrl:"https://api.map.baidu.com/api?v=3.0&ak=0kKZnWWhXEPfzIkklmzAa3dZ&callback=initMap"},debug:{autoMonitorMessage:!1,performanceMonitor:!1},server:{port:8888}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(e){var n=e*w;t.position.z+=n}}function a(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=new g.MeshBasicMaterial({map:E.load(t),transparent:!0,depthWrite:!1}),s=new g.Mesh(new g.PlaneGeometry(e,n),o);return s.material.side=g.DoubleSide,s.position.set(r,i,a),s.overdraw=!0,s}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16711680,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],l=new g.Path,u=l.createGeometry(t);u.computeLineDistances();var c=new g.LineDashedMaterial({color:e,dashSize:r,linewidth:n,gapSize:a}),h=new g.Line(u,c);return i(h,o),h.matrixAutoUpdate=s,s||h.updateMatrix(),h}function s(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,r=new g.CircleGeometry(t,n);return new g.Mesh(r,e)}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16777215,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=M(t.map(function(t){return[t.x,t.y]})),s=new g.ShaderMaterial(S({side:g.DoubleSide,diffuse:n,thickness:e,opacity:r,transparent:!0})),l=new g.Mesh(o,s);return i(l,a),l}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16711680,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,l=new g.Path,u=l.createGeometry(t),c=new g.LineBasicMaterial({color:e,linewidth:n,transparent:o,opacity:s}),h=new g.Line(u,c);return i(h,r),h.matrixAutoUpdate=a,!1===a&&h.updateMatrix(),h}function c(t,e,n){var r=new g.CubeGeometry(t.x,t.y,t.z),i=new g.MeshBasicMaterial({color:e}),a=new g.Mesh(r,i),o=new g.BoxHelper(a);return o.material.linewidth=n,o}function h(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.01,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.02,a=new g.CubeGeometry(t.x,t.y,t.z);a=new g.EdgesGeometry(a),a=(new g.Geometry).fromBufferGeometry(a),a.computeLineDistances();var o=new g.LineDashedMaterial({color:e,linewidth:n,dashSize:r,gapSize:i});return new g.LineSegments(a,o)}function d(t,e,n,r,i){var a=new g.Vector3(0,t,0);return u([new g.Vector3(0,0,0),a,new g.Vector3(r/2,t-n,0),a,new g.Vector3(-r/2,t-n,0)],i,e,1)}function f(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new g.Shape;if(e){n.moveTo(t[0].x,t[0].y);for(var r=1;r<t.length-2;r++)n.bezierCurveTo(t[r].x,t[r].y,t[r+1].x,t[r+1].y,t[r+2].x,t[r+2].y);n.bezierCurveTo(_.takeRight(t,2).concat([{x:t[0].x,y:t[0].y}])),n.bezierCurveTo(_.takeRight(t,1).concat([{x:t[0].x,y:t[0].y},{x:t[1].x,y:t[1].y}]))}else n.fromPoints(t);return new g.ShapeGeometry(n)}function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new g.MeshBasicMaterial({color:16711680}),n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=f(t,n),s=new g.Mesh(o,e);return i(s,r),s.matrixAutoUpdate=a,!1===a&&s.updateMatrix(),s}Object.defineProperty(e,"__esModule",{value:!0}),e.addOffsetZ=i,e.drawImage=a,e.drawDashedLineFromPoints=o,e.drawCircle=s,e.drawThickBandFromPoints=l,e.drawSegmentsFromPoints=u,e.drawBox=c,e.drawDashedBox=h,e.drawArrow=d,e.getShapeGeometryFromPoints=f,e.drawShapeFromPoints=p;var m=n(12),g=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(m),v=n(494),y=r(v),b=n(495),x=r(b),_=n(40),w=.04,M=(0,y.default)(g),S=(0,x.default)(g),E=new g.TextureLoader},function(t,e,n){t.exports={default:n(312),__esModule:!0}},function(t,e,n){"use strict";t.exports={},t.exports.Arc=n(278),t.exports.Line=n(279),t.exports.Point=n(280),t.exports.Rectangle=n(281)},function(t,e,n){var r=n(23),i=n(55);t.exports=n(27)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(84),i=n(81);t.exports=function(t){return r(i(t))}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),a=r(i),o=n(1),s=r(o),l=n(12),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(l),c=n(552),h=(r(c),n(492)),d=r(h),f=n(30),p=r(f),m=n(212),g=r(m),v=n(211),y=r(v),b=n(215),x=r(b),_=n(222),w=r(_),M=n(216),S=r(M),E=n(223),k=r(E),T=n(117),C=r(T),P=n(213),O=r(P),A=n(218),R=r(A),L=n(219),I=r(L),D=n(220),N=r(D),z=n(214),B=r(z),F=n(217),U=r(F),j=(n(40),function(){function t(){(0,a.default)(this,t);var e=!this.isMobileDevice();this.coordinates=new g.default,this.renderer=new u.WebGLRenderer({antialias:e}),this.scene=new u.Scene,this.scene.background=new u.Color(3095),this.dimension={width:0,height:0},this.ground="tile"===p.default.ground.type?new w.default:new x.default,this.map=new S.default,this.adc=new y.default("adc",this.scene),this.planningAdc=new y.default("planningAdc",this.scene),this.planningTrajectory=new k.default,this.perceptionObstacles=new C.default,this.decision=new O.default,this.prediction=new R.default,this.routing=new I.default,this.routingEditor=new N.default,this.gnss=new B.default,this.pointCloud=new U.default,this.stats=null,p.default.debug.performanceMonitor&&(this.stats=new d.default,this.stats.showPanel(1),this.stats.domElement.style.position="absolute",this.stats.domElement.style.top=null,this.stats.domElement.style.bottom="0px",document.body.appendChild(this.stats.domElement)),this.geolocation={x:0,y:0}}return(0,s.default)(t,[{key:"initialize",value:function(t,e,n,r){this.options=r,this.canvasId=t,this.viewAngle=p.default.camera.viewAngle,this.viewDistance=p.default.camera.laneWidth*p.default.camera.laneWidthToViewDistanceRatio,this.camera=new u.PerspectiveCamera(p.default.camera[this.options.cameraAngle].fov,window.innerWidth/window.innerHeight,p.default.camera[this.options.cameraAngle].near,p.default.camera[this.options.cameraAngle].far),this.camera.name="camera",this.scene.add(this.camera),this.updateDimension(e,n),this.renderer.setPixelRatio(window.devicePixelRatio),document.getElementById(t).appendChild(this.renderer.domElement);var i=new u.AmbientLight(4473924),a=new u.DirectionalLight(16772829);a.position.set(0,0,1).normalize(),this.controls=new u.OrbitControls(this.camera,this.renderer.domElement),this.controls.enable=!1,this.onMouseDownHandler=this.editRoute.bind(this),this.scene.add(i),this.scene.add(a),this.animate()}},{key:"maybeInitializeOffest",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.coordinates.isInitialized()&&!n||this.coordinates.initialize(t,e)}},{key:"updateDimension",value:function(t,e){this.camera.aspect=t/e,this.camera.updateProjectionMatrix(),this.renderer.setSize(t,e),this.dimension.width=t,this.dimension.height=e}},{key:"enableOrbitControls",value:function(){var t=this.adc.mesh.position;this.controls.enabled=!0,this.controls.enableRotate=!1,this.controls.reset(),this.controls.minDistance=20,this.controls.maxDistance=1e3,this.controls.target.set(t.x,t.y,0),this.camera.position.set(t.x,t.y,50),"FLU"===this.coordinates.systemName?this.camera.up.set(1,0,0):this.camera.up.set(0,1,0),this.camera.lookAt(t.x,t.y,0)}},{key:"adjustCamera",value:function(t,e){if(!this.routingEditor.isInEditingMode()){switch(this.camera.fov=p.default.camera[e].fov,this.camera.near=p.default.camera[e].near,this.camera.far=p.default.camera[e].far,e){case"Default":var n=this.viewDistance*Math.cos(t.rotation.y)*Math.cos(this.viewAngle),r=this.viewDistance*Math.sin(t.rotation.y)*Math.cos(this.viewAngle),i=this.viewDistance*Math.sin(this.viewAngle);this.camera.position.x=t.position.x-n,this.camera.position.y=t.position.y-r,this.camera.position.z=t.position.z+i,this.camera.up.set(0,0,1),this.camera.lookAt({x:t.position.x+2*n,y:t.position.y+2*r,z:0}),this.controls.enabled=!1;break;case"Near":n=.5*this.viewDistance*Math.cos(t.rotation.y)*Math.cos(this.viewAngle),r=.5*this.viewDistance*Math.sin(t.rotation.y)*Math.cos(this.viewAngle),i=.5*this.viewDistance*Math.sin(this.viewAngle),this.camera.position.x=t.position.x-n,this.camera.position.y=t.position.y-r,this.camera.position.z=t.position.z+i,this.camera.up.set(0,0,1),this.camera.lookAt({x:t.position.x+2*n,y:t.position.y+2*r,z:0}),this.controls.enabled=!1;break;case"Overhead":r=.5*this.viewDistance*Math.sin(t.rotation.y)*Math.cos(this.viewAngle),i=2*this.viewDistance*Math.sin(this.viewAngle),this.camera.position.x=t.position.x,this.camera.position.y=t.position.y+r,this.camera.position.z=2*(t.position.z+i),"FLU"===this.coordinates.systemName?this.camera.up.set(1,0,0):this.camera.up.set(0,1,0),this.camera.lookAt({x:t.position.x,y:t.position.y+r,z:0}),this.controls.enabled=!1;break;case"Map":this.controls.enabled||this.enableOrbitControls()}this.camera.updateProjectionMatrix()}}},{key:"enableRouteEditing",value:function(){this.enableOrbitControls(),this.routingEditor.enableEditingMode(this.camera,this.adc),document.getElementById(this.canvasId).addEventListener("mousedown",this.onMouseDownHandler,!1)}},{key:"disableRouteEditing",value:function(){this.routingEditor.disableEditingMode(this.scene),document.getElementById(this.canvasId).removeEventListener("mousedown",this.onMouseDownHandler,!1)}},{key:"addDefaultEndPoint",value:function(t){for(var e=0;e<t.length;e++)this.routingEditor.addRoutingPoint(t[e],this.coordinates,this.scene)}},{key:"removeAllRoutingPoints",value:function(){this.routingEditor.removeAllRoutePoints(this.scene)}},{key:"removeLastRoutingPoint",value:function(){this.routingEditor.removeLastRoutingPoint(this.scene)}},{key:"sendRoutingRequest",value:function(){return this.routingEditor.sendRoutingRequest(this.adc.mesh.position,this.coordinates)}},{key:"editRoute",value:function(t){if(this.routingEditor.isInEditingMode()&&t.button===u.MOUSE.LEFT&&this.coordinates.isInitialized()&&this.ground.mesh){var e=this.getGeolocation(t);this.routingEditor.addRoutingPoint(e,this.coordinates,this.scene)}}},{key:"render",value:function(){this.coordinates.isInitialized()&&this.adc.mesh&&this.ground.mesh&&("default"!==this.ground.type||this.ground.initialized||(this.ground.initialize(this.coordinates),this.ground.mesh.name="ground",this.scene.add(this.ground.mesh)),!1===this.pointCloud.initialized&&(this.pointCloud.initialize(),this.scene.add(this.pointCloud.points)),this.adjustCamera(this.adc.mesh,this.options.cameraAngle),this.renderer.render(this.scene,this.camera))}},{key:"animate",value:function(){var t=this;requestAnimationFrame(function(){t.animate()}),this.stats&&this.stats.update(),this.render()}},{key:"updateWorld",value:function(t){this.adc.update(this.coordinates,t.autoDrivingCar),this.ground.update(t,this.coordinates,this.scene),this.planningTrajectory.update(t,t.planningData,this.coordinates,this.scene),this.perceptionObstacles.update(t,this.coordinates,this.scene),this.decision.update(t,this.coordinates,this.scene),this.prediction.update(t,this.coordinates,this.scene),this.updateRouting(t.routingTime,t.routePath),this.gnss.update(t,this.coordinates,this.scene),this.planningAdc&&t.planningTrajectory&&t.planningTrajectory.length&&this.planningAdc.update(this.coordinates,t.planningTrajectory[0])}},{key:"updateRouting",value:function(t,e){this.routing.update(t,e,this.coordinates,this.scene)}},{key:"updateGroundImage",value:function(t){this.ground.updateImage(t)}},{key:"updateGroundMetadata",value:function(t,e){this.ground.initialize(t,e)}},{key:"updateMap",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&this.map.removeAllElements(this.scene),this.map.appendMapData(t,this.coordinates,this.scene)}},{key:"updatePointCloud",value:function(t){this.coordinates.isInitialized()&&this.adc.mesh&&this.pointCloud.update(t,this.adc.mesh)}},{key:"updateMapIndex",value:function(t,e,n){this.routingEditor.isInEditingMode()&&this.routingEditor.EDITING_MAP_RADIUS!==n||this.map.updateIndex(t,e,this.scene)}},{key:"isMobileDevice",value:function(){return navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)}},{key:"getGeolocation",value:function(t){if(this.coordinates.isInitialized()){var e=t.currentTarget.getBoundingClientRect(),n=new u.Vector3((t.clientX-e.left)/this.dimension.width*2-1,-(t.clientY-e.top)/this.dimension.height*2+1,0);n.unproject(this.camera);var r=n.sub(this.camera.position).normalize(),i=-this.camera.position.z/r.z,a=this.camera.position.clone().add(r.multiplyScalar(i));return this.coordinates.applyOffset(a,!0)}}}]),t}()),W=new j;e.default=W},function(t,e,n){t.exports={default:n(303),__esModule:!0}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){(function(t,r){var i;(function(){function a(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function o(t,e,n,r){for(var i=-1,a=null==t?0:t.length;++i<a;){var o=t[i];e(r,o,n(o),t)}return r}function s(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function l(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function u(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function c(t,e){for(var n=-1,r=null==t?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a}function h(t,e){return!!(null==t?0:t.length)&&w(t,e,0)>-1}function d(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function f(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function p(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function m(t,e,n,r){var i=-1,a=null==t?0:t.length;for(r&&a&&(n=t[++i]);++i<a;)n=e(n,t[i],i,t);return n}function g(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function v(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function y(t){return t.split("")}function b(t){return t.match(Be)||[]}function x(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function _(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}function w(t,e,n){return e===e?K(t,e,n):_(t,S,n)}function M(t,e,n,r){for(var i=n-1,a=t.length;++i<a;)if(r(t[i],e))return i;return-1}function S(t){return t!==t}function E(t,e){var n=null==t?0:t.length;return n?O(t,e)/n:It}function k(t){return function(e){return null==e?rt:e[t]}}function T(t){return function(e){return null==t?rt:t[e]}}function C(t,e,n,r,i){return i(t,function(t,i,a){n=r?(r=!1,t):e(n,t,i,a)}),n}function P(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function O(t,e){for(var n,r=-1,i=t.length;++r<i;){var a=e(t[r]);a!==rt&&(n=n===rt?a:n+a)}return n}function A(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function R(t,e){return f(e,function(e){return[e,t[e]]})}function L(t){return function(e){return t(e)}}function I(t,e){return f(e,function(e){return t[e]})}function D(t,e){return t.has(e)}function N(t,e){for(var n=-1,r=t.length;++n<r&&w(e,t[n],0)>-1;);return n}function z(t,e){for(var n=t.length;n--&&w(e,t[n],0)>-1;);return n}function B(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}function F(t){return"\\"+kn[t]}function U(t,e){return null==t?rt:t[e]}function j(t){return vn.test(t)}function W(t){return yn.test(t)}function G(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function V(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function H(t,e){return function(n){return t(e(n))}}function Y(t,e){for(var n=-1,r=t.length,i=0,a=[];++n<r;){var o=t[n];o!==e&&o!==ut||(t[n]=ut,a[i++]=n)}return a}function q(t,e){return"__proto__"==e?rt:t[e]}function X(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function Z(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function K(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function J(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}function Q(t){return j(t)?tt(t):Gn(t)}function $(t){return j(t)?et(t):y(t)}function tt(t){for(var e=mn.lastIndex=0;mn.test(t);)++e;return e}function et(t){return t.match(mn)||[]}function nt(t){return t.match(gn)||[]}var rt,it=200,at="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",ot="Expected a function",st="__lodash_hash_undefined__",lt=500,ut="__lodash_placeholder__",ct=1,ht=2,dt=4,ft=1,pt=2,mt=1,gt=2,vt=4,yt=8,bt=16,xt=32,_t=64,wt=128,Mt=256,St=512,Et=30,kt="...",Tt=800,Ct=16,Pt=1,Ot=2,At=1/0,Rt=9007199254740991,Lt=1.7976931348623157e308,It=NaN,Dt=4294967295,Nt=Dt-1,zt=Dt>>>1,Bt=[["ary",wt],["bind",mt],["bindKey",gt],["curry",yt],["curryRight",bt],["flip",St],["partial",xt],["partialRight",_t],["rearg",Mt]],Ft="[object Arguments]",Ut="[object Array]",jt="[object AsyncFunction]",Wt="[object Boolean]",Gt="[object Date]",Vt="[object DOMException]",Ht="[object Error]",Yt="[object Function]",qt="[object GeneratorFunction]",Xt="[object Map]",Zt="[object Number]",Kt="[object Null]",Jt="[object Object]",Qt="[object Proxy]",$t="[object RegExp]",te="[object Set]",ee="[object String]",ne="[object Symbol]",re="[object Undefined]",ie="[object WeakMap]",ae="[object WeakSet]",oe="[object ArrayBuffer]",se="[object DataView]",le="[object Float32Array]",ue="[object Float64Array]",ce="[object Int8Array]",he="[object Int16Array]",de="[object Int32Array]",fe="[object Uint8Array]",pe="[object Uint8ClampedArray]",me="[object Uint16Array]",ge="[object Uint32Array]",ve=/\b__p \+= '';/g,ye=/\b(__p \+=) '' \+/g,be=/(__e\(.*?\)|\b__t\)) \+\n'';/g,xe=/&(?:amp|lt|gt|quot|#39);/g,_e=/[&<>"']/g,we=RegExp(xe.source),Me=RegExp(_e.source),Se=/<%-([\s\S]+?)%>/g,Ee=/<%([\s\S]+?)%>/g,ke=/<%=([\s\S]+?)%>/g,Te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ce=/^\w*$/,Pe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Oe=/[\\^$.*+?()[\]{}|]/g,Ae=RegExp(Oe.source),Re=/^\s+|\s+$/g,Le=/^\s+/,Ie=/\s+$/,De=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ne=/\{\n\/\* \[wrapped with (.+)\] \*/,ze=/,? & /,Be=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Fe=/\\(\\)?/g,Ue=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,je=/\w*$/,We=/^[-+]0x[0-9a-f]+$/i,Ge=/^0b[01]+$/i,Ve=/^\[object .+?Constructor\]$/,He=/^0o[0-7]+$/i,Ye=/^(?:0|[1-9]\d*)$/,qe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Xe=/($^)/,Ze=/['\n\r\u2028\u2029\\]/g,Ke="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Je="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Qe="["+Je+"]",$e="["+Ke+"]",tn="[a-z\\xdf-\\xf6\\xf8-\\xff]",en="[^\\ud800-\\udfff"+Je+"\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",nn="\\ud83c[\\udffb-\\udfff]",rn="(?:\\ud83c[\\udde6-\\uddff]){2}",an="[\\ud800-\\udbff][\\udc00-\\udfff]",on="[A-Z\\xc0-\\xd6\\xd8-\\xde]",sn="(?:"+tn+"|"+en+")",ln="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",un="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",rn,an].join("|")+")[\\ufe0e\\ufe0f]?"+ln+")*",cn="[\\ufe0e\\ufe0f]?"+ln+un,hn="(?:"+["[\\u2700-\\u27bf]",rn,an].join("|")+")"+cn,dn="(?:"+["[^\\ud800-\\udfff]"+$e+"?",$e,rn,an,"[\\ud800-\\udfff]"].join("|")+")",fn=RegExp("['’]","g"),pn=RegExp($e,"g"),mn=RegExp(nn+"(?="+nn+")|"+dn+cn,"g"),gn=RegExp([on+"?"+tn+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[Qe,on,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[Qe,on+sn,"$"].join("|")+")",on+"?"+sn+"+(?:['’](?:d|ll|m|re|s|t|ve))?",on+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",hn].join("|"),"g"),vn=RegExp("[\\u200d\\ud800-\\udfff"+Ke+"\\ufe0e\\ufe0f]"),yn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,bn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],xn=-1,_n={};_n[le]=_n[ue]=_n[ce]=_n[he]=_n[de]=_n[fe]=_n[pe]=_n[me]=_n[ge]=!0,_n[Ft]=_n[Ut]=_n[oe]=_n[Wt]=_n[se]=_n[Gt]=_n[Ht]=_n[Yt]=_n[Xt]=_n[Zt]=_n[Jt]=_n[$t]=_n[te]=_n[ee]=_n[ie]=!1;var wn={};wn[Ft]=wn[Ut]=wn[oe]=wn[se]=wn[Wt]=wn[Gt]=wn[le]=wn[ue]=wn[ce]=wn[he]=wn[de]=wn[Xt]=wn[Zt]=wn[Jt]=wn[$t]=wn[te]=wn[ee]=wn[ne]=wn[fe]=wn[pe]=wn[me]=wn[ge]=!0,wn[Ht]=wn[Yt]=wn[ie]=!1;var Mn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},Sn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},En={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},kn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Tn=parseFloat,Cn=parseInt,Pn="object"==typeof t&&t&&t.Object===Object&&t,On="object"==typeof self&&self&&self.Object===Object&&self,An=Pn||On||Function("return this")(),Rn="object"==typeof e&&e&&!e.nodeType&&e,Ln=Rn&&"object"==typeof r&&r&&!r.nodeType&&r,In=Ln&&Ln.exports===Rn,Dn=In&&Pn.process,Nn=function(){try{return Dn&&Dn.binding&&Dn.binding("util")}catch(t){}}(),zn=Nn&&Nn.isArrayBuffer,Bn=Nn&&Nn.isDate,Fn=Nn&&Nn.isMap,Un=Nn&&Nn.isRegExp,jn=Nn&&Nn.isSet,Wn=Nn&&Nn.isTypedArray,Gn=k("length"),Vn=T(Mn),Hn=T(Sn),Yn=T(En),qn=function t(e){function n(t){if(el(t)&&!dd(t)&&!(t instanceof y)){if(t instanceof i)return t;if(dc.call(t,"__wrapped__"))return Ja(t)}return new i(t)}function r(){}function i(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=rt}function y(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Dt,this.__views__=[]}function T(){var t=new y(this.__wrapped__);return t.__actions__=Li(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Li(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Li(this.__views__),t}function K(){if(this.__filtered__){var t=new y(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function tt(){var t=this.__wrapped__.value(),e=this.__dir__,n=dd(t),r=e<0,i=n?t.length:0,a=wa(0,i,this.__views__),o=a.start,s=a.end,l=s-o,u=r?s:o-1,c=this.__iteratees__,h=c.length,d=0,f=Wc(l,this.__takeCount__);if(!n||!r&&i==l&&f==l)return gi(t,this.__actions__);var p=[];t:for(;l--&&d<f;){u+=e;for(var m=-1,g=t[u];++m<h;){var v=c[m],y=v.iteratee,b=v.type,x=y(g);if(b==Ot)g=x;else if(!x){if(b==Pt)continue t;break t}}p[d++]=g}return p}function et(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Be(){this.__data__=Qc?Qc(null):{},this.size=0}function Ke(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function Je(t){var e=this.__data__;if(Qc){var n=e[t];return n===st?rt:n}return dc.call(e,t)?e[t]:rt}function Qe(t){var e=this.__data__;return Qc?e[t]!==rt:dc.call(e,t)}function $e(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Qc&&e===rt?st:e,this}function tn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function en(){this.__data__=[],this.size=0}function nn(t){var e=this.__data__,n=Xn(e,t);return!(n<0)&&(n==e.length-1?e.pop():kc.call(e,n,1),--this.size,!0)}function rn(t){var e=this.__data__,n=Xn(e,t);return n<0?rt:e[n][1]}function an(t){return Xn(this.__data__,t)>-1}function on(t,e){var n=this.__data__,r=Xn(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function sn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function ln(){this.size=0,this.__data__={hash:new et,map:new(Xc||tn),string:new et}}function un(t){var e=ya(this,t).delete(t);return this.size-=e?1:0,e}function cn(t){return ya(this,t).get(t)}function hn(t){return ya(this,t).has(t)}function dn(t,e){var n=ya(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function mn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new sn;++e<n;)this.add(t[e])}function gn(t){return this.__data__.set(t,st),this}function vn(t){return this.__data__.has(t)}function yn(t){var e=this.__data__=new tn(t);this.size=e.size}function Mn(){this.__data__=new tn,this.size=0}function Sn(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function En(t){return this.__data__.get(t)}function kn(t){return this.__data__.has(t)}function Pn(t,e){var n=this.__data__;if(n instanceof tn){var r=n.__data__;if(!Xc||r.length<it-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new sn(r)}return n.set(t,e),this.size=n.size,this}function On(t,e){var n=dd(t),r=!n&&hd(t),i=!n&&!r&&pd(t),a=!n&&!r&&!i&&bd(t),o=n||r||i||a,s=o?A(t.length,ac):[],l=s.length;for(var u in t)!e&&!dc.call(t,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Oa(u,l))||s.push(u);return s}function Rn(t){var e=t.length;return e?t[Jr(0,e-1)]:rt}function Ln(t,e){return qa(Li(t),tr(e,0,t.length))}function Dn(t){return qa(Li(t))}function Nn(t,e,n){(n===rt||js(t[e],n))&&(n!==rt||e in t)||Qn(t,e,n)}function Gn(t,e,n){var r=t[e];dc.call(t,e)&&js(r,n)&&(n!==rt||e in t)||Qn(t,e,n)}function Xn(t,e){for(var n=t.length;n--;)if(js(t[n][0],e))return n;return-1}function Zn(t,e,n,r){return ch(t,function(t,i,a){e(r,t,n(t),a)}),r}function Kn(t,e){return t&&Ii(e,Nl(e),t)}function Jn(t,e){return t&&Ii(e,zl(e),t)}function Qn(t,e,n){"__proto__"==e&&Oc?Oc(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function $n(t,e){for(var n=-1,r=e.length,i=Qu(r),a=null==t;++n<r;)i[n]=a?rt:Ll(t,e[n]);return i}function tr(t,e,n){return t===t&&(n!==rt&&(t=t<=n?t:n),e!==rt&&(t=t>=e?t:e)),t}function er(t,e,n,r,i,a){var o,l=e&ct,u=e&ht,c=e&dt;if(n&&(o=i?n(t,r,i,a):n(t)),o!==rt)return o;if(!tl(t))return t;var h=dd(t);if(h){if(o=Ea(t),!l)return Li(t,o)}else{var d=wh(t),f=d==Yt||d==qt;if(pd(t))return Mi(t,l);if(d==Jt||d==Ft||f&&!i){if(o=u||f?{}:ka(t),!l)return u?Ni(t,Jn(o,t)):Di(t,Kn(o,t))}else{if(!wn[d])return i?t:{};o=Ta(t,d,l)}}a||(a=new yn);var p=a.get(t);if(p)return p;if(a.set(t,o),yd(t))return t.forEach(function(r){o.add(er(r,e,n,r,t,a))}),o;if(gd(t))return t.forEach(function(r,i){o.set(i,er(r,e,n,i,t,a))}),o;var m=c?u?pa:fa:u?zl:Nl,g=h?rt:m(t);return s(g||t,function(r,i){g&&(i=r,r=t[i]),Gn(o,i,er(r,e,n,i,t,a))}),o}function nr(t){var e=Nl(t);return function(n){return rr(n,t,e)}}function rr(t,e,n){var r=n.length;if(null==t)return!r;for(t=rc(t);r--;){var i=n[r],a=e[i],o=t[i];if(o===rt&&!(i in t)||!a(o))return!1}return!0}function ir(t,e,n){if("function"!=typeof t)throw new oc(ot);return Eh(function(){t.apply(rt,n)},e)}function ar(t,e,n,r){var i=-1,a=h,o=!0,s=t.length,l=[],u=e.length;if(!s)return l;n&&(e=f(e,L(n))),r?(a=d,o=!1):e.length>=it&&(a=D,o=!1,e=new mn(e));t:for(;++i<s;){var c=t[i],p=null==n?c:n(c);if(c=r||0!==c?c:0,o&&p===p){for(var m=u;m--;)if(e[m]===p)continue t;l.push(c)}else a(e,p,r)||l.push(c)}return l}function or(t,e){var n=!0;return ch(t,function(t,r,i){return n=!!e(t,r,i)}),n}function sr(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],o=e(a);if(null!=o&&(s===rt?o===o&&!dl(o):n(o,s)))var s=o,l=a}return l}function lr(t,e,n,r){var i=t.length;for(n=yl(n),n<0&&(n=-n>i?0:i+n),r=r===rt||r>i?i:yl(r),r<0&&(r+=i),r=n>r?0:bl(r);n<r;)t[n++]=e;return t}function ur(t,e){var n=[];return ch(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function cr(t,e,n,r,i){var a=-1,o=t.length;for(n||(n=Pa),i||(i=[]);++a<o;){var s=t[a];e>0&&n(s)?e>1?cr(s,e-1,n,r,i):p(i,s):r||(i[i.length]=s)}return i}function hr(t,e){return t&&dh(t,e,Nl)}function dr(t,e){return t&&fh(t,e,Nl)}function fr(t,e){return c(e,function(e){return Js(t[e])})}function pr(t,e){e=_i(e,t);for(var n=0,r=e.length;null!=t&&n<r;)t=t[Xa(e[n++])];return n&&n==r?t:rt}function mr(t,e,n){var r=e(t);return dd(t)?r:p(r,n(t))}function gr(t){return null==t?t===rt?re:Kt:Pc&&Pc in rc(t)?_a(t):ja(t)}function vr(t,e){return t>e}function yr(t,e){return null!=t&&dc.call(t,e)}function br(t,e){return null!=t&&e in rc(t)}function xr(t,e,n){return t>=Wc(e,n)&&t<jc(e,n)}function _r(t,e,n){for(var r=n?d:h,i=t[0].length,a=t.length,o=a,s=Qu(a),l=1/0,u=[];o--;){var c=t[o];o&&e&&(c=f(c,L(e))),l=Wc(c.length,l),s[o]=!n&&(e||i>=120&&c.length>=120)?new mn(o&&c):rt}c=t[0];var p=-1,m=s[0];t:for(;++p<i&&u.length<l;){var g=c[p],v=e?e(g):g;if(g=n||0!==g?g:0,!(m?D(m,v):r(u,v,n))){for(o=a;--o;){var y=s[o];if(!(y?D(y,v):r(t[o],v,n)))continue t}m&&m.push(v),u.push(g)}}return u}function wr(t,e,n,r){return hr(t,function(t,i,a){e(r,n(t),i,a)}),r}function Mr(t,e,n){e=_i(e,t),t=Ga(t,e);var r=null==t?t:t[Xa(vo(e))];return null==r?rt:a(r,t,n)}function Sr(t){return el(t)&&gr(t)==Ft}function Er(t){return el(t)&&gr(t)==oe}function kr(t){return el(t)&&gr(t)==Gt}function Tr(t,e,n,r,i){return t===e||(null==t||null==e||!el(t)&&!el(e)?t!==t&&e!==e:Cr(t,e,n,r,Tr,i))}function Cr(t,e,n,r,i,a){var o=dd(t),s=dd(e),l=o?Ut:wh(t),u=s?Ut:wh(e);l=l==Ft?Jt:l,u=u==Ft?Jt:u;var c=l==Jt,h=u==Jt,d=l==u;if(d&&pd(t)){if(!pd(e))return!1;o=!0,c=!1}if(d&&!c)return a||(a=new yn),o||bd(t)?ua(t,e,n,r,i,a):ca(t,e,l,n,r,i,a);if(!(n&ft)){var f=c&&dc.call(t,"__wrapped__"),p=h&&dc.call(e,"__wrapped__");if(f||p){var m=f?t.value():t,g=p?e.value():e;return a||(a=new yn),i(m,g,n,r,a)}}return!!d&&(a||(a=new yn),ha(t,e,n,r,i,a))}function Pr(t){return el(t)&&wh(t)==Xt}function Or(t,e,n,r){var i=n.length,a=i,o=!r;if(null==t)return!a;for(t=rc(t);i--;){var s=n[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=n[i];var l=s[0],u=t[l],c=s[1];if(o&&s[2]){if(u===rt&&!(l in t))return!1}else{var h=new yn;if(r)var d=r(u,c,l,t,e,h);if(!(d===rt?Tr(c,u,ft|pt,r,h):d))return!1}}return!0}function Ar(t){return!(!tl(t)||Da(t))&&(Js(t)?yc:Ve).test(Za(t))}function Rr(t){return el(t)&&gr(t)==$t}function Lr(t){return el(t)&&wh(t)==te}function Ir(t){return el(t)&&$s(t.length)&&!!_n[gr(t)]}function Dr(t){return"function"==typeof t?t:null==t?ku:"object"==typeof t?dd(t)?jr(t[0],t[1]):Ur(t):Iu(t)}function Nr(t){if(!Na(t))return Uc(t);var e=[];for(var n in rc(t))dc.call(t,n)&&"constructor"!=n&&e.push(n);return e}function zr(t){if(!tl(t))return Ua(t);var e=Na(t),n=[];for(var r in t)("constructor"!=r||!e&&dc.call(t,r))&&n.push(r);return n}function Br(t,e){return t<e}function Fr(t,e){var n=-1,r=Ws(t)?Qu(t.length):[];return ch(t,function(t,i,a){r[++n]=e(t,i,a)}),r}function Ur(t){var e=ba(t);return 1==e.length&&e[0][2]?Ba(e[0][0],e[0][1]):function(n){return n===t||Or(n,t,e)}}function jr(t,e){return Ra(t)&&za(e)?Ba(Xa(t),e):function(n){var r=Ll(n,t);return r===rt&&r===e?Dl(n,t):Tr(e,r,ft|pt)}}function Wr(t,e,n,r,i){t!==e&&dh(e,function(a,o){if(tl(a))i||(i=new yn),Gr(t,e,o,n,Wr,r,i);else{var s=r?r(q(t,o),a,o+"",t,e,i):rt;s===rt&&(s=a),Nn(t,o,s)}},zl)}function Gr(t,e,n,r,i,a,o){var s=q(t,n),l=q(e,n),u=o.get(l);if(u)return void Nn(t,n,u);var c=a?a(s,l,n+"",t,e,o):rt,h=c===rt;if(h){var d=dd(l),f=!d&&pd(l),p=!d&&!f&&bd(l);c=l,d||f||p?dd(s)?c=s:Gs(s)?c=Li(s):f?(h=!1,c=Mi(l,!0)):p?(h=!1,c=Ci(l,!0)):c=[]:ul(l)||hd(l)?(c=s,hd(s)?c=_l(s):(!tl(s)||r&&Js(s))&&(c=ka(l))):h=!1}h&&(o.set(l,c),i(c,l,r,a,o),o.delete(l)),Nn(t,n,c)}function Vr(t,e){var n=t.length;if(n)return e+=e<0?n:0,Oa(e,n)?t[e]:rt}function Hr(t,e,n){var r=-1;return e=f(e.length?e:[ku],L(va())),P(Fr(t,function(t,n,i){return{criteria:f(e,function(e){return e(t)}),index:++r,value:t}}),function(t,e){return Oi(t,e,n)})}function Yr(t,e){return qr(t,e,function(e,n){return Dl(t,n)})}function qr(t,e,n){for(var r=-1,i=e.length,a={};++r<i;){var o=e[r],s=pr(t,o);n(s,o)&&ri(a,_i(o,t),s)}return a}function Xr(t){return function(e){return pr(e,t)}}function Zr(t,e,n,r){var i=r?M:w,a=-1,o=e.length,s=t;for(t===e&&(e=Li(e)),n&&(s=f(t,L(n)));++a<o;)for(var l=0,u=e[a],c=n?n(u):u;(l=i(s,c,l,r))>-1;)s!==t&&kc.call(s,l,1),kc.call(t,l,1);return t}function Kr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==a){var a=i;Oa(i)?kc.call(t,i,1):fi(t,i)}}return t}function Jr(t,e){return t+Dc(Hc()*(e-t+1))}function Qr(t,e,n,r){for(var i=-1,a=jc(Ic((e-t)/(n||1)),0),o=Qu(a);a--;)o[r?a:++i]=t,t+=n;return o}function $r(t,e){var n="";if(!t||e<1||e>Rt)return n;do{e%2&&(n+=t),(e=Dc(e/2))&&(t+=t)}while(e);return n}function ti(t,e){return kh(Wa(t,e,ku),t+"")}function ei(t){return Rn(Zl(t))}function ni(t,e){var n=Zl(t);return qa(n,tr(e,0,n.length))}function ri(t,e,n,r){if(!tl(t))return t;e=_i(e,t);for(var i=-1,a=e.length,o=a-1,s=t;null!=s&&++i<a;){var l=Xa(e[i]),u=n;if(i!=o){var c=s[l];u=r?r(c,l,s):rt,u===rt&&(u=tl(c)?c:Oa(e[i+1])?[]:{})}Gn(s,l,u),s=s[l]}return t}function ii(t){return qa(Zl(t))}function ai(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Qu(i);++r<i;)a[r]=t[r+e];return a}function oi(t,e){var n;return ch(t,function(t,r,i){return!(n=e(t,r,i))}),!!n}function si(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e===e&&i<=zt){for(;r<i;){var a=r+i>>>1,o=t[a];null!==o&&!dl(o)&&(n?o<=e:o<e)?r=a+1:i=a}return i}return li(t,e,ku,n)}function li(t,e,n,r){e=n(e);for(var i=0,a=null==t?0:t.length,o=e!==e,s=null===e,l=dl(e),u=e===rt;i<a;){var c=Dc((i+a)/2),h=n(t[c]),d=h!==rt,f=null===h,p=h===h,m=dl(h);if(o)var g=r||p;else g=u?p&&(r||d):s?p&&d&&(r||!f):l?p&&d&&!f&&(r||!m):!f&&!m&&(r?h<=e:h<e);g?i=c+1:a=c}return Wc(a,Nt)}function ui(t,e){for(var n=-1,r=t.length,i=0,a=[];++n<r;){var o=t[n],s=e?e(o):o;if(!n||!js(s,l)){var l=s;a[i++]=0===o?0:o}}return a}function ci(t){return"number"==typeof t?t:dl(t)?It:+t}function hi(t){if("string"==typeof t)return t;if(dd(t))return f(t,hi)+"";if(dl(t))return lh?lh.call(t):"";var e=t+"";return"0"==e&&1/t==-At?"-0":e}function di(t,e,n){var r=-1,i=h,a=t.length,o=!0,s=[],l=s;if(n)o=!1,i=d;else if(a>=it){var u=e?null:yh(t);if(u)return X(u);o=!1,i=D,l=new mn}else l=e?[]:s;t:for(;++r<a;){var c=t[r],f=e?e(c):c;if(c=n||0!==c?c:0,o&&f===f){for(var p=l.length;p--;)if(l[p]===f)continue t;e&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}function fi(t,e){return e=_i(e,t),null==(t=Ga(t,e))||delete t[Xa(vo(e))]}function pi(t,e,n,r){return ri(t,e,n(pr(t,e)),r)}function mi(t,e,n,r){for(var i=t.length,a=r?i:-1;(r?a--:++a<i)&&e(t[a],a,t););return n?ai(t,r?0:a,r?a+1:i):ai(t,r?a+1:0,r?i:a)}function gi(t,e){var n=t;return n instanceof y&&(n=n.value()),m(e,function(t,e){return e.func.apply(e.thisArg,p([t],e.args))},n)}function vi(t,e,n){var r=t.length;if(r<2)return r?di(t[0]):[];for(var i=-1,a=Qu(r);++i<r;)for(var o=t[i],s=-1;++s<r;)s!=i&&(a[i]=ar(a[i]||o,t[s],e,n));return di(cr(a,1),e,n)}function yi(t,e,n){for(var r=-1,i=t.length,a=e.length,o={};++r<i;){var s=r<a?e[r]:rt;n(o,t[r],s)}return o}function bi(t){return Gs(t)?t:[]}function xi(t){return"function"==typeof t?t:ku}function _i(t,e){return dd(t)?t:Ra(t,e)?[t]:Th(Ml(t))}function wi(t,e,n){var r=t.length;return n=n===rt?r:n,!e&&n>=r?t:ai(t,e,n)}function Mi(t,e){if(e)return t.slice();var n=t.length,r=wc?wc(n):new t.constructor(n);return t.copy(r),r}function Si(t){var e=new t.constructor(t.byteLength);return new _c(e).set(new _c(t)),e}function Ei(t,e){var n=e?Si(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function ki(t){var e=new t.constructor(t.source,je.exec(t));return e.lastIndex=t.lastIndex,e}function Ti(t){return sh?rc(sh.call(t)):{}}function Ci(t,e){var n=e?Si(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Pi(t,e){if(t!==e){var n=t!==rt,r=null===t,i=t===t,a=dl(t),o=e!==rt,s=null===e,l=e===e,u=dl(e);if(!s&&!u&&!a&&t>e||a&&o&&l&&!s&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!a&&!u&&t<e||u&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!l)return-1}return 0}function Oi(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,o=i.length,s=n.length;++r<o;){var l=Pi(i[r],a[r]);if(l){if(r>=s)return l;return l*("desc"==n[r]?-1:1)}}return t.index-e.index}function Ai(t,e,n,r){for(var i=-1,a=t.length,o=n.length,s=-1,l=e.length,u=jc(a-o,0),c=Qu(l+u),h=!r;++s<l;)c[s]=e[s];for(;++i<o;)(h||i<a)&&(c[n[i]]=t[i]);for(;u--;)c[s++]=t[i++];return c}function Ri(t,e,n,r){for(var i=-1,a=t.length,o=-1,s=n.length,l=-1,u=e.length,c=jc(a-s,0),h=Qu(c+u),d=!r;++i<c;)h[i]=t[i];for(var f=i;++l<u;)h[f+l]=e[l];for(;++o<s;)(d||i<a)&&(h[f+n[o]]=t[i++]);return h}function Li(t,e){var n=-1,r=t.length;for(e||(e=Qu(r));++n<r;)e[n]=t[n];return e}function Ii(t,e,n,r){var i=!n;n||(n={});for(var a=-1,o=e.length;++a<o;){var s=e[a],l=r?r(n[s],t[s],s,n,t):rt;l===rt&&(l=t[s]),i?Qn(n,s,l):Gn(n,s,l)}return n}function Di(t,e){return Ii(t,xh(t),e)}function Ni(t,e){return Ii(t,_h(t),e)}function zi(t,e){return function(n,r){var i=dd(n)?o:Zn,a=e?e():{};return i(n,t,va(r,2),a)}}function Bi(t){return ti(function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:rt,o=i>2?n[2]:rt;for(a=t.length>3&&"function"==typeof a?(i--,a):rt,o&&Aa(n[0],n[1],o)&&(a=i<3?rt:a,i=1),e=rc(e);++r<i;){var s=n[r];s&&t(e,s,r,a)}return e})}function Fi(t,e){return function(n,r){if(null==n)return n;if(!Ws(n))return t(n,r);for(var i=n.length,a=e?i:-1,o=rc(n);(e?a--:++a<i)&&!1!==r(o[a],a,o););return n}}function Ui(t){return function(e,n,r){for(var i=-1,a=rc(e),o=r(e),s=o.length;s--;){var l=o[t?s:++i];if(!1===n(a[l],l,a))break}return e}}function ji(t,e,n){function r(){return(this&&this!==An&&this instanceof r?a:t).apply(i?n:this,arguments)}var i=e&mt,a=Vi(t);return r}function Wi(t){return function(e){e=Ml(e);var n=j(e)?$(e):rt,r=n?n[0]:e.charAt(0),i=n?wi(n,1).join(""):e.slice(1);return r[t]()+i}}function Gi(t){return function(e){return m(_u(eu(e).replace(fn,"")),t,"")}}function Vi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=uh(t.prototype),r=t.apply(n,e);return tl(r)?r:n}}function Hi(t,e,n){function r(){for(var o=arguments.length,s=Qu(o),l=o,u=ga(r);l--;)s[l]=arguments[l];var c=o<3&&s[0]!==u&&s[o-1]!==u?[]:Y(s,u);return(o-=c.length)<n?na(t,e,Xi,r.placeholder,rt,s,c,rt,rt,n-o):a(this&&this!==An&&this instanceof r?i:t,this,s)}var i=Vi(t);return r}function Yi(t){return function(e,n,r){var i=rc(e);if(!Ws(e)){var a=va(n,3);e=Nl(e),n=function(t){return a(i[t],t,i)}}var o=t(e,n,r);return o>-1?i[a?e[o]:o]:rt}}function qi(t){return da(function(e){var n=e.length,r=n,a=i.prototype.thru;for(t&&e.reverse();r--;){var o=e[r];if("function"!=typeof o)throw new oc(ot);if(a&&!s&&"wrapper"==ma(o))var s=new i([],!0)}for(r=s?r:n;++r<n;){o=e[r];var l=ma(o),u="wrapper"==l?bh(o):rt;s=u&&Ia(u[0])&&u[1]==(wt|yt|xt|Mt)&&!u[4].length&&1==u[9]?s[ma(u[0])].apply(s,u[3]):1==o.length&&Ia(o)?s[l]():s.thru(o)}return function(){var t=arguments,r=t[0];if(s&&1==t.length&&dd(r))return s.plant(r).value();for(var i=0,a=n?e[i].apply(this,t):r;++i<n;)a=e[i].call(this,a);return a}})}function Xi(t,e,n,r,i,a,o,s,l,u){function c(){for(var v=arguments.length,y=Qu(v),b=v;b--;)y[b]=arguments[b];if(p)var x=ga(c),_=B(y,x);if(r&&(y=Ai(y,r,i,p)),a&&(y=Ri(y,a,o,p)),v-=_,p&&v<u){var w=Y(y,x);return na(t,e,Xi,c.placeholder,n,y,w,s,l,u-v)}var M=d?n:this,S=f?M[t]:t;return v=y.length,s?y=Va(y,s):m&&v>1&&y.reverse(),h&&l<v&&(y.length=l),this&&this!==An&&this instanceof c&&(S=g||Vi(S)),S.apply(M,y)}var h=e&wt,d=e&mt,f=e&gt,p=e&(yt|bt),m=e&St,g=f?rt:Vi(t);return c}function Zi(t,e){return function(n,r){return wr(n,t,e(r),{})}}function Ki(t,e){return function(n,r){var i;if(n===rt&&r===rt)return e;if(n!==rt&&(i=n),r!==rt){if(i===rt)return r;"string"==typeof n||"string"==typeof r?(n=hi(n),r=hi(r)):(n=ci(n),r=ci(r)),i=t(n,r)}return i}}function Ji(t){return da(function(e){return e=f(e,L(va())),ti(function(n){var r=this;return t(e,function(t){return a(t,r,n)})})})}function Qi(t,e){e=e===rt?" ":hi(e);var n=e.length;if(n<2)return n?$r(e,t):e;var r=$r(e,Ic(t/Q(e)));return j(e)?wi($(r),0,t).join(""):r.slice(0,t)}function $i(t,e,n,r){function i(){for(var e=-1,l=arguments.length,u=-1,c=r.length,h=Qu(c+l),d=this&&this!==An&&this instanceof i?s:t;++u<c;)h[u]=r[u];for(;l--;)h[u++]=arguments[++e];return a(d,o?n:this,h)}var o=e&mt,s=Vi(t);return i}function ta(t){return function(e,n,r){return r&&"number"!=typeof r&&Aa(e,n,r)&&(n=r=rt),e=vl(e),n===rt?(n=e,e=0):n=vl(n),r=r===rt?e<n?1:-1:vl(r),Qr(e,n,r,t)}}function ea(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=xl(e),n=xl(n)),t(e,n)}}function na(t,e,n,r,i,a,o,s,l,u){var c=e&yt,h=c?o:rt,d=c?rt:o,f=c?a:rt,p=c?rt:a;e|=c?xt:_t,(e&=~(c?_t:xt))&vt||(e&=~(mt|gt));var m=[t,e,i,f,h,p,d,s,l,u],g=n.apply(rt,m);return Ia(t)&&Sh(g,m),g.placeholder=r,Ha(g,t,e)}function ra(t){var e=nc[t];return function(t,n){if(t=xl(t),n=null==n?0:Wc(yl(n),292)){var r=(Ml(t)+"e").split("e");return r=(Ml(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return e(t)}}function ia(t){return function(e){var n=wh(e);return n==Xt?V(e):n==te?Z(e):R(e,t(e))}}function aa(t,e,n,r,i,a,o,s){var l=e&gt;if(!l&&"function"!=typeof t)throw new oc(ot);var u=r?r.length:0;if(u||(e&=~(xt|_t),r=i=rt),o=o===rt?o:jc(yl(o),0),s=s===rt?s:yl(s),u-=i?i.length:0,e&_t){var c=r,h=i;r=i=rt}var d=l?rt:bh(t),f=[t,e,n,r,i,c,h,a,o,s];if(d&&Fa(f,d),t=f[0],e=f[1],n=f[2],r=f[3],i=f[4],s=f[9]=f[9]===rt?l?0:t.length:jc(f[9]-u,0),!s&&e&(yt|bt)&&(e&=~(yt|bt)),e&&e!=mt)p=e==yt||e==bt?Hi(t,e,s):e!=xt&&e!=(mt|xt)||i.length?Xi.apply(rt,f):$i(t,e,n,r);else var p=ji(t,e,n);return Ha((d?ph:Sh)(p,f),t,e)}function oa(t,e,n,r){return t===rt||js(t,uc[n])&&!dc.call(r,n)?e:t}function sa(t,e,n,r,i,a){return tl(t)&&tl(e)&&(a.set(e,t),Wr(t,e,rt,sa,a),a.delete(e)),t}function la(t){return ul(t)?rt:t}function ua(t,e,n,r,i,a){var o=n&ft,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(t);if(u&&a.get(e))return u==e;var c=-1,h=!0,d=n&pt?new mn:rt;for(a.set(t,e),a.set(e,t);++c<s;){var f=t[c],p=e[c];if(r)var m=o?r(p,f,c,e,t,a):r(f,p,c,t,e,a);if(m!==rt){if(m)continue;h=!1;break}if(d){if(!v(e,function(t,e){if(!D(d,e)&&(f===t||i(f,t,n,r,a)))return d.push(e)})){h=!1;break}}else if(f!==p&&!i(f,p,n,r,a)){h=!1;break}}return a.delete(t),a.delete(e),h}function ca(t,e,n,r,i,a,o){switch(n){case se:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case oe:return!(t.byteLength!=e.byteLength||!a(new _c(t),new _c(e)));case Wt:case Gt:case Zt:return js(+t,+e);case Ht:return t.name==e.name&&t.message==e.message;case $t:case ee:return t==e+"";case Xt:var s=V;case te:var l=r&ft;if(s||(s=X),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=pt,o.set(t,e);var c=ua(s(t),s(e),r,i,a,o);return o.delete(t),c;case ne:if(sh)return sh.call(t)==sh.call(e)}return!1}function ha(t,e,n,r,i,a){var o=n&ft,s=fa(t),l=s.length;if(l!=fa(e).length&&!o)return!1;for(var u=l;u--;){var c=s[u];if(!(o?c in e:dc.call(e,c)))return!1}var h=a.get(t);if(h&&a.get(e))return h==e;var d=!0;a.set(t,e),a.set(e,t);for(var f=o;++u<l;){c=s[u];var p=t[c],m=e[c];if(r)var g=o?r(m,p,c,e,t,a):r(p,m,c,t,e,a);if(!(g===rt?p===m||i(p,m,n,r,a):g)){d=!1;break}f||(f="constructor"==c)}if(d&&!f){var v=t.constructor,y=e.constructor;v!=y&&"constructor"in t&&"constructor"in e&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y)&&(d=!1)}return a.delete(t),a.delete(e),d}function da(t){return kh(Wa(t,rt,lo),t+"")}function fa(t){return mr(t,Nl,xh)}function pa(t){return mr(t,zl,_h)}function ma(t){for(var e=t.name+"",n=th[e],r=dc.call(th,e)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==t)return i.name}return e}function ga(t){return(dc.call(n,"placeholder")?n:t).placeholder}function va(){var t=n.iteratee||Tu;return t=t===Tu?Dr:t,arguments.length?t(arguments[0],arguments[1]):t}function ya(t,e){var n=t.__data__;return La(e)?n["string"==typeof e?"string":"hash"]:n.map}function ba(t){for(var e=Nl(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,za(i)]}return e}function xa(t,e){var n=U(t,e);return Ar(n)?n:rt}function _a(t){var e=dc.call(t,Pc),n=t[Pc];try{t[Pc]=rt;var r=!0}catch(t){}var i=mc.call(t);return r&&(e?t[Pc]=n:delete t[Pc]),i}function wa(t,e,n){for(var r=-1,i=n.length;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":t+=o;break;case"dropRight":e-=o;break;case"take":e=Wc(e,t+o);break;case"takeRight":t=jc(t,e-o)}}return{start:t,end:e}}function Ma(t){var e=t.match(Ne);return e?e[1].split(ze):[]}function Sa(t,e,n){e=_i(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var o=Xa(e[r]);if(!(a=null!=t&&n(t,o)))break;t=t[o]}return a||++r!=i?a:!!(i=null==t?0:t.length)&&$s(i)&&Oa(o,i)&&(dd(t)||hd(t))}function Ea(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&dc.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function ka(t){return"function"!=typeof t.constructor||Na(t)?{}:uh(Mc(t))}function Ta(t,e,n){var r=t.constructor;switch(e){case oe:return Si(t);case Wt:case Gt:return new r(+t);case se:return Ei(t,n);case le:case ue:case ce:case he:case de:case fe:case pe:case me:case ge:return Ci(t,n);case Xt:return new r;case Zt:case ee:return new r(t);case $t:return ki(t);case te:return new r;case ne:return Ti(t)}}function Ca(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(De,"{\n/* [wrapped with "+e+"] */\n")}function Pa(t){return dd(t)||hd(t)||!!(Tc&&t&&t[Tc])}function Oa(t,e){var n=typeof t;return!!(e=null==e?Rt:e)&&("number"==n||"symbol"!=n&&Ye.test(t))&&t>-1&&t%1==0&&t<e}function Aa(t,e,n){if(!tl(n))return!1;var r=typeof e;return!!("number"==r?Ws(n)&&Oa(e,n.length):"string"==r&&e in n)&&js(n[e],t)}function Ra(t,e){if(dd(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!dl(t))||(Ce.test(t)||!Te.test(t)||null!=e&&t in rc(e))}function La(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function Ia(t){var e=ma(t),r=n[e];if("function"!=typeof r||!(e in y.prototype))return!1;if(t===r)return!0;var i=bh(r);return!!i&&t===i[0]}function Da(t){return!!pc&&pc in t}function Na(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||uc)}function za(t){return t===t&&!tl(t)}function Ba(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==rt||t in rc(n)))}}function Fa(t,e){var n=t[1],r=e[1],i=n|r,a=i<(mt|gt|wt),o=r==wt&&n==yt||r==wt&&n==Mt&&t[7].length<=e[8]||r==(wt|Mt)&&e[7].length<=e[8]&&n==yt;if(!a&&!o)return t;r&mt&&(t[2]=e[2],i|=n&mt?0:vt);var s=e[3];if(s){var l=t[3];t[3]=l?Ai(l,s,e[4]):s,t[4]=l?Y(t[3],ut):e[4]}return s=e[5],s&&(l=t[5],t[5]=l?Ri(l,s,e[6]):s,t[6]=l?Y(t[5],ut):e[6]),s=e[7],s&&(t[7]=s),r&wt&&(t[8]=null==t[8]?e[8]:Wc(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function Ua(t){var e=[];if(null!=t)for(var n in rc(t))e.push(n);return e}function ja(t){return mc.call(t)}function Wa(t,e,n){return e=jc(e===rt?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=jc(r.length-e,0),s=Qu(o);++i<o;)s[i]=r[e+i];i=-1;for(var l=Qu(e+1);++i<e;)l[i]=r[i];return l[e]=n(s),a(t,this,l)}}function Ga(t,e){return e.length<2?t:pr(t,ai(e,0,-1))}function Va(t,e){for(var n=t.length,r=Wc(e.length,n),i=Li(t);r--;){var a=e[r];t[r]=Oa(a,n)?i[a]:rt}return t}function Ha(t,e,n){var r=e+"";return kh(t,Ca(r,Ka(Ma(r),n)))}function Ya(t){var e=0,n=0;return function(){var r=Gc(),i=Ct-(r-n);if(n=r,i>0){if(++e>=Tt)return arguments[0]}else e=0;return t.apply(rt,arguments)}}function qa(t,e){var n=-1,r=t.length,i=r-1;for(e=e===rt?r:e;++n<e;){var a=Jr(n,i),o=t[a];t[a]=t[n],t[n]=o}return t.length=e,t}function Xa(t){if("string"==typeof t||dl(t))return t;var e=t+"";return"0"==e&&1/t==-At?"-0":e}function Za(t){if(null!=t){try{return hc.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Ka(t,e){return s(Bt,function(n){var r="_."+n[0];e&n[1]&&!h(t,r)&&t.push(r)}),t.sort()}function Ja(t){if(t instanceof y)return t.clone();var e=new i(t.__wrapped__,t.__chain__);return e.__actions__=Li(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function Qa(t,e,n){e=(n?Aa(t,e,n):e===rt)?1:jc(yl(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var i=0,a=0,o=Qu(Ic(r/e));i<r;)o[a++]=ai(t,i,i+=e);return o}function $a(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var a=t[e];a&&(i[r++]=a)}return i}function to(){var t=arguments.length;if(!t)return[];for(var e=Qu(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return p(dd(n)?Li(n):[n],cr(e,1))}function eo(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===rt?1:yl(e),ai(t,e<0?0:e,r)):[]}function no(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===rt?1:yl(e),e=r-e,ai(t,0,e<0?0:e)):[]}function ro(t,e){return t&&t.length?mi(t,va(e,3),!0,!0):[]}function io(t,e){return t&&t.length?mi(t,va(e,3),!0):[]}function ao(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Aa(t,e,n)&&(n=0,r=i),lr(t,e,n,r)):[]}function oo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:yl(n);return i<0&&(i=jc(r+i,0)),_(t,va(e,3),i)}function so(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==rt&&(i=yl(n),i=n<0?jc(r+i,0):Wc(i,r-1)),_(t,va(e,3),i,!0)}function lo(t){return(null==t?0:t.length)?cr(t,1):[]}function uo(t){return(null==t?0:t.length)?cr(t,At):[]}function co(t,e){return(null==t?0:t.length)?(e=e===rt?1:yl(e),cr(t,e)):[]}function ho(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r}function fo(t){return t&&t.length?t[0]:rt}function po(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:yl(n);return i<0&&(i=jc(r+i,0)),w(t,e,i)}function mo(t){return(null==t?0:t.length)?ai(t,0,-1):[]}function go(t,e){return null==t?"":Fc.call(t,e)}function vo(t){var e=null==t?0:t.length;return e?t[e-1]:rt}function yo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==rt&&(i=yl(n),i=i<0?jc(r+i,0):Wc(i,r-1)),e===e?J(t,e,i):_(t,S,i,!0)}function bo(t,e){return t&&t.length?Vr(t,yl(e)):rt}function xo(t,e){return t&&t.length&&e&&e.length?Zr(t,e):t}function _o(t,e,n){return t&&t.length&&e&&e.length?Zr(t,e,va(n,2)):t}function wo(t,e,n){return t&&t.length&&e&&e.length?Zr(t,e,rt,n):t}function Mo(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],a=t.length;for(e=va(e,3);++r<a;){var o=t[r];e(o,r,t)&&(n.push(o),i.push(r))}return Kr(t,i),n}function So(t){return null==t?t:Yc.call(t)}function Eo(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Aa(t,e,n)?(e=0,n=r):(e=null==e?0:yl(e),n=n===rt?r:yl(n)),ai(t,e,n)):[]}function ko(t,e){return si(t,e)}function To(t,e,n){return li(t,e,va(n,2))}function Co(t,e){var n=null==t?0:t.length;if(n){var r=si(t,e);if(r<n&&js(t[r],e))return r}return-1}function Po(t,e){return si(t,e,!0)}function Oo(t,e,n){return li(t,e,va(n,2),!0)}function Ao(t,e){if(null==t?0:t.length){var n=si(t,e,!0)-1;if(js(t[n],e))return n}return-1}function Ro(t){return t&&t.length?ui(t):[]}function Lo(t,e){return t&&t.length?ui(t,va(e,2)):[]}function Io(t){var e=null==t?0:t.length;return e?ai(t,1,e):[]}function Do(t,e,n){return t&&t.length?(e=n||e===rt?1:yl(e),ai(t,0,e<0?0:e)):[]}function No(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===rt?1:yl(e),e=r-e,ai(t,e<0?0:e,r)):[]}function zo(t,e){return t&&t.length?mi(t,va(e,3),!1,!0):[]}function Bo(t,e){return t&&t.length?mi(t,va(e,3)):[]}function Fo(t){return t&&t.length?di(t):[]}function Uo(t,e){return t&&t.length?di(t,va(e,2)):[]}function jo(t,e){return e="function"==typeof e?e:rt,t&&t.length?di(t,rt,e):[]}function Wo(t){if(!t||!t.length)return[];var e=0;return t=c(t,function(t){if(Gs(t))return e=jc(t.length,e),!0}),A(e,function(e){return f(t,k(e))})}function Go(t,e){if(!t||!t.length)return[];var n=Wo(t);return null==e?n:f(n,function(t){return a(e,rt,t)})}function Vo(t,e){return yi(t||[],e||[],Gn)}function Ho(t,e){return yi(t||[],e||[],ri)}function Yo(t){var e=n(t);return e.__chain__=!0,e}function qo(t,e){return e(t),t}function Xo(t,e){return e(t)}function Zo(){return Yo(this)}function Ko(){return new i(this.value(),this.__chain__)}function Jo(){this.__values__===rt&&(this.__values__=gl(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?rt:this.__values__[this.__index__++]}}function Qo(){return this}function $o(t){for(var e,n=this;n instanceof r;){var i=Ja(n);i.__index__=0,i.__values__=rt,e?a.__wrapped__=i:e=i;var a=i;n=n.__wrapped__}return a.__wrapped__=t,e}function ts(){var t=this.__wrapped__;if(t instanceof y){var e=t;return this.__actions__.length&&(e=new y(this)),e=e.reverse(),e.__actions__.push({func:Xo,args:[So],thisArg:rt}),new i(e,this.__chain__)}return this.thru(So)}function es(){return gi(this.__wrapped__,this.__actions__)}function ns(t,e,n){var r=dd(t)?u:or;return n&&Aa(t,e,n)&&(e=rt),r(t,va(e,3))}function rs(t,e){return(dd(t)?c:ur)(t,va(e,3))}function is(t,e){return cr(cs(t,e),1)}function as(t,e){return cr(cs(t,e),At)}function os(t,e,n){return n=n===rt?1:yl(n),cr(cs(t,e),n)}function ss(t,e){return(dd(t)?s:ch)(t,va(e,3))}function ls(t,e){return(dd(t)?l:hh)(t,va(e,3))}function us(t,e,n,r){t=Ws(t)?t:Zl(t),n=n&&!r?yl(n):0;var i=t.length;return n<0&&(n=jc(i+n,0)),hl(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&w(t,e,n)>-1}function cs(t,e){return(dd(t)?f:Fr)(t,va(e,3))}function hs(t,e,n,r){return null==t?[]:(dd(e)||(e=null==e?[]:[e]),n=r?rt:n,dd(n)||(n=null==n?[]:[n]),Hr(t,e,n))}function ds(t,e,n){var r=dd(t)?m:C,i=arguments.length<3;return r(t,va(e,4),n,i,ch)}function fs(t,e,n){var r=dd(t)?g:C,i=arguments.length<3;return r(t,va(e,4),n,i,hh)}function ps(t,e){return(dd(t)?c:ur)(t,Cs(va(e,3)))}function ms(t){return(dd(t)?Rn:ei)(t)}function gs(t,e,n){return e=(n?Aa(t,e,n):e===rt)?1:yl(e),(dd(t)?Ln:ni)(t,e)}function vs(t){return(dd(t)?Dn:ii)(t)}function ys(t){if(null==t)return 0;if(Ws(t))return hl(t)?Q(t):t.length;var e=wh(t);return e==Xt||e==te?t.size:Nr(t).length}function bs(t,e,n){var r=dd(t)?v:oi;return n&&Aa(t,e,n)&&(e=rt),r(t,va(e,3))}function xs(t,e){if("function"!=typeof e)throw new oc(ot);return t=yl(t),function(){if(--t<1)return e.apply(this,arguments)}}function _s(t,e,n){return e=n?rt:e,e=t&&null==e?t.length:e,aa(t,wt,rt,rt,rt,rt,e)}function ws(t,e){var n;if("function"!=typeof e)throw new oc(ot);return t=yl(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=rt),n}}function Ms(t,e,n){e=n?rt:e;var r=aa(t,yt,rt,rt,rt,rt,rt,e);return r.placeholder=Ms.placeholder,r}function Ss(t,e,n){e=n?rt:e;var r=aa(t,bt,rt,rt,rt,rt,rt,e);return r.placeholder=Ss.placeholder,r}function Es(t,e,n){function r(e){var n=d,r=f;return d=f=rt,y=e,m=t.apply(r,n)}function i(t){return y=t,g=Eh(s,e),b?r(t):m}function a(t){var n=t-v,r=t-y,i=e-n;return x?Wc(i,p-r):i}function o(t){var n=t-v,r=t-y;return v===rt||n>=e||n<0||x&&r>=p}function s(){var t=td();if(o(t))return l(t);g=Eh(s,a(t))}function l(t){return g=rt,_&&d?r(t):(d=f=rt,m)}function u(){g!==rt&&vh(g),y=0,d=v=f=g=rt}function c(){return g===rt?m:l(td())}function h(){var t=td(),n=o(t);if(d=arguments,f=this,v=t,n){if(g===rt)return i(v);if(x)return g=Eh(s,e),r(v)}return g===rt&&(g=Eh(s,e)),m}var d,f,p,m,g,v,y=0,b=!1,x=!1,_=!0;if("function"!=typeof t)throw new oc(ot);return e=xl(e)||0,tl(n)&&(b=!!n.leading,x="maxWait"in n,p=x?jc(xl(n.maxWait)||0,e):p,_="trailing"in n?!!n.trailing:_),h.cancel=u,h.flush=c,h}function ks(t){return aa(t,St)}function Ts(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new oc(ot);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(Ts.Cache||sn),n}function Cs(t){if("function"!=typeof t)throw new oc(ot);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Ps(t){return ws(2,t)}function Os(t,e){if("function"!=typeof t)throw new oc(ot);return e=e===rt?e:yl(e),ti(t,e)}function As(t,e){if("function"!=typeof t)throw new oc(ot);return e=null==e?0:jc(yl(e),0),ti(function(n){var r=n[e],i=wi(n,0,e);return r&&p(i,r),a(t,this,i)})}function Rs(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new oc(ot);return tl(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Es(t,e,{leading:r,maxWait:e,trailing:i})}function Ls(t){return _s(t,1)}function Is(t,e){return od(xi(e),t)}function Ds(){if(!arguments.length)return[];var t=arguments[0];return dd(t)?t:[t]}function Ns(t){return er(t,dt)}function zs(t,e){return e="function"==typeof e?e:rt,er(t,dt,e)}function Bs(t){return er(t,ct|dt)}function Fs(t,e){return e="function"==typeof e?e:rt,er(t,ct|dt,e)}function Us(t,e){return null==e||rr(t,e,Nl(e))}function js(t,e){return t===e||t!==t&&e!==e}function Ws(t){return null!=t&&$s(t.length)&&!Js(t)}function Gs(t){return el(t)&&Ws(t)}function Vs(t){return!0===t||!1===t||el(t)&&gr(t)==Wt}function Hs(t){return el(t)&&1===t.nodeType&&!ul(t)}function Ys(t){if(null==t)return!0;if(Ws(t)&&(dd(t)||"string"==typeof t||"function"==typeof t.splice||pd(t)||bd(t)||hd(t)))return!t.length;var e=wh(t);if(e==Xt||e==te)return!t.size;if(Na(t))return!Nr(t).length;for(var n in t)if(dc.call(t,n))return!1;return!0}function qs(t,e){return Tr(t,e)}function Xs(t,e,n){n="function"==typeof n?n:rt;var r=n?n(t,e):rt;return r===rt?Tr(t,e,rt,n):!!r}function Zs(t){if(!el(t))return!1;var e=gr(t);return e==Ht||e==Vt||"string"==typeof t.message&&"string"==typeof t.name&&!ul(t)}function Ks(t){return"number"==typeof t&&Bc(t)}function Js(t){if(!tl(t))return!1;var e=gr(t);return e==Yt||e==qt||e==jt||e==Qt}function Qs(t){return"number"==typeof t&&t==yl(t)}function $s(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Rt}function tl(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function el(t){return null!=t&&"object"==typeof t}function nl(t,e){return t===e||Or(t,e,ba(e))}function rl(t,e,n){return n="function"==typeof n?n:rt,Or(t,e,ba(e),n)}function il(t){return ll(t)&&t!=+t}function al(t){if(Mh(t))throw new tc(at);return Ar(t)}function ol(t){return null===t}function sl(t){return null==t}function ll(t){return"number"==typeof t||el(t)&&gr(t)==Zt}function ul(t){if(!el(t)||gr(t)!=Jt)return!1;var e=Mc(t);if(null===e)return!0;var n=dc.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&hc.call(n)==gc}function cl(t){return Qs(t)&&t>=-Rt&&t<=Rt}function hl(t){return"string"==typeof t||!dd(t)&&el(t)&&gr(t)==ee}function dl(t){return"symbol"==typeof t||el(t)&&gr(t)==ne}function fl(t){return t===rt}function pl(t){return el(t)&&wh(t)==ie}function ml(t){return el(t)&&gr(t)==ae}function gl(t){if(!t)return[];if(Ws(t))return hl(t)?$(t):Li(t);if(Cc&&t[Cc])return G(t[Cc]());var e=wh(t);return(e==Xt?V:e==te?X:Zl)(t)}function vl(t){if(!t)return 0===t?t:0;if((t=xl(t))===At||t===-At){return(t<0?-1:1)*Lt}return t===t?t:0}function yl(t){var e=vl(t),n=e%1;return e===e?n?e-n:e:0}function bl(t){return t?tr(yl(t),0,Dt):0}function xl(t){if("number"==typeof t)return t;if(dl(t))return It;if(tl(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=tl(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Re,"");var n=Ge.test(t);return n||He.test(t)?Cn(t.slice(2),n?2:8):We.test(t)?It:+t}function _l(t){return Ii(t,zl(t))}function wl(t){return t?tr(yl(t),-Rt,Rt):0===t?t:0}function Ml(t){return null==t?"":hi(t)}function Sl(t,e){var n=uh(t);return null==e?n:Kn(n,e)}function El(t,e){return x(t,va(e,3),hr)}function kl(t,e){return x(t,va(e,3),dr)}function Tl(t,e){return null==t?t:dh(t,va(e,3),zl)}function Cl(t,e){return null==t?t:fh(t,va(e,3),zl)}function Pl(t,e){return t&&hr(t,va(e,3))}function Ol(t,e){return t&&dr(t,va(e,3))}function Al(t){return null==t?[]:fr(t,Nl(t))}function Rl(t){return null==t?[]:fr(t,zl(t))}function Ll(t,e,n){var r=null==t?rt:pr(t,e);return r===rt?n:r}function Il(t,e){return null!=t&&Sa(t,e,yr)}function Dl(t,e){return null!=t&&Sa(t,e,br)}function Nl(t){return Ws(t)?On(t):Nr(t)}function zl(t){return Ws(t)?On(t,!0):zr(t)}function Bl(t,e){var n={};return e=va(e,3),hr(t,function(t,r,i){Qn(n,e(t,r,i),t)}),n}function Fl(t,e){var n={};return e=va(e,3),hr(t,function(t,r,i){Qn(n,r,e(t,r,i))}),n}function Ul(t,e){return jl(t,Cs(va(e)))}function jl(t,e){if(null==t)return{};var n=f(pa(t),function(t){return[t]});return e=va(e),qr(t,n,function(t,n){return e(t,n[0])})}function Wl(t,e,n){e=_i(e,t);var r=-1,i=e.length;for(i||(i=1,t=rt);++r<i;){var a=null==t?rt:t[Xa(e[r])];a===rt&&(r=i,a=n),t=Js(a)?a.call(t):a}return t}function Gl(t,e,n){return null==t?t:ri(t,e,n)}function Vl(t,e,n,r){return r="function"==typeof r?r:rt,null==t?t:ri(t,e,n,r)}function Hl(t,e,n){var r=dd(t),i=r||pd(t)||bd(t);if(e=va(e,4),null==n){var a=t&&t.constructor;n=i?r?new a:[]:tl(t)&&Js(a)?uh(Mc(t)):{}}return(i?s:hr)(t,function(t,r,i){return e(n,t,r,i)}),n}function Yl(t,e){return null==t||fi(t,e)}function ql(t,e,n){return null==t?t:pi(t,e,xi(n))}function Xl(t,e,n,r){return r="function"==typeof r?r:rt,null==t?t:pi(t,e,xi(n),r)}function Zl(t){return null==t?[]:I(t,Nl(t))}function Kl(t){return null==t?[]:I(t,zl(t))}function Jl(t,e,n){return n===rt&&(n=e,e=rt),n!==rt&&(n=xl(n),n=n===n?n:0),e!==rt&&(e=xl(e),e=e===e?e:0),tr(xl(t),e,n)}function Ql(t,e,n){return e=vl(e),n===rt?(n=e,e=0):n=vl(n),t=xl(t),xr(t,e,n)}function $l(t,e,n){if(n&&"boolean"!=typeof n&&Aa(t,e,n)&&(e=n=rt),n===rt&&("boolean"==typeof e?(n=e,e=rt):"boolean"==typeof t&&(n=t,t=rt)),t===rt&&e===rt?(t=0,e=1):(t=vl(t),e===rt?(e=t,t=0):e=vl(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=Hc();return Wc(t+i*(e-t+Tn("1e-"+((i+"").length-1))),e)}return Jr(t,e)}function tu(t){return Hd(Ml(t).toLowerCase())}function eu(t){return(t=Ml(t))&&t.replace(qe,Vn).replace(pn,"")}function nu(t,e,n){t=Ml(t),e=hi(e);var r=t.length;n=n===rt?r:tr(yl(n),0,r);var i=n;return(n-=e.length)>=0&&t.slice(n,i)==e}function ru(t){return t=Ml(t),t&&Me.test(t)?t.replace(_e,Hn):t}function iu(t){return t=Ml(t),t&&Ae.test(t)?t.replace(Oe,"\\$&"):t}function au(t,e,n){t=Ml(t),e=yl(e);var r=e?Q(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Qi(Dc(i),n)+t+Qi(Ic(i),n)}function ou(t,e,n){t=Ml(t),e=yl(e);var r=e?Q(t):0;return e&&r<e?t+Qi(e-r,n):t}function su(t,e,n){t=Ml(t),e=yl(e);var r=e?Q(t):0;return e&&r<e?Qi(e-r,n)+t:t}function lu(t,e,n){return n||null==e?e=0:e&&(e=+e),Vc(Ml(t).replace(Le,""),e||0)}function uu(t,e,n){return e=(n?Aa(t,e,n):e===rt)?1:yl(e),$r(Ml(t),e)}function cu(){var t=arguments,e=Ml(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function hu(t,e,n){return n&&"number"!=typeof n&&Aa(t,e,n)&&(e=n=rt),(n=n===rt?Dt:n>>>0)?(t=Ml(t),t&&("string"==typeof e||null!=e&&!vd(e))&&!(e=hi(e))&&j(t)?wi($(t),0,n):t.split(e,n)):[]}function du(t,e,n){return t=Ml(t),n=null==n?0:tr(yl(n),0,t.length),e=hi(e),t.slice(n,n+e.length)==e}function fu(t,e,r){var i=n.templateSettings;r&&Aa(t,e,r)&&(e=rt),t=Ml(t),e=Sd({},e,i,oa);var a,o,s=Sd({},e.imports,i.imports,oa),l=Nl(s),u=I(s,l),c=0,h=e.interpolate||Xe,d="__p += '",f=ic((e.escape||Xe).source+"|"+h.source+"|"+(h===ke?Ue:Xe).source+"|"+(e.evaluate||Xe).source+"|$","g"),p="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++xn+"]")+"\n";t.replace(f,function(e,n,r,i,s,l){return r||(r=i),d+=t.slice(c,l).replace(Ze,F),n&&(a=!0,d+="' +\n__e("+n+") +\n'"),s&&(o=!0,d+="';\n"+s+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+e.length,e}),d+="';\n";var m=e.variable;m||(d="with (obj) {\n"+d+"\n}\n"),d=(o?d.replace(ve,""):d).replace(ye,"$1").replace(be,"$1;"),d="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=Yd(function(){return ec(l,p+"return "+d).apply(rt,u)});if(g.source=d,Zs(g))throw g;return g}function pu(t){return Ml(t).toLowerCase()}function mu(t){return Ml(t).toUpperCase()}function gu(t,e,n){if((t=Ml(t))&&(n||e===rt))return t.replace(Re,"");if(!t||!(e=hi(e)))return t;var r=$(t),i=$(e);return wi(r,N(r,i),z(r,i)+1).join("")}function vu(t,e,n){if((t=Ml(t))&&(n||e===rt))return t.replace(Ie,"");if(!t||!(e=hi(e)))return t;var r=$(t);return wi(r,0,z(r,$(e))+1).join("")}function yu(t,e,n){if((t=Ml(t))&&(n||e===rt))return t.replace(Le,"");if(!t||!(e=hi(e)))return t;var r=$(t);return wi(r,N(r,$(e))).join("")}function bu(t,e){var n=Et,r=kt;if(tl(e)){var i="separator"in e?e.separator:i;n="length"in e?yl(e.length):n,r="omission"in e?hi(e.omission):r}t=Ml(t);var a=t.length;if(j(t)){var o=$(t);a=o.length}if(n>=a)return t;var s=n-Q(r);if(s<1)return r;var l=o?wi(o,0,s).join(""):t.slice(0,s);if(i===rt)return l+r;if(o&&(s+=l.length-s),vd(i)){if(t.slice(s).search(i)){var u,c=l;for(i.global||(i=ic(i.source,Ml(je.exec(i))+"g")),i.lastIndex=0;u=i.exec(c);)var h=u.index;l=l.slice(0,h===rt?s:h)}}else if(t.indexOf(hi(i),s)!=s){var d=l.lastIndexOf(i);d>-1&&(l=l.slice(0,d))}return l+r}function xu(t){return t=Ml(t),t&&we.test(t)?t.replace(xe,Yn):t}function _u(t,e,n){return t=Ml(t),e=n?rt:e,e===rt?W(t)?nt(t):b(t):t.match(e)||[]}function wu(t){var e=null==t?0:t.length,n=va();return t=e?f(t,function(t){if("function"!=typeof t[1])throw new oc(ot);return[n(t[0]),t[1]]}):[],ti(function(n){for(var r=-1;++r<e;){var i=t[r];if(a(i[0],this,n))return a(i[1],this,n)}})}function Mu(t){return nr(er(t,ct))}function Su(t){return function(){return t}}function Eu(t,e){return null==t||t!==t?e:t}function ku(t){return t}function Tu(t){return Dr("function"==typeof t?t:er(t,ct))}function Cu(t){return Ur(er(t,ct))}function Pu(t,e){return jr(t,er(e,ct))}function Ou(t,e,n){var r=Nl(e),i=fr(e,r);null!=n||tl(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=fr(e,Nl(e)));var a=!(tl(n)&&"chain"in n&&!n.chain),o=Js(t);return s(i,function(n){var r=e[n];t[n]=r,o&&(t.prototype[n]=function(){var e=this.__chain__;if(a||e){var n=t(this.__wrapped__);return(n.__actions__=Li(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,p([this.value()],arguments))})}),t}function Au(){return An._===this&&(An._=vc),this}function Ru(){}function Lu(t){return t=yl(t),ti(function(e){return Vr(e,t)})}function Iu(t){return Ra(t)?k(Xa(t)):Xr(t)}function Du(t){return function(e){return null==t?rt:pr(t,e)}}function Nu(){return[]}function zu(){return!1}function Bu(){return{}}function Fu(){return""}function Uu(){return!0}function ju(t,e){if((t=yl(t))<1||t>Rt)return[];var n=Dt,r=Wc(t,Dt);e=va(e),t-=Dt;for(var i=A(r,e);++n<t;)e(n);return i}function Wu(t){return dd(t)?f(t,Xa):dl(t)?[t]:Li(Th(Ml(t)))}function Gu(t){var e=++fc;return Ml(t)+e}function Vu(t){return t&&t.length?sr(t,ku,vr):rt}function Hu(t,e){return t&&t.length?sr(t,va(e,2),vr):rt}function Yu(t){return E(t,ku)}function qu(t,e){return E(t,va(e,2))}function Xu(t){return t&&t.length?sr(t,ku,Br):rt}function Zu(t,e){return t&&t.length?sr(t,va(e,2),Br):rt}function Ku(t){return t&&t.length?O(t,ku):0}function Ju(t,e){return t&&t.length?O(t,va(e,2)):0}e=null==e?An:qn.defaults(An.Object(),e,qn.pick(An,bn));var Qu=e.Array,$u=e.Date,tc=e.Error,ec=e.Function,nc=e.Math,rc=e.Object,ic=e.RegExp,ac=e.String,oc=e.TypeError,sc=Qu.prototype,lc=ec.prototype,uc=rc.prototype,cc=e["__core-js_shared__"],hc=lc.toString,dc=uc.hasOwnProperty,fc=0,pc=function(){var t=/[^.]+$/.exec(cc&&cc.keys&&cc.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),mc=uc.toString,gc=hc.call(rc),vc=An._,yc=ic("^"+hc.call(dc).replace(Oe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),bc=In?e.Buffer:rt,xc=e.Symbol,_c=e.Uint8Array,wc=bc?bc.allocUnsafe:rt,Mc=H(rc.getPrototypeOf,rc),Sc=rc.create,Ec=uc.propertyIsEnumerable,kc=sc.splice,Tc=xc?xc.isConcatSpreadable:rt,Cc=xc?xc.iterator:rt,Pc=xc?xc.toStringTag:rt,Oc=function(){try{var t=xa(rc,"defineProperty");return t({},"",{}),t}catch(t){}}(),Ac=e.clearTimeout!==An.clearTimeout&&e.clearTimeout,Rc=$u&&$u.now!==An.Date.now&&$u.now,Lc=e.setTimeout!==An.setTimeout&&e.setTimeout,Ic=nc.ceil,Dc=nc.floor,Nc=rc.getOwnPropertySymbols,zc=bc?bc.isBuffer:rt,Bc=e.isFinite,Fc=sc.join,Uc=H(rc.keys,rc),jc=nc.max,Wc=nc.min,Gc=$u.now,Vc=e.parseInt,Hc=nc.random,Yc=sc.reverse,qc=xa(e,"DataView"),Xc=xa(e,"Map"),Zc=xa(e,"Promise"),Kc=xa(e,"Set"),Jc=xa(e,"WeakMap"),Qc=xa(rc,"create"),$c=Jc&&new Jc,th={},eh=Za(qc),nh=Za(Xc),rh=Za(Zc),ih=Za(Kc),ah=Za(Jc),oh=xc?xc.prototype:rt,sh=oh?oh.valueOf:rt,lh=oh?oh.toString:rt,uh=function(){function t(){}return function(e){if(!tl(e))return{};if(Sc)return Sc(e);t.prototype=e;var n=new t;return t.prototype=rt,n}}();n.templateSettings={escape:Se,evaluate:Ee,interpolate:ke,variable:"",imports:{_:n}},n.prototype=r.prototype,n.prototype.constructor=n,i.prototype=uh(r.prototype),i.prototype.constructor=i,y.prototype=uh(r.prototype),y.prototype.constructor=y,et.prototype.clear=Be,et.prototype.delete=Ke,et.prototype.get=Je,et.prototype.has=Qe,et.prototype.set=$e,tn.prototype.clear=en,tn.prototype.delete=nn,tn.prototype.get=rn,tn.prototype.has=an,tn.prototype.set=on,sn.prototype.clear=ln,sn.prototype.delete=un,sn.prototype.get=cn,sn.prototype.has=hn,sn.prototype.set=dn,mn.prototype.add=mn.prototype.push=gn,mn.prototype.has=vn,yn.prototype.clear=Mn,yn.prototype.delete=Sn,yn.prototype.get=En,yn.prototype.has=kn,yn.prototype.set=Pn;var ch=Fi(hr),hh=Fi(dr,!0),dh=Ui(),fh=Ui(!0),ph=$c?function(t,e){return $c.set(t,e),t}:ku,mh=Oc?function(t,e){return Oc(t,"toString",{configurable:!0,enumerable:!1,value:Su(e),writable:!0})}:ku,gh=ti,vh=Ac||function(t){return An.clearTimeout(t)},yh=Kc&&1/X(new Kc([,-0]))[1]==At?function(t){return new Kc(t)}:Ru,bh=$c?function(t){return $c.get(t)}:Ru,xh=Nc?function(t){return null==t?[]:(t=rc(t),c(Nc(t),function(e){return Ec.call(t,e)}))}:Nu,_h=Nc?function(t){for(var e=[];t;)p(e,xh(t)),t=Mc(t);return e}:Nu,wh=gr;(qc&&wh(new qc(new ArrayBuffer(1)))!=se||Xc&&wh(new Xc)!=Xt||Zc&&"[object Promise]"!=wh(Zc.resolve())||Kc&&wh(new Kc)!=te||Jc&&wh(new Jc)!=ie)&&(wh=function(t){var e=gr(t),n=e==Jt?t.constructor:rt,r=n?Za(n):"";if(r)switch(r){case eh:return se;case nh:return Xt;case rh:return"[object Promise]";case ih:return te;case ah:return ie}return e});var Mh=cc?Js:zu,Sh=Ya(ph),Eh=Lc||function(t,e){return An.setTimeout(t,e)},kh=Ya(mh),Th=function(t){var e=Ts(t,function(t){return n.size===lt&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Pe,function(t,n,r,i){e.push(r?i.replace(Fe,"$1"):n||t)}),e}),Ch=ti(function(t,e){return Gs(t)?ar(t,cr(e,1,Gs,!0)):[]}),Ph=ti(function(t,e){var n=vo(e);return Gs(n)&&(n=rt),Gs(t)?ar(t,cr(e,1,Gs,!0),va(n,2)):[]}),Oh=ti(function(t,e){var n=vo(e);return Gs(n)&&(n=rt),Gs(t)?ar(t,cr(e,1,Gs,!0),rt,n):[]}),Ah=ti(function(t){var e=f(t,bi);return e.length&&e[0]===t[0]?_r(e):[]}),Rh=ti(function(t){var e=vo(t),n=f(t,bi);return e===vo(n)?e=rt:n.pop(),n.length&&n[0]===t[0]?_r(n,va(e,2)):[]}),Lh=ti(function(t){var e=vo(t),n=f(t,bi);return e="function"==typeof e?e:rt,e&&n.pop(),n.length&&n[0]===t[0]?_r(n,rt,e):[]}),Ih=ti(xo),Dh=da(function(t,e){var n=null==t?0:t.length,r=$n(t,e);return Kr(t,f(e,function(t){return Oa(t,n)?+t:t}).sort(Pi)),r}),Nh=ti(function(t){return di(cr(t,1,Gs,!0))}),zh=ti(function(t){var e=vo(t);return Gs(e)&&(e=rt),di(cr(t,1,Gs,!0),va(e,2))}),Bh=ti(function(t){var e=vo(t);return e="function"==typeof e?e:rt,di(cr(t,1,Gs,!0),rt,e)}),Fh=ti(function(t,e){return Gs(t)?ar(t,e):[]}),Uh=ti(function(t){return vi(c(t,Gs))}),jh=ti(function(t){var e=vo(t);return Gs(e)&&(e=rt),vi(c(t,Gs),va(e,2))}),Wh=ti(function(t){var e=vo(t);return e="function"==typeof e?e:rt,vi(c(t,Gs),rt,e)}),Gh=ti(Wo),Vh=ti(function(t){var e=t.length,n=e>1?t[e-1]:rt;return n="function"==typeof n?(t.pop(),n):rt,Go(t,n)}),Hh=da(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,a=function(e){return $n(e,t)};return!(e>1||this.__actions__.length)&&r instanceof y&&Oa(n)?(r=r.slice(n,+n+(e?1:0)),r.__actions__.push({func:Xo,args:[a],thisArg:rt}),new i(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(rt),t})):this.thru(a)}),Yh=zi(function(t,e,n){dc.call(t,n)?++t[n]:Qn(t,n,1)}),qh=Yi(oo),Xh=Yi(so),Zh=zi(function(t,e,n){dc.call(t,n)?t[n].push(e):Qn(t,n,[e])}),Kh=ti(function(t,e,n){var r=-1,i="function"==typeof e,o=Ws(t)?Qu(t.length):[];return ch(t,function(t){o[++r]=i?a(e,t,n):Mr(t,e,n)}),o}),Jh=zi(function(t,e,n){Qn(t,n,e)}),Qh=zi(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),$h=ti(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Aa(t,e[0],e[1])?e=[]:n>2&&Aa(e[0],e[1],e[2])&&(e=[e[0]]),Hr(t,cr(e,1),[])}),td=Rc||function(){return An.Date.now()},ed=ti(function(t,e,n){var r=mt;if(n.length){var i=Y(n,ga(ed));r|=xt}return aa(t,r,e,n,i)}),nd=ti(function(t,e,n){var r=mt|gt;if(n.length){var i=Y(n,ga(nd));r|=xt}return aa(e,r,t,n,i)}),rd=ti(function(t,e){return ir(t,1,e)}),id=ti(function(t,e,n){return ir(t,xl(e)||0,n)});Ts.Cache=sn;var ad=gh(function(t,e){e=1==e.length&&dd(e[0])?f(e[0],L(va())):f(cr(e,1),L(va()));var n=e.length;return ti(function(r){for(var i=-1,o=Wc(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return a(t,this,r)})}),od=ti(function(t,e){var n=Y(e,ga(od));return aa(t,xt,rt,e,n)}),sd=ti(function(t,e){var n=Y(e,ga(sd));return aa(t,_t,rt,e,n)}),ld=da(function(t,e){return aa(t,Mt,rt,rt,rt,e)}),ud=ea(vr),cd=ea(function(t,e){return t>=e}),hd=Sr(function(){return arguments}())?Sr:function(t){return el(t)&&dc.call(t,"callee")&&!Ec.call(t,"callee")},dd=Qu.isArray,fd=zn?L(zn):Er,pd=zc||zu,md=Bn?L(Bn):kr,gd=Fn?L(Fn):Pr,vd=Un?L(Un):Rr,yd=jn?L(jn):Lr,bd=Wn?L(Wn):Ir,xd=ea(Br),_d=ea(function(t,e){return t<=e}),wd=Bi(function(t,e){if(Na(e)||Ws(e))return void Ii(e,Nl(e),t);for(var n in e)dc.call(e,n)&&Gn(t,n,e[n])}),Md=Bi(function(t,e){Ii(e,zl(e),t)}),Sd=Bi(function(t,e,n,r){Ii(e,zl(e),t,r)}),Ed=Bi(function(t,e,n,r){Ii(e,Nl(e),t,r)}),kd=da($n),Td=ti(function(t,e){t=rc(t);var n=-1,r=e.length,i=r>2?e[2]:rt;for(i&&Aa(e[0],e[1],i)&&(r=1);++n<r;)for(var a=e[n],o=zl(a),s=-1,l=o.length;++s<l;){var u=o[s],c=t[u];(c===rt||js(c,uc[u])&&!dc.call(t,u))&&(t[u]=a[u])}return t}),Cd=ti(function(t){return t.push(rt,sa),a(Ld,rt,t)}),Pd=Zi(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=mc.call(e)),t[e]=n},Su(ku)),Od=Zi(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=mc.call(e)),dc.call(t,e)?t[e].push(n):t[e]=[n]},va),Ad=ti(Mr),Rd=Bi(function(t,e,n){Wr(t,e,n)}),Ld=Bi(function(t,e,n,r){Wr(t,e,n,r)}),Id=da(function(t,e){var n={};if(null==t)return n;var r=!1;e=f(e,function(e){return e=_i(e,t),r||(r=e.length>1),e}),Ii(t,pa(t),n),r&&(n=er(n,ct|ht|dt,la));for(var i=e.length;i--;)fi(n,e[i]);return n}),Dd=da(function(t,e){return null==t?{}:Yr(t,e)}),Nd=ia(Nl),zd=ia(zl),Bd=Gi(function(t,e,n){return e=e.toLowerCase(),t+(n?tu(e):e)}),Fd=Gi(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Ud=Gi(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),jd=Wi("toLowerCase"),Wd=Gi(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Gd=Gi(function(t,e,n){return t+(n?" ":"")+Hd(e)}),Vd=Gi(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Hd=Wi("toUpperCase"),Yd=ti(function(t,e){try{return a(t,rt,e)}catch(t){return Zs(t)?t:new tc(t)}}),qd=da(function(t,e){return s(e,function(e){e=Xa(e),Qn(t,e,ed(t[e],t))}),t}),Xd=qi(),Zd=qi(!0),Kd=ti(function(t,e){return function(n){return Mr(n,t,e)}}),Jd=ti(function(t,e){return function(n){return Mr(t,n,e)}}),Qd=Ji(f),$d=Ji(u),tf=Ji(v),ef=ta(),nf=ta(!0),rf=Ki(function(t,e){return t+e},0),af=ra("ceil"),of=Ki(function(t,e){return t/e},1),sf=ra("floor"),lf=Ki(function(t,e){return t*e},1),uf=ra("round"),cf=Ki(function(t,e){return t-e},0);return n.after=xs,n.ary=_s,n.assign=wd,n.assignIn=Md,n.assignInWith=Sd,n.assignWith=Ed,n.at=kd,n.before=ws,n.bind=ed,n.bindAll=qd,n.bindKey=nd,n.castArray=Ds,n.chain=Yo,n.chunk=Qa,n.compact=$a,n.concat=to,n.cond=wu,n.conforms=Mu,n.constant=Su,n.countBy=Yh,n.create=Sl,n.curry=Ms,n.curryRight=Ss,n.debounce=Es,n.defaults=Td,n.defaultsDeep=Cd,n.defer=rd,n.delay=id,n.difference=Ch,n.differenceBy=Ph,n.differenceWith=Oh,n.drop=eo,n.dropRight=no,n.dropRightWhile=ro,n.dropWhile=io,n.fill=ao,n.filter=rs,n.flatMap=is,n.flatMapDeep=as,n.flatMapDepth=os,n.flatten=lo,n.flattenDeep=uo,n.flattenDepth=co,n.flip=ks,n.flow=Xd,n.flowRight=Zd,n.fromPairs=ho,n.functions=Al,n.functionsIn=Rl,n.groupBy=Zh,n.initial=mo,n.intersection=Ah,n.intersectionBy=Rh,n.intersectionWith=Lh,n.invert=Pd,n.invertBy=Od,n.invokeMap=Kh,n.iteratee=Tu,n.keyBy=Jh,n.keys=Nl,n.keysIn=zl,n.map=cs,n.mapKeys=Bl,n.mapValues=Fl,n.matches=Cu,n.matchesProperty=Pu,n.memoize=Ts,n.merge=Rd,n.mergeWith=Ld,n.method=Kd,n.methodOf=Jd,n.mixin=Ou,n.negate=Cs,n.nthArg=Lu,n.omit=Id,n.omitBy=Ul,n.once=Ps,n.orderBy=hs,n.over=Qd,n.overArgs=ad,n.overEvery=$d,n.overSome=tf,n.partial=od,n.partialRight=sd,n.partition=Qh,n.pick=Dd,n.pickBy=jl,n.property=Iu,n.propertyOf=Du,n.pull=Ih,n.pullAll=xo,n.pullAllBy=_o,n.pullAllWith=wo,n.pullAt=Dh,n.range=ef,n.rangeRight=nf,n.rearg=ld,n.reject=ps,n.remove=Mo,n.rest=Os,n.reverse=So,n.sampleSize=gs,n.set=Gl,n.setWith=Vl,n.shuffle=vs,n.slice=Eo,n.sortBy=$h,n.sortedUniq=Ro,n.sortedUniqBy=Lo,n.split=hu,n.spread=As,n.tail=Io,n.take=Do,n.takeRight=No,n.takeRightWhile=zo,n.takeWhile=Bo,n.tap=qo,n.throttle=Rs,n.thru=Xo,n.toArray=gl,n.toPairs=Nd,n.toPairsIn=zd,n.toPath=Wu,n.toPlainObject=_l,n.transform=Hl,n.unary=Ls,n.union=Nh,n.unionBy=zh,n.unionWith=Bh,n.uniq=Fo,n.uniqBy=Uo,n.uniqWith=jo,n.unset=Yl,n.unzip=Wo,n.unzipWith=Go,n.update=ql,n.updateWith=Xl,n.values=Zl,n.valuesIn=Kl,n.without=Fh,n.words=_u,n.wrap=Is,n.xor=Uh,n.xorBy=jh,n.xorWith=Wh,n.zip=Gh,n.zipObject=Vo,n.zipObjectDeep=Ho,n.zipWith=Vh,n.entries=Nd,n.entriesIn=zd,n.extend=Md,n.extendWith=Sd,Ou(n,n),n.add=rf,n.attempt=Yd,n.camelCase=Bd,n.capitalize=tu,n.ceil=af,n.clamp=Jl,n.clone=Ns,n.cloneDeep=Bs,n.cloneDeepWith=Fs,n.cloneWith=zs,n.conformsTo=Us,n.deburr=eu,n.defaultTo=Eu,n.divide=of,n.endsWith=nu,n.eq=js,n.escape=ru,n.escapeRegExp=iu,n.every=ns,n.find=qh,n.findIndex=oo,n.findKey=El,n.findLast=Xh,n.findLastIndex=so,n.findLastKey=kl,n.floor=sf,n.forEach=ss,n.forEachRight=ls,n.forIn=Tl,n.forInRight=Cl,n.forOwn=Pl,n.forOwnRight=Ol,n.get=Ll,n.gt=ud,n.gte=cd,n.has=Il,n.hasIn=Dl,n.head=fo,n.identity=ku,n.includes=us,n.indexOf=po,n.inRange=Ql,n.invoke=Ad,n.isArguments=hd,n.isArray=dd,n.isArrayBuffer=fd,n.isArrayLike=Ws,n.isArrayLikeObject=Gs,n.isBoolean=Vs,n.isBuffer=pd,n.isDate=md,n.isElement=Hs,n.isEmpty=Ys,n.isEqual=qs,n.isEqualWith=Xs,n.isError=Zs,n.isFinite=Ks,n.isFunction=Js,n.isInteger=Qs,n.isLength=$s,n.isMap=gd,n.isMatch=nl,n.isMatchWith=rl,n.isNaN=il,n.isNative=al,n.isNil=sl,n.isNull=ol,n.isNumber=ll,n.isObject=tl,n.isObjectLike=el,n.isPlainObject=ul,n.isRegExp=vd,n.isSafeInteger=cl,n.isSet=yd,n.isString=hl,n.isSymbol=dl,n.isTypedArray=bd,n.isUndefined=fl,n.isWeakMap=pl,n.isWeakSet=ml,n.join=go,n.kebabCase=Fd,n.last=vo,n.lastIndexOf=yo,n.lowerCase=Ud,n.lowerFirst=jd,n.lt=xd,n.lte=_d,n.max=Vu,n.maxBy=Hu,n.mean=Yu,n.meanBy=qu,n.min=Xu,n.minBy=Zu,n.stubArray=Nu,n.stubFalse=zu,n.stubObject=Bu,n.stubString=Fu,n.stubTrue=Uu,n.multiply=lf,n.nth=bo,n.noConflict=Au,n.noop=Ru,n.now=td,n.pad=au,n.padEnd=ou,n.padStart=su,n.parseInt=lu,n.random=$l,n.reduce=ds,n.reduceRight=fs,n.repeat=uu,n.replace=cu,n.result=Wl,n.round=uf,n.runInContext=t,n.sample=ms,n.size=ys,n.snakeCase=Wd,n.some=bs,n.sortedIndex=ko,n.sortedIndexBy=To,n.sortedIndexOf=Co,n.sortedLastIndex=Po,n.sortedLastIndexBy=Oo,n.sortedLastIndexOf=Ao,n.startCase=Gd,n.startsWith=du,n.subtract=cf,n.sum=Ku,n.sumBy=Ju,n.template=fu,n.times=ju,n.toFinite=vl,n.toInteger=yl,n.toLength=bl,n.toLower=pu,n.toNumber=xl,n.toSafeInteger=wl,n.toString=Ml,n.toUpper=mu,n.trim=gu,n.trimEnd=vu,n.trimStart=yu,n.truncate=bu,n.unescape=xu,n.uniqueId=Gu,n.upperCase=Vd,n.upperFirst=Hd,n.each=ss,n.eachRight=ls,n.first=fo,Ou(n,function(){var t={};return hr(n,function(e,r){dc.call(n.prototype,r)||(t[r]=e)}),t}(),{chain:!1}),n.VERSION="4.17.5",s(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){n[t].placeholder=n}),s(["drop","take"],function(t,e){y.prototype[t]=function(n){n=n===rt?1:jc(yl(n),0);var r=this.__filtered__&&!e?new y(this):this.clone();return r.__filtered__?r.__takeCount__=Wc(n,r.__takeCount__):r.__views__.push({size:Wc(n,Dt),type:t+(r.__dir__<0?"Right":"")}),r},y.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),s(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==Pt||3==n;y.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:va(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),s(["head","last"],function(t,e){var n="take"+(e?"Right":"");y.prototype[t]=function(){return this[n](1).value()[0]}}),s(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");y.prototype[t]=function(){return this.__filtered__?new y(this):this[n](1)}}),y.prototype.compact=function(){return this.filter(ku)},y.prototype.find=function(t){return this.filter(t).head()},y.prototype.findLast=function(t){return this.reverse().find(t)},y.prototype.invokeMap=ti(function(t,e){return"function"==typeof t?new y(this):this.map(function(n){return Mr(n,t,e)})}),y.prototype.reject=function(t){return this.filter(Cs(va(t)))},y.prototype.slice=function(t,e){t=yl(t);var n=this;return n.__filtered__&&(t>0||e<0)?new y(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==rt&&(e=yl(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},y.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},y.prototype.toArray=function(){return this.take(Dt)},hr(y.prototype,function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),a=/^(?:head|last)$/.test(e),o=n[a?"take"+("last"==e?"Right":""):e],s=a||/^find/.test(e);o&&(n.prototype[e]=function(){var e=this.__wrapped__,l=a?[1]:arguments,u=e instanceof y,c=l[0],h=u||dd(e),d=function(t){var e=o.apply(n,p([t],l));return a&&f?e[0]:e};h&&r&&"function"==typeof c&&1!=c.length&&(u=h=!1);var f=this.__chain__,m=!!this.__actions__.length,g=s&&!f,v=u&&!m;if(!s&&h){e=v?e:new y(this);var b=t.apply(e,l);return b.__actions__.push({func:Xo,args:[d],thisArg:rt}),new i(b,f)}return g&&v?t.apply(this,l):(b=this.thru(d),g?a?b.value()[0]:b.value():b)})}),s(["pop","push","shift","sort","splice","unshift"],function(t){var e=sc[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);n.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var n=this.value();return e.apply(dd(n)?n:[],t)}return this[r](function(n){return e.apply(dd(n)?n:[],t)})}}),hr(y.prototype,function(t,e){var r=n[e];if(r){var i=r.name+"";(th[i]||(th[i]=[])).push({name:e,func:r})}}),th[Xi(rt,gt).name]=[{name:"wrapper",func:rt}],y.prototype.clone=T,y.prototype.reverse=K,y.prototype.value=tt,n.prototype.at=Hh,n.prototype.chain=Zo,n.prototype.commit=Ko,n.prototype.next=Jo,n.prototype.plant=$o,n.prototype.reverse=ts,n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=es,n.prototype.first=n.prototype.head,Cc&&(n.prototype[Cc]=Qo),n}();An._=qn,(i=function(){return qn}.call(e,n,e,r))!==rt&&(r.exports=i)}).call(this)}).call(e,n(61),n(112)(t))},function(t,e){t.exports={}},function(t,e,n){var r=n(134),i=n(83);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(81);t.exports=function(t){return Object(r(t))}},function(t,e,n){"use strict";var r=n(340)(!0);n(85)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";e.a=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}},function(t,e,n){"use strict";e.a=function(t,e,n){var r=t*e;return n/Math.sqrt(1-r*r)}},function(t,e,n){"use strict";function r(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}r(),t.exports=n(471)},function(t,e,n){"use strict";function r(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(t.constructor===Array&&t.length>0)for(;e<t.length;e++)t[e].visible=!1}function a(t){var e=Math.floor(t%1e3),n=Math.floor(t/c%60),r=Math.floor(t/h);return r=r<10?"0"+r:r,n=n<10?"0"+n:n,e<10?e="00"+e:e<100&&(e="0"+e),r+":"+n+"."+e}function o(t){var e=new Date(t),n=e.getHours(),r=e.getMinutes(),i=e.getSeconds();return n=n<10?"0"+n:n,r=r<10?"0"+r:r,i=i<10?"0"+i:i,n+":"+r+":"+i}function s(t,e){if(!t||!e)return[];for(var n=t.positionX,r=t.positionY,i=t.heading,a=e.c0Position,o=e.c1HeadingAngle,s=e.c2Curvature,l=e.c3CurvatureDerivative,c=e.viewRange,h=[l,s,o,a],d=[],f=0;f<c;++f){var p=(0,u.default)(h,f),m=f*Math.cos(i)-p*Math.sin(i),g=p*Math.cos(i)+f*Math.sin(i);d.push({x:n+m,y:r+g})}return d}Object.defineProperty(e,"__esModule",{value:!0}),e.copyProperty=r,e.hideArrayObjects=i,e.millisecondsToTime=a,e.timestampMsToTime=o,e.calculateLaneMarkerPoints=s;var l=n(301),u=function(t){return t&&t.__esModule?t:{default:t}}(l),c=1e3,h=6e4},function(t,e,n){t.exports={default:n(305),__esModule:!0}},function(t,e,n){"use strict";var r=n(6);t.exports={generators:{linear:function(t,e){var n,i=[];if(t.stepSize&&t.stepSize>0)n=t.stepSize;else{var a=r.niceNum(e.max-e.min,!1);n=r.niceNum(a/(t.maxTicks-1),!0)}var o=Math.floor(e.min/n)*n,s=Math.ceil(e.max/n)*n;t.min&&t.max&&t.stepSize&&r.almostWhole((t.max-t.min)/t.stepSize,n/1e3)&&(o=t.min,s=t.max);var l=(s-o)/n;l=r.almostEquals(l,Math.round(l),n/1e3)?Math.round(l):Math.ceil(l),i.push(void 0!==t.min?t.min:o);for(var u=1;u<l;++u)i.push(o+u*n);return i.push(void 0!==t.max?t.max:s),i},logarithmic:function(t,e){var n,i,a=[],o=r.valueOrDefault,s=o(t.min,Math.pow(10,Math.floor(r.log10(e.min)))),l=Math.floor(r.log10(e.max)),u=Math.ceil(e.max/Math.pow(10,l));0===s?(n=Math.floor(r.log10(e.minNotZero)),i=Math.floor(e.minNotZero/Math.pow(10,n)),a.push(s),s=i*Math.pow(10,n)):(n=Math.floor(r.log10(s)),i=Math.floor(s/Math.pow(10,n)));do{a.push(s),++i,10===i&&(i=1,++n),s=i*Math.pow(10,n)}while(n<l||n===l&&i<u);var c=o(t.max,s);return a.push(c),a}},formatters:{values:function(t){return r.isArray(t)?t:""+t},linear:function(t,e,n){var i=n.length>3?n[2]-n[1]:n[1]-n[0];Math.abs(i)>1&&t!==Math.floor(t)&&(i=t-Math.floor(t));var a=r.log10(Math.abs(i)),o="";if(0!==t){var s=-1*Math.floor(a);s=Math.max(Math.min(s,20),0),o=t.toFixed(s)}else o="0";return o},logarithmic:function(t,e,n){var i=t/Math.pow(10,Math.floor(r.log10(t)));return 0===t?"0":1===i||2===i||5===i||0===e||e===n.length-1?t.toExponential():""}}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(28),i=n(129),a=n(127),o=n(26),s=n(67),l=n(98),u={},c={},e=t.exports=function(t,e,n,h,d){var f,p,m,g,v=d?function(){return t}:l(t),y=r(n,h,e?2:1),b=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(a(v)){for(f=s(t.length);f>b;b++)if((g=e?y(o(p=t[b])[0],p[1]):y(t[b]))===u||g===c)return g}else for(m=v.call(t);!(p=m.next()).done;)if((g=i(m,y,p.value,e))===u||g===c)return g};e.BREAK=u,e.RETURN=c},function(t,e){e.f={}.propertyIsEnumerable},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(23).f,i=n(39),a=n(16)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,a)&&r(t,a,{configurable:!0,value:e})}},function(t,e,n){n(345);for(var r=n(18),i=n(34),a=n(41),o=n(16)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var u=s[l],c=r[u],h=c&&c.prototype;h&&!h[o]&&i(h,o,u),a[u]=a.Array}},function(t,e,n){"use strict";function r(t){return"string"==typeof t&&i.test(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=/-webkit-|-moz-|-ms-/;t.exports=e.default},function(t,e,n){"use strict";var r=n(7),i=n(60);e.a=function(t){return Math.abs(t)<r.a?t:t-n.i(i.a)(t)*Math.PI}},function(t,e,n){"use strict";e.a=function(t){return t<0?-1:1}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n,r){function i(t){if(r){var e=t.clone();r(e)}}p[e]?i(p[e]):new s.default(function(e,n){t?d.load(t,function(t){t.preload(),e(t)}):e(null)}).then(function(t){var r=new u.OBJLoader;t&&r.setMaterials(t),r.load(e,function(t){t.name=e,t.scale.set(n.x,n.y,n.z),p[e]=t,i(t)})}).catch(function(){console.error("Failed to load object.")})}function a(t,e,n){f.load(t,e,void 0,n)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(244),s=r(o);e.loadObject=i,e.loadTexture=a;var l=n(12),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(l),c=n(554),h=(r(c),n(553)),d=(r(h),new u.MTLLoader),f=new u.TextureLoader;u.TextureLoader.prototype.crossOrigin="";var p={}},function(t,e,n){"use strict";var r={noop:function(){},uid:function(){var t=0;return function(){return t++}}(),isNullOrUndef:function(t){return null===t||void 0===t},isArray:Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},isObject:function(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)},valueOrDefault:function(t,e){return void 0===t?e:t},valueAtIndexOrDefault:function(t,e,n){return r.valueOrDefault(r.isArray(t)?t[e]:t,n)},callback:function(t,e,n){if(t&&"function"==typeof t.call)return t.apply(n,e)},each:function(t,e,n,i){var a,o,s;if(r.isArray(t))if(o=t.length,i)for(a=o-1;a>=0;a--)e.call(n,t[a],a);else for(a=0;a<o;a++)e.call(n,t[a],a);else if(r.isObject(t))for(s=Object.keys(t),o=s.length,a=0;a<o;a++)e.call(n,t[s[a]],s[a])},arrayEquals:function(t,e){var n,i,a,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(a=t[n],o=e[n],a instanceof Array&&o instanceof Array){if(!r.arrayEquals(a,o))return!1}else if(a!==o)return!1;return!0},clone:function(t){if(r.isArray(t))return t.map(r.clone);if(r.isObject(t)){for(var e={},n=Object.keys(t),i=n.length,a=0;a<i;++a)e[n[a]]=r.clone(t[n[a]]);return e}return t},_merger:function(t,e,n,i){var a=e[t],o=n[t];r.isObject(a)&&r.isObject(o)?r.merge(a,o,i):e[t]=r.clone(o)},_mergerIf:function(t,e,n){var i=e[t],a=n[t];r.isObject(i)&&r.isObject(a)?r.mergeIf(i,a):e.hasOwnProperty(t)||(e[t]=r.clone(a))},merge:function(t,e,n){var i,a,o,s,l,u=r.isArray(e)?e:[e],c=u.length;if(!r.isObject(t))return t;for(n=n||{},i=n.merger||r._merger,a=0;a<c;++a)if(e=u[a],r.isObject(e))for(o=Object.keys(e),l=0,s=o.length;l<s;++l)i(o[l],t,e,n);return t},mergeIf:function(t,e){return r.merge(t,e,{merger:r._mergerIf})},extend:function(t){for(var e=function(e,n){t[n]=e},n=1,i=arguments.length;n<i;++n)r.each(arguments[n],e);return t},inherits:function(t){var e=this,n=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},i=function(){this.constructor=n};return i.prototype=e.prototype,n.prototype=new i,n.extend=r.inherits,t&&r.extend(n.prototype,t),n.__super__=e.prototype,n}};t.exports=r,r.callCallback=r.callback,r.indexOf=function(t,e,n){return Array.prototype.indexOf.call(t,e,n)},r.getValueOrDefault=r.valueOrDefault,r.getValueAtIndexOrDefault=r.valueAtIndexOrDefault},function(t,e,n){var r=n(52),i=n(16)("toStringTag"),a="Arguments"==r(function(){return arguments}()),o=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=o(e=Object(t),i))?n:a?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e){t.exports=!0},function(t,e,n){var r=n(26),i=n(334),a=n(83),o=n(92)("IE_PROTO"),s=function(){},l=function(){var t,e=n(82)("iframe"),r=a.length;for(e.style.display="none",n(125).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;r--;)delete l.prototype[a[r]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[o]=t):n=l(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(94),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){"use strict";function r(t){return function(){return t}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(t){return t},t.exports=i},function(t,e,n){"use strict";e.a=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))}},function(t,e,n){"use strict";e.a=function(t){return.375*t*(1+.25*t*(1+.46875*t))}},function(t,e,n){"use strict";e.a=function(t){return.05859375*t*t*(1+.75*t)}},function(t,e,n){"use strict";e.a=function(t){return t*t*t*(35/3072)}},function(t,e,n){"use strict";e.a=function(t,e,n,r,i){return t*i-e*Math.sin(2*i)+n*Math.sin(4*i)-r*Math.sin(6*i)}},function(t,e,n){"use strict";var r=n(7);e.a=function(t,e){for(var n,i,a=.5*t,o=r.a-2*Math.atan(e),s=0;s<=15;s++)if(n=t*Math.sin(o),i=r.a-2*Math.atan(e*Math.pow((1-n)/(1+n),a))-o,o+=i,Math.abs(i)<=1e-10)return o;return-9999}},function(t,e,n){"use strict";var r=n(7);e.a=function(t,e,n){var i=t*n,a=.5*t;return i=Math.pow((1-i)/(1+i),a),Math.tan(.5*(r.a-e))/i}},function(t,e,n){"use strict";function r(t){return t.type&&"Tab"===t.type.tabsRole}function i(t){return t.type&&"TabPanel"===t.type.tabsRole}function a(t){return t.type&&"TabList"===t.type.tabsRole}e.b=r,e.c=i,e.a=a},function(t,e,n){"use strict";t.exports=function(){return new Worker(n.p+"worker.bundle.js")}},function(t,e,n){t.exports={default:n(307),__esModule:!0}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(22),i=n(18).document,a=r(i)&&r(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(52);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){"use strict";var r=n(65),i=n(15),a=n(137),o=n(34),s=n(39),l=n(41),u=n(331),c=n(56),h=n(133),d=n(16)("iterator"),f=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,n,m,g,v,y){u(n,e,m);var b,x,_,w=function(t){if(!f&&t in k)return k[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},M=e+" Iterator",S="values"==g,E=!1,k=t.prototype,T=k[d]||k["@@iterator"]||g&&k[g],C=!f&&T||w(g),P=g?S?w("entries"):C:void 0,O="Array"==e?k.entries||T:T;if(O&&(_=h(O.call(new t)))!==Object.prototype&&_.next&&(c(_,M,!0),r||s(_,d)||o(_,d,p)),S&&T&&"values"!==T.name&&(E=!0,C=function(){return T.call(this)}),r&&!y||!f&&!E&&k[d]||o(k,d,C),l[e]=C,l[M]=p,g)if(b={values:S?C:w("values"),keys:v?C:w("keys"),entries:P},y)for(x in b)x in k||a(k,x,b[x]);else i(i.P+i.F*(f||E),e,b);return b}},function(t,e,n){var r=n(68)("meta"),i=n(22),a=n(39),o=n(23).f,s=0,l=Object.isExtensible||function(){return!0},u=!n(38)(function(){return l(Object.preventExtensions({}))}),c=function(t){o(t,r,{value:{i:"O"+ ++s,w:{}}})},h=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,r)){if(!l(t))return"F";if(!e)return"E";c(t)}return t[r].i},d=function(t,e){if(!a(t,r)){if(!l(t))return!0;if(!e)return!1;c(t)}return t[r].w},f=function(t){return u&&p.NEED&&l(t)&&!a(t,r)&&c(t),t},p=t.exports={KEY:r,NEED:!1,fastKey:h,getWeak:d,onFreeze:f}},function(t,e,n){"use strict";function r(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=i(e),this.reject=i(n)}var i=n(51);t.exports.f=function(t){return new r(t)}},function(t,e,n){var r=n(54),i=n(55),a=n(35),o=n(95),s=n(39),l=n(126),u=Object.getOwnPropertyDescriptor;e.f=n(27)?u:function(t,e){if(t=a(t),e=o(e,!0),l)try{return u(t,e)}catch(t){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(15),i=n(10),a=n(38);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],o={};o[t]=e(n),r(r.S+r.F*a(function(){n(1)}),"Object",o)}},function(t,e,n){var r=n(34);t.exports=function(t,e,n){for(var i in e)n&&t[i]?t[i]=e[i]:r(t,i,e[i]);return t}},function(t,e,n){var r=n(93)("keys"),i=n(68);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e,n){var r=n(18),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(22);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(18),i=n(10),a=n(65),o=n(97),s=n(23).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=a?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:o.f(t)})}},function(t,e,n){e.f=n(16)},function(t,e,n){var r=n(64),i=n(16)("iterator"),a=n(41);t.exports=n(10).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||a[r(t)]}},function(t,e){},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(382),a=r(i),o=n(385),s=r(o),l=n(384),u=r(l),c=n(386),h=r(c),d=n(387),f=r(d),p=n(388),m=r(p),g=n(389),v=r(g),y=n(390),b=r(y),x=n(391),_=r(x),w=n(392),M=r(w),S=n(393),E=r(S),k=n(395),T=r(k),C=n(383),P=r(C),O=[u.default,s.default,h.default,m.default,v.default,b.default,_.default,M.default,E.default,f.default],A=(0,a.default)({prefixMap:P.default.prefixMap,plugins:O},T.default);e.default=A,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t.charAt(0).toUpperCase()+t.slice(1)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r,t.exports=e.default},function(t,e,n){"use strict";function r(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
var i=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,s,l=r(t),u=1;u<arguments.length;u++){n=Object(arguments[u]);for(var c in n)a.call(n,c)&&(l[c]=n[c]);if(i){s=i(n);for(var h=0;h<s.length;h++)o.call(n,s[h])&&(l[s[h]]=n[s[h]])}}return l}},function(t,e,n){"use strict";function r(t,e){if(!(this instanceof r))return new r(t);e=e||function(t){if(t)throw t};var o=n.i(i.a)(t);if("object"!=typeof o)return void e(t);var h=r.projections.get(o.projName);if(!h)return void e(t);if(o.datumCode&&"none"!==o.datumCode){var d=n.i(c.a)(l.a,o.datumCode);d&&(o.datum_params=d.towgs84?d.towgs84.split(","):null,o.ellps=d.ellipse,o.datumName=d.datumName?d.datumName:o.datumCode)}o.k0=o.k0||1,o.axis=o.axis||"enu",o.ellps=o.ellps||"wgs84";var f=n.i(s.a)(o.a,o.b,o.rf,o.ellps,o.sphere),p=n.i(s.b)(f.a,f.b,f.rf,o.R_A),m=o.datum||n.i(u.a)(o.datumCode,o.datum_params,f.a,f.b,p.es,p.ep2);n.i(a.a)(this,o),n.i(a.a)(this,h),this.a=f.a,this.b=f.b,this.rf=f.rf,this.sphere=f.sphere,this.es=p.es,this.e=p.e,this.ep2=p.ep2,this.datum=m,this.init(),e(null,this)}var i=n(438),a=n(435),o=n(439),s=n(434),l=n(426),u=n(431),c=n(108);r.projections=o.a,r.projections.start(),e.a=r},function(t,e,n){"use strict";e.a=function(t,e,n){var r=e*n;return t/Math.sqrt(1-r*r)}},function(t,e,n){"use strict";e.a=function(t,e,n,r,i){var a,o;a=t/e;for(var s=0;s<15;s++)if(o=(t-(e*a-n*Math.sin(2*a)+r*Math.sin(4*a)-i*Math.sin(6*a)))/(e-2*n*Math.cos(2*a)+4*r*Math.cos(4*a)-6*i*Math.cos(6*a)),a+=o,Math.abs(o)<=1e-10)return a;return NaN}},function(t,e,n){"use strict";e.a=function(t,e,n,r){return n*=e,e*=e,r[0]*t-n*(r[1]+e*(r[2]+e*(r[3]+e*r[4])))}},function(t,e,n){"use strict";e.a=function(t,e){var n;return t>1e-7?(n=t*e,(1-t*t)*(e/(1-n*n)-.5/t*Math.log((1-n)/(1+n)))):2*e}},function(t,e,n){"use strict";function r(t,e){if(t[e])return t[e];for(var n,r=Object.keys(t),a=e.toLowerCase().replace(i,""),o=-1;++o<r.length;)if(n=r[o],n.toLowerCase().replace(i,"")===a)return t[n]}e.a=r;var i=/[\s_\-\/\(\)]/g},function(t,e,n){var r=n(480),i=n(19);t.exports=function(t,e,n){var i=t[e];if(i){var a=[];if(Object.keys(i).forEach(function(t){-1===r.indexOf(t)&&a.push(t)}),a.length)throw new Error("Prop "+e+" passed to "+n+". Has invalid keys "+a.join(", "))}},t.exports.isRequired=function(e,n,r){if(!e[n])throw new Error("Prop "+n+" passed to "+r+" is required");return t.exports(e,n,r)},t.exports.supportingArrays=i.oneOfType([i.arrayOf(t.exports),t.exports])},function(t,e,n){"use strict";function r(){return r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r.apply(this,arguments)}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t){return n.i(u.b)(t)||n.i(u.a)(t)||n.i(u.c)(t)}function o(t,e){return l.Children.map(t,function(t){return null===t?null:a(t)?e(t):t.props&&t.props.children&&"object"===i(t.props.children)?n.i(l.cloneElement)(t,r({},t.props,{children:o(t.props.children,e)})):t})}function s(t,e){return l.Children.forEach(t,function(t){null!==t&&(n.i(u.b)(t)||n.i(u.c)(t)?e(t):t.props&&t.props.children&&"object"===i(t.props.children)&&(n.i(u.a)(t)&&e(t),s(t.props.children,e)))})}e.a=o,e.b=s;var l=n(2),u=(n.n(l),n(77))},function(t,e,n){"use strict";function r(t){return"[object Array]"===Object.prototype.toString.call(t)}t.exports=Array.isArray||r},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(170),a=r(i),o=n(0),s=r(o),l=n(1),u=r(l),c=n(169),h=n(48),d=function(){function t(){(0,s.default)(this,t),this.mapAPILoaded=!1,this.WS=null,this.mapAdapter=null,this.routingPaths=[],this.plannedPath=null,this.vehicleMarker=null,this.rightLaneMarker=null,this.leftLaneMarker=null,this.destinationMarker=null,this.centerVehicle=!0,this.routingRequestPoints=[]}return(0,u.default)(t,[{key:"initialize",value:function(t,e){var n=this;this.WS=t,this.mapAdapter=e;var r={lng:-122.014487,lat:37.415885},i=this.mapAdapter.createPoint(r);this.mapAdapter.loadMap(i,"map_canvas"),this.vehicleMarker=this.mapAdapter.createMarker(i,null,!1),this.createControls(),this.mapAdapter.addEventHandler("click",function(t){n.destinationMarker?n.destinationMarker.setPosition(t):n.destinationMarker=n.mapAdapter.createMarker(t,"D")})}},{key:"isInitialized",value:function(){return this.WS&&this.mapAdapter&&this.mapAdapter.isInitialized()}},{key:"reset",value:function(){var t=this;this.routingPaths.forEach(function(e){t.mapAdapter.removePolyline(e)}),this.routingPaths=[],this.plannedPath&&(this.mapAdapter.removePolyline(this.plannedPath),this.plannedPath=null),this.rightLaneMarker&&(this.mapAdapter.removePolyline(this.rightLaneMarker),this.rightLaneMarker=null),this.leftLaneMarker&&(this.mapAdapter.removePolyline(this.leftLaneMarker),this.leftLaneMarker=null),this.WS=null,this.mapAdapter=null,this.vehicleMarker=null,this.destinationMarker=null,this.centerVehicle=!0}},{key:"createControls",value:function(){var t=this;this.mapAdapter.createControl({text:"CarView ON",tip:"Click to recenter the vehicle",color:"#FFFFFF",offsetX:130,offsetY:0,onClickHandler:function(e){t.centerVehicle?(t.centerVehicle=!1,e.innerHTML="CarView OFF",t.mapAdapter.setZoom(18)):(t.centerVehicle=!0,e.innerHTML="CarView ON",t.mapAdapter.setZoom(20))}}),this.mapAdapter.createControl({text:"Route",tip:"Click to send routing request",color:"#CD5C5C",offsetX:235,offsetY:0,onClickHandler:function(e){if(!t.destinationMarker)return void alert("please select a destination point.");var n=t.mapAdapter.getMarkerPosition(t.vehicleMarker),r=t.mapAdapter.getMarkerPosition(t.destinationMarker);t.requestRoute(n.lat,n.lng,r.lat,r.lng)}})}},{key:"disableControls",value:function(){this.mapAdapter.disableControls()}},{key:"enableControls",value:function(){this.mapAdapter.enableControls()}},{key:"update",value:function(t){if(this.isInitialized()){var e=t.autoDrivingCar;this.updateCenterVehicle(e),this.updateNavigationPath(t.navigationPath),this.updateLaneMarkers(e,t.laneMarker),this.updatePlanningPath(e,t.planningTrajectory)}}},{key:"updateCenterVehicle",value:function(t){if(t){var e=t.positionX,n=t.positionY,r=(t.heading,this.mapAdapter.applyCoordinateOffset((0,c.UTMToWGS84)(e,n))),i=(0,a.default)(r,2),o=i[0],s=i[1],l=this.mapAdapter.createPoint({lat:s,lng:o});this.centerVehicle&&this.mapAdapter.setCenter(l),this.vehicleMarker.setPosition(l)}}},{key:"calculateLaneMarkerPath",value:function(t,e){var n=this;return(0,h.calculateLaneMarkerPoints)(t,e).map(function(t){var e=n.mapAdapter.applyCoordinateOffset((0,c.UTMToWGS84)(t.x,t.y)),r=(0,a.default)(e,2),i=r[0],o=r[1];return n.mapAdapter.createPoint({lat:o,lng:i})})}},{key:"updateLaneMarkers",value:function(t,e){if(t&&e){var n=this.calculateLaneMarkerPath(t,e.rightLaneMarker);this.rightLaneMarker?this.mapAdapter.updatePolyline(this.rightLaneMarker,n):this.rightLaneMarker=this.mapAdapter.createPolyline(n,"#0000FF");var r=this.calculateLaneMarkerPath(t,e.leftLaneMarker);this.leftLaneMarker?this.mapAdapter.updatePolyline(this.leftLaneMarker,r):this.leftLaneMarker=this.mapAdapter.createPolyline(r,"#0000FF")}}},{key:"updatePlanningPath",value:function(t,e){var n=this;if(t&&e){var r=t.positionX,i=t.positionY,o=t.heading,s=e.map(function(t){var e=t.positionX,s=t.positionY,l=e*Math.cos(o)-s*Math.sin(o),u=s*Math.cos(o)+e*Math.sin(o),h=n.mapAdapter.applyCoordinateOffset((0,c.UTMToWGS84)(r+l,i+u)),d=(0,a.default)(h,2),f=d[0],p=d[1];return n.mapAdapter.createPoint({lat:p,lng:f})});this.plannedPath?this.mapAdapter.updatePolyline(this.plannedPath,s):this.plannedPath=this.mapAdapter.createPolyline(s,"#00FF00")}}},{key:"updateNavigationPath",value:function(t){var e=this;if(t){var n=t.map(function(t){return t.pathPoint.map(function(t){var n=e.mapAdapter.applyCoordinateOffset((0,c.UTMToWGS84)(t.x,t.y)),r=(0,a.default)(n,2),i=r[0],o=r[1];return e.mapAdapter.createPoint({lat:o,lng:i})})});if(this.routingPaths.length<n.length)for(;this.routingPaths.length<n.length;)this.routingPaths.push(this.mapAdapter.createPolyline(null,"#CD5C5C",.7,6));else if(this.routingPaths.length>n.length)for(;this.routingPaths.length>n.length;)this.mapAdapter.removePolyline(this.routingPaths[this.routingPaths.length-1]),this.routingPaths.pop();this.routingPaths.forEach(function(t,r){e.mapAdapter.updatePolyline(t,n[r])})}}},{key:"requestRoute",value:function(t,e,n,r){var i=this;if(t&&e&&n&&r){var a="http://navi-env.axty8vi3ic.us-west-2.elasticbeanstalk.com/dreamview/navigation?origin="+t+","+e+"&destination="+n+","+r+"&heading=0";fetch(encodeURI(a),{method:"GET",mode:"cors"}).then(function(t){return t.arrayBuffer()}).then(function(t){if(!t.byteLength)return void alert("No navigation info received.");i.WS.publishNavigationInfo(t)}).catch(function(t){console.error("Failed to retrieve navigation data:",t)})}}},{key:"sendRoutingRequest",value:function(){if(this.routingRequestPoints){var t=this.routingRequestPoints.length>1?this.routingRequestPoints[0]:this.mapAdapter.getMarkerPosition(this.vehicleMarker),e=this.routingRequestPoints[this.routingRequestPoints.length-1];return this.routingRequestPoints=[],this.requestRoute(t.lat,t.lng,e.lat,e.lng),!0}return alert("Please select a route"),!1}},{key:"addDefaultEndPoint",value:function(t){var e=this;t.forEach(function(t){var n=e.mapAdapter.applyCoordinateOffset((0,c.UTMToWGS84)(t.x,t.y)),r=(0,a.default)(n,2),i=r[0],o=r[1];e.routingRequestPoints.push({lat:o,lng:i})})}}]),t}(),f=new d;e.default=f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(32),a=r(i),o=n(3),s=r(o),l=n(0),u=r(l),c=n(1),h=r(c),d=n(5),f=r(d),p=n(4),m=r(p),g=n(2),v=r(g),y=n(47),b=(r(y),n(253)),x=r(b);x.default.plugins.register({afterDatasetsDraw:function(t,e){t.config.data.datasets.forEach(function(e,n){if(e.showText){var r=t.getDatasetMeta(n),i=r.data[Math.floor(r.data.length/2)];t.ctx.font=x.default.helpers.fontString(15,"normal","Helvetica Neue"),t.ctx.fillStyle=e.borderColor,t.ctx.textAlign="center",t.ctx.textBaseline="middle";var a=i.tooltipPosition();t.ctx.fillText(e.text,a.x,a.y-7.5-1)}else if("car"===e.specialMarker){t.ctx.save();var o=t.getDatasetMeta(n),s=t.data.datasets[n].data[0].rotation||0,l=t.scales["x-axis-0"],u=t.scales["y-axis-0"],c={x:l.width/(l.max-l.min),y:u.height/(u.max-u.min)},h=Math.cos(s)>0?1:-1,d=Math.tan(s)*h,f=h*c.x,p=d*c.y,m=Math.atan2(p,f),g=o.data[0],v=g.tooltipPosition();t.ctx.font=x.default.helpers.fontString(20,"normal","Helvetica Neue"),t.ctx.translate(v.x,v.y),t.ctx.rotate(-m),t.ctx.fillText("►",0,0),t.ctx.restore()}})}}),x.default.defaults.global.defaultFontColor="#FFFFFF";var _=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,(e.__proto__||(0,s.default)(e)).apply(this,arguments))}return(0,m.default)(e,t),(0,h.default)(e,[{key:"initializeCanvas",value:function(t,e){this.name2idx={};var n={title:{display:t&&t.length>0,text:t},legend:{display:e.legend.display},tooltips:{enable:!0,mode:"nearest",intersect:!1}};if(e.axes){n.scales||(n.scales={});for(var r in e.axes){var i=r+"Axes",a=e.axes[r],o={id:r+"-axis-0",scaleLabel:{display:!0,labelString:a.labelString},ticks:{min:a.min,max:a.max},gridLines:{color:"rgba(153, 153, 153, 0.5)",zeroLineColor:"rgba(153, 153, 153, 0.7)"}};n.scales[i]||(n.scales[i]=[]),n.scales[i].push(o)}}var s=this.canvasElement.getContext("2d");this.chart=new x.default(s,{type:"scatter",options:n})}},{key:"updateData",value:function(t,e,n,r){var i=e.substring(0,5);if(void 0===this.chart.data.datasets[t]){var a={label:i,showText:n.showLabel,text:e,backgroundColor:n.color,borderColor:n.color,data:r};for(var o in n)a[o]=n[o];this.chart.data.datasets.push(a)}else this.chart.data.datasets[t].text=e,this.chart.data.datasets[t].data=r}},{key:"updateChart",value:function(t){for(var e in t.properties.lines){void 0===this.name2idx[e]&&(this.name2idx[e]=this.chart.data.datasets.length);var n=this.name2idx[e],r=t.properties.lines[e],i=t.data?t.data[e]:[];this.updateData(n,e,r,i)}var o=(0,a.default)(this.name2idx).length;if(t.boxes)for(var s in t.boxes){var l=t.boxes[s];this.updateData(o,s,t.properties.box,l),o++}this.chart.data.datasets.splice(o,this.chart.data.datasets.length-o),this.chart.update(0)}},{key:"componentDidMount",value:function(){var t=this.props,e=t.title,n=t.options;this.initializeCanvas(e,n),this.updateChart(this.props)}},{key:"componentWillUnmount",value:function(){this.chart.destroy()}},{key:"componentWillReceiveProps",value:function(t){this.updateChart(t)}},{key:"render",value:function(){var t=this,e=this.props;e.data,e.properties,e.options,e.boxes;return v.default.createElement("div",{className:"scatter-graph"},v.default.createElement("canvas",{ref:function(e){t.canvasElement=e}}))}}]),e}(v.default.Component);e.default=_},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(3),a=r(i),o=n(0),s=r(o),l=n(1),u=r(l),c=n(5),h=r(c),d=n(4),f=r(d),p=n(2),m=r(p),g=n(14),v=r(g),y=function(t){function e(){return(0,s.default)(this,e),(0,h.default)(this,(e.__proto__||(0,a.default)(e)).apply(this,arguments))}return(0,f.default)(e,t),(0,u.default)(e,[{key:"render",value:function(){var t=this.props,e=t.id,n=t.title,r=t.isChecked,i=t.onClick,a=t.disabled,o=t.extraClasses;return m.default.createElement("ul",{className:(0,v.default)({disabled:a},o)},m.default.createElement("li",{id:e,onClick:function(){a||i()}},m.default.createElement("div",{className:"switch"},m.default.createElement("input",{type:"checkbox",className:"toggle-switch",name:e,checked:r,disabled:a,readOnly:!0}),m.default.createElement("label",{className:"toggle-switch-label",htmlFor:e})),m.default.createElement("span",null,n)))}}]),e}(m.default.Component);e.default=y},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(3),a=r(i),o=n(0),s=r(o),l=n(1),u=r(l),c=n(5),h=r(c),d=n(4),f=r(d),p=n(2),m=r(p),g=function(t){function e(){return(0,s.default)(this,e),(0,h.default)(this,(e.__proto__||(0,a.default)(e)).apply(this,arguments))}return(0,f.default)(e,t),(0,u.default)(e,[{key:"render",value:function(){var t=this.props,e=t.id,n=t.title,r=(t.options,t.onClick),i=t.checked,a=t.extraClasses;return m.default.createElement("ul",{className:a},m.default.createElement("li",{onClick:r},m.default.createElement("input",{type:"radio",name:e,checked:i,readOnly:!0}),m.default.createElement("label",{className:"radio-selector-label",htmlFor:n}),m.default.createElement("span",null,n)))}}]),e}(m.default.Component);e.default=g},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ObstacleColorMapping=e.DEFAULT_COLOR=void 0;var i=n(240),a=r(i),o=n(0),s=r(o),l=n(1),u=r(l),c=n(12),h=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(c),d=n(40),f=r(d),p=n(13),m=r(p),g=n(221),v=r(g),y=n(48),b=n(31),x=n(163),_=r(x),w=e.DEFAULT_COLOR=16711932,M=e.ObstacleColorMapping={PEDESTRIAN:16771584,BICYCLE:56555,VEHICLE:65340,VIRTUAL:8388608,CIPV:16750950},S=function(){function t(){(0,s.default)(this,t),this.textRender=new v.default,this.arrows=[],this.ids=[],this.solidCubes=[],this.dashedCubes=[],this.extrusionSolidFaces=[],this.extrusionDashedFaces=[],this.laneMarkers=[],this.icons=[]}return(0,u.default)(t,[{key:"update",value:function(t,e,n){this.updateObjects(t,e,n),this.updateLaneMarkers(t,e,n)}},{key:"updateObjects",value:function(t,e,n){f.default.isEmpty(this.ids)||(this.ids.forEach(function(t){t.children.forEach(function(t){return t.visible=!1}),n.remove(t)}),this.ids=[]),this.textRender.reset();var r=t.object;if(f.default.isEmpty(r))return(0,y.hideArrayObjects)(this.arrows),(0,y.hideArrayObjects)(this.solidCubes),(0,y.hideArrayObjects)(this.dashedCubes),(0,y.hideArrayObjects)(this.extrusionSolidFaces),(0,y.hideArrayObjects)(this.extrusionDashedFaces),void(0,y.hideArrayObjects)(this.icons);for(var i=e.applyOffset({x:t.autoDrivingCar.positionX,y:t.autoDrivingCar.positionY}),o=0,s=0,l=0,u=0,c=0;c<r.length;c++){var d=r[c];if(m.default.options["showObstacles"+f.default.upperFirst(f.default.camelCase(d.type))]&&f.default.isNumber(d.positionX)&&f.default.isNumber(d.positionY)){var p=e.applyOffset(new h.Vector3(d.positionX,d.positionY,(d.height||1.5)/2)),g=M[d.type]||w;if(m.default.options.showObstaclesVelocity&&d.type&&"UNKNOWN_UNMOVABLE"!==d.type&&d.speed>.5){var v=this.updateArrow(p,d.speedHeading,g,o++,n),b=1+(0,a.default)(d.speed);v.scale.set(b,b,b),v.visible=!0}if(m.default.options.showObstaclesHeading){var x=this.updateArrow(p,d.heading,16777215,o++,n);x.scale.set(1,1,1),x.visible=!0}this.updateTexts(i,d,p,n);var _=d.confidence;_=Math.max(0,_),_=Math.min(1,_);var S=d.polygonPoint;if(void 0!==S&&S.length>0?(this.updatePolygon(S,d.height,g,e,_,l,n),l+=S.length):d.length&&d.width&&d.height&&this.updateCube(d.length,d.width,d.height,p,d.heading,g,_,s++,n),d.yieldedObstacle){var E={x:p.x,y:p.y,z:p.z+d.height+.5};this.updateIcon(E,t.autoDrivingCar.heading,u,n),u++}}}(0,y.hideArrayObjects)(this.arrows,o),(0,y.hideArrayObjects)(this.solidCubes,s),(0,y.hideArrayObjects)(this.dashedCubes,s),(0,y.hideArrayObjects)(this.extrusionSolidFaces,l),(0,y.hideArrayObjects)(this.extrusionDashedFaces,l),(0,y.hideArrayObjects)(this.icons,u)}},{key:"updateArrow",value:function(t,e,n,r,i){var a=this.getArrow(r,i);return(0,y.copyProperty)(a.position,t),a.material.color.setHex(n),a.rotation.set(0,0,-(Math.PI/2-e)),a}},{key:"updateTexts",value:function(t,e,n,r){var i={x:n.x,y:n.y,z:e.height||3},a=0;if(m.default.options.showObstaclesInfo){var o=t.distanceTo(n).toFixed(1),s=e.speed.toFixed(1);this.drawTexts("("+o+"m, "+s+"m/s)",i,r),a++}m.default.options.showObstaclesId&&(i.z+=.7*a,i.y+=.7*a,this.drawTexts(e.id,i,r))}},{key:"updatePolygon",value:function(t,e,n,r,i,a,o){for(var s=0;s<t.length;s++){var l=this.getFace(a+s,o,!0),u=this.getFace(a+s,o,!1),c=s===t.length-1?0:s+1,d=new h.Vector3(t[s].x,t[s].y,t[s].z),f=new h.Vector3(t[c].x,t[c].y,t[c].z),p=r.applyOffset(new h.Vector2((d.x+f.x)/2,(d.y+f.y)/2));if(null!==p){l.position.set(p.x,p.y,0),u.position.set(p.x,p.y,e*i);var m=d.distanceTo(f);0!==m?(l.scale.set(m,1,e*i),u.scale.set(m,1,e*(1-i)),l.material.color.setHex(n),l.rotation.set(0,0,Math.atan2(f.y-d.y,f.x-d.x)),l.visible=0!==i,u.material.color.setHex(n),u.rotation.set(0,0,Math.atan2(f.y-d.y,f.x-d.x)),u.visible=1!==i):console.warn("Cannot display obstacle with an edge length 0!")}}}},{key:"updateCube",value:function(t,e,n,r,i,a,o,s,l){if(o>0){var u=this.getCube(s,l,!0);u.position.set(r.x,r.y,r.z+n*(o-1)/2),u.scale.set(t,e,n*o),u.material.color.setHex(a),u.rotation.set(0,0,i),u.visible=!0}if(o<1){var c=this.getCube(s,l,!1);c.position.set(r.x,r.y,r.z+n*o/2),c.scale.set(t,e,n*(1-o)),c.material.color.setHex(a),c.rotation.set(0,0,i),c.visible=!0}}},{key:"updateIcon",value:function(t,e,n,r){var i=this.getIcon(n,r);(0,y.copyProperty)(i.position,t),i.rotation.set(Math.PI/2,e-Math.PI/2,0),i.visible=!0}},{key:"getArrow",value:function(t,e){if(t<this.arrows.length)return this.arrows[t];var n=(0,b.drawArrow)(1.5,1.5,.5,.5,w);return n.rotation.set(0,0,-Math.PI/2),n.visible=!1,this.arrows.push(n),e.add(n),n}},{key:"getFace",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=n?this.extrusionSolidFaces:this.extrusionDashedFaces;if(t<r.length)return r[t];var i=[new h.Vector3(-.5,0,0),new h.Vector3(.5,0,0),new h.Vector3(.5,0,1),new h.Vector3(-.5,0,1)],a=n?(0,b.drawSegmentsFromPoints)(i,w,1.5):(0,b.drawDashedLineFromPoints)(i,w,1.5,.1,.1);return a.visible=!1,r.push(a),e.add(a),a}},{key:"getCube",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=n?this.solidCubes:this.dashedCubes;if(t<r.length)return r[t];var i=new h.Vector3(1,1,1),a=n?(0,b.drawBox)(i,w,1.5):(0,b.drawDashedBox)(i,w,1.5,.1,.1);return a.visible=!1,r.push(a),e.add(a),a}},{key:"getIcon",value:function(t,e){if(t<this.icons.length)return this.icons[t];var n=(0,b.drawImage)(_.default,1,1,3,3.6,0);return n.rotation.set(0,0,-Math.PI/2),n.visible=!1,this.icons.push(n),e.add(n),n}},{key:"drawTexts",value:function(t,e,n){var r=this.textRender.composeText(t);if(null!==r){r.position.set(e.x,e.y,e.z);var i=n.getObjectByName("camera");void 0!==i&&r.quaternion.copy(i.quaternion),r.children.forEach(function(t){return t.visible=!0}),r.visible=!0,this.ids.push(r),n.add(r)}}},{key:"updateLaneMarkers",value:function(t,e,n){if(f.default.isEmpty(this.laneMarkers)||(this.laneMarkers.forEach(function(t){n.remove(t),t.geometry.dispose(),t.material.dispose()}),this.laneMarkers=[]),m.default.options.showPerceptionLaneMarker){var r=t.autoDrivingCar;for(var i in t.laneMarker){var a=(0,y.calculateLaneMarkerPoints)(r,t.laneMarker[i]);if(a.length){var o=a.map(function(t){return e.applyOffset(t)}),s=(0,b.drawSegmentsFromPoints)(o,27391,2,4,!1);n.add(s),this.laneMarkers.push(s)}}}}}]),t}();e.default=S},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=[{id:"camera",title:"Point of View",type:"radio",data:{1:"Default",2:"Near",3:"Overhead",4:"Map"},supportInOfflineView:!0},{id:"perception",title:"Perception",type:"checkbox",data:{perceptionPointCloud:"Point Cloud",perceptionVehicle:"Vehicle",perceptionPedestrian:"Pedestrian",perceptionBicycle:"Bicycle",perceptionUnknownMovable:"Unknown Movable",perceptionUnknownUnmovable:"Unknown Stationary",perceptionUnknown:"Unknown",perceptionCipv:"Closest In-Path Vehicle",perceptionVelocity:"Velocity",perceptionHeading:"Heading",perceptionId:"Id",perceptionObstacleInfo:"Distance and Speed",perceptionLaneMarker:"Lane Marker"},supportInOfflineView:!0},{id:"prediction",title:"Prediction",type:"checkbox",data:{predictionMajor:"Major Prediction Line",predictionMinor:"Minor Prediction Line"},supportInOfflineView:!0},{id:"routing",title:"Routing",type:"checkbox",data:{routing:"Routing Line"},supportInOfflineView:!0},{id:"decision",title:"Decision",type:"checkbox",data:{decisionMain:"Main Decision",decisionObstacle:"Obstacle Decision"},supportInOfflineView:!0},{id:"planning",title:"Planning",type:"checkbox",data:{planningCar:"Planning Car",planningLine:"Planning Line",planningQpOptimizer:"Qp Optimizer Line",planningDpOptimizer:"Dp Optimizer Line",planningReference:"Reference Line"},supportInOfflineView:!0},{id:"position",title:"Position",type:"checkbox",data:{positionLocalization:"Localization",positionGps:"GPS"},supportInOfflineView:!1},{id:"map",title:"Map",type:"checkbox",data:{mapCrosswalk:"Crosswalk",mapClearArea:"Clear Area",mapJunction:"Junction",mapLane:"Lane",mapRoad:"Road",mapSignal:"Signal",mapStopSign:"Stop Sign"},supportInOfflineView:!1}]},function(t,e,n){t.exports={default:n(302),__esModule:!0}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(119),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,i.default)(t)}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(247),a=r(i),o=n(246),s=r(o),l="function"==typeof s.default&&"symbol"==typeof a.default?function(t){return typeof t}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":typeof t};e.default="function"==typeof s.default&&"symbol"===l(a.default)?function(t){return void 0===t?"undefined":l(t)}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":void 0===t?"undefined":l(t)}},function(t,e,n){"use strict";function r(t,e){return t.native?{x:t.x,y:t.y}:u.getRelativePosition(t,e)}function i(t,e){var n,r,i,a,o,s=t.data.datasets;for(r=0,a=s.length;r<a;++r)if(t.isDatasetVisible(r))for(n=t.getDatasetMeta(r),i=0,o=n.data.length;i<o;++i){var l=n.data[i];l._view.skip||e(l)}}function a(t,e){var n=[];return i(t,function(t){t.inRange(e.x,e.y)&&n.push(t)}),n}function o(t,e,n,r){var a=Number.POSITIVE_INFINITY,o=[];return i(t,function(t){if(!n||t.inRange(e.x,e.y)){var i=t.getCenterPoint(),s=r(e,i);s<a?(o=[t],a=s):s===a&&o.push(t)}}),o}function s(t){var e=-1!==t.indexOf("x"),n=-1!==t.indexOf("y");return function(t,r){var i=e?Math.abs(t.x-r.x):0,a=n?Math.abs(t.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}function l(t,e,n){var i=r(e,t);n.axis=n.axis||"x";var l=s(n.axis),u=n.intersect?a(t,i):o(t,i,!1,l),c=[];return u.length?(t.data.datasets.forEach(function(e,n){if(t.isDatasetVisible(n)){var r=t.getDatasetMeta(n),i=r.data[u[0]._index];i&&!i._view.skip&&c.push(i)}}),c):[]}var u=n(6);t.exports={modes:{single:function(t,e){var n=r(e,t),a=[];return i(t,function(t){if(t.inRange(n.x,n.y))return a.push(t),a}),a.slice(0,1)},label:l,index:l,dataset:function(t,e,n){var i=r(e,t);n.axis=n.axis||"xy";var l=s(n.axis),u=n.intersect?a(t,i):o(t,i,!1,l);return u.length>0&&(u=t.getDatasetMeta(u[0]._datasetIndex).data),u},"x-axis":function(t,e){return l(t,e,{intersect:!1})},point:function(t,e){return a(t,r(e,t))},nearest:function(t,e,n){var i=r(e,t);n.axis=n.axis||"xy";var a=s(n.axis),l=o(t,i,n.intersect,a);return l.length>1&&l.sort(function(t,e){var n=t.getArea(),r=e.getArea(),i=n-r;return 0===i&&(i=t._datasetIndex-e._datasetIndex),i}),l.slice(0,1)},x:function(t,e,n){var a=r(e,t),o=[],s=!1;return i(t,function(t){t.inXRange(a.x)&&o.push(t),t.inRange(a.x,a.y)&&(s=!0)}),n.intersect&&!s&&(o=[]),o},y:function(t,e,n){var a=r(e,t),o=[],s=!1;return i(t,function(t){t.inYRange(a.y)&&o.push(t),t.inRange(a.x,a.y)&&(s=!0)}),n.intersect&&!s&&(o=[]),o}}}},function(t,e,n){"use strict";var r=n(6),i=n(285),a=n(286),o=a._enabled?a:i;t.exports=r.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},o)},function(t,e,n){var r=n(298),i=n(296),a=function(t){if(t instanceof a)return t;if(!(this instanceof a))return new a(t);this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};var e;"string"==typeof t?(e=i.getRgba(t),e?this.setValues("rgb",e):(e=i.getHsla(t))?this.setValues("hsl",e):(e=i.getHwb(t))&&this.setValues("hwb",e)):"object"==typeof t&&(e=t,void 0!==e.r||void 0!==e.red?this.setValues("rgb",e):void 0!==e.l||void 0!==e.lightness?this.setValues("hsl",e):void 0!==e.v||void 0!==e.value?this.setValues("hsv",e):void 0!==e.w||void 0!==e.whiteness?this.setValues("hwb",e):void 0===e.c&&void 0===e.cyan||this.setValues("cmyk",e))};a.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var t=this.values;return 1!==t.alpha?t.hwb.concat([t.alpha]):t.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var t=this.values;return t.rgb.concat([t.alpha])},hslaArray:function(){var t=this.values;return t.hsl.concat([t.alpha])},alpha:function(t){return void 0===t?this.values.alpha:(this.setValues("alpha",t),this)},red:function(t){return this.setChannel("rgb",0,t)},green:function(t){return this.setChannel("rgb",1,t)},blue:function(t){return this.setChannel("rgb",2,t)},hue:function(t){return t&&(t%=360,t=t<0?360+t:t),this.setChannel("hsl",0,t)},saturation:function(t){return this.setChannel("hsl",1,t)},lightness:function(t){return this.setChannel("hsl",2,t)},saturationv:function(t){return this.setChannel("hsv",1,t)},whiteness:function(t){return this.setChannel("hwb",1,t)},blackness:function(t){return this.setChannel("hwb",2,t)},value:function(t){return this.setChannel("hsv",2,t)},cyan:function(t){return this.setChannel("cmyk",0,t)},magenta:function(t){return this.setChannel("cmyk",1,t)},yellow:function(t){return this.setChannel("cmyk",2,t)},black:function(t){return this.setChannel("cmyk",3,t)},hexString:function(){return i.hexString(this.values.rgb)},rgbString:function(){return i.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return i.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return i.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return i.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return i.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return i.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return i.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var t=this.values.rgb;return t[0]<<16|t[1]<<8|t[2]},luminosity:function(){for(var t=this.values.rgb,e=[],n=0;n<t.length;n++){var r=t[n]/255;e[n]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},dark:function(){var t=this.values.rgb;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var t=[],e=0;e<3;e++)t[e]=255-this.values.rgb[e];return this.setValues("rgb",t),this},lighten:function(t){var e=this.values.hsl;return e[2]+=e[2]*t,this.setValues("hsl",e),this},darken:function(t){var e=this.values.hsl;return e[2]-=e[2]*t,this.setValues("hsl",e),this},saturate:function(t){var e=this.values.hsl;return e[1]+=e[1]*t,this.setValues("hsl",e),this},desaturate:function(t){var e=this.values.hsl;return e[1]-=e[1]*t,this.setValues("hsl",e),this},whiten:function(t){var e=this.values.hwb;return e[1]+=e[1]*t,this.setValues("hwb",e),this},blacken:function(t){var e=this.values.hwb;return e[2]+=e[2]*t,this.setValues("hwb",e),this},greyscale:function(){var t=this.values.rgb,e=.3*t[0]+.59*t[1]+.11*t[2];return this.setValues("rgb",[e,e,e]),this},clearer:function(t){var e=this.values.alpha;return this.setValues("alpha",e-e*t),this},opaquer:function(t){var e=this.values.alpha;return this.setValues("alpha",e+e*t),this},rotate:function(t){var e=this.values.hsl,n=(e[0]+t)%360;return e[0]=n<0?360+n:n,this.setValues("hsl",e),this},mix:function(t,e){var n=this,r=t,i=void 0===e?.5:e,a=2*i-1,o=n.alpha()-r.alpha(),s=((a*o==-1?a:(a+o)/(1+a*o))+1)/2,l=1-s;return this.rgb(s*n.red()+l*r.red(),s*n.green()+l*r.green(),s*n.blue()+l*r.blue()).alpha(n.alpha()*i+r.alpha()*(1-i))},toJSON:function(){return this.rgb()},clone:function(){var t,e,n=new a,r=this.values,i=n.values;for(var o in r)r.hasOwnProperty(o)&&(t=r[o],e={}.toString.call(t),"[object Array]"===e?i[o]=t.slice(0):"[object Number]"===e?i[o]=t:console.error("unexpected color value:",t));return n}},a.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},a.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},a.prototype.getValues=function(t){for(var e=this.values,n={},r=0;r<t.length;r++)n[t.charAt(r)]=e[t][r];return 1!==e.alpha&&(n.a=e.alpha),n},a.prototype.setValues=function(t,e){var n,i=this.values,a=this.spaces,o=this.maxes,s=1;if(this.valid=!0,"alpha"===t)s=e;else if(e.length)i[t]=e.slice(0,t.length),s=e[t.length];else if(void 0!==e[t.charAt(0)]){for(n=0;n<t.length;n++)i[t][n]=e[t.charAt(n)];s=e.a}else if(void 0!==e[a[t][0]]){var l=a[t];for(n=0;n<t.length;n++)i[t][n]=e[l[n]];s=e.alpha}if(i.alpha=Math.max(0,Math.min(1,void 0===s?i.alpha:s)),"alpha"===t)return!1;var u;for(n=0;n<t.length;n++)u=Math.max(0,Math.min(o[t][n],i[t][n])),i[t][n]=Math.round(u);for(var c in a)c!==t&&(i[c]=r[t][c](i[t]));return!0},a.prototype.setSpace=function(t,e){var n=e[0];return void 0===n?this.getValues(t):("number"==typeof n&&(n=Array.prototype.slice.call(e)),this.setValues(t,n),this)},a.prototype.setChannel=function(t,e,n){var r=this.values[t];return void 0===n?r[e]:n===r[e]?this:(r[e]=n,this.setValues(t,r),this)},"undefined"!=typeof window&&(window.Color=a),t.exports=a},function(t,e,n){var r=n(18).document;t.exports=r&&r.documentElement},function(t,e,n){t.exports=!n(27)&&!n(38)(function(){return 7!=Object.defineProperty(n(82)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(41),i=n(16)("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||a[i]===t)}},function(t,e,n){var r=n(52);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(26);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var a=t.return;throw void 0!==a&&r(a.call(t)),e}}},function(t,e,n){var r=n(16)("iterator"),i=!1;try{var a=[7][r]();a.return=function(){i=!0},Array.from(a,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var a=[7],o=a[r]();o.next=function(){return{done:n=!0}},a[r]=function(){return o},t(a)}catch(t){}return n}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){var r=n(134),i=n(83).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(39),i=n(43),a=n(92)("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},function(t,e,n){var r=n(39),i=n(35),a=n(321)(!1),o=n(92)("IE_PROTO");t.exports=function(t,e){var n,s=i(t),l=0,u=[];for(n in s)n!=o&&r(s,n)&&u.push(n);for(;e.length>l;)r(s,n=e[l++])&&(~a(u,n)||u.push(n));return u}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var r=n(26),i=n(22),a=n(87);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=a.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){t.exports=n(34)},function(t,e,n){"use strict";var r=n(18),i=n(10),a=n(23),o=n(27),s=n(16)("species");t.exports=function(t){var e="function"==typeof i[t]?i[t]:r[t];o&&e&&!e[s]&&a.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(26),i=n(51),a=n(16)("species");t.exports=function(t,e){var n,o=r(t).constructor;return void 0===o||void 0==(n=r(o)[a])?e:i(n)}},function(t,e,n){var r,i,a,o=n(28),s=n(330),l=n(125),u=n(82),c=n(18),h=c.process,d=c.setImmediate,f=c.clearImmediate,p=c.MessageChannel,m=c.Dispatch,g=0,v={},y=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},b=function(t){y.call(t.data)};d&&f||(d=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return v[++g]=function(){s("function"==typeof t?t:Function(t),e)},r(g),g},f=function(t){delete v[t]},"process"==n(52)(h)?r=function(t){h.nextTick(o(y,t,1))}:m&&m.now?r=function(t){m.now(o(y,t,1))}:p?(i=new p,a=i.port2,i.port1.onmessage=b,r=o(a.postMessage,a,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(t){c.postMessage(t+"","*")},c.addEventListener("message",b,!1)):r="onreadystatechange"in u("script")?function(t){l.appendChild(u("script")).onreadystatechange=function(){l.removeChild(this),y.call(t)}}:function(t){setTimeout(o(y,t,1),0)}),t.exports={set:d,clear:f}},function(t,e,n){var r=n(22);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,n){"use strict";function r(t){return(0,a.default)(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=n(379),a=function(t){return t&&t.__esModule?t:{default:t}}(i);t.exports=e.default},function(t,e){function n(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var a=r(i);return[n].concat(i.sources.map(function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"})).concat([a]).join("\n")}return[n].join("\n")}function r(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var r=n(e,t);return e[2]?"@media "+e[2]+"{"+r+"}":r}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var a=this[i][0];"number"==typeof a&&(r[a]=!0)}for(i=0;i<t.length;i++){var o=t[i];"number"==typeof o[0]&&r[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),e.push(o))}},e}},function(t,e,n){"use strict";var r={};t.exports=r},function(t,e,n){"use strict";function r(t,e){-1===t.indexOf(e)&&t.push(e)}function i(t,e){if(Array.isArray(e))for(var n=0,i=e.length;n<i;++n)r(t,e[n]);else r(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t instanceof Object&&!Array.isArray(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r,t.exports=e.default},function(t,e,n){"use strict";function r(t,e,n,r,i){for(var a=0,o=t.length;a<o;++a){var s=t[a](e,n,r,i);if(s)return s}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r,t.exports=e.default},function(t,e,n){"use strict";function r(t,e){return e=e||5,h(l({lat:t[1],lon:t[0]}),e)}function i(t){var e=u(m(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function a(t){var e=u(m(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function o(t){return t*(Math.PI/180)}function s(t){return t/Math.PI*180}function l(t){var e,n,r,i,a,s,l,u,h,d=t.lat,f=t.lon,p=6378137,m=o(d),g=o(f);h=Math.floor((f+180)/6)+1,180===f&&(h=60),d>=56&&d<64&&f>=3&&f<12&&(h=32),d>=72&&d<84&&(f>=0&&f<9?h=31:f>=9&&f<21?h=33:f>=21&&f<33?h=35:f>=33&&f<42&&(h=37)),e=6*(h-1)-180+3,u=o(e),n=.006739496752268451,r=p/Math.sqrt(1-.00669438*Math.sin(m)*Math.sin(m)),i=Math.tan(m)*Math.tan(m),a=n*Math.cos(m)*Math.cos(m),s=Math.cos(m)*(g-u),l=p*(.9983242984503243*m-.002514607064228144*Math.sin(2*m)+2639046602129982e-21*Math.sin(4*m)-3.418046101696858e-9*Math.sin(6*m));var v=.9996*r*(s+(1-i+a)*s*s*s/6+(5-18*i+i*i+72*a-58*n)*s*s*s*s*s/120)+5e5,y=.9996*(l+r*Math.tan(m)*(s*s/2+(5-i+9*a+4*a*a)*s*s*s*s/24+(61-58*i+i*i+600*a-330*n)*s*s*s*s*s*s/720));return d<0&&(y+=1e7),{northing:Math.round(y),easting:Math.round(v),zoneNumber:h,zoneLetter:c(d)}}function u(t){var e=t.northing,n=t.easting,r=t.zoneLetter,i=t.zoneNumber;if(i<0||i>60)return null;var a,o,l,c,h,d,f,p,m,g,v=6378137,y=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),b=n-5e5,x=e;r<"N"&&(x-=1e7),p=6*(i-1)-180+3,a=.006739496752268451,f=x/.9996,m=f/6367449.145945056,g=m+(3*y/2-27*y*y*y/32)*Math.sin(2*m)+(21*y*y/16-55*y*y*y*y/32)*Math.sin(4*m)+151*y*y*y/96*Math.sin(6*m),o=v/Math.sqrt(1-.00669438*Math.sin(g)*Math.sin(g)),l=Math.tan(g)*Math.tan(g),c=a*Math.cos(g)*Math.cos(g),h=.99330562*v/Math.pow(1-.00669438*Math.sin(g)*Math.sin(g),1.5),d=b/(.9996*o);var _=g-o*Math.tan(g)/h*(d*d/2-(5+3*l+10*c-4*c*c-9*a)*d*d*d*d/24+(61+90*l+298*c+45*l*l-252*a-3*c*c)*d*d*d*d*d*d/720);_=s(_);var w=(d-(1+2*l+c)*d*d*d/6+(5-2*c+28*l-3*c*c+8*a+24*l*l)*d*d*d*d*d/120)/Math.cos(g);w=p+s(w);var M;if(t.accuracy){var S=u({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});M={top:S.lat,right:S.lon,bottom:_,left:w}}else M={lat:_,lon:w};return M}function c(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function h(t,e){var n="00000"+t.easting,r="00000"+t.northing;return t.zoneNumber+t.zoneLetter+d(t.easting,t.northing,t.zoneNumber)+n.substr(n.length-5,e)+r.substr(r.length-5,e)}function d(t,e,n){var r=f(n);return p(Math.floor(t/1e5),Math.floor(e/1e5)%20,r)}function f(t){var e=t%b;return 0===e&&(e=b),e}function p(t,e,n){var r=n-1,i=x.charCodeAt(r),a=_.charCodeAt(r),o=i+t-1,s=a+e,l=!1;return o>k&&(o=o-k+w-1,l=!0),(o===M||i<M&&o>M||(o>M||i<M)&&l)&&o++,(o===S||i<S&&o>S||(o>S||i<S)&&l)&&++o===M&&o++,o>k&&(o=o-k+w-1),s>E?(s=s-E+w-1,l=!0):l=!1,(s===M||a<M&&s>M||(s>M||a<M)&&l)&&s++,(s===S||a<S&&s>S||(s>S||a<S)&&l)&&++s===M&&s++,s>E&&(s=s-E+w-1),String.fromCharCode(o)+String.fromCharCode(s)}function m(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,n=t.length,r=null,i="",a=0;!/[A-Z]/.test(e=t.charAt(a));){if(a>=2)throw"MGRSPoint bad conversion from: "+t;i+=e,a++}var o=parseInt(i,10);if(0===a||a+3>n)throw"MGRSPoint bad conversion from: "+t;var s=t.charAt(a++);if(s<="A"||"B"===s||"Y"===s||s>="Z"||"I"===s||"O"===s)throw"MGRSPoint zone letter "+s+" not handled: "+t;r=t.substring(a,a+=2);for(var l=f(o),u=g(r.charAt(0),l),c=v(r.charAt(1),l);c<y(s);)c+=2e6;var h=n-a;if(h%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var d,p,m,b,x,_=h/2,w=0,M=0;return _>0&&(d=1e5/Math.pow(10,_),p=t.substring(a,a+_),w=parseFloat(p)*d,m=t.substring(a+_),M=parseFloat(m)*d),b=w+u,x=M+c,{easting:b,northing:x,zoneLetter:s,zoneNumber:o,accuracy:d}}function g(t,e){for(var n=x.charCodeAt(e-1),r=1e5,i=!1;n!==t.charCodeAt(0);){if(n++,n===M&&n++,n===S&&n++,n>k){if(i)throw"Bad character: "+t;n=w,i=!0}r+=1e5}return r}function v(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var n=_.charCodeAt(e-1),r=0,i=!1;n!==t.charCodeAt(0);){if(n++,n===M&&n++,n===S&&n++,n>E){if(i)throw"Bad character: "+t;n=w,i=!0}r+=1e5}return r}function y(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}e.c=r,e.b=a;var b=6,x="AJSAJS",_="AFAFAF",w=65,M=73,S=79,E=86,k=90;e.a={forward:r,inverse:i,toPoint:a}},function(t,e,n){"use strict";e.a=function(t,e){t=Math.abs(t),e=Math.abs(e);var n=Math.max(t,e),r=Math.min(t,e)/(n||1);return n*Math.sqrt(1+Math.pow(r,2))}},function(t,e,n){"use strict";var r=.01068115234375;e.a=function(t){var e=[];e[0]=1-t*(.25+t*(.046875+t*(.01953125+t*r))),e[1]=t*(.75-t*(.046875+t*(.01953125+t*r)));var n=t*t;return e[2]=n*(.46875-t*(.013020833333333334+.007120768229166667*t)),n*=t,e[3]=n*(.3645833333333333-.005696614583333333*t),e[4]=n*t*.3076171875,e}},function(t,e,n){"use strict";var r=n(106),i=n(7);e.a=function(t,e,a){for(var o=1/(1-e),s=t,l=20;l;--l){var u=Math.sin(s),c=1-e*u*u;if(c=(n.i(r.a)(s,u,Math.cos(s),a)-t)*(c*Math.sqrt(c))*o,s-=c,Math.abs(c)<i.d)return s}return s}},function(t,e,n){"use strict";e.a=function(t){var e=Math.exp(t);return e=(e-1/e)/2}},function(t,e,n){"use strict";e.a=function(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}},function(t,e,n){"use strict";function r(t){var e=this;if(2===arguments.length){var i=arguments[1];"string"==typeof i?"+"===i.charAt(0)?r[t]=n.i(a.a)(arguments[1]):r[t]=n.i(o.a)(arguments[1]):r[t]=i}else if(1===arguments.length){if(Array.isArray(t))return t.map(function(t){Array.isArray(t)?r.apply(e,t):r(t)});if("string"==typeof t){if(t in r)return r[t]}else"EPSG"in t?r["EPSG:"+t.EPSG]=t:"ESRI"in t?r["ESRI:"+t.ESRI]=t:"IAU2000"in t?r["IAU2000:"+t.IAU2000]=t:console.log(t);return}}var i=n(436),a=n(155),o=n(162);n.i(i.a)(r),e.a=r},function(t,e,n){"use strict";var r=n(7),i=n(428),a=n(429),o=n(108);e.a=function(t){var e,s,l,u={},c=t.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,e){var n=e.split("=");return n.push(!0),t[n[0].toLowerCase()]=n[1],t},{}),h={proj:"projName",datum:"datumCode",rf:function(t){u.rf=parseFloat(t)},lat_0:function(t){u.lat0=t*r.g},lat_1:function(t){u.lat1=t*r.g},lat_2:function(t){u.lat2=t*r.g},lat_ts:function(t){u.lat_ts=t*r.g},lon_0:function(t){u.long0=t*r.g},lon_1:function(t){u.long1=t*r.g},lon_2:function(t){u.long2=t*r.g},alpha:function(t){u.alpha=parseFloat(t)*r.g},lonc:function(t){u.longc=t*r.g},x_0:function(t){u.x0=parseFloat(t)},y_0:function(t){u.y0=parseFloat(t)},k_0:function(t){u.k0=parseFloat(t)},k:function(t){u.k0=parseFloat(t)},a:function(t){u.a=parseFloat(t)},b:function(t){u.b=parseFloat(t)},r_a:function(){u.R_A=!0},zone:function(t){u.zone=parseInt(t,10)},south:function(){u.utmSouth=!0},towgs84:function(t){u.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){u.to_meter=parseFloat(t)},units:function(t){u.units=t;var e=n.i(o.a)(a.a,t);e&&(u.to_meter=e.to_meter)},from_greenwich:function(t){u.from_greenwich=t*r.g},pm:function(t){var e=n.i(o.a)(i.a,t);u.from_greenwich=(e||parseFloat(t))*r.g},nadgrids:function(t){"@null"===t?u.datumCode="none":u.nadgrids=t},axis:function(t){var e="ewnsud";3===t.length&&-1!==e.indexOf(t.substr(0,1))&&-1!==e.indexOf(t.substr(1,1))&&-1!==e.indexOf(t.substr(2,1))&&(u.axis=t)}};for(e in c)s=c[e],e in h?(l=h[e],"function"==typeof l?l(s):u[l]=s):u[e]=s;return"string"==typeof u.datumCode&&"WGS84"!==u.datumCode&&(u.datumCode=u.datumCode.toLowerCase()),u}},function(t,e,n){"use strict";function r(){if(void 0===this.es||this.es<=0)throw new Error("incorrect elliptical usage");this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),r=e;this.cgb[0]=e*(2+e*(-2/3+e*(e*(116/45+e*(26/45+e*(-2854/675)))-2))),this.cbg[0]=e*(e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))-2),r*=e,this.cgb[1]=r*(7/3+e*(e*(-227/45+e*(2704/315+e*(2323/945)))-1.6)),this.cbg[1]=r*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),r*=e,this.cgb[2]=r*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=r*(-26/15+e*(34/21+e*(1.6+e*(-12686/2835)))),r*=e,this.cgb[3]=r*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=r*(1237/630+e*(e*(-24832/14175)-2.4)),r*=e,this.cgb[4]=r*(4174/315+e*(-144838/6237)),this.cbg[4]=r*(-734/315+e*(109598/31185)),r*=e,this.cgb[5]=r*(601676/22275),this.cbg[5]=r*(444337/155925),r=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+r*(.25+r*(1/64+r/256))),this.utg[0]=e*(e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))-.5),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=r*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=r*(13/48+e*(e*(557/1440+e*(281/630+e*(-1983433/1935360)))-.6)),r*=e,this.utg[2]=r*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=r*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),r*=e,this.utg[3]=r*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=r*(49561/161280+e*(-179/168+e*(6601661/7257600))),r*=e,this.utg[4]=r*(-4583/161280+e*(108847/3991680)),this.gtu[4]=r*(34729/80640+e*(-3418889/1995840)),r*=e,this.utg[5]=-.03233083094085698*r,this.gtu[5]=.6650675310896665*r;var i=n.i(u.a)(this.cbg,this.lat0);this.Zb=-this.Qn*(i+n.i(c.a)(this.gtu,2*i))}function i(t){var e=n.i(d.a)(t.x-this.long0),r=t.y;r=n.i(u.a)(this.cbg,r);var i=Math.sin(r),a=Math.cos(r),o=Math.sin(e),c=Math.cos(e);r=Math.atan2(i,c*a),e=Math.atan2(o*a,n.i(s.a)(i,a*c)),e=n.i(l.a)(Math.tan(e));var f=n.i(h.a)(this.gtu,2*r,2*e);r+=f[0],e+=f[1];var p,m;return Math.abs(e)<=2.623395162778?(p=this.a*(this.Qn*e)+this.x0,m=this.a*(this.Qn*r+this.Zb)+this.y0):(p=1/0,m=1/0),t.x=p,t.y=m,t}function a(t){var e=(t.x-this.x0)*(1/this.a),r=(t.y-this.y0)*(1/this.a);r=(r-this.Zb)/this.Qn,e/=this.Qn;var i,a;if(Math.abs(e)<=2.623395162778){var l=n.i(h.a)(this.utg,2*r,2*e);r+=l[0],e+=l[1],e=Math.atan(n.i(o.a)(e));var c=Math.sin(r),f=Math.cos(r),p=Math.sin(e),m=Math.cos(e);r=Math.atan2(c*m,n.i(s.a)(p,m*f)),e=Math.atan2(p,m*f),i=n.i(d.a)(e+this.long0),a=n.i(u.a)(this.cgb,r)}else i=1/0,a=1/0;return t.x=i,t.y=a,t}var o=n(152),s=n(149),l=n(418),u=n(422),c=n(419),h=n(420),d=n(11),f=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc"];e.a={init:r,forward:i,inverse:a,names:f}},function(t,e,n){"use strict";function r(t,e){return(t.datum.datum_type===a.h||t.datum.datum_type===a.i)&&"WGS84"!==e.datumCode||(e.datum.datum_type===a.h||e.datum.datum_type===a.i)&&"WGS84"!==t.datumCode}function i(t,e,h){var d;return Array.isArray(h)&&(h=n.i(u.a)(h)),n.i(c.a)(h),t.datum&&e.datum&&r(t,e)&&(d=new l.a("WGS84"),h=i(t,d,h),t=d),"enu"!==t.axis&&(h=n.i(s.a)(t,!1,h)),"longlat"===t.projName?h={x:h.x*a.g,y:h.y*a.g}:(t.to_meter&&(h={x:h.x*t.to_meter,y:h.y*t.to_meter}),h=t.inverse(h)),t.from_greenwich&&(h.x+=t.from_greenwich),h=n.i(o.a)(t.datum,e.datum,h),e.from_greenwich&&(h={x:h.x-e.from_greenwich,y:h.y}),"longlat"===e.projName?h={x:h.x*a.j,y:h.y*a.j}:(h=e.forward(h),e.to_meter&&(h={x:h.x/e.to_meter,y:h.y/e.to_meter})),"enu"!==e.axis?n.i(s.a)(e,!0,h):h}e.a=i;var a=n(7),o=n(433),s=n(415),l=n(103),u=n(153),c=n(416)},function(t,e,n){"use strict";function r(t){var e=0;return n.i(a.b)(t,function(t){n.i(o.b)(t)&&e++}),e}function i(t){var e=0;return n.i(a.b)(t,function(t){n.i(o.c)(t)&&e++}),e}e.a=r,e.b=i;var a=n(110),o=n(77)},function(t,e,n){"use strict";n(110),n(77)},function(t,e,n){"use strict";function r(){return"react-tabs-"+a++}function i(){a=0}e.b=r,e.a=i;var a=0},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=p[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(c(r.parts[a],e))}else{for(var o=[],a=0;a<r.parts.length;a++)o.push(c(r.parts[a],e));p[r.id]={id:r.id,refs:1,parts:o}}}}function i(t,e){for(var n=[],r={},i=0;i<t.length;i++){var a=t[i],o=e.base?a[0]+e.base:a[0],s=a[1],l=a[2],u=a[3],c={css:s,media:l,sourceMap:u};r[o]?r[o].parts.push(c):n.push(r[o]={id:o,parts:[c]})}return n}function a(t,e){var n=g(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=b[b.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),b.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function o(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=b.indexOf(t);e>=0&&b.splice(e,1)}function s(t){var e=document.createElement("style");return t.attrs.type="text/css",u(e,t.attrs),a(t,e),e}function l(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",u(e,t.attrs),a(t,e),e}function u(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function c(t,e){var n,r,i,a;if(e.transform&&t.css){if(!(a=e.transform(t.css)))return function(){};t.css=a}if(e.singleton){var u=y++;n=v||(v=s(e)),r=h.bind(null,n,u,!1),i=h.bind(null,n,u,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=l(e),r=f.bind(null,n,e),i=function(){o(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(e),r=d.bind(null,n),i=function(){o(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}function h(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=_(e,i);else{var a=document.createTextNode(i),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(a,o[e]):t.appendChild(a)}}function d(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function f(t,e,n){var r=n.css,i=n.sourceMap,a=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||a)&&(r=x(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var o=new Blob([r],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(o),s&&URL.revokeObjectURL(s)}var p={},m=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),g=function(t){var e={};return function(n){return void 0===e[n]&&(e[n]=t.call(this,n)),e[n]}}(function(t){return document.querySelector(t)}),v=null,y=0,b=[],x=n(493);t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");e=e||{},e.attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||(e.singleton=m()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=i(t,e);return r(n,e),function(t){for(var a=[],o=0;o<n.length;o++){var s=n[o],l=p[s.id];l.refs--,a.push(l)}if(t){r(i(t,e),e)}for(var o=0;o<a.length;o++){var l=a[o];if(0===l.refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete p[l.id]}}}};var _=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e,n){"use strict";function r(t,e){var n=e[0],r=e[1];!(n in t)&&r in t&&(t[n]=t[r],3===e.length&&(t[n]=e[2](t[n])))}function i(t){return t*l}function a(t){function e(e){return e*(t.to_meter||1)}"GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"==typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var n=t.GEOGCS;"GEOGCS"===t.type&&(n=t),n&&(n.DATUM?t.datumCode=n.DATUM.name.toLowerCase():t.datumCode=n.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"===t.datumCode&&("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),n.DATUM&&n.DATUM.SPHEROID&&(t.ellps=n.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=n.DATUM.SPHEROID.a,t.rf=parseFloat(n.DATUM.SPHEROID.rf,10)),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903")),t.b&&!isFinite(t.b)&&(t.b=t.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",i],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",i],["x0","false_easting",e],["y0","false_northing",e],["long0","central_meridian",i],["lat0","latitude_of_origin",i],["lat0","standard_parallel_1",i],["lat1","standard_parallel_1",i],["lat2","standard_parallel_2",i],["azimuth","Azimuth"],["alpha","azimuth",i],["srsCode","name"]].forEach(function(e){return r(t,e)}),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=i(t.lat1>0?90:-90),t.lat_ts=t.lat1)}var o=n(501),s=n(502),l=.017453292519943295;e.a=function(t){var e=n.i(o.a)(t),r=e.shift(),i=e.shift();e.unshift(["name",i]),e.unshift(["type",r]);var l={};return n.i(s.a)(e,l),a(l),l}},function(t,e,n){t.exports=n.p+"assets/3tc9TFA8_5YuxA455U7BMg.png"},function(t,e,n){t.exports=n.p+"assets/3WNj6QfIN0cgE7u5icG0Zx.png"},function(t,e,n){t.exports=n.p+"assets/ZzXs2hkPaGeWT_N6FgGOx.png"},function(t,e,n){t.exports=n.p+"assets/13lPmuYsGizUIj_HGNYM82.png"},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,a,o=n(3),s=r(o),l=n(0),u=r(l),c=n(1),h=r(c),d=n(5),f=r(d),p=n(4),m=r(p),g=n(2),v=r(g),y=n(8),b=n(476),x=r(b),_=n(176),w=r(_),M=n(177),S=r(M),E=n(178),k=r(E),T=n(183),C=r(T),P=n(195),O=r(P),A=n(208),R=r(A),L=n(558),I=r(L),D=n(17),N=r(D),z=(i=(0,y.inject)("store"))(a=(0,y.observer)(a=function(t){function e(t){(0,u.default)(this,e);var n=(0,f.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t));return n.handleDrag=n.handleDrag.bind(n),n.handleKeyPress=n.handleKeyPress.bind(n),n.updateDimension=n.props.store.updateDimension.bind(n.props.store),n}return(0,m.default)(e,t),(0,h.default)(e,[{key:"handleDrag",value:function(t){this.props.store.options.showPNCMonitor&&this.props.store.updateWidthInPercentage(Math.min(1,t/window.innerWidth))}},{key:"handleKeyPress",value:function(t){var e=this.props.store,n=e.options,r=e.enableHMIButtonsOnly,i=e.hmi,a=I.default[t.key];a&&!n.showDataRecorder&&(t.preventDefault(),"cameraAngle"===a?n.rotateCameraAngle():n.isSideBarButtonDisabled(a,r,i.inNavigationMode)||this.props.store.handleOptionToggle(a))}},{key:"componentWillMount",value:function(){this.props.store.updateDimension()}},{key:"componentDidMount",value:function(){N.default.initialize(),D.MAP_WS.initialize(),D.POINT_CLOUD_WS.initialize(),window.addEventListener("resize",this.updateDimension,!1),window.addEventListener("keypress",this.handleKeyPress,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimension,!1),window.removeEventListener("keypress",this.handleKeyPress,!1)}},{key:"render",value:function(){var t=this.props.store,e=(t.isInitialized,t.dimension),n=(t.sceneDimension,t.options);t.hmi;return v.default.createElement("div",null,v.default.createElement(w.default,null),v.default.createElement("div",{className:"pane-container"},v.default.createElement(x.default,{split:"vertical",size:e.width,onChange:this.handleDrag,allowResize:n.showPNCMonitor},v.default.createElement("div",{className:"left-pane"},v.default.createElement(O.default,null),v.default.createElement("div",{className:"dreamview-body"},v.default.createElement(S.default,null),v.default.createElement(k.default,null))),v.default.createElement("div",{className:"right-pane"},n.showPNCMonitor&&v.default.createElement(C.default,null)))),v.default.createElement("div",{className:"hidden"},n.enableVoiceCommand&&v.default.createElement(R.default,null)))}}]),e}(v.default.Component))||a)||a;e.default=z},function(t,e,n){var r=n(237);"string"==typeof r&&(r=[[t.i,r,""]]);var i={};i.transform=void 0;n(161)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){var n=g(p.default.hmi.utmZoneId);return(0,c.default)(m,n,[t,e])}function a(t,e){var n=g(p.default.hmi.utmZoneId);return(0,c.default)(n,m,[t,e])}function o(t,e){return d.transform([t,e],"WGS84","GCJ02")}function s(t,e){if(l(t,e))return[t,e];var n=o(t,e);return d.transform(n,"GCJ02","BD09LL")}function l(t,e){return t<72.004||t>137.8347||(e<.8293||e>55.8271)}Object.defineProperty(e,"__esModule",{value:!0}),e.WGS84ToUTM=i,e.UTMToWGS84=a,e.WGS84ToGCJ02=o,e.WGS84ToBD09LL=s;var u=n(437),c=r(u),h=n(299),d=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(h),f=n(13),p=r(f),m="+proj=longlat +ellps=WGS84",g=function(t){return"+proj=utm +zone="+t+" +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(239),a=r(i),o=n(37),s=r(o);e.default=function(){function t(t,e){var n=[],r=!0,i=!1,a=void 0;try{for(var o,l=(0,s.default)(t);!(r=(o=l.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){i=!0,a=t}finally{try{!r&&l.return&&l.return()}finally{if(i)throw a}}return n}return function(e,n){if(Array.isArray(e))return e;if((0,a.default)(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var i=n(47),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(i),o=n(2),s=r(o),l=n(8);n(168);var u=n(13),c=r(u),h=n(167),d=r(h);a.render(s.default.createElement(l.Provider,{store:c.default},s.default.createElement(d.default,null)),document.getElementById("root"))},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(3),a=r(i),o=n(0),s=r(o),l=n(1),u=r(l),c=n(5),h=r(c),d=n(4),f=r(d),p=n(2),m=r(p),g=n(13),v=r(g),y=n(17),b=r(y),x=function(t){function e(t){(0,s.default)(this,e);var n=(0,h.default)(this,(e.__proto__||(0,a.default)(e)).call(this,t));return n.state={eventTime:new Date,eventMessage:""},n.handleMessageChange=n.handleMessageChange.bind(n),n.handleTimestampUpdate=n.handleTimestampUpdate.bind(n),n.handleSubmit=n.handleSubmit.bind(n),n.handleCancel=n.handleCancel.bind(n),n}return(0,f.default)(e,t),(0,u.default)(e,[{key:"handleMessageChange",value:function(t){this.setState({eventMessage:t.target.value})}},{key:"handleTimestampUpdate",value:function(){this.setState({eventTime:new Date})}},{key:"handleSubmit",value:function(){this.state.eventMessage?(b.default.submitDriveEvent(this.state.eventTime.getTime(),this.state.eventMessage),v.default.handleOptionToggle("showDataRecorder")):alert("Please provide a drive event message.")}},{key:"handleCancel",value:function(){v.default.handleOptionToggle("showDataRecorder")}},{key:"render",value:function(){return m.default.createElement("div",{className:"card data-recorder"},m.default.createElement("div",{className:"card-header"},m.default.createElement("span",null,"Add Drive Event")),m.default.createElement("div",{className:"card-content-column"},m.default.createElement("table",null,m.default.createElement("tbody",null,m.default.createElement("tr",{className:"drive-event-time-row"},m.default.createElement("td",null,"Event Time"),m.default.createElement("td",null,m.default.createElement("span",null,this.state.eventTime.toString(),m.default.createElement("button",{className:"timestamp-button",onClick:this.handleTimestampUpdate},"Update Time")))),m.default.createElement("tr",{className:"drive-event-msg-row"},m.default.createElement("td",null,"Message"),m.default.createElement("td",null,m.default.createElement("textarea",{autoFocus:!0,placeholder:"please enter a message...",value:this.state.eventMessage,onChange:this.handleMessageChange}))),m.default.createElement("tr",null,m.default.createElement("td",null),m.default.createElement("td",null,m.default.createElement("button",{className:"submit-button",onClick:this.handleSubmit},"Submit"),m.default.createElement("button",{onClick:this.handleCancel},"Cancel")))))))}}]),e}(m.default.Component);e.default=x},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,a,o=n(3),s=r(o),l=n(0),u=r(l),c=n(1),h=r(c),d=n(5),f=r(d),p=n(4),m=r(p),g=n(2),v=r(g),y=n(8),b=n(174),x=r(b),_=(i=(0,y.inject)("store"))(a=(0,y.observer)(a=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,(e.__proto__||(0,s.default)(e)).apply(this,arguments))}return(0,m.default)(e,t),(0,h.default)(e,[{key:"render",value:function(){var t=this.props.store.hmi,e=t.dockerImage,n=t.modes,r=t.currentMode,i=t.maps,a=t.currentMap,o=t.vehicles,s=t.currentVehicle;return v.default.createElement(v.default.Fragment,null,v.default.createElement("button",{className:"header-item header-button",onClick:function(){return alert(e)}},"Check Version"),v.default.createElement(x.default,{modes:n,currentMode:r,maps:i,currentMap:a,vehicles:o,currentVehicle:s}))}}]),e}(v.default.Component))||a)||a;e.default=_},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(32),a=r(i),o=n(3),s=r(o),l=n(0),u=r(l),c=n(1),h=r(c),d=n(5),f=r(d),p=n(4),m=r(p),g=n(2),v=r(g),y=n(175),b=r(y),x=n(17),_=r(x),w=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,(e.__proto__||(0,s.default)(e)).apply(this,arguments))}return(0,m.default)(e,t),(0,h.default)(e,[{key:"render",value:function(){var t=this.props,e=t.modes,n=t.currentMode,r=t.maps,i=t.currentMap,o=t.vehicles,s=t.currentVehicle;return v.default.createElement(v.default.Fragment,null,v.default.createElement(b.default,{name:"setup mode",options:(0,a.default)(e).sort(),currentOption:n,onChange:function(t){_.default.changeSetupMode(t.target.value)}}),v.default.createElement(b.default,{name:"vehicle",options:o,currentOption:s,onChange:function(t){_.default.changeVehicle(t.target.value)}}),v.default.createElement(b.default,{name:"map",options:r,currentOption:i,onChange:function(t){_.default.changeMap(t.target.value)}}))}}]),e}(v.default.Component);e.default=w},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(3),a=r(i),o=n(0),s=r(o),l=n(1),u=r(l),c=n(5),h=r(c),d=n(4),f=r(d),p=n(2),m=r(p),g=function(t){function e(t){(0,s.default)(this,e);var n=(0,h.default)(this,(e.__proto__||(0,a.default)(e)).call(this,t));return n.state={name:t.name,value:t.currentOption},n.onChangeHandler=n.onChangeHandler.bind(n),n}return(0,f.default)(e,t),(0,u.default)(e,[{key:"onChangeHandler",value:function(t){this.setState({value:t.target.value}),this.props.onChange(t)}},{key:"componentWillReceiveProps",value:function(t){t.currentOption!==this.props.currentOption&&this.setState({value:t.currentOption})}},{key:"render",value:function(){var t=this.props;t.name,t.options,t.currentOption,t.onChange;return this.entries=this.props.options.map(function(t){return m.default.createElement("option",{value:t,key:t},t)}),this.entries.unshift(m.default.createElement("option",{key:"none",value:"none",disabled:!0},"-- "+this.state.name+" --")),m.default.createElement("div",{className:"header-item selector"},m.default.createElement("span",{className:"arrow"}),m.default.createElement("select",{onChange:this.onChangeHandler,value:this.state.value},this.entries))}}]),e}(m.default.Component);e.default=g},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(3),a=r(i),o=n(0),s=r(o),l=n(1),u=r(l),c=n(5),h=r(c),d=n(4),f=r(d),p=n(2),m=r(p),g=n(209),v=r(g),y=n(166),b=r(y),x=n(173),_=r(x),w=function(t){function e(){return(0,s.default)(this,e),(0,h.default)(this,(e.__proto__||(0,a.default)(e)).apply(this,arguments))}return(0,f.default)(e,t),(0,u.default)(e,[{key:"render",value:function(){return m.default.createElement("header",{className:"header"},m.default.createElement(v.default,{image:b.default,className:"apollo-logo"}),m.default.createElement(_.default,null))}}]),e}(m.default.Component);e.default=w},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,a,o,s,l=n(3),u=r(l),c=n(0),h=r(c),d=n(1),f=r(d),p=n(5),m=r(p),g=n(4),v=r(g),y=n(2),b=r(y),x=n(8),_=n(472),w=r(_),M=n(188),S=r(M),E=n(202),k=r(E),T=n(190),C=r(T),P=n(210),O=r(P),A=n(186),R=(r(A),(0,w.default)({loader:function(){return n.e(0).then(n.bind(null,562))},loading:function(){return b.default.createElement("div",null,"Loading...")}})),L=function(t){function e(){return(0,h.default)(this,e),(0,m.default)(this,(e.__proto__||(0,u.default)(e)).apply(this,arguments))}return(0,v.default)(e,t),(0,f.default)(e,[{key:"render",value:function(){return b.default.createElement("div",{className:"video"},b.default.createElement("img",{src:"/image"}))}}]),e}(b.default.Component),I=(i=(0,x.inject)("store"))(a=(0,x.observer)(a=function(t){function e(){return(0,h.default)(this,e),(0,m.default)(this,(e.__proto__||(0,u.default)(e)).apply(this,arguments))}return(0,v.default)(e,t),(0,f.default)(e,[{key:"render",value:function(){var t=this.props.store,e=t.sceneDimension,n=t.meters,r=t.monitor,i=t.options,a=t.trafficSignal,o=(t.video,t.hmi);return b.default.createElement("div",{className:"main-view",style:{height:e.height}},b.default.createElement(C.default,{width:e.width,height:e.height,options:i,invisible:!1}),i.showRouteEditingBar?b.default.createElement(S.default,null):b.default.createElement(k.default,{meters:n,trafficSignal:a,showNotification:!i.showTasks,monitor:r}),i.showVideo&&b.default.createElement(L,null),!1,o.inNavigationMode&&b.default.createElement(R,{viewHeight:e.height,viewWidth:e.width}))}}]),e}(b.default.Component))||a)||a,D=(o=(0,x.inject)("store"))(s=(0,x.observer)(s=function(t){function e(){return(0,h.default)(this,e),(0,m.default)(this,(e.__proto__||(0,u.default)(e)).apply(this,arguments))}return(0,v.default)(e,t),(0,f.default)(e,[{key:"render",value:function(){var t=this.props.store,e=t.isInitialized,n=t.sceneDimension;return e?b.default.createElement(I,null):b.default.createElement(O.default,{height:n.height})}}]),e}(b.default.Component))||s)||s;e.default=D},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,a,o=n(3),s=r(o),l=n(0),u=r(l),c=n(1),h=r(c),d=n(5),f=r(d),p=n(4),m=r(p),g=n(2),v=r(g),y=n(8),b=n(172),x=r(b),_=n(180),w=r(_),M=n(192),S=r(M),E=n(193),k=r(E),T=n(207),C=r(T),P=(i=(0,y.inject)("store"))(a=(0,y.observer)(a=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,(e.__proto__||(0,s.default)(e)).apply(this,arguments))}return(0,m.default)(e,t),(0,h.default)(e,[{key:"render",value:function(){var t=this.props.store,e=t.options,n=t.routeEditingManager,r=t.hmi;return v.default.createElement("div",{className:"tools"},e.showTasks&&v.default.createElement(C.default,null),e.showModuleController&&v.default.createElement(w.default,null),e.showMenu&&v.default.createElement(S.default,{options:e}),e.showPOI&&v.default.createElement(k.default,{routeEditingManager:n,options:e,inNavigationMode:r.inNavigationMode}),e.showDataRecorder&&v.default.createElement(x.default,null))}}]),e}(v.default.Component))||a)||a;e.default=P},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,a=n(3),o=r(a),s=n(0),l=r(s),u=n(1),c=r(u),h=n(5),d=r(h),f=n(4),p=r(f),m=n(2),g=r(m),v=n(8),y={OK:"#1C9063",NOT_READY:"#B43131",NOT_PRESENT:"#B43131",ERR:"#B43131",UNDEF:"#B43131"},b=(0,v.observer)(i=function(t){function e(){return(0,l.default)(this,e),(0,d.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,p.default)(e,t),(0,c.default)(e,[{key:"render",value:function(){var t=this.props,e=t.title,n=t.status;return g.default.createElement("div",{className:"status-display"},g.default.createElement("div",{className:"name"},e),g.default.createElement("div",{className:"status"},g.default.createElement("span",null,n.replace("_"," ")),g.default.createElement("span",{className:"status-icon",style:{backgroundColor:y[n]}})))}}]),e}(g.default.Component))||i;e.default=b},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,a,o=n(119),s=r(o),l=n(3),u=r(l),c=n(0),h=r(c),d=n(1),f=r(d),p=n(5),m=r(p),g=n(4),v=r(g),y=n(2),b=r(y),x=n(8),_=n(115),w=r(_),M=n(179),S=r(M),E=n(17),k=(r(E),(i=(0,x.inject)("store"))(a=(0,x.observer)(a=function(t){function e(){return(0,h.default)(this,e),(0,m.default)(this,(e.__proto__||(0,u.default)(e)).apply(this,arguments))}return(0,v.default)(e,t),(0,f.default)(e,[{key:"render",value:function(){var t=this,e=this.props.store.hmi,n=e.modes,r=e.currentMode,i=e.moduleStatus,a=e.hardwareStatus,o=e.displayName,l="none"!==r?n[r].liveModules:(0,s.default)(i.keys()),u="none"!==r?n[r].liveHardware:(0,s.default)(a.keys()),c=l.sort().map(function(e){return b.default.createElement(w.default,{key:e,id:e,title:o[e],disabled:!1,isChecked:i.get(e),onClick:function(){t.props.store.hmi.toggleModule(e)},extraClasses:"controller"})}),h=u.map(function(t){return b.default.createElement(S.default,{key:t,title:o[t],status:a.get(t)})});return b.default.createElement("div",{className:"module-controller"},b.default.createElement("div",{className:"card"},b.default.createElement("div",{className:"card-header"},b.default.createElement("span",null,"Hardware")),b.default.createElement("div",{className:"card-content-column"},h)),b.default.createElement("div",{className:"card"},b.default.createElement("div",{className:"card-header"},b.default.createElement("span",null,"Modules")),b.default.createElement("div",{className:"card-content-row"},c)))}}]),e}(b.default.Component))||a)||a);e.default=k},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,a,o=n(3),s=r(o),l=n(0),u=r(l),c=n(1),h=r(c),d=n(5),f=r(d),p=n(4),m=r(p),g=n(2),v=r(g),y=n(8),b=n(556),x=r(b),_=n(114),w=r(_),M=(i=(0,y.inject)("store"))(a=(0,y.observer)(a=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,(e.__proto__||(0,s.default)(e)).apply(this,arguments))}return(0,m.default)(e,t),(0,h.default)(e,[{key:"generateScatterGraph",value:function(t,e){return void 0===x.default[t]?(console.error("Graph setting not found: ",t),null):v.default.createElement(w.default,{title:x.default[t].title,options:x.default[t].options,properties:x.default[t].properties,data:e})}},{key:"render",value:function(){var t=this.props.store.controlData,e=t.lastUpdatedTime,n=t.data;return e?v.default.createElement("div",null,this.generateScatterGraph("trajectoryGraph",n.trajectoryGraph),this.generateScatterGraph("speedGraph",n.speedGraph),this.generateScatterGraph("accelerationGraph",n.accelerationGraph),this.generateScatterGraph("curvatureGraph",n.curvatureGraph),this.generateScatterGraph("stationErrorGraph",n.stationErrorGraph),this.generateScatterGraph("lateralErrorGraph",n.lateralErrorGraph),this.generateScatterGraph("headingErrorGraph",n.headingErrorGraph)):null}}]),e}(v.default.Component))||a)||a;e.default=M},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,a,o=n(37),s=r(o),l=n(3),u=r(l),c=n(0),h=r(c),d=n(1),f=r(d),p=n(5),m=r(p),g=n(4),v=r(g),y=n(2),b=r(y),x=n(8),_=n(557),w=r(_),M=n(114),S=r(M),E=(i=(0,x.inject)("store"))(a=(0,x.observer)(a=function(t){function e(){return(0,h.default)(this,e),(0,m.default)(this,(e.__proto__||(0,u.default)(e)).apply(this,arguments))}return(0,v.default)(e,t),(0,f.default)(e,[{key:"generateStGraph",value:function(t){var e=[],n=["DpStSpeedOptimizer","QpSplineStSpeedOptimizer"],r=!0,i=!1,a=void 0;try{for(var o,l=(0,s.default)(n);!(r=(o=l.next()).done);r=!0){var u=o.value,c=t[u],h=c?c.obstaclesBoundary:[];e.push(b.default.createElement(S.default,{key:"stGraph_"+u,title:u,options:w.default.stGraph.options,properties:w.default.stGraph.properties,data:c,boxes:h}))}}catch(t){i=!0,a=t}finally{try{!r&&l.return&&l.return()}finally{if(i)throw a}}return e}},{key:"generateScatterGraph",value:function(t,e){return void 0===w.default[t]?(console.error("Graph setting not found: ",t),null):b.default.createElement(S.default,{title:w.default[t].title,options:w.default[t].options,properties:w.default[t].properties,data:e})}},{key:"render",value:function(){var t=this.props.store.planningData,e=t.planningTime,n=t.data,r=t.latencyGraph;return e?b.default.createElement("div",null,this.generateScatterGraph("speedGraph",n.speedGraph),this.generateScatterGraph("accelerationGraph",n.accelerationGraph),this.generateScatterGraph("thetaGraph",n.thetaGraph),this.generateScatterGraph("kappaGraph",n.kappaGraph),this.generateScatterGraph("dpPolyGraph",n.dpPolyGraph),this.generateStGraph(n.stGraph),this.generateScatterGraph("stSpeedGraph",n.stSpeedGraph.QpSplineStSpeedOptimizer),this.generateScatterGraph("latencyGraph",r),this.generateScatterGraph("dkappaGraph",n.dkappaGraph)):null}}]),e}(b.default.Component))||a)||a;e.default=E},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(3),a=r(i),o=n(0),s=r(o),l=n(1),u=r(l),c=n(5),h=r(c),d=n(4),f=r(d),p=n(2),m=r(p),g=n(486),v=n(182),y=r(v),b=n(181),x=r(b),_=function(t){function e(){return(0,s.default)(this,e),(0,h.default)(this,(e.__proto__||(0,a.default)(e)).apply(this,arguments))}return(0,f.default)(e,t),(0,u.default)(e,[{key:"render",value:function(){return m.default.createElement("div",{className:"pnc-monitor"},m.default.createElement(g.Tabs,null,m.default.createElement(g.TabList,null,m.default.createElement(g.Tab,null,"Planning"),m.default.createElement(g.Tab,null,"Control")),m.default.createElement(g.TabPanel,null,m.default.createElement(y.default,null)),m.default.createElement(g.TabPanel,null,m.default.createElement(x.default,null))))}}]),e}(m.default.Component);e.default=_},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(3),a=r(i),o=n(0),s=r(o),l=n(1),u=r(l),c=n(5),h=r(c),d=n(4),f=r(d),p=n(2),m=r(p),g=n(14),v=r(g),y=function(t){function e(){return(0,s.default)(this,e),(0,h.default)(this,(e.__proto__||(0,a.default)(e)).apply(this,arguments))}return(0,f.default)(e,t),(0,u.default)(e,[{key:"render",value:function(){var t=this.props.onClick;return m.default.createElement("svg",{className:"icon",viewBox:"0 0 10 10",onClick:t},m.default.createElement("polygon",{className:"play",points:"0 0, 10 5, 0 10"}))}}]),e}(m.default.Component),b=function(t){function e(){return(0,s.default)(this,e),(0,h.default)(this,(e.__proto__||(0,a.default)(e)).apply(this,arguments))}return(0,f.default)(e,t),(0,u.default)(e,[{key:"render",value:function(){var t=this.props.onClick;return m.default.createElement("svg",{className:"icon",viewBox:"0 0 100 100",onClick:t},m.default.createElement("path",{className:"replay",d:"M0.166,49.438C0.166,75.152,20.744,96,46.125,96 c12.096,0,23.1-4.731,31.306-12.469 c2.144-2.021-8.776-12.227-10.269-10.84 c-5.54,5.146-12.926,8.286-21.037,8.286 c-17.193,0-31.133-14.122-31.133-31.544s13.939-31.545,31.133-31.545 c17.197,0,31.135,11.108,31.135,28.5 c0,0.007,0.021,0.062,0.049,0.069 L75.778,48c-3.484,0-5.931,0-5.931,0l14.826,18.023 L99.5,48 c0,0-2.447,0-5.931,0l-1.531-1.514 c0.017-0.006,0.05-0.015,0.05-0.021 c0-25.716-20.578-43.574-45.963-43.574 C20.744,2.891,0.166,23.723,0.166,49.438 z M78.743,44.933 l0.115,0.023l-0.089,0.086 C78.754,44.977,78.743,44.933,78.743,44.933 z"}))}}]),e}(m.default.Component),x=function(t){function e(){return(0,s.default)(this,e),(0,h.default)(this,(e.__proto__||(0,a.default)(e)).apply(this,arguments))}return(0,f.default)(e,t),(0,u.default)(e,[{key:"render",value:function(){var t=this.props.onClick;return m.default.createElement("svg",{className:"icon",viewBox:"0 0 20 20",onClick:t},m.default.createElement("polygon",{className:"pause",points:"4 0, 6 0, 6 20, 4 20"}),m.default.createElement("polygon",{className:"pause",points:"13 0, 15 0, 15 20, 13 20"}))}}]),e}(m.default.Component),_=function(t){function e(){return(0,s.default)(this,e),(0,h.default)(this,(e.__proto__||(0,a.default)(e)).apply(this,arguments))}return(0,f.default)(e,t),(0,u.default)(e,[{key:"render",value:function(){this.props.onClick;return m.default.createElement("svg",{className:"icon",viewBox:"0 0 70 70"},m.default.createElement("path",{className:"fullscreen",d:"M0 25 V0 H25 M0 45 V70 H25 M45 0 H70 V25 M45 70 H70 V45"}))}}]),e}(m.default.Component),w=function(t){function e(){return(0,s.default)(this,e),(0,h.default)(this,(e.__proto__||(0,a.default)(e)).apply(this,arguments))}return(0,f.default)(e,t),(0,u.default)(e,[{key:"render",value:function(){this.props.onClick;return m.default.createElement("svg",{className:"icon",viewBox:"0 0 70 70"},m.default.createElement("path",{className:"exit-fullscreen",d:"M0 25 H25 V0 M0 45 H25 V70 M45 0 V25 H70 M45 70 V45 H70"}))}}]),e}(m.default.Component),M=function(t){function e(){return(0,s.default)(this,e),(0,h.default)(this,(e.__proto__||(0,a.default)(e)).apply(this,arguments))}return(0,f.default)(e,t),(0,u.default)(e,[{key:"render",value:function(){var t=this.props,e=t.type,n=t.onClick,r=t.extraClasses,i=null;switch(e){case"replay":i=m.default.createElement(b,null);break;case"pause":i=m.default.createElement(x,null);break;case"play":i=m.default.createElement(y,null);break;case"fullscreen":i=m.default.createElement(_,null);break;case"normalscreen":i=m.default.createElement(w,null)}return m.default.createElement("div",{className:(0,v.default)(r),onClick:n},i)}}]),e}(m.default.Component);e.default=M},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(3),a=r(i),o=n(0),s=r(o),l=n(1),u=r(l),c=n(5),h=r(c),d=n(4),f=r(d),p=n(2),m=r(p),g=n(474),v=r(g),y=function(t){function e(t){(0,s.default)(this,e);var n=(0,h.default)(this,(e.__proto__||(0,a.default)(e)).call(this,t));return n.state={frame:-1},n.updatingSeekingTime=!1,n.handleSliderChange=n.handleSliderChange.bind(n),n.handleSliderChangeComplete=n.handleSliderChangeComplete.bind(n),n}return(0,f.default)(e,t),(0,u.default)(e,[{key:"getTimeFromFrame",value:function(t,e){return(Math.max(0,e-1)/t).toFixed(1)}},{key:"handleSliderChange",value:function(t){this.setState({frame:t}),this.updatingSeekingTime=!0}},{key:"handleSliderChangeComplete",value:function(){this.props.handleFrameSeek(this.state.frame),this.updatingSeekingTime=!1}},{key:"componentWillReceiveProps",value:function(t){this.updatingSeekingTime||t.isSeeking||this.setState({frame:t.currentFrame})}},{key:"render",value:function(){var t=this.props,e=t.numFrames,n=t.currentFrame,r=t.fps,i=(t.isSeeking,t.handleFrameSeek,this.getTimeFromFrame(r,e)),a=this.getTimeFromFrame(r,n);return m.default.createElement("div",{className:"time-controls"},m.default.createElement(v.default,{tooltip:!1,min:1,max:e,value:this.state.frame,onChange:this.handleSliderChange,onChangeComplete:this.handleSliderChangeComplete}),m.default.createElement("div",{className:"time-display"},a+" / "+i+" s"))}}]),e}(m.default.Component);e.default=y},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,a,o=n(3),s=r(o),l=n(0),u=r(l),c=n(1),h=r(c),d=n(5),f=r(d),p=n(4),m=r(p),g=n(2),v=r(g),y=n(8),b=n(184),x=r(b),_=n(185),w=r(_),M=n(17),S=r(M),E=(i=(0,y.inject)("store"))(a=(0,y.observer)(a=function(t){function e(t){(0,u.default)(this,e);var n=(0,f.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t));return n.state={rate:1,isPlaying:!1,nextScreenMode:"normalscreen"},n.nextAction="play",n.handleRateChange=n.handleRateChange.bind(n),n.handleFrameSeek=n.handleFrameSeek.bind(n),n.handleActionChange=n.handleActionChange.bind(n),n.handleScreenModeChange=n.handleScreenModeChange.bind(n),n}return(0,m.default)(e,t),(0,h.default)(e,[{key:"handleRateChange",value:function(t){var e=this.props.store.playback,n=parseFloat(t.target.value);this.setState({rate:n}),e.setPlayRate(n),this.state.isPlaying&&S.default.startPlayback(e.msPerFrame)}},{key:"handleActionChange",value:function(){var t=this.props.store.playback,e=!this.state.isPlaying;switch(t.setPlayAction(e),this.setState({isPlaying:e}),this.nextAction){case"play":S.default.startPlayback(t.msPerFrame);break;case"pause":S.default.pausePlayback();break;case"replay":t.resetFrame(),S.default.startPlayback(t.msPerFrame)}}},{key:"handleScreenModeChange",value:function(){var t=this.props.store.options;switch(this.state.nextScreenMode){case"fullscreen":t.showMenu=!1,this.setState({nextScreenMode:"normalscreen"});break;case"normalscreen":t.showMenu=!0,this.setState({nextScreenMode:"fullscreen"})}}},{key:"handleFrameSeek",value:function(t){var e=this.props.store.playback;e.seekFrame(t),this.state.isPlaying?S.default.requestTimer||S.default.startPlayback(e.msPerFrame):S.default.requestSimulationWorld(e.recordId,t)}},{key:"componentWillUpdate",value:function(t,e){var n=this.props.store.playback;n.replayComplete&&this.state.isPlaying&&(n.setPlayAction(!1),this.setState({isPlaying:!1})),n.replayComplete&&!n.isSeeking?this.nextAction="replay":e.isPlaying?this.nextAction="pause":this.nextAction="play"}},{key:"render",value:function(){var t=this.props.store.playback;return v.default.createElement("div",{className:"playback-controls"},v.default.createElement(x.default,{extraClasses:"left-controls",onClick:this.handleActionChange,type:this.nextAction}),v.default.createElement("div",{className:"rate-selector"},v.default.createElement("select",{onChange:this.handleRateChange,value:this.state.rate},v.default.createElement("option",{value:.25},"x 0.25"),v.default.createElement("option",{value:.5},"x 0.5"),v.default.createElement("option",{value:1},"x 1.0"),v.default.createElement("option",{value:2},"x 2.0")),v.default.createElement("span",{className:"arrow"})),v.default.createElement(w.default,{numFrames:t.numFrames,currentFrame:t.currentFrame,fps:t.FPS,isSeeking:t.isSeeking,handleFrameSeek:this.handleFrameSeek}),v.default.createElement(x.default,{extraClasses:"right-controls",onClick:this.handleScreenModeChange,type:this.state.nextScreenMode}))}}]),e}(v.default.Component))||a)||a;e.default=E},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(3),a=r(i),o=n(0),s=r(o),l=n(1),u=r(l),c=n(5),h=r(c),d=n(4),f=r(d),p=n(2),m=r(p),g=n(47),v=r(g),y=n(14),b=r(y),x=n(532),_=r(x),w=function(t){function e(t){(0,s.default)(this,e);var n=(0,h.default)(this,(e.__proto__||(0,a.default)(e)).call(this,t));return n.state={active:!1,hover:!1},n.toggle=n.toggle.bind(n),n.handleMouseIn=n.handleMouseIn.bind(n),n.handleMouseOut=n.handleMouseOut.bind(n),n.text="For Desktop device:\n  • To zoom the map: use mouse wheel\n  • To move around the map: right-click and drag your mouse,\n    or use arrow keys\n  • To add a routing point: left-click mouse\n\nFor Mobile device:\n  • To zoom the map: pinch the screen with two fingers\n  • To move around the map: swipe with three fingers\n  • To add a routing point: tap with one finger",n}return(0,f.default)(e,t),(0,u.default)(e,[{key:"toggle",value:function(){v.default.findDOMNode(this);this.setState({active:!this.state.active})}},{key:"handleMouseIn",value:function(){this.setState({hover:!0})}},{key:"handleMouseOut",value:function(){this.setState({hover:!1})}},{key:"render",value:function(){var t={display:this.state.active?"block":"none"};return m.default.createElement("button",{className:(0,b.default)({"editing-tip":!0,button:!0,active:this.state.active||this.state.hover}),onClick:this.toggle,onMouseOver:this.handleMouseIn,onMouseOut:this.handleMouseOut},m.default.createElement("img",{src:_.default}),m.default.createElement("p",{style:t},this.text))}}]),e}(m.default.Component);e.default=w},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,a,o=n(3),s=r(o),l=n(0),u=r(l),c=n(1),h=r(c),d=n(5),f=r(d),p=n(4),m=r(p),g=n(2),v=r(g),y=n(8),b=n(187),x=r(b),_=n(544),w=r(_),M=n(545),S=r(M),E=n(546),k=r(E),T=n(542),C=r(T),P=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,(e.__proto__||(0,s.default)(e)).apply(this,arguments))}return(0,m.default)(e,t),(0,h.default)(e,[{key:"render",value:function(){var t=this.props,e=t.label,n=t.icon,r=t.onClick;return v.default.createElement("button",{onClick:r,className:"button"},v.default.createElement("img",{src:n}),v.default.createElement("span",null,e))}}]),e}(v.default.Component),O=(i=(0,y.inject)("store"))(a=(0,y.observer)(a=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,(e.__proto__||(0,s.default)(e)).apply(this,arguments))}return(0,m.default)(e,t),(0,h.default)(e,[{key:"render",value:function(){var t=this,e=this.props.store,n=e.routeEditingManager,r=e.options;return v.default.createElement("div",{className:"route-editing-bar"},v.default.createElement("div",{className:"editing-panel"},v.default.createElement(P,{label:"Add Point of Interest",icon:C.default,onClick:function(){t.props.store.handleOptionToggle("showPOI")}}),v.default.createElement(P,{label:"Remove Last Point",icon:S.default,onClick:function(){n.removeLastRoutingPoint()}}),v.default.createElement(P,{label:"Remove All Points",icon:w.default,onClick:function(){n.removeAllRoutingPoints()}}),v.default.createElement(P,{label:"Send Routing Request",icon:k.default,onClick:function(){n.sendRoutingRequest(!1)&&(r.showRouteEditingBar=!1)}}),v.default.createElement(x.default,null)))}}]),e}(v.default.Component))||a)||a;e.default=O},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,a,o=n(3),s=r(o),l=n(0),u=r(l),c=n(1),h=r(c),d=n(5),f=r(d),p=n(4),m=r(p),g=n(2),v=r(g),y=n(8),b=(i=(0,y.inject)("store"))(a=(0,y.observer)(a=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,(e.__proto__||(0,s.default)(e)).apply(this,arguments))}return(0,m.default)(e,t),(0,h.default)(e,[{key:"render",value:function(){var t=this.props.store.geolocation,e=t.x?t.x.toFixed(2):"?",n=t.y?t.y.toFixed(2):"?";return v.default.createElement("div",{className:"geolocation"},"( ",e,", ",n," )")}}]),e}(v.default.Component))||a)||a;e.default=b},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,a,o=n(3),s=r(o),l=n(0),u=r(l),c=n(1),h=r(c),d=n(5),f=r(d),p=n(4),m=r(p),g=n(2),v=r(g),y=n(8),b=n(14),x=r(b),_=n(189),w=r(_),M=n(36),S=r(M),E=n(13),k=r(E),T=(i=(0,y.inject)("store"))(a=(0,y.observer)(a=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,(e.__proto__||(0,s.default)(e)).apply(this,arguments))}return(0,m.default)(e,t),(0,h.default)(e,[{key:"componentDidMount",value:function(){S.default.initialize("canvas",this.props.width,this.props.height,this.props.options)}},{key:"componentWillUpdate",value:function(t){S.default.updateDimension(t.width,t.height)}},{key:"render",value:function(){var t=this.props,e=t.invisible,n=t.options;return v.default.createElement("div",{id:"canvas",className:(0,x.default)({"dreamview-canvas":!0,hidden:e}),onMouseMove:function(t){var e=S.default.getGeolocation(t);k.default.setGeolocation(e)}},n.showGeo&&v.default.createElement(w.default,null))}}]),e}(v.default.Component))||a)||a;e.default=T},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(3),a=r(i),o=n(0),s=r(o),l=n(1),u=r(l),c=n(5),h=r(c),d=n(4),f=r(d),p=n(2),m=r(p),g=(n(8),n(14)),v=r(g),y=n(551),b=r(y),x=n(549),_=r(x),w=n(548),M=r(w),S=n(550),E=r(S),k=n(547),T=r(k),C=function(t){function e(){return(0,s.default)(this,e),(0,h.default)(this,(e.__proto__||(0,a.default)(e)).apply(this,arguments))}return(0,f.default)(e,t),(0,u.default)(e,[{key:"render",value:function(){var t=this.props,e=t.disabled,n=t.onClick,r=t.active,i=t.label,a=t.extraClasses,o=t.iconSrc;return m.default.createElement("button",{onClick:n,disabled:e,className:(0,v.default)({button:!0,"button-active":r},a)},m.default.createElement("img",{src:o,className:"icon"}),m.default.createElement("div",{className:"label"},i))}}]),e}(m.default.PureComponent),P=function(t){function e(){return(0,s.default)(this,e),(0,h.default)(this,(e.__proto__||(0,a.default)(e)).apply(this,arguments))}return(0,f.default)(e,t),(0,u.default)(e,[{key:"render",value:function(){var t=this.props.settings;return m.default.createElement("div",{className:"main-panel"},m.default.createElement(C,{label:"Tasks",disabled:t.showTasks.disabled,iconSrc:b.default,onClick:t.showTasks.onClick,active:t.showTasks.active}),m.default.createElement(C,{label:"Module Controller",disabled:t.showModuleController.disabled,iconSrc:_.default,onClick:t.showModuleController.onClick,active:t.showModuleController.active}),m.default.createElement(C,{label:"Layer Menu",disabled:t.showMenu.disabled,iconSrc:M.default,onClick:t.showMenu.onClick,active:t.showMenu.active}),m.default.createElement(C,{label:"Route Editing",disabled:t.showRouteEditingBar.disabled,iconSrc:E.default,onClick:t.showRouteEditingBar.onClick,active:t.showRouteEditingBar.active}),m.default.createElement(C,{label:"Data Recorder",disabled:t.showDataRecorder.disabled,iconSrc:T.default,onClick:t.showDataRecorder.onClick,active:t.showDataRecorder.active}))}}]),e}(m.default.PureComponent);e.default=P},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,a,o,s=n(32),l=r(s),u=n(3),c=r(u),h=n(0),d=r(h),f=n(1),p=r(f),m=n(5),g=r(m),v=n(4),y=r(v),b=n(2),x=r(b),_=n(8),w=n(14),M=(r(w),n(116)),S=r(M),E=n(118),k=r(E),T=n(536),C=r(T),P=n(540),O=r(P),A=n(541),R=r(A),L=n(534),I=r(L),D=n(537),N=r(D),z=n(538),B=r(z),F=n(539),U=r(F),j=n(535),W=r(j),G=n(17),V={perception:C.default,prediction:O.default,routing:R.default,decision:I.default,planning:N.default,camera:B.default,position:U.default,map:W.default},H={perceptionPointCloud:"showPointCloud",perceptionVehicle:"showObstaclesVehicle",perceptionPedestrian:"showObstaclesPedestrian",perceptionBicycle:"showObstaclesBicycle",perceptionUnknownMovable:"showObstaclesUnknownMovable",perceptionUnknownUnmovable:"showObstaclesUnknownUnmovable",perceptionUnknown:"showObstaclesUnknown",perceptionVirtual:"showObstaclesVirtual",perceptionCipv:"showObstaclesCipv",perceptionVelocity:"showObstaclesVelocity",perceptionHeading:"showObstaclesHeading",perceptionId:"showObstaclesId",perceptionObstacleInfo:"showObstaclesInfo",perceptionLaneMarker:"showPerceptionLaneMarker",predictionMajor:"showPredictionMajor",predictionMinor:"showPredictionMinor",routing:"showRouting",decisionMain:"showDecisionMain",decisionObstacle:"showDecisionObstacle",planningCar:"showPlanningCar",planningReference:"showPlanningReference",planningDpOptimizer:"showPlanningDpOptimizer",planningQpOptimizer:"showPlanningQpOptimizer",planningLine:"showPlanning",positionLocalization:"showPositionLocalization",positionGps:"showPositionGps",mapCrosswalk:"showMapCrosswalk",mapClearArea:"showMapClearArea",mapJunction:"showMapJunction",mapLane:"showMapLane",mapRoad:"showMapRoad",mapSignal:"showMapSignal",mapStopSign:"showMapStopSign"},Y=(0,_.observer)(i=function(t){function e(){return(0,d.default)(this,e),(0,g.default)(this,(e.__proto__||(0,c.default)(e)).apply(this,arguments))}return(0,y.default)(e,t),(0,p.default)(e,[{key:"render",value:function(){var t=this.props,e=t.id,n=t.title,r=t.options;return x.default.createElement("ul",null,x.default.createElement("li",{id:e,onClick:function(){r.toggle(H[e]),"perceptionPointCloud"===e&&G.POINT_CLOUD_WS.togglePointCloud(r.showPointCloud)}},x.default.createElement("div",{className:"switch"},x.default.createElement("input",{type:"checkbox",name:e,className:"toggle-switch",id:e,checked:r[H[e]],readOnly:!0}),x.default.createElement("label",{className:"toggle-switch-label",htmlFor:e})),x.default.createElement("span",null,n)))}}]),e}(x.default.Component))||i,q=(0,_.observer)(a=function(t){function e(){return(0,d.default)(this,e),(0,g.default)(this,(e.__proto__||(0,c.default)(e)).apply(this,arguments))}return(0,y.default)(e,t),(0,p.default)(e,[{key:"render",value:function(){var t=this.props,e=t.tabId,n=t.tabTitle,r=t.tabType,i=t.data,a=t.options,o=null;return"checkbox"===r?o=(0,l.default)(i).map(function(t){var e=i[t];return a.hideOptionToggle[t]?null:x.default.createElement(Y,{key:t,id:t,title:e,options:a})}):"radio"===r&&(o=(0,l.default)(i).map(function(t){var n=i[t];return a.hideOptionToggle[t]?null:x.default.createElement(S.default,{key:e+"_"+t,id:e,onClick:function(){a.selectCamera(n)},checked:a.cameraAngle===n,title:n,options:a})})),x.default.createElement("div",{className:"card"},x.default.createElement("div",{className:"card-header summary"},x.default.createElement("span",null,x.default.createElement("img",{src:V[e]}),n)),x.default.createElement("div",{className:"card-content-column"},o))}}]),e}(x.default.Component))||a,X=(0,_.observer)(o=function(t){function e(){return(0,d.default)(this,e),(0,g.default)(this,(e.__proto__||(0,c.default)(e)).apply(this,arguments))}return(0,y.default)(e,t),(0,p.default)(e,[{key:"render",value:function(){var t=this.props.options,e=(0,l.default)(k.default).map(function(e){var n=k.default[e];return x.default.createElement(q,{key:n.id,tabId:n.id,tabTitle:n.title,tabType:n.type,data:n.data,options:t})});return x.default.createElement("div",{className:"tool-view-menu",id:"layer-menu"},e)}}]),e}(x.default.Component))||o;e.default=X},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,a=n(32),o=r(a),s=n(3),l=r(s),u=n(0),c=r(u),h=n(1),d=r(h),f=n(5),p=r(f),m=n(4),g=r(m),v=n(2),y=r(v),b=n(8),x=n(14),_=(r(x),n(116)),w=r(_),M=(0,b.observer)(i=function(t){function e(){return(0,c.default)(this,e),(0,p.default)(this,(e.__proto__||(0,l.default)(e)).apply(this,arguments))}return(0,g.default)(e,t),(0,d.default)(e,[{key:"render",value:function(){var t=this.props,e=t.routeEditingManager,n=t.options,r=t.inNavigationMode,i=(0,o.default)(e.defaultRoutingEndPoint).map(function(t){return y.default.createElement(w.default,{extraClasses:["poi-button"],key:"poi_"+t,id:"poi",title:t,onClick:function(){e.addDefaultEndPoint(t,r),n.showRouteEditingBar||e.sendRoutingRequest(r),n.showPOI=!1},checked:!1})});return y.default.createElement("div",{className:"tool-view-menu",id:"poi-list"},y.default.createElement("div",{className:"card"},y.default.createElement("div",{className:"card-header"},y.default.createElement("span",null,"Point of Interest")),y.default.createElement("div",{className:"card-content-row"},i)))}}]),e}(y.default.Component))||i;e.default=M},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(3),a=r(i),o=n(0),s=r(o),l=n(1),u=r(l),c=n(5),h=r(c),d=n(4),f=r(d),p=n(2),m=r(p),g=n(14),v=r(g),y=function(t){function e(){return(0,s.default)(this,e),(0,h.default)(this,(e.__proto__||(0,a.default)(e)).apply(this,arguments))}return(0,f.default)(e,t),(0,u.default)(e,[{key:"render",value:function(){var t=this.props,e=t.disabled,n=t.onClick,r=t.active,i=t.panelLabel,a=t.extraClasses;return m.default.createElement("button",{onClick:n,disabled:e,className:(0,v.default)({"sub-button":!0,"sub-button-active":r},a)},m.default.createElement("div",{className:"label"},i))}}]),e}(m.default.PureComponent);e.default=y},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,a,o=n(120),s=r(o),l=n(3),u=r(l),c=n(0),h=r(c),d=n(1),f=r(d),p=n(5),m=r(p),g=n(4),v=r(g),y=n(2),b=r(y),x=n(8),_=n(191),w=r(_),M=n(194),S=r(M),E=n(17),k=(r(E),(i=(0,x.inject)("store"))(a=(0,x.observer)(a=function(t){function e(){return(0,h.default)(this,e),(0,m.default)(this,(e.__proto__||(0,u.default)(e)).apply(this,arguments))}return(0,v.default)(e,t),(0,f.default)(e,[{key:"render",value:function(){var t=this,e=this.props.store,n=e.options,r=e.enableHMIButtonsOnly,i=e.hmi,a={};return[].concat((0,s.default)(n.mainSideBarOptions),(0,s.default)(n.secondarySideBarOptions)).forEach(function(e){a[e]={active:n[e],onClick:function(){t.props.store.handleOptionToggle(e)},disabled:n.isSideBarButtonDisabled(e,r,i.inNavigationMode)}}),b.default.createElement("div",{className:"side-bar"},b.default.createElement(w.default,{settings:a}),b.default.createElement("div",{className:"sub-button-panel"},b.default.createElement(S.default,{panelLabel:"Voice Command",disabled:a.enableVoiceCommand.disabled,onClick:a.enableVoiceCommand.onClick,active:a.enableVoiceCommand.active}),b.default.createElement(S.default,{panelLabel:"Default Routing",disabled:a.showPOI.disabled,onClick:a.showPOI.onClick,active:!n.showRouteEditingBar&&n.showPOI})))}}]),e}(b.default.Component))||a)||a);e.default=k},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,a=n(3),o=r(a),s=n(0),l=r(s),u=n(1),c=r(u),h=n(5),d=r(h),f=n(4),p=r(f),m=n(2),g=r(m),v=n(8),y=n(199),b=r(y),x=function(t){function e(){return(0,l.default)(this,e),(0,d.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,p.default)(e,t),(0,c.default)(e,[{key:"render",value:function(){var t=this.props,e=t.label,n=t.percentage,r=t.meterColor,i=t.background;return g.default.createElement("div",{className:"meter-container"},g.default.createElement("div",{className:"meter-label"},e),g.default.createElement("span",{className:"meter-head",style:{borderColor:r}}),g.default.createElement("div",{className:"meter-background",style:{backgroundColor:i}},g.default.createElement("span",{style:{backgroundColor:r,width:n+"%"}})))}}]),e}(g.default.Component),_=(0,v.observer)(i=function(t){function e(t){(0,l.default)(this,e);var n=(0,d.default)(this,(e.__proto__||(0,o.default)(e)).call(this,t));return n.setting={brake:{label:"Brake",meterColor:"#B43131",background:"#382626"},accelerator:{label:"Accelerator",meterColor:"#006AFF",background:"#2D3B50"}},n}return(0,p.default)(e,t),(0,c.default)(e,[{key:"render",value:function(){var t=this.props,e=t.throttlePercent,n=t.brakePercent,r=t.speed;return g.default.createElement("div",{className:"auto-meter"},g.default.createElement(b.default,{meterPerSecond:r}),g.default.createElement("div",{className:"brake-panel"},g.default.createElement(x,{label:this.setting.brake.label,percentage:n,meterColor:this.setting.brake.meterColor,background:this.setting.brake.background})),g.default.createElement("div",{className:"throttle-panel"},g.default.createElement(x,{label:this.setting.accelerator.label,percentage:e,meterColor:this.setting.accelerator.meterColor,background:this.setting.accelerator.background})))}}]),e}(g.default.Component))||i;e.default=_},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(3),a=r(i),o=n(0),s=r(o),l=n(1),u=r(l),c=n(5),h=r(c),d=n(4),f=r(d),p=n(2),m=r(p),g=n(14),v=r(g),y=function(t){function e(t){(0,s.default)(this,e);var n=(0,h.default)(this,(e.__proto__||(0,a.default)(e)).call(this,t));return n.utterance=window.speechSynthesis?new SpeechSynthesisUtterance:null,n}return(0,f.default)(e,t),(0,u.default)(e,[{key:"componentWillUpdate",value:function(){this.utterance&&window.speechSynthesis.cancel()}},{key:"render",value:function(){var t=this.props,e=t.drivingMode,n=t.isAutoMode;return this.utterance&&(this.utterance.text="Entering to "+e+" mode",window.speechSynthesis.speak(this.utterance)),m.default.createElement("div",{className:(0,v.default)({"driving-mode":!0,"auto-mode":n,"manual-mode":!n})},m.default.createElement("span",{className:"text"},e))}}]),e}(m.default.PureComponent);e.default=y},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,a=n(3),o=r(a),s=n(0),l=r(s),u=n(1),c=r(u),h=n(5),d=r(h),f=n(4),p=r(f),m=n(2),g=r(m),v=n(8),y=n(14),b=r(y),x=n(165),_=r(x),w=n(164),M=r(w),S=(0,v.observer)(i=function(t){function e(){return(0,l.default)(this,e),(0,d.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,p.default)(e,t),(0,c.default)(e,[{key:"render",value:function(){var t=this.props.monitor;if(!t.hasActiveNotification)return null;if(0===t.items.length)return null;var e=t.items[0],n="ERROR"===e.logLevel||"FATAL"===e.logLevel?"alert":"warn",r="alert"===n?M.default:_.default;return g.default.createElement("div",{className:"notification-"+n},g.default.createElement("img",{src:r,className:"icon"}),g.default.createElement("span",{className:(0,b.default)("text",n)},e.msg))}}]),e}(g.default.Component))||i;e.default=S},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(3),a=r(i),o=n(0),s=r(o),l=n(1),u=r(l),c=n(5),h=r(c),d=n(4),f=r(d),p=n(2),m=r(p),g=[{name:"km/h",conversionFromMeterPerSecond:3.6},{name:"m/s",conversionFromMeterPerSecond:1},{name:"mph",conversionFromMeterPerSecond:2.23694}],v=function(t){function e(t){(0,s.default)(this,e);var n=(0,h.default)(this,(e.__proto__||(0,a.default)(e)).call(this,t));return n.state={unit:0},n.changeUnit=n.changeUnit.bind(n),n}return(0,f.default)(e,t),(0,u.default)(e,[{key:"changeUnit",value:function(){this.setState({unit:(this.state.unit+1)%g.length})}},{key:"render",value:function(){var t=this.props.meterPerSecond,e=g[this.state.unit],n=e.name,r=Math.round(t*e.conversionFromMeterPerSecond);return m.default.createElement("span",{onClick:this.changeUnit},m.default.createElement("span",{className:"speed-read"},r),m.default.createElement("span",{className:"speed-unit"},n))}}]),e}(m.default.Component);e.default=v},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(3),a=r(i),o=n(0),s=r(o),l=n(1),u=r(l),c=n(5),h=r(c),d=n(4),f=r(d),p=n(2),m=r(p),g={GREEN:"rgba(79, 198, 105, 0.8)",YELLOW:"rgba(239, 255, 0, 0.8)",RED:"rgba(180, 49, 49, 0.8)",BLACK:"rgba(30, 30, 30, 0.8)",UNKNOWN:"rgba(30, 30, 30, 0.8)","":null},v=function(t){function e(){return(0,s.default)(this,e),(0,h.default)(this,(e.__proto__||(0,a.default)(e)).apply(this,arguments))}return(0,f.default)(e,t),(0,u.default)(e,[{key:"render",value:function(){var t=this.props.colorName,e=g[t],n=t||"NO SIGNAL";return m.default.createElement("div",{className:"traffic-light"},e&&m.default.createElement("svg",{className:"symbol",viewBox:"0 0 30 30",height:"28",width:"28"},m.default.createElement("circle",{cx:"15",cy:"15",r:"15",fill:e})),m.default.createElement("div",{className:"text"},n))}}]),e}(m.default.PureComponent);e.default=v},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,a=n(3),o=r(a),s=n(0),l=r(s),u=n(1),c=r(u),h=n(5),d=r(h),f=n(4),p=r(f),m=n(2),g=r(m),v=n(8),y=function(t){function e(){return(0,l.default)(this,e),(0,d.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,p.default)(e,t),(0,c.default)(e,[{key:"render",value:function(){var t=this.props.steeringAngle;return g.default.createElement("svg",{className:"wheel",viewBox:"0 0 100 100",height:"80",width:"80"},g.default.createElement("circle",{className:"wheel-background",cx:"50",cy:"50",r:"45"}),g.default.createElement("g",{className:"wheel-arm",transform:"rotate("+t+" 50 50)"},g.default.createElement("rect",{x:"45",y:"7",height:"10",width:"10"}),g.default.createElement("line",{x1:"50",y1:"50",x2:"50",y2:"5"})))}}]),e}(g.default.Component),b=(0,v.observer)(i=function(t){function e(t){(0,l.default)(this,e);var n=(0,d.default)(this,(e.__proto__||(0,o.default)(e)).call(this,t));return n.signalColor={off:"#30435E",on:"#006AFF"},n}return(0,p.default)(e,t),(0,c.default)(e,[{key:"render",value:function(){var t=this.props,e=t.steeringPercentage,n=t.steeringAngle,r=t.turnSignal,i="LEFT"===r||"EMERGENCY"===r?this.signalColor.on:this.signalColor.off,a="RIGHT"===r||"EMERGENCY"===r?this.signalColor.on:this.signalColor.off;return g.default.createElement("div",{className:"wheel-panel"},g.default.createElement("div",{className:"steerangle-read"},e),g.default.createElement("div",{className:"steerangle-unit"},"%"),g.default.createElement("div",{className:"left-arrow",style:{borderRightColor:i}}),g.default.createElement(y,{steeringAngle:n}),g.default.createElement("div",{className:"right-arrow",style:{borderLeftColor:a}}))}}]),e}(g.default.Component))||i;e.default=b},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,a=n(3),o=r(a),s=n(0),l=r(s),u=n(1),c=r(u),h=n(5),d=r(h),f=n(4),p=r(f),m=n(2),g=r(m),v=n(8),y=n(196),b=r(y),x=n(198),_=r(x),w=n(200),M=r(w),S=n(197),E=r(S),k=n(201),T=r(k),C=(0,v.observer)(i=function(t){function e(){return(0,l.default)(this,e),(0,d.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,p.default)(e,t),(0,c.default)(e,[{key:"render",value:function(){var t=this.props,e=t.meters,n=t.trafficSignal,r=t.showNotification,i=t.monitor;return g.default.createElement("div",{className:"status-bar"},r&&g.default.createElement(_.default,{monitor:i}),g.default.createElement(b.default,{throttlePercent:e.throttlePercent,brakePercent:e.brakePercent,speed:e.speed}),g.default.createElement(T.default,{steeringPercentage:e.steeringPercentage,steeringAngle:e.steeringAngle,turnSignal:e.turnSignal}),g.default.createElement("div",{className:"traffic-light-and-driving-mode"},g.default.createElement(M.default,{colorName:n.color}),g.default.createElement(E.default,{drivingMode:e.drivingMode,isAutoMode:e.isAutoMode})))}}]),e}(g.default.Component))||i;e.default=C},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,a,o,s=n(3),l=r(s),u=n(0),c=r(u),h=n(1),d=r(h),f=n(5),p=r(f),m=n(4),g=r(m),v=n(2),y=r(v),b=n(8),x=n(14),_=r(x),w=n(165),M=r(w),S=n(164),E=r(S),k=n(48),T=(0,b.observer)(i=function(t){function e(){return(0,c.default)(this,e),(0,p.default)(this,(e.__proto__||(0,l.default)(e)).apply(this,arguments))}return(0,g.default)(e,t),(0,d.default)(e,[{key:"render",value:function(){var t=this.props,e=t.level,n=t.text,r=t.time,i="ERROR"===e||"FATAL"===e?"alert":"warn",a="alert"===i?E.default:M.default;return y.default.createElement("li",{className:"monitor-item"},y.default.createElement("img",{src:a,className:"icon"}),y.default.createElement("span",{className:(0,_.default)("text",i)},n),y.default.createElement("span",{className:(0,_.default)("time",i)},r))}}]),e}(y.default.Component))||i,C=(a=(0,b.inject)("store"))(o=(0,b.observer)(o=function(t){function e(){return(0,c.default)(this,e),(0,p.default)(this,(e.__proto__||(0,l.default)(e)).apply(this,arguments))}return(0,g.default)(e,t),(0,d.default)(e,[{key:"render",value:function(){var t=this.props.store.monitor;return y.default.createElement("div",{className:"card",style:{maxWidth:"50%"}},y.default.createElement("div",{className:"card-header"},y.default.createElement("span",null,"Console")),y.default.createElement("div",{className:"card-content-column"},y.default.createElement("ul",{className:"console"},t.items.map(function(t,e){return y.default.createElement(T,{key:e,text:t.msg,level:t.logLevel,time:(0,k.timestampMsToTime)(t.timestampMs)})}))))}}]),e}(y.default.Component))||o)||o;e.default=C},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,a,o=n(3),s=r(o),l=n(0),u=r(l),c=n(1),h=r(c),d=n(5),f=r(d),p=n(4),m=r(p),g=n(2),v=r(g),y=n(8),b=n(14),x=r(b),_=n(48),w=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,(e.__proto__||(0,s.default)(e)).apply(this,arguments))}return(0,m.default)(e,t),(0,h.default)(e,[{key:"render",value:function(){var t=this.props,e=t.time,n=t.warning,r="-"===e?e:(0,_.millisecondsToTime)(0|e);return v.default.createElement("div",{className:(0,x.default)({value:!0,warning:n})},r)}}]),e}(v.default.PureComponent),M=(i=(0,y.inject)("store"))(a=(0,y.observer)(a=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,(e.__proto__||(0,s.default)(e)).apply(this,arguments))}return(0,m.default)(e,t),(0,h.default)(e,[{key:"render",value:function(){var t=this.props.store.moduleDelay,e=t.keys().sort().map(function(e){var n=t.get(e),r=n.delay>2e3&&"TrafficLight"!==n.name;return v.default.createElement("div",{className:"delay-item",key:"delay_"+e},v.default.createElement("div",{className:"name"},n.name),v.default.createElement(w,{time:n.delay,warning:r}))});return v.default.createElement("div",{className:"delay card"},v.default.createElement("div",{className:"card-header"},v.default.createElement("span",null,"Module Delay")),v.default.createElement("div",{className:"card-content-column"},e))}}]),e}(v.default.Component))||a)||a;e.default=M},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,a,o=n(3),s=r(o),l=n(0),u=r(l),c=n(1),h=r(c),d=n(5),f=r(d),p=n(4),m=r(p),g=n(2),v=r(g),y=n(8),b=n(115),x=r(b),_=n(17),w=r(_),M=(i=(0,y.inject)("store"))(a=(0,y.observer)(a=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,(e.__proto__||(0,s.default)(e)).apply(this,arguments))}return(0,m.default)(e,t),(0,h.default)(e,[{key:"render",value:function(){var t=this,e=this.props.store,n=e.options,r=e.enableHMIButtonsOnly,i=r||n.tasksPanelLocked;return v.default.createElement("div",{className:"others card"},v.default.createElement("div",{className:"card-header"},v.default.createElement("span",null,"Others")),v.default.createElement("div",{className:"card-content-column"},v.default.createElement("button",{disabled:i,onClick:function(){w.default.resetBackend()}},"Reset Backend Data"),v.default.createElement("button",{disabled:i,onClick:function(){w.default.dumpMessages()}},"Dump Message"),v.default.createElement(x.default,{id:"showPNCMonitor",title:"PNC Monitor",isChecked:n.showPNCMonitor,disabled:i,onClick:function(){t.props.store.handleOptionToggle("showPNCMonitor")}}),v.default.createElement(x.default,{id:"toggleSimControl",title:"SimControl",isChecked:n.simControlEnabled,disabled:n.tasksPanelLocked,onClick:function(){w.default.toggleSimControl(!n.simControlEnabled),t.props.store.handleOptionToggle("simControlEnabled")}}),v.default.createElement(x.default,{id:"showVideo",title:"Camera Sensor",isChecked:n.showVideo,disabled:i,onClick:function(){t.props.store.handleOptionToggle("showVideo")}}),v.default.createElement(x.default,{id:"panelLock",title:"Lock Task Panel",isChecked:n.tasksPanelLocked,disabled:!1,onClick:function(){t.props.store.handleOptionToggle("tasksPanelLocked")}})))}}]),e}(v.default.Component))||a)||a;e.default=M},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,a,o=n(32),s=r(o),l=n(3),u=r(l),c=n(0),h=r(c),d=n(1),f=r(d),p=n(5),m=r(p),g=n(4),v=r(g),y=n(2),b=r(y),x=n(8),_=n(14),w=r(_),M=n(17),S=r(M),E=function(t){function e(){return(0,h.default)(this,e),(0,m.default)(this,(e.__proto__||(0,u.default)(e)).apply(this,arguments))}return(0,v.default)(e,t),(0,f.default)(e,[{key:"render",value:function(){var t=this.props,e=t.name,n=t.commands,r=t.disabled,i=t.extraCommandClass,a=t.extraButtonClass,o=(0,s.default)(n).map(function(t){return b.default.createElement("button",{className:a,disabled:r,key:t,onClick:n[t]},t)}),l=e?b.default.createElement("span",{className:"name"},e+":"):null;return b.default.createElement("div",{className:(0,w.default)("command-group",i)},l,o)}}]),e}(b.default.Component),k=(i=(0,x.inject)("store"))(a=(0,x.observer)(a=function(t){function e(t){(0,h.default)(this,e);var n=(0,m.default)(this,(e.__proto__||(0,u.default)(e)).call(this,t));return n.utterance=window.speechSynthesis?new SpeechSynthesisUtterance:null,n.rtKRecord={Start:function(){S.default.executeToolCommand("rtk_record_replay","start_recorder"),n.speechSynthesis("Start RTK recorder")},Stop:function(){S.default.executeToolCommand("rtk_record_replay","stop_recorder"),n.speechSynthesis("Stop RTK recorder")}},n.rtkReplay={Start:function(){S.default.executeToolCommand("rtk_record_replay","start_player"),n.speechSynthesis("Start RTK replay")},Stop:function(){S.default.executeToolCommand("rtk_record_replay","stop_player"),n.speechSynthesis("Stop RTK replay")}},n.setup={Setup:function(){S.default.executeModeCommand("start"),n.speechSynthesis("Setup")}},n.reset={"Reset All":function(){S.default.executeModeCommand("stop"),n.speechSynthesis("Reset All")}},n.auto={"Start Auto":function(){S.default.changeDrivingMode("COMPLETE_AUTO_DRIVE"),n.speechSynthesis("Start Auto")}},n}return(0,v.default)(e,t),(0,f.default)(e,[{key:"componentWillUpdate",value:function(){this.utterance&&window.speechSynthesis.cancel()}},{key:"speechSynthesis",value:function(t){this.utterance&&(this.utterance.text=t,window.speechSynthesis.speak(this.utterance))}},{key:"render",value:function(){var t=this.props.store.hmi,e=this.props.store.options.tasksPanelLocked;return b.default.createElement("div",{className:"card"},b.default.createElement("div",{className:"card-header"},b.default.createElement("span",null,"Quick Start")),b.default.createElement("div",{className:"card-content-column"},b.default.createElement(E,{disabled:e,commands:this.setup}),b.default.createElement(E,{disabled:e,commands:this.reset}),b.default.createElement(E,{disabled:!t.enableStartAuto||e,commands:this.auto,extraButtonClass:"start-auto-button",extraCommandClass:"start-auto-command"}),t.showRTKCommands&&b.default.createElement(E,{name:"Record",disabled:e,commands:this.rtKRecord}),t.showRTKCommands&&b.default.createElement(E,{name:"Replay",disabled:e,commands:this.rtkReplay})))}}]),e}(b.default.Component))||a)||a;e.default=k},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(3),a=r(i),o=n(0),s=r(o),l=n(1),u=r(l),c=n(5),h=r(c),d=n(4),f=r(d),p=n(2),m=r(p),g=n(206),v=r(g),y=n(205),b=r(y),x=n(204),_=r(x),w=n(203),M=r(w),S=function(t){function e(){return(0,s.default)(this,e),(0,h.default)(this,(e.__proto__||(0,a.default)(e)).apply(this,arguments))}return(0,f.default)(e,t),(0,u.default)(e,[{key:"render",value:function(){return m.default.createElement("div",{className:"tasks"},m.default.createElement(v.default,null),m.default.createElement(b.default,null),m.default.createElement(_.default,null),m.default.createElement(M.default,null))}}]),e}(m.default.Component);e.default=S},function(t,e,n){"use strict";(function(t){function r(t){return t&&t.__esModule?t:{default:t}}function i(e){for(var n=e.length,r=new ArrayBuffer(2*n),i=new Int16Array(r,0),a=0,o=0;o<n;++o){var s=Math.max(-1,Math.min(e[o],1));s=0|(s<0?32768*s:32767*s),i[a++]=s}return t(r)}function a(t,e){if(16e3===e)return t;if(e<16e3)throw"Cannot increase sample rate.";for(var n=e/16e3,r=Math.round(t.length/n),i=new Float32Array(r),a=0;a<r;++a)i[a]=function(t){return t.reduce(function(t,e){return t+e},0)/t.length}(t.slice(Math.ceil(a*n),Math.ceil((a+1)*n)));return i}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,s,l=n(3),u=r(l),c=n(0),h=r(c),d=n(1),f=r(d),p=n(5),m=r(p),g=n(4),v=r(g),y=n(2),b=r(y),x=n(8),_=n(488),w=r(_),M=n(13),S=(r(M),n(17)),E=r(S),k=(o=(0,x.inject)("store"))(s=(0,x.observer)(s=function(t){function e(t){(0,h.default)(this,e);var n=(0,m.default)(this,(e.__proto__||(0,u.default)(e)).call(this,t));return n.handleStream=n.handleStream.bind(n),n.handleError=n.handleError.bind(n),n.handleStart=n.handleStart.bind(n),n.handleStop=n.handleStop.bind(n),n}return(0,v.default)(e,t),(0,f.default)(e,[{key:"componentWillMount",value:function(){this.recorder?this.handleStart():navigator.mediaDevices.getUserMedia({audio:!0}).then(this.handleStream).catch(this.handleError)}},{key:"componentWillUnmount",value:function(){this.handleStop()}},{key:"handleError",value:function(t){console.log(t)}},{key:"handleStart",value:function(){var t=this;this.recorder.start(),this.timer=setInterval(function(){t.recorder.stop().then(function(e){var n=(e.blob,e.buffer),r=a(n[0],t.audio_context.sampleRate);E.default.sendVoicePiece(i(r)),t.recorder.start()})},100)}},{key:"handleStop",value:function(){clearInterval(this.timer),this.recorder&&this.recorder.stop()}},{key:"handleStream",value:function(t){this.audio_context=new(window.AudioContext||window.webkitAudioContext),this.recorder=new w.default(this.audio_context),this.recorder.init(t),this.handleStart()}},{key:"render",value:function(){return null}}]),e}(b.default.Component))||s)||s;e.default=k}).call(e,n(251).Buffer)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(79),a=r(i),o=n(248),s=r(o),l=n(2),u=r(l),c=n(19),h=r(c),d=function(t){var e=t.image,n=t.style,r=t.className,i=((0,s.default)(t,["image","style","className"]),(0,a.default)({},n||{},{backgroundImage:"url("+e+")",backgroundSize:"cover"})),o=r?r+" dreamview-image":"dreamview-image";return u.default.createElement("div",{className:o,style:i})};d.propTypes={image:h.default.string.isRequired,style:h.default.object},e.default=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(3),a=r(i),o=n(0),s=r(o),l=n(1),u=r(l),c=n(5),h=r(c),d=n(4),f=r(d),p=n(2),m=r(p),g=n(14),v=r(g),y=n(36),b=(r(y),n(166)),x=r(b),_=n(533),w=(r(_),function(t){function e(){return(0,s.default)(this,e),(0,h.default)(this,(e.__proto__||(0,a.default)(e)).apply(this,arguments))}return(0,f.default)(e,t),(0,u.default)(e,[{key:"render",value:function(){var t=this.props,e=t.height,n=t.extraClasses,r=x.default;return m.default.createElement("div",{className:"loader",style:{height:e}},m.default.createElement("div",{className:(0,v.default)("img-container",n)},m.default.createElement("img",{src:r,alt:"Loader"}),m.default.createElement("div",{className:"status-message"},"Please send car initial position and map data.")))}}]),e}(m.default.Component));e.default=w},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(0),a=r(i),o=n(1),s=r(o),l=n(13),u=r(l),c=n(503),h=r(c),d=n(504),f=r(d),p=n(62),m={adc:{menuOptionName:"showPositionLocalization",carMaterial:h.default},planningAdc:{menuOptionName:"showPlanningCar",carMaterial:null}},g=function(){function t(e,n){var r=this;(0,a.default)(this,t),this.mesh=null,this.name=e;var i=m[e];if(!i)return void console.error("Car properties not found for car:",e);(0,p.loadObject)(i.carMaterial,f.default,{x:1,y:1,z:1},function(t){r.mesh=t,r.mesh.rotation.x=Math.PI/2,r.mesh.visible=u.default.options[i.menuOptionName],n.add(r.mesh)})}return(0,s.default)(t,[{key:"update",value:function(t,e){if(this.mesh&&e&&_.isNumber(e.positionX)&&_.isNumber(e.positionY)){var n=m[this.name].menuOptionName;this.mesh.visible=u.default.options[n];var r=t.applyOffset({x:e.positionX,y:e.positionY});null!==r&&(this.mesh.position.set(r.x,r.y,0),this.mesh.rotation.y=e.heading)}}}]),t}();e.default=g},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(0),a=r(i),o=n(1),s=r(o),l=n(12),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(l),c=function(){function t(){(0,a.default)(this,t),this.systemName="ENU",this.offset=null}return(0,s.default)(t,[{key:"isInitialized",value:function(){return null!==this.offset}},{key:"initialize",value:function(t,e){this.offset={x:t,y:e},console.log("Offset is set to x:"+t+", y:"+e)}},{key:"setSystem",value:function(t){this.systemName=t}},{key:"applyOffset",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return null===this.offset?(console.error("Offset is not set."),null):isNaN(this.offset.x)||isNaN(this.offset.y)?(console.error("Offset contains NaN!"),null):isNaN(t.x)||isNaN(t.y)?(console.warn("Point contains NaN!"),null):isNaN(t.z)?new u.Vector2(e?t.x+this.offset.x:t.x-this.offset.x,e?t.y+this.offset.y:t.y-this.offset.y):new u.Vector3(e?t.x+this.offset.x:t.x-this.offset.x,e?t.y+this.offset.y:t.y-this.offset.y,t.z)}},{key:"applyOffsetToArray",value:function(t){var e=this;return t.map(function(t){return e.applyOffset(t)})}}]),t}();e.default=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(37),a=r(i),o=n(0),s=r(o),l=n(1),u=r(l),c=n(12),h=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(c),d=n(13),f=r(d),p=n(521),m=r(p),g=n(525),v=r(g),y=n(523),b=r(y),x=n(163),_=r(x),w=n(524),M=r(w),S=n(515),E=r(S),k=n(518),T=r(k),C=n(516),P=r(C),O=n(519),A=r(O),R=n(517),L=r(R),I=n(520),D=r(I),N=n(513),z=r(N),B=n(527),F=r(B),U=n(526),j=r(U),W=n(528),G=r(W),V=n(529),H=r(V),Y=n(530),q=r(Y),X=n(511),Z=r(X),K=n(512),J=r(K),Q=n(514),$=r(Q),tt=n(522),et=r(tt),nt=n(510),rt=r(nt),it=n(509),at=r(it),ot=n(48),st=n(31),lt=n(40),ut={STOP:16724016,FOLLOW:1757281,YIELD:16724215,OVERTAKE:3188223},ct={STOP_REASON_HEAD_VEHICLE:D.default,STOP_REASON_DESTINATION:z.default,STOP_REASON_PEDESTRIAN:F.default,STOP_REASON_OBSTACLE:j.default,STOP_REASON_SIGNAL:G.default,STOP_REASON_STOP_SIGN:H.default,STOP_REASON_YIELD_SIGN:q.default,STOP_REASON_CLEAR_ZONE:Z.default,STOP_REASON_CROSSWALK:J.default,STOP_REASON_EMERGENCY:$.default,STOP_REASON_NOT_READY:et.default},ht={LEFT:at.default,RIGHT:rt.default},dt=function(){function t(){(0,s.default)(this,t),this.markers={STOP:[],FOLLOW:[],YIELD:[],OVERTAKE:[]},this.nudges=[],this.mainDecision={STOP:this.getMainStopDecision(),CHANGE_LANE:this.getMainChangeLaneDecision()},this.mainDecisionAddedToScene=!1}return(0,u.default)(t,[{key:"update",value:function(t,e,n){this.nudges.forEach(function(t){n.remove(t),t.geometry.dispose(),t.material.dispose()}),this.nudges=[],this.updateMainDecision(t,e,n),this.updateObstacleDecision(t,e,n)}},{key:"updateMainDecision",value:function(t,e,n){var r=this,i=t.mainDecision?t.mainDecision:t.mainStop;for(var o in this.mainDecision)this.mainDecision[o].visible=!1;if(f.default.options.showDecisionMain&&!lt.isEmpty(i)){if(!this.mainDecisionAddedToScene){for(var s in this.mainDecision)n.add(this.mainDecision[s]);this.mainDecisionAddedToScene=!0}for(var l in ct)this.mainDecision.STOP[l].visible=!1;for(var u in ht)this.mainDecision.CHANGE_LANE[u].visible=!1;var c=e.applyOffset({x:i.positionX,y:i.positionY,z:.2}),h=i.heading,d=!0,p=!1,m=void 0;try{for(var g,v=(0,a.default)(i.decision);!(d=(g=v.next()).done);d=!0)!function(){var t=g.value,n=c,i=h;lt.isNumber(t.positionX)&&lt.isNumber(t.positionY)&&(n=e.applyOffset({x:t.positionX,y:t.positionY,z:.2})),lt.isNumber(t.heading)&&(i=t.heading);var a=lt.attempt(function(){return t.stopReason});!lt.isError(a)&&a&&(r.mainDecision.STOP.position.set(n.x,n.y,n.z),r.mainDecision.STOP.rotation.set(Math.PI/2,i-Math.PI/2,0),r.mainDecision.STOP[a].visible=!0,r.mainDecision.STOP.visible=!0);var o=lt.attempt(function(){return t.changeLaneType});!lt.isError(o)&&o&&(r.mainDecision.CHANGE_LANE.position.set(n.x,n.y,n.z),r.mainDecision.CHANGE_LANE.rotation.set(Math.PI/2,i-Math.PI/2,0),r.mainDecision.CHANGE_LANE[o].visible=!0,r.mainDecision.CHANGE_LANE.visible=!0)}()}catch(t){p=!0,m=t}finally{try{!d&&v.return&&v.return()}finally{if(p)throw m}}}}},{key:"updateObstacleDecision",value:function(t,e,n){var r=this,i=t.object;if(f.default.options.showDecisionObstacle&&!lt.isEmpty(i)){for(var a={STOP:0,FOLLOW:0,YIELD:0,OVERTAKE:0},o=0;o<i.length;o++){var s=i[o].decision;if(!lt.isEmpty(s))for(var l=0;l<s.length;++l){(function(t){var l=s[t],u=lt.attempt(function(){return l.type});if(lt.isError(u))return"continue";if("STOP"===u||"FOLLOW"===u||"YIELD"===u||"OVERTAKE"===u){var c=null;a[u]>=r.markers[u].length?(c=r.getObstacleDecision(u),r.markers[u].push(c),n.add(c)):c=r.markers[u][a[u]];var d=e.applyOffset(new h.Vector3(l.positionX,l.positionY,0));if(null===d)return"continue";if(c.position.set(d.x,d.y,.2),c.rotation.set(Math.PI/2,l.heading-Math.PI/2,0),c.visible=!0,a[u]++,"YIELD"===u||"OVERTAKE"===u){var f=c.connect;f.geometry.vertices[0].set(i[o].positionX-l.positionX,i[o].positionY-l.positionY,0),f.geometry.verticesNeedUpdate=!0,f.geometry.computeLineDistances(),f.geometry.lineDistancesNeedUpdate=!0,f.rotation.set(Math.PI/-2,0,Math.PI/2-l.heading)}}else if("NUDGE"===u){var p=(0,st.drawShapeFromPoints)(e.applyOffsetToArray(l.polygonPoint),new h.MeshBasicMaterial({color:16744192}),!1,2);r.nudges.push(p),n.add(p)}})(l)}}var u=null;for(u in ut)(0,ot.hideArrayObjects)(this.markers[u],a[u])}else{var c=null;for(c in ut)(0,ot.hideArrayObjects)(this.markers[c])}}},{key:"getMainStopDecision",value:function(){var t=this.getFence("MAIN_STOP");for(var e in ct){var n=(0,st.drawImage)(ct[e],1,1,4.2,3.7,0);t.add(n),t[e]=n}return t.visible=!1,t}},{key:"getMainChangeLaneDecision",value:function(){var t=this.getFence("MAIN_CHANGE_LANE");for(var e in ht){var n=(0,st.drawImage)(ht[e],1,1,1,2.8,0);t.add(n),t[e]=n}return t.visible=!1,t}},{key:"getObstacleDecision",value:function(t){var e=this.getFence(t);if("YIELD"===t||"OVERTAKE"===t){var n=ut[t],r=(0,st.drawDashedLineFromPoints)([new h.Vector3(1,1,0),new h.Vector3(0,0,0)],n,2,2,1,30);e.add(r),e.connect=r}return e.visible=!1,e}},{key:"getFence",value:function(t){var e=null,n=null,r=new h.Object3D;switch(t){case"STOP":e=(0,st.drawImage)(T.default,11.625,3,0,1.5,0),r.add(e),n=(0,st.drawImage)(v.default,1,1,3,3.6,0),r.add(n);break;case"FOLLOW":e=(0,st.drawImage)(P.default,11.625,3,0,1.5,0),r.add(e),n=(0,st.drawImage)(b.default,1,1,3,3.6,0),r.add(n);break;case"YIELD":e=(0,st.drawImage)(A.default,11.625,3,0,1.5,0),r.add(e),n=(0,st.drawImage)(_.default,1,1,3,3.6,0),r.add(n);break;case"OVERTAKE":e=(0,st.drawImage)(L.default,11.625,3,0,1.5,0),r.add(e),n=(0,st.drawImage)(M.default,1,1,3,3.6,0),r.add(n);break;case"MAIN_STOP":e=(0,st.drawImage)(E.default,11.625,3,0,1.5,0),r.add(e),n=(0,st.drawImage)(m.default,1,1,3,3.6,0),r.add(n)}return r}}]),t}();e.default=dt},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(0),a=r(i),o=n(1),s=r(o),l=n(12),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(l),c=n(13),h=r(c),d=n(31),f=function(){function t(){(0,a.default)(this,t),this.circle=null,this.base=null}return(0,s.default)(t,[{key:"update",value:function(t,e,n){if(t.gps&&t.autoDrivingCar){if(!this.circle){var r=new u.MeshBasicMaterial({color:27391,transparent:!1,opacity:.5});this.circle=(0,d.drawCircle)(.2,r),n.add(this.circle)}if(!this.base){var i=h.default.hmi.vehicleParam;this.base=(0,d.drawSegmentsFromPoints)([new u.Vector3(i.frontEdgeToCenter,-i.leftEdgeToCenter,0),new u.Vector3(i.frontEdgeToCenter,i.rightEdgeToCenter,0),new u.Vector3(-i.backEdgeToCenter,i.rightEdgeToCenter,0),new u.Vector3(-i.backEdgeToCenter,-i.leftEdgeToCenter,0),new u.Vector3(i.frontEdgeToCenter,-i.leftEdgeToCenter,0)],27391,2,5),n.add(this.base)}var a=h.default.options.showPositionGps,o=e.applyOffset({x:t.gps.positionX,y:t.gps.positionY,z:0});this.circle.position.set(o.x,o.y,o.z),this.circle.visible=a,this.base.position.set(o.x,o.y,o.z),this.base.rotation.set(0,0,t.gps.heading),this.base.visible=a}}}]),t}();e.default=f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(0),a=r(i),o=n(1),s=r(o),l=n(12),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(l),c=n(62),h=n(531),d=r(h),f=n(30),p=r(f),m=n(13),g=r(m),v=function(){function t(){var e=this;(0,a.default)(this,t),this.type="default",this.loadedMap=null,this.updateMap=null,this.mesh=null,this.geometry=null,this.initialized=!1,this.inNaviMode=null,(0,c.loadTexture)(d.default,function(t){e.geometry=new u.PlaneGeometry(1,1),e.mesh=new u.Mesh(e.geometry,new u.MeshBasicMaterial({map:t}))})}return(0,s.default)(t,[{key:"initialize",value:function(t){return!!this.mesh&&(!(this.loadedMap===this.updateMap&&!this.render(t))&&(this.initialized=!0,!0))}},{key:"loadGrid",value:function(t){var e=this;(0,c.loadTexture)(d.default,function(n){console.log("using grid as ground image..."),e.mesh.material.map=n,e.mesh.type="grid",e.render(t)})}},{key:"update",value:function(t,e,n){var r=this;if(!0===this.initialized){var i=this.inNaviMode!==g.default.hmi.inNavigationMode;if(this.inNaviMode=g.default.hmi.inNavigationMode,this.inNaviMode?(this.mesh.type="grid",i&&this.loadGrid(e)):this.mesh.type="refelction","grid"===this.mesh.type){var a=t.autoDrivingCar,o=e.applyOffset({x:a.positionX,y:a.positionY});this.mesh.position.set(o.x,o.y,0)}else if(this.loadedMap!==this.updateMap||i){var s=this.titleCaseToSnakeCase(this.updateMap),l=window.location,u=p.default.server.port,h=l.protocol+"//"+l.hostname+":"+u,d=h+"/assets/map_data/"+s+"/background.jpg";(0,c.loadTexture)(d,function(t){console.log("updating ground image with "+s),r.mesh.material.map=t,r.mesh.type="reflection",r.render(e,s)},function(t){r.loadGrid(e)}),this.loadedMap=this.updateMap}}}},{key:"updateImage",value:function(t){this.updateMap=t}},{key:"render",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"defaults";console.log("rendering ground image...");var n=p.default.ground[e],r=n.xres,i=n.yres,a=n.mpp,o=n.xorigin,s=n.yorigin,l=t.applyOffset({x:o,y:s});return null===l?(console.warn("Cannot find position for ground mesh!"),!1):("defaults"===e&&(l={x:0,y:0}),this.mesh.position.set(l.x,l.y,0),this.mesh.scale.set(r*a,i*a,1),this.mesh.material.needsUpdate=!0,this.mesh.overdraw=!1,!0)}},{key:"titleCaseToSnakeCase",value:function(t){return t.replace(/\s/g,"_").toLowerCase()}}]),t}();e.default=v},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(32),a=r(i),o=n(79),s=r(o),l=n(37),u=r(l),c=n(0),h=r(c),d=n(1),f=r(d),p=n(12),m=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(p),g=n(13),v=r(g),y=n(17),b=n(31),x=n(505),w=r(x),M=n(506),S=r(M),E=n(507),k=r(E),T=n(508),C=r(T),P=n(62),O={YELLOW:14329120,WHITE:13421772,CORAL:16744272,RED:16737894,GREEN:25600,BLUE:3188223,PURE_WHITE:16777215,DEFAULT:12632256},A={x:.006,y:.006,z:.006},R={x:.01,y:.01,z:.01},L=function(){function t(){(0,h.default)(this,t),this.hash=-1,this.data={},this.laneHeading={},this.overlapMap={},this.initialized=!1,this.elementKindsDrawn=""}return(0,f.default)(t,[{key:"diffMapElements",value:function(t,e){var n=this,r={},i=!0;for(var a in t){(function(a){if(!n.shouldDrawThisElementKind(a))return"continue";r[a]=[];for(var o=t[a],s=e[a],l=0;l<o.length;++l)!function(t){!!s&&s.find(function(e){return e.id.id===o[t]})||(i=!1,r[a].push(o[t]))}(l)})(a)}return i?{}:r}},{key:"addLaneMesh",value:function(t,e){switch(t){case"DOTTED_YELLOW":return(0,b.drawDashedLineFromPoints)(e,O.YELLOW,4,3,3,1,!1);case"DOTTED_WHITE":return(0,b.drawDashedLineFromPoints)(e,O.WHITE,4,3,3,1,!1);case"SOLID_YELLOW":return(0,b.drawSegmentsFromPoints)(e,O.YELLOW,3,1,!1);case"SOLID_WHITE":return(0,b.drawSegmentsFromPoints)(e,O.WHITE,3,1,!1);case"DOUBLE_YELLOW":var n=(0,b.drawSegmentsFromPoints)(e,O.YELLOW,2,1,!1),r=(0,b.drawSegmentsFromPoints)(e.map(function(t){return new m.Vector3(t.x+.3,t.y+.3,t.z)}),O.YELLOW,3,1,!1);return n.add(r),n;case"CURB":return(0,b.drawSegmentsFromPoints)(e,O.CORAL,3,1,!1);default:return(0,b.drawSegmentsFromPoints)(e,O.DEFAULT,3,1,!1)}}},{key:"addLane",value:function(t,e,n){var r=this,i=[];t.centralCurve.segment.forEach(function(t){var r=e.applyOffsetToArray(t.lineSegment.point),a=(0,b.drawSegmentsFromPoints)(r,O.GREEN,1,1,!1);n.add(a),i.push(a)});var a=t.rightBoundary.boundaryType[0].types[0];t.rightBoundary.virtual&&"DOTTED_WHITE"===a||t.rightBoundary.curve.segment.forEach(function(t,o){var s=e.applyOffsetToArray(t.lineSegment.point),l=r.addLaneMesh(a,s);n.add(l),i.push(l)});var o=t.leftBoundary.boundaryType[0].types[0];return t.leftBoundary.virtual&&"DOTTED_WHITE"===o||t.leftBoundary.curve.segment.forEach(function(t,a){var s=e.applyOffsetToArray(t.lineSegment.point),l=r.addLaneMesh(o,s);n.add(l),i.push(l)}),i}},{key:"addRoad",value:function(t,e,n){var r=this,i=[];return t.section.forEach(function(t){t.boundary.outerPolygon.edge.forEach(function(t){t.curve.segment.forEach(function(t,a){var o=e.applyOffsetToArray(t.lineSegment.point),s=r.addLaneMesh("CURB",o);n.add(s),i.push(s)})})}),i}},{key:"addBorder",value:function(t,e,n,r){var i=[],a=n.applyOffsetToArray(t.polygon.point);a.push(a[0]);var o=(0,b.drawSegmentsFromPoints)(a,e,2,0,!0,!1,1);return r.add(o),i.push(o),i}},{key:"addZone",value:function(t,e,n,r){var i=[],a=n.applyOffsetToArray(t.polygon.point);a.push(a[0]);var o=new m.MeshBasicMaterial({color:e,transparent:!0,opacity:.15}),s=(0,b.drawShapeFromPoints)(a,o,!1,3,!1);r.add(s),i.push(s);var l=(0,b.drawSegmentsFromPoints)(a,e,2,0,!0,!1,1);return r.add(l),i.push(l),i}},{key:"extractOverlaps",value:function(t){var e=this;t.forEach(function(t){var n=t.id.id,r=[],i=[],a=[];t.object.forEach(function(t){t.laneOverlapInfo&&r.push(t.id.id),t.signalOverlapInfo&&i.push(t.id.id),t.stopSignOverlapInfo&&a.push(t.id.id)}),1!==r.length||1!==a.length&&1!==i.length||(e.overlapMap[n]=r[0])})}},{key:"getLaneHeading",value:function(t){var e=_.takeRight(_.last(t.centralCurve.segment).lineSegment.point,2);return 2===e.length?Math.atan2(e[0].y-e[1].y,e[0].x-e[1].x):0}},{key:"getHeadingFromStopLine",value:function(t){var e=t.stopLine[0].segment[0].lineSegment.point,n=e.length;if(n>=2){var r=Math.atan2(e[n-1].y-e[0].y,e[n-1].x-e[0].x);return 1.5*Math.PI+r}return NaN}},{key:"getSignalPositionAndHeading",value:function(t,e){var n=[];if(t.subsignal.forEach(function(t){t.location&&n.push(t.location)}),0===n.length&&(console.warn("Subsignal locations not found, use signal boundary instead."),n.push(t.boundary.point)),0===n.length)return console.warn("Unable to determine signal location, skip."),null;var r=void 0,i=t.overlapId.length;if(i>0){var a=t.overlapId[i-1].id;r=this.laneHeading[this.overlapMap[a]]}if(r||(console.warn("Unable to get traffic light heading, use orthogonal direction of StopLine."),r=this.getHeadingFromStopLine(t)),isNaN(r))return console.error("Error loading traffic light. Unable to determine heading."),null;var o=new m.Vector3(0,0,0);return o.x=_.meanBy(_.values(n),function(t){return t.x}),o.y=_.meanBy(_.values(n),function(t){return t.y}),o=e.applyOffset(o),{pos:o,heading:r}}},{key:"drawStopLine",value:function(t,e,n,r){t.forEach(function(t){t.segment.forEach(function(t){var i=n.applyOffsetToArray(t.lineSegment.point),a=(0,b.drawSegmentsFromPoints)(i,O.PURE_WHITE,5,3,!1);r.add(a),e.push(a)})})}},{key:"addTrafficLight",value:function(t,e,n){var r=[],i=this.getSignalPositionAndHeading(t,e);return i&&(0,P.loadObject)(k.default,C.default,A,function(t){t.rotation.x=Math.PI/2,t.rotation.y=i.heading,t.position.set(i.pos.x,i.pos.y,0),t.matrixAutoUpdate=!1,t.updateMatrix(),n.add(t),r.push(t)}),this.drawStopLine(t.stopLine,r,e,n),r}},{key:"getStopSignPositionAndHeading",value:function(t,e){var n=void 0;if(t.overlapId.length>0){var r=t.overlapId[0].id;n=this.laneHeading[this.overlapMap[r]]}if(n||(console.warn("Unable to get stop sign heading, use orthogonal direction of StopLine."),n=this.getHeadingFromStopLine(t)),isNaN(n))return console.error("Error loading stop sign. Unable to determine heading."),null;var i=t.stopLine[0].segment[0].lineSegment.point[0],a=new m.Vector3(i.x,i.y,0);return a=e.applyOffset(a),{pos:a,heading:n}}},{key:"addStopSign",value:function(t,e,n){var r=[],i=this.getStopSignPositionAndHeading(t,e);return i&&(0,P.loadObject)(w.default,S.default,R,function(t){t.rotation.x=Math.PI/2,t.rotation.y=i.heading-Math.PI/2,t.position.set(i.pos.x,i.pos.y,0),t.matrixAutoUpdate=!1,t.updateMatrix(),n.add(t),r.push(t)}),this.drawStopLine(t.stopLine,r,e,n),r}},{key:"removeDrewObjects",value:function(t,e){t&&t.forEach(function(t){e.remove(t),t.geometry&&t.geometry.dispose(),t.material&&t.material.dispose()})}},{key:"removeAllElements",value:function(t){this.removeExpiredElements([],t)}},{key:"removeExpiredElements",value:function(t,e){var n=this,r={};for(var i in this.data)!function(i){var a=n.shouldDrawThisElementKind(i);r[i]=[];var o=n.data[i],s=t[i];o.forEach(function(t){a&&s&&s.includes(t.id.id)?r[i].push(t):("overlap"!==i&&n.removeDrewObjects(t.drewObjects,e),"lane"===i&&delete n.laneHeading[t.id.id],"overlap"===i&&delete n.overlapMap[t.id.id])})}(i);this.data=r}},{key:"appendMapData",value:function(t,e,n){var r=["overlap","lane","junction","road","clearArea","signal","stopSign","crosswalk"],i=!0,a=!1,o=void 0;try{for(var l,c=(0,u.default)(r);!(i=(l=c.next()).done);i=!0){var h=l.value;if(t[h]){this.data[h]||(this.data[h]=[]);for(var d=0;d<t[h].length;++d)switch(h){case"lane":var f=t[h][d];this.data[h].push((0,s.default)(t[h][d],{drewObjects:this.addLane(f,e,n)})),this.laneHeading[f.id.id]=this.getLaneHeading(f);break;case"clearArea":this.data[h].push((0,s.default)(t[h][d],{drewObjects:this.addZone(t[h][d],O.YELLOW,e,n)}));break;case"crosswalk":this.data[h].push((0,s.default)(t[h][d],{drewObjects:this.addZone(t[h][d],O.PURE_WHITE,e,n)}));break;case"junction":this.data[h].push((0,s.default)(t[h][d],{drewObjects:this.addBorder(t[h][d],O.BLUE,e,n)}));break;case"overlap":this.extractOverlaps(t.overlap),this.data[h].push(t[h][d]);break;case"signal":this.data[h].push((0,s.default)(t[h][d],{drewObjects:this.addTrafficLight(t[h][d],e,n)}));break;case"stopSign":this.data[h].push((0,s.default)(t[h][d],{drewObjects:this.addStopSign(t[h][d],e,n)}));break;case"road":var p=t[h][d];this.data[h].push((0,s.default)(t[h][d],{drewObjects:this.addRoad(p,e,n)}));break;default:this.data[h].push(t[h][d])}}}}catch(t){a=!0,o=t}finally{try{!i&&c.return&&c.return()}finally{if(a)throw o}}}},{key:"shouldDrawThisElementKind",value:function(t){var e="showMap"+t[0].toUpperCase()+t.slice(1);return!1!==v.default.options[e]}},{key:"updateIndex",value:function(t,e,n){if(v.default.hmi.inNavigationMode)y.MAP_WS.requestRelativeMapData();else{var r="",i=!0,o=!1,s=void 0;try{for(var l,c=(0,u.default)((0,a.default)(e).sort());!(i=(l=c.next()).done);i=!0){var h=l.value;this.shouldDrawThisElementKind(h)&&(r+=h)}}catch(t){o=!0,s=t}finally{try{!i&&c.return&&c.return()}finally{if(o)throw s}}if(t!==this.hash||this.elementKindsDrawn!==r){this.hash=t,this.elementKindsDrawn=r;var d=this.diffMapElements(e,this.data);this.removeExpiredElements(e,n),_.isEmpty(d)&&this.initialized||(y.MAP_WS.requestMapData(d),this.initialized=!0)}}}}]),t}();e.default=L},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(0),a=r(i),o=n(1),s=r(o),l=n(12),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(l),c={.5:16711680,1:16744192,1.5:16776960,2:65280,2.5:255,3:4915330,10:9699539},h=function(){function t(){(0,a.default)(this,t),this.points=null,this.initialized=!1}return(0,s.default)(t,[{key:"initialize",value:function(){this.points=this.createPointCloud(c[.5]),this.initialized=!0}},{key:"createPointCloud",value:function(t){for(var e=new u.Geometry,n=[],r=0;r<1e5;++r){var i=new u.Vector3;i.set(0,0,-10),e.vertices.push(i),n[r]=new u.Color(t)}e.colors=n;var a=new u.PointsMaterial({size:.25,transparent:!0,opacity:.7,vertexColors:u.VertexColors}),o=new u.Points(e,a);return o.frustumCulled=!1,o}},{key:"update",value:function(t,e){if(null!==this.points){if(t.num.length%3!=0)return void console.warn("PointCloud length should be multiples of 3!");for(var n=t.num.length/3,r=n<1e5?n:1e5,i=.5,a=0;a<r;a++){var o=t.num[3*a],s=t.num[3*a+1],l=t.num[3*a+2];this.points.geometry.vertices[a].set(o,s,l+.8),i=l<.5?.5:l<1?1:l<1.5?1.5:l<2?2:l<2.5?2.5:l<3?3:10,this.points.geometry.colors[a].setHex(c[i])}for(var u=r;u<1e5;++u)this.points.geometry.vertices[u].set(0,0,-10);this.points.geometry.verticesNeedUpdate=!0,this.points.geometry.colorsNeedUpdate=!0,this.points.position.set(e.position.x,e.position.y,e.position.z),this.points.rotation.set(0,0,e.rotation.y)}}}]),t}();e.default=h},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(0),a=r(i),o=n(1),s=r(o),l=n(12),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(l),c=n(13),h=r(c),d=n(117),f=n(31),p=n(40),m=function(){function t(){(0,a.default)(this,t),this.predLines=[],this.predCircles=[]}return(0,s.default)(t,[{key:"update",value:function(t,e,n){var r=this;this.predLines.forEach(function(t){n.remove(t),t.geometry.dispose(),t.material.dispose()}),this.predLines=[],this.predCircles.forEach(function(t){n.remove(t),t.geometry.dispose(),t.material.dispose()}),this.predCircles=[],(h.default.options.showPredictionMajor||h.default.options.showPredictionMinor)&&(p.isEmpty(t.object)||t.object.forEach(function(t){var i=d.ObstacleColorMapping[t.type]||d.DEFAULT_COLOR,a=t.prediction;if(!p.isEmpty(a)&&h.default.options["showObstacles"+p.upperFirst(p.camelCase(t.type))]){p.sortBy(a,function(t){return t.probablity});var o=a[a.length-1],s=a.slice(0,a.length-1);if(h.default.options.showPredictionMajor){var l=e.applyOffsetToArray(o.predictedTrajectory),u=(0,f.drawSegmentsFromPoints)(l,i,3,6);r.predLines.push(u),n.add(u);for(var c=Math.ceil(l.length/3),m=0;m<l.length;m+=c){var g=r.getPredCircle();g.position.set(l[m].x,l[m].y,.24),g.material.color.setHex(i),n.add(g)}}var v=2.3;h.default.options.showPredictionMinor&&s.forEach(function(t){var a=(0,f.drawSegmentsFromPoints)(e.applyOffsetToArray(t.predictedTrajectory),i,v,6);r.predLines.push(a),n.add(a),v>.2&&(v-=.7)})}}))}},{key:"getPredCircle",value:function(){var t=new u.MeshBasicMaterial({color:16777215,transparent:!1,opacity:.5}),e=(0,f.drawCircle)(.2,t);return this.predCircles.push(e),e}}]),t}();e.default=m},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(0),a=r(i),o=n(1),s=r(o),l=n(12),u=(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);e.default=t}(l),n(13)),c=r(u),h=n(31),d=(n(40),function(){function t(){(0,a.default)(this,t),this.routePaths=[],this.lastRoutingTime=-1}return(0,s.default)(t,[{key:"update",value:function(t,e,n,r){var i=this;this.routePaths.forEach(function(t){t.visible=c.default.options.showRouting}),this.lastRoutingTime!==t&&void 0!==e&&(this.lastRoutingTime=t,this.routePaths.forEach(function(t){r.remove(t),t.material.dispose(),t.geometry.dispose()}),e.forEach(function(t){var e=n.applyOffsetToArray(t.point),a=(0,h.drawThickBandFromPoints)(e,.3,16711680,.6,5);a.visible=c.default.options.showRouting,r.add(a),i.routePaths.push(a)}))}}]),t}());e.default=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(0),a=r(i),o=n(1),s=r(o),l=n(12);!function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);e.default=t}(l);n(555);var u=n(543),c=r(u),h=n(30),d=r(h),f=n(13),p=(r(f),n(17)),m=r(p),g=n(31),v=function(){function t(){(0,a.default)(this,t),this.routePoints=[],this.inEditingMode=!1}return(0,s.default)(t,[{key:"isInEditingMode",value:function(){return this.inEditingMode}},{key:"enableEditingMode",value:function(t,e){this.inEditingMode=!0;t.fov=d.default.camera.Map.fov,t.near=d.default.camera.Map.near,t.far=d.default.camera.Map.far,t.updateProjectionMatrix(),m.default.requestMapElementIdsByRadius(this.EDITING_MAP_RADIUS)}},{key:"disableEditingMode",value:function(t){this.inEditingMode=!1,this.removeAllRoutePoints(t)}},{key:"addRoutingPoint",value:function(t,e,n){var r=e.applyOffset({x:t.x,y:t.y}),i=(0,g.drawImage)(c.default,3.5,3.5,r.x,r.y,.3);this.routePoints.push(i),n.add(i)}},{key:"removeLastRoutingPoint",value:function(t){var e=this.routePoints.pop();e&&(t.remove(e),e.geometry&&e.geometry.dispose(),e.material&&e.material.dispose())}},{key:"removeAllRoutePoints",value:function(t){this.routePoints.forEach(function(e){t.remove(e),e.geometry&&e.geometry.dispose(),e.material&&e.material.dispose()}),this.routePoints=[]}},{key:"sendRoutingRequest",value:function(t,e){if(0===this.routePoints.length)return alert("Please provide at least an end point."),!1;var n=this.routePoints.map(function(t){return t.position.z=0,e.applyOffset(t.position,!0)}),r=n.length>1?n[0]:e.applyOffset(t,!0),i=n[n.length-1],a=n.length>1?n.slice(1,-1):[];return m.default.requestRoute(r,a,i),!0}}]),t}();e.default=v,v.prototype.EDITING_MAP_RADIUS=1500},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(0),a=r(i),o=n(1),s=r(o),l=n(12),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(l),c=n(40),h={},d=!1,f=new u.FontLoader,p="fonts/gentilis_bold.typeface.json";f.load(p,function(t){h.gentilis_bold=t,d=!0},function(t){console.log(p+t.loaded/t.total*100+"% loaded")},function(t){console.log("An error happened when loading "+p)});var m=function(){function t(){(0,a.default)(this,t),this.charMeshes={},this.charPointers={}}return(0,s.default)(t,[{key:"reset",value:function(){this.charPointers={}}},{key:"composeText",value:function(t){if(!d)return null;for(var e=c.map(t,function(t){return t.charCodeAt(0)-32}),n=new u.Object3D,r=0;r<e.length;r++){var i=e[r],a=this.charPointers[i];void 0===a&&(a=0,this.charPointers[i]=a),void 0===this.charMeshes[i]&&(this.charMeshes[i]=[]);var o=this.charMeshes[i][a];void 0===o&&(o=this.charMeshes[i].length>0?this.charMeshes[i][0].clone():this.drawChar3D(t[r]),this.charMeshes[i].push(o));var s=0;switch(t[r]){case",":s=.35;break;case"/":s=.15}o.position.set(.4*(r-e.length/2)+s,0,0),this.charPointers[i]++,n.add(o)}return n}},{key:"drawChar3D",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.gentilis_bold,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.6,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:16771584,a=new u.TextGeometry(t,{font:e,size:n,height:r}),o=new u.MeshBasicMaterial({color:i});return new u.Mesh(a,o)}}]),t}();e.default=m},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){var n=new d.default(t);for(var r in e)n.delete(r);return n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(37),o=r(a),s=n(0),l=r(s),u=n(1),c=r(u),h=n(245),d=r(h),f=n(12),p=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(f),m=n(30),g=r(m),v=n(17),y=(r(v),n(62)),b=function(){function t(){(0,l.default)(this,t),this.mesh=!0,this.type="tile",this.hash=-1,this.currentTiles={},this.initialized=!1,this.range=g.default.ground.defaults.tileRange,this.metadata=null,this.mapId=null,this.mapUrlPrefix=null}return(0,c.default)(t,[{key:"initialize",value:function(t,e){this.metadata={tileLength:e.tile*e.mpp,left:e.left,top:e.top,numCols:e.wnum,numRows:e.hnum,mpp:e.mpp,tile:e.tile,imageUrl:e.image_url},this.mapId=e.mapid,this.mapUrlPrefix=this.metadata.imageUrl?this.metadata.imageUrl+"/"+this.mapId:t+"/map/getMapPic",this.initialized=!0}},{key:"removeDrewObject",value:function(t,e){var n=this.currentTiles[t];n&&(e.remove(n),n.geometry&&n.geometry.dispose(),n.material&&n.material.dispose()),delete this.currentTiles[t]}},{key:"appendTiles",value:function(t,e,n,r,i){var a=this;if(!(e<0||e>this.metadata.numCols||t<0||t>this.metadata.numRows)){var o=this.metadata.imageUrl?this.mapUrlPrefix+"/"+this.metadata.mpp+"_"+t+"_"+e+"_"+this.metadata.tile+".png":this.mapUrlPrefix+"?mapId="+this.mapId+"&i="+t+"&j="+e,s=r.applyOffset({x:this.metadata.left+(t+.5)*this.metadata.tileLength,y:this.metadata.top-(e+.5)*this.metadata.tileLength,z:0});(0,y.loadTexture)(o,function(t){var e=new p.Mesh(new p.PlaneGeometry(1,1),new p.MeshBasicMaterial({map:t}));e.position.set(s.x,s.y,s.z),e.scale.set(a.metadata.tileLength,a.metadata.tileLength,1),e.overdraw=!1,a.currentTiles[n]=e,i.add(e)})}}},{key:"removeExpiredTiles",value:function(t,e){for(var n in this.currentTiles)t.has(n)||this.removeDrewObject(n,e)}},{key:"updateIndex",value:function(t,e,n,r){if(t!==this.hash){this.hash=t,this.removeExpiredTiles(e,r);var a=i(e,this.currentTiles);if(!_.isEmpty(a)||!this.initialized){var s=!0,l=!1,u=void 0;try{for(var c,h=(0,o.default)(a);!(s=(c=h.next()).done);s=!0){var d=c.value;this.currentTiles[d]=null;var f=d.split(","),p=parseInt(f[0]),m=parseInt(f[1]);this.appendTiles(p,m,d,n,r)}}catch(t){l=!0,u=t}finally{try{!s&&h.return&&h.return()}finally{if(l)throw u}}}}}},{key:"update",value:function(t,e,n){if(e.isInitialized()&&this.initialized){for(var r=t.autoDrivingCar.positionX,i=t.autoDrivingCar.positionY,a=Math.floor((r-this.metadata.left)/this.metadata.tileLength),o=Math.floor((this.metadata.top-i)/this.metadata.tileLength),s=new d.default,l="",u=a-this.range;u<=a+this.range;u++)for(var c=o-this.range;c<=o+this.range;c++){var h=u+","+c;s.add(h),l+=h}this.updateIndex(l,s,e,n)}}}]),t}();e.default=b},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!t)return[];for(var n=[],r=0;r<t.length;++r){var i=t[r],a=e.applyOffset(i);if(null!==a){if(n.length>0){if(Math.abs(n[n.length-1].x-a.x)+Math.abs(n[n.length-1].y-a.y)<d.default.planning.minInterval)continue}n.push(a)}}return n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(0),o=r(a),s=n(1),l=r(s),u=n(13),c=r(u),h=n(30),d=r(h),f=n(31),p={planning_reference_line:{optionName:"showPlanningReference",width:.15,color:3580651,opacity:1,zOffset:7},DpPolyPathOptimizer:{optionName:"showPlanningDpOptimizer",width:.4,color:9305268,opacity:.8,zOffset:6},QpSplinePathOptimizer:{optionName:"showPlanningQpOptimizer",width:.65,color:14177878,opacity:.8,zOffset:5},trajectory:{optionName:"showPlanning",width:.8,color:119233,opacity:.65,zOffset:4}},m=function(){function t(){(0,o.default)(this,t),this.paths={}}return(0,l.default)(t,[{key:"update",value:function(t,e,n,r){var a=null;t.autoDrivingCar.width?a=t.autoDrivingCar.width:(console.warn("Unable to get the auto driving car's width, planning line width has been set to default: "+d.default.planning.defaults.width+" m."),a=d.default.planning.defaults.width);var o={};e&&e.path&&e.path.forEach(function(t){o[t.name]=t.pathPoint}),t.planningTrajectory&&(o.trajectory=t.planningTrajectory.map(function(t){return{x:t.positionX,y:t.positionY}}));for(var s in p){var l=p[s];if(c.default.options[l.optionName]){var u=this.paths[s];if(u&&(r.remove(u),u.geometry.dispose(),u.material.dispose()),o[s]){var h=i(o[s],n);this.paths[s]=(0,f.drawThickBandFromPoints)(h,a*l.width,l.color,l.opacity,l.zOffset),r.add(this.paths[s])}}else this.paths[s]&&(this.paths[s].visible=!1)}}}]),t}();e.default=m},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n,r){n&&(0,u.default)(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function a(t,e,n,r,i){var a={};return Object.keys(r).forEach(function(t){a[t]=r[t]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(t,e,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,s,l=n(20),u=r(l),c=n(25),h=r(c),d=n(0),f=r(d),p=n(1),m=r(p),g=n(24),v=n(12),y=(o=function(){function t(){(0,f.default)(this,t),i(this,"lastUpdatedTime",s,this),this.data=this.initData()}return(0,m.default)(t,[{key:"updateTime",value:function(t){this.lastUpdatedTime=t}},{key:"initData",value:function(){return{trajectoryGraph:{plan:[],target:[],real:[],autoModeZone:[],steerCurve:[],pose:[{x:null,y:null,rotation:null}]},speedGraph:{plan:[],target:[],real:[],autoModeZone:[]},curvatureGraph:{plan:[],target:[],real:[],autoModeZone:[]},accelerationGraph:{plan:[],target:[],real:[],autoModeZone:[]},stationErrorGraph:{error:[]},headingErrorGraph:{error:[]},lateralErrorGraph:{error:[]}}}},{key:"updateErrorGraph",value:function(t,e,n){if(n&&e&&t){var r=t.error.length>0&&e<t.error[t.error.length-1].x,i=t.error.length>=80;r?t.error=[]:i&&t.error.shift();(0===t.error.length||e!==t.error[t.error.length-1].x)&&t.error.push({x:e,y:n})}}},{key:"updateSteerCurve",value:function(t,e,n){var r=e.steeringAngle/n.steerRatio,i=null;i=Math.abs(Math.tan(r))>1e-4?n.length/Math.tan(r):1e5;var a=e.heading,o=Math.abs(i),s=7200/(2*Math.PI*o)*Math.PI/180,l=null,u=null,c=null,h=null;i>=0?(c=Math.PI/2+a,h=a-Math.PI/2,l=0,u=s):(c=a-Math.PI/2,h=Math.PI/2+a,l=-s,u=0);var d=e.positionX+Math.cos(c)*o,f=e.positionY+Math.sin(c)*o,p=new v.EllipseCurve(d,f,o,o,l,u,!1,h);t.steerCurve=p.getPoints(25)}},{key:"interpolateValueByCurrentTime",value:function(t,e,n){if("timestampSec"===n)return e;var r=t.map(function(t){return t.timestampSec}),i=t.map(function(t){return t[n]});return new v.LinearInterpolant(r,i,1,[]).evaluate(e)[0]}},{key:"updateAdcStatusGraph",value:function(t,e,n,r,i){var a=n.timestampSec,o=t.target.length>0&&a<t.target[t.target.length-1].t,s=t.target.length>=80;if(o?(t.target=[],t.real=[],t.autoModeZone=[]):s&&(t.target.shift(),t.real.shift(),t.autoModeZone.shift()),0===t.target.length||a!==t.target[t.target.length-1].t){t.plan=e.map(function(t){return{x:t[r],y:t[i]}}),t.target.push({x:this.interpolateValueByCurrentTime(e,a,r),y:this.interpolateValueByCurrentTime(e,a,i),t:a}),t.real.push({x:n[r],y:n[i]});var l="DISENGAGE_NONE"===n.disengageType;t.autoModeZone.push({x:n[r],y:l?n[i]:void 0})}}},{key:"update",value:function(t,e){var n=t.planningTrajectory,r=t.autoDrivingCar;if(n&&r&&(this.updateAdcStatusGraph(this.data.speedGraph,n,r,"timestampSec","speed"),this.updateAdcStatusGraph(this.data.accelerationGraph,n,r,"timestampSec","speedAcceleration"),this.updateAdcStatusGraph(this.data.curvatureGraph,n,r,"timestampSec","kappa"),this.updateAdcStatusGraph(this.data.trajectoryGraph,n,r,"positionX","positionY"),this.updateSteerCurve(this.data.trajectoryGraph,r,e),this.data.trajectoryGraph.pose[0].x=r.positionX,this.data.trajectoryGraph.pose[0].y=r.positionY,this.data.trajectoryGraph.pose[0].rotation=r.heading,this.updateTime(t.planningTime)),t.controlData){var i=t.controlData,a=i.timestampSec;this.updateErrorGraph(this.data.stationErrorGraph,a,i.stationError),this.updateErrorGraph(this.data.lateralErrorGraph,a,i.lateralError),this.updateErrorGraph(this.data.headingErrorGraph,a,i.headingError)}}}]),t}(),s=a(o.prototype,"lastUpdatedTime",[g.observable],{enumerable:!0,initializer:function(){return null}}),a(o.prototype,"updateTime",[g.action],(0,h.default)(o.prototype,"updateTime"),o.prototype),o);e.default=y},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n,r){n&&(0,m.default)(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function a(t,e,n,r,i){var a={};return Object.keys(r).forEach(function(t){a[t]=r[t]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(t,e,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,s,l,u,c,h,d,f,p=n(20),m=r(p),g=n(25),v=r(g),y=n(32),b=r(y),x=n(0),_=r(x),w=n(1),M=r(w),S=n(24),E=n(17),k=r(E),T=(o=function(){function t(){(0,_.default)(this,t),this.modes={},i(this,"currentMode",s,this),this.vehicles=[],i(this,"currentVehicle",l,this),this.vehicleParam={frontEdgeToCenter:3.89,backEdgeToCenter:1.04,leftEdgeToCenter:1.055,rightEdgeToCenter:1.055,height:1.48,width:2.11,length:4.933,steerRatio:16},this.maps=[],i(this,"currentMap",u,this),i(this,"moduleStatus",c,this),i(this,"hardwareStatus",h,this),i(this,"enableStartAuto",d,this),this.displayName={},this.utmZoneId=10,this.utterance=window.speechSynthesis?new SpeechSynthesisUtterance:null,i(this,"dockerImage",f,this)}return(0,M.default)(t,[{key:"initialize",value:function(t){var e=this;t.dockerImage&&(this.dockerImage=t.dockerImage),t.modes&&(this.modes=t.modes),t.utmZoneId&&(this.utmZoneId=t.utmZoneId),this.vehicles=(0,b.default)(t.availableVehicles).sort().map(function(t){return t}),this.maps=(0,b.default)(t.availableMaps).sort().map(function(t){return t}),(0,b.default)(t.modules).forEach(function(n){e.moduleStatus.set(n,!1),e.displayName[n]=t.modules[n].displayName}),(0,b.default)(t.hardware).forEach(function(n){e.hardwareStatus.set(n,"NOT_READY"),e.displayName[n]=t.hardware[n].displayName})}},{key:"updateStatus",value:function(t){if(t.currentMode&&(this.currentMode=t.currentMode),t.currentMap&&(this.currentMap=t.currentMap),t.currentVehicle&&(this.currentVehicle=t.currentVehicle),t.systemStatus){if(t.systemStatus.modules)for(var e in t.systemStatus.modules)this.moduleStatus.set(e,t.systemStatus.modules[e].processStatus.running);if(t.systemStatus.hardware)for(var n in t.systemStatus.hardware)this.hardwareStatus.set(n,t.systemStatus.hardware[n].summary);this.utterance&&"string"==typeof t.systemStatus.passengerMsg&&t.systemStatus.passengerMsg!==this.utterance.text&&(this.utterance.text=t.systemStatus.passengerMsg,this.speakPassengerMessage())}}},{key:"speakPassengerMessage",value:function(){var t=this;this.utterance.text?(window.speechSynthesis.speaking||window.speechSynthesis.speak(this.utterance),this.utterance.onend=function(){window.speechSynthesis.speak(t.utterance)}):this.utterance.onend=null}},{key:"update",value:function(t){this.enableStartAuto="READY_TO_ENGAGE"===t.engageAdvice}},{key:"updateVehicleParam",value:function(t){this.vehicleParam=t}},{key:"toggleModule",value:function(t){this.moduleStatus.set(t,!this.moduleStatus.get(t));var e=this.moduleStatus.get(t)?"start":"stop";k.default.executeModuleCommand(t,e)}},{key:"showRTKCommands",get:function(){return"RTK Record / Replay"===this.currentMode}},{key:"inNavigationMode",get:function(){return"Navigation"===this.currentMode}}]),t}(),s=a(o.prototype,"currentMode",[S.observable],{enumerable:!0,initializer:function(){return"none"}}),l=a(o.prototype,"currentVehicle",[S.observable],{enumerable:!0,initializer:function(){return"none"}}),u=a(o.prototype,"currentMap",[S.observable],{enumerable:!0,initializer:function(){return"none"}}),c=a(o.prototype,"moduleStatus",[S.observable],{enumerable:!0,initializer:function(){return S.observable.map()}}),h=a(o.prototype,"hardwareStatus",[S.observable],{enumerable:!0,initializer:function(){return S.observable.map()}}),d=a(o.prototype,"enableStartAuto",[S.observable],{enumerable:!0,initializer:function(){return!1}}),f=a(o.prototype,"dockerImage",[S.observable],{enumerable:!0,initializer:function(){return"unknown"}}),a(o.prototype,"initialize",[S.action],(0,v.default)(o.prototype,"initialize"),o.prototype),a(o.prototype,"updateStatus",[S.action],(0,v.default)(o.prototype,"updateStatus"),o.prototype),a(o.prototype,"update",[S.action],(0,v.default)(o.prototype,"update"),o.prototype),a(o.prototype,"toggleModule",[S.action],(0,v.default)(o.prototype,"toggleModule"),o.prototype),a(o.prototype,"showRTKCommands",[S.computed],(0,v.default)(o.prototype,"showRTKCommands"),o.prototype),a(o.prototype,"inNavigationMode",[S.computed],(0,v.default)(o.prototype,"inNavigationMode"),o.prototype),o);e.default=T},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n,r){n&&(0,b.default)(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function a(t,e,n,r,i){var a={};return Object.keys(r).forEach(function(t){a[t]=r[t]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(t,e,a),a=null),a}function o(t){return 10*Math.round(t/10)}function s(t){switch(t){case"DISENGAGE_MANUAL":return"MANUAL";case"DISENGAGE_NONE":return"AUTO";case"DISENGAGE_EMERGENCY":return"DISENGAGED";case"DISENGAGE_AUTO_STEER_ONLY":return"AUTO STEER";case"DISENGAGE_AUTO_SPEED_ONLY":return"AUTO SPEED";case"DISENGAGE_CHASSIS_ERROR":return"CHASSIS ERROR";default:return"?"}}function l(t){return"DISENGAGE_NONE"===t||"DISENGAGE_AUTO_STEER_ONLY"===t||"DISENGAGE_AUTO_SPEED_ONLY"===t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u,c,h,d,f,p,m,g,v,y=n(20),b=r(y),x=n(25),_=r(x),w=n(0),M=r(w),S=n(1),E=r(S),k=n(24),T=(u=function(){function t(){(0,M.default)(this,t),i(this,"throttlePercent",c,this),i(this,"brakePercent",h,this),i(this,"speed",d,this),i(this,"steeringAngle",f,this),i(this,"steeringPercentage",p,this),i(this,"drivingMode",m,this),i(this,"isAutoMode",g,this),i(this,"turnSignal",v,this)}return(0,E.default)(t,[{key:"update",value:function(t){t.autoDrivingCar&&(void 0!==t.autoDrivingCar.throttlePercentage&&(this.throttlePercent=o(t.autoDrivingCar.throttlePercentage)),void 0!==t.autoDrivingCar.brakePercentage&&(this.brakePercent=o(t.autoDrivingCar.brakePercentage)),void 0!==t.autoDrivingCar.speed&&(this.speed=t.autoDrivingCar.speed),void 0===t.autoDrivingCar.steeringPercentage||isNaN(t.autoDrivingCar.steeringPercentage)||(this.steeringPercentage=Math.round(t.autoDrivingCar.steeringPercentage)),void 0===t.autoDrivingCar.steeringAngle||isNaN(t.autoDrivingCar.steeringAngle)||(this.steeringAngle=-Math.round(180*t.autoDrivingCar.steeringAngle/Math.PI)),void 0!==t.autoDrivingCar.disengageType&&(this.drivingMode=s(t.autoDrivingCar.disengageType),this.isAutoMode=l(t.autoDrivingCar.disengageType)),void 0!==t.autoDrivingCar.currentSignal&&(this.turnSignal=t.autoDrivingCar.currentSignal))}}]),t}(),c=a(u.prototype,"throttlePercent",[k.observable],{enumerable:!0,initializer:function(){return 0}}),h=a(u.prototype,"brakePercent",[k.observable],{enumerable:!0,initializer:function(){return 0}}),d=a(u.prototype,"speed",[k.observable],{enumerable:!0,initializer:function(){return 0}}),f=a(u.prototype,"steeringAngle",[k.observable],{enumerable:!0,initializer:function(){return 0}}),p=a(u.prototype,"steeringPercentage",[k.observable],{enumerable:!0,initializer:function(){return 0}}),m=a(u.prototype,"drivingMode",[k.observable],{enumerable:!0,initializer:function(){return"?"}}),g=a(u.prototype,"isAutoMode",[k.observable],{enumerable:!0,initializer:function(){return!1}}),v=a(u.prototype,"turnSignal",[k.observable],{enumerable:!0,initializer:function(){return""}}),a(u.prototype,"update",[k.action],(0,_.default)(u.prototype,"update"),u.prototype),u);e.default=T},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n,r){n&&(0,c.default)(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function a(t,e,n,r,i){var a={};return Object.keys(r).forEach(function(t){a[t]=r[t]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(t,e,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,s,l,u=n(20),c=r(u),h=n(25),d=r(h),f=n(49),p=r(f),m=n(79),g=r(m),v=n(0),y=r(v),b=n(1),x=r(b),_=n(24),w=(o=function(){function t(){(0,y.default)(this,t),i(this,"hasActiveNotification",s,this),i(this,"items",l,this),this.lastUpdateTimestamp=0,this.refreshTimer=null}return(0,x.default)(t,[{key:"startRefresh",value:function(){var t=this;this.clearRefreshTimer(),this.refreshTimer=setInterval(function(){Date.now()-t.lastUpdateTimestamp>6e3&&(t.setHasActiveNotification(!1),t.clearRefreshTimer())},500)}},{key:"clearRefreshTimer",value:function(){null!==this.refreshTimer&&(clearInterval(this.refreshTimer),this.refreshTimer=null)}},{key:"setHasActiveNotification",value:function(t){this.hasActiveNotification=t}},{key:"update",value:function(t){if(t.monitor||t.notification){var e=[];t.notification?e=t.notification.reverse().map(function(t){return(0,g.default)(t.item,{timestampMs:1e3*t.timestampSec})}):t.monitor&&(e=t.monitor.item),this.hasNewNotification(this.items,e)&&(this.hasActiveNotification=!0,this.lastUpdateTimestamp=Date.now(),this.items.replace(e),this.startRefresh())}}},{key:"hasNewNotification",value:function(t,e){return(0!==t.length||0!==e.length)&&(0===t.length||0===e.length||(0,p.default)(this.items[0])!==(0,p.default)(e[0]))}},{key:"insert",value:function(t,e,n){var r=[];r.push({msg:e,logLevel:t});for(var i=0;i<this.items.length;++i)i<29&&r.push(this.items[i]);this.hasActiveNotification=!0,this.lastUpdateTimestamp=n,this.items.replace(r),this.startRefresh()}}]),t}(),s=a(o.prototype,"hasActiveNotification",[_.observable],{enumerable:!0,initializer:function(){return!1}}),l=a(o.prototype,"items",[_.observable],{enumerable:!0,initializer:function(){return[]}}),a(o.prototype,"setHasActiveNotification",[_.action],(0,d.default)(o.prototype,"setHasActiveNotification"),o.prototype),a(o.prototype,"update",[_.action],(0,d.default)(o.prototype,"update"),o.prototype),a(o.prototype,"insert",[_.action],(0,d.default)(o.prototype,"insert"),o.prototype),o);e.default=w},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n,r){n&&(0,tt.default)(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function a(t,e,n,r,i){var a={};return Object.keys(r).forEach(function(t){a[t]=r[t]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(t,e,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,s,l,u,c,h,d,f,p,m,g,v,y,b,x,_,w,M,S,E,k,T,C,P,O,A,R,L,I,D,N,z,B,F,U,j,W,G,V,H,Y,q,X,Z,K,J,Q,$=n(20),tt=r($),et=n(25),nt=r(et),rt=n(243),it=r(rt),at=n(32),ot=r(at),st=n(37),lt=r(st),ut=n(0),ct=r(ut),ht=n(1),dt=r(ht),ft=n(24),pt=n(30),mt=r(pt),gt=n(118),vt=r(gt),yt=(o=function(){function t(){(0,ct.default)(this,t),i(this,"showModuleController",s,this),i(this,"showMenu",l,this),i(this,"showRouteEditingBar",u,this),i(this,"showPOI",c,this),i(this,"enableVoiceCommand",h,this),i(this,"showDataRecorder",d,this),i(this,"showVideo",f,this),i(this,"showTasks",p,this),i(this,"cameraAngle",m,this),i(this,"showDecisionMain",g,this),i(this,"showDecisionObstacle",v,this),i(this,"showPlanning",y,this),i(this,"showPlanningCar",b,this),i(this,"showPlanningReference",x,this),i(this,"showPlanningDpOptimizer",_,this),i(this,"showPlanningQpOptimizer",w,this),i(this,"showRouting",M,this),i(this,"showPerceptionLaneMarker",S,this),i(this,"showPredictionMajor",E,this),i(this,"showPredictionMinor",k,this),i(this,"showObstaclesVehicle",T,this),i(this,"showObstaclesPedestrian",C,this),i(this,"showObstaclesBicycle",P,this),i(this,"showObstaclesUnknownMovable",O,this),i(this,"showObstaclesUnknownUnmovable",A,this),i(this,"showObstaclesUnknown",R,this),i(this,"showObstaclesVirtual",L,this),i(this,"showObstaclesCipv",I,this),i(this,"showObstaclesVelocity",D,this),i(this,"showObstaclesHeading",N,this),i(this,"showObstaclesId",z,this),i(this,"showObstaclesInfo",B,this),i(this,"showPointCloud",F,this),i(this,"showPositionGps",U,this),i(this,"showPositionLocalization",j,this),i(this,"showMapCrosswalk",W,this),i(this,"showMapClearArea",G,this),i(this,"showMapJunction",V,this),i(this,"showMapLane",H,this),i(this,"showMapRoad",Y,this),i(this,"showMapSignal",q,this),i(this,"showMapStopSign",X,this),i(this,"showPNCMonitor",Z,this),i(this,"simControlEnabled",K,this),i(this,"tasksPanelLocked",J,this),i(this,"hideOptionToggle",Q,this),this.cameraAngleNames=null,this.mainSideBarOptions=["showTasks","showModuleController","showMenu","showRouteEditingBar","showDataRecorder"],this.secondarySideBarOptions=["showPOI","enableVoiceCommand"]}return(0,dt.default)(t,[{key:"toggle",value:function(t){var e=this;if(this[t]=!this[t],this[t]&&this.mainSideBarOptions.includes(t)){var n=!0,r=!1,i=void 0;try{for(var a,o=(0,lt.default)(this.mainSideBarOptions);!(n=(a=o.next()).done);n=!0){var s=a.value;s!==t&&(this[s]=!1)}}catch(t){r=!0,i=t}finally{try{!n&&o.return&&o.return()}finally{if(r)throw i}}}"showPNCMonitor"===t&&(0,ot.default)(this.hideOptionToggle).map(function(n){n.startsWith("planning")&&(e.hideOptionToggle[n]=!e[t])})}},{key:"isSideBarButtonDisabled",value:function(t,e,n){return this.mainSideBarOptions.includes(t)||this.secondarySideBarOptions.includes(t)?"showTasks"!==t&&"showModuleController"!==t&&"enableVoiceCommand"!==t&&("showRouteEditingBar"===t?e||n:"showPOI"===t?e||this.showRouteEditingBar:e):(console.warn("Disable logic for "+t+" is not defined, return false."),!1)}},{key:"rotateCameraAngle",value:function(){var t=this;if(!this.cameraAngleNames){var e=vt.default.find(function(t){return"camera"===t.id});this.cameraAngleNames=(0,it.default)(e.data)}var n=this.cameraAngleNames.findIndex(function(e){return e===t.cameraAngle}),r=(n+1)%this.cameraAngleNames.length;this.selectCamera(this.cameraAngleNames[r])}},{key:"selectCamera",value:function(t){this.cameraAngle=t}},{key:"showTools",get:function(){return this.showTasks||this.showModuleController||this.showMenu||this.showPOI||this.showDataRecorder}},{key:"showGeo",get:function(){return this.showRouteEditingBar||"Map"===this.cameraAngle||"Overhead"===this.cameraAngle||"Monitor"===this.cameraAngle}}]),t}(),s=a(o.prototype,"showModuleController",[ft.observable],{enumerable:!0,initializer:function(){return mt.default.options.defaults.showModuleController}}),l=a(o.prototype,"showMenu",[ft.observable],{enumerable:!0,initializer:function(){return mt.default.options.defaults.showMenu}}),u=a(o.prototype,"showRouteEditingBar",[ft.observable],{enumerable:!0,initializer:function(){return mt.default.options.defaults.showRouteEditingBar}}),c=a(o.prototype,"showPOI",[ft.observable],{enumerable:!0,initializer:function(){return mt.default.options.defaults.showPOI}}),h=a(o.prototype,"enableVoiceCommand",[ft.observable],{enumerable:!0,initializer:function(){return mt.default.options.defaults.enableVoiceCommand}}),d=a(o.prototype,"showDataRecorder",[ft.observable],{enumerable:!0,initializer:function(){return mt.default.options.defaults.showDataRecorder}}),f=a(o.prototype,"showVideo",[ft.observable],{enumerable:!0,initializer:function(){return mt.default.options.defaults.showVideo}}),p=a(o.prototype,"showTasks",[ft.observable],{enumerable:!0,initializer:function(){return mt.default.options.defaults.showTasks}}),m=a(o.prototype,"cameraAngle",[ft.observable],{enumerable:!0,initializer:function(){return mt.default.options.defaults.cameraAngle}}),g=a(o.prototype,"showDecisionMain",[ft.observable],{enumerable:!0,initializer:function(){return mt.default.options.defaults.showDecisionMain}}),v=a(o.prototype,"showDecisionObstacle",[ft.observable],{enumerable:!0,initializer:function(){return mt.default.options.defaults.showDecisionObstacle}}),y=a(o.prototype,"showPlanning",[ft.observable],{enumerable:!0,initializer:function(){return mt.default.options.defaults.showPlanning}}),b=a(o.prototype,"showPlanningCar",[ft.observable],{enumerable:!0,initializer:function(){return mt.default.options.defaults.showPlanningCar}}),x=a(o.prototype,"showPlanningReference",[ft.observable],{enumerable:!0,initializer:function(){return mt.default.options.defaults.showPlanningReference}}),_=a(o.prototype,"showPlanningDpOptimizer",[ft.observable],{enumerable:!0,initializer:function(){return mt.default.options.defaults.showPlanningDpOptimizer}}),w=a(o.prototype,"showPlanningQpOptimizer",[ft.observable],{enumerable:!0,initializer:function(){return mt.default.options.defaults.showPlanningQpOptimizer}}),M=a(o.prototype,"showRouting",[ft.observable],{enumerable:!0,initializer:function(){return mt.default.options.defaults.showRouting}}),S=a(o.prototype,"showPerceptionLaneMarker",[ft.observable],{enumerable:!0,initializer:function(){return mt.default.options.defaults.showPerceptionLaneMarker}}),E=a(o.prototype,"showPredictionMajor",[ft.observable],{enumerable:!0,initializer:function(){return mt.default.options.defaults.showPredictionMajor}}),k=a(o.prototype,"showPredictionMinor",[ft.observable],{enumerable:!0,initializer:function(){return mt.default.options.defaults.showPredictionMinor}}),T=a(o.prototype,"showObstaclesVehicle",[ft.observable],{enumerable:!0,initializer:function(){return mt.default.options.defaults.showObstaclesVehicle}}),C=a(o.prototype,"showObstaclesPedestrian",[ft.observable],{enumerable:!0,initializer:function(){return mt.default.options.defaults.showObstaclesPedestrian}}),P=a(o.prototype,"showObstaclesBicycle",[ft.observable],{enumerable:!0,initializer:function(){return mt.default.options.defaults.showObstaclesBicycle}}),O=a(o.prototype,"showObstaclesUnknownMovable",[ft.observable],{enumerable:!0,initializer:function(){return mt.default.options.defaults.showObstaclesUnknownMovable}}),A=a(o.prototype,"showObstaclesUnknownUnmovable",[ft.observable],{enumerable:!0,initializer:function(){return mt.default.options.defaults.showObstaclesUnknownUnmovable}}),R=a(o.prototype,"showObstaclesUnknown",[ft.observable],{enumerable:!0,initializer:function(){return mt.default.options.defaults.showObstaclesUnknown}}),L=a(o.prototype,"showObstaclesVirtual",[ft.observable],{enumerable:!0,initializer:function(){return mt.default.options.defaults.showObstaclesVirtual}}),I=a(o.prototype,"showObstaclesCipv",[ft.observable],{enumerable:!0,initializer:function(){return mt.default.options.defaults.showObstaclesCipv}}),D=a(o.prototype,"showObstaclesVelocity",[ft.observable],{enumerable:!0,initializer:function(){return mt.default.options.defaults.showObstaclesVelocity}}),N=a(o.prototype,"showObstaclesHeading",[ft.observable],{enumerable:!0,initializer:function(){return mt.default.options.defaults.showObstaclesHeading}}),z=a(o.prototype,"showObstaclesId",[ft.observable],{enumerable:!0,initializer:function(){return mt.default.options.defaults.showObstaclesId}}),B=a(o.prototype,"showObstaclesInfo",[ft.observable],{enumerable:!0,initializer:function(){return mt.default.options.defaults.showObstaclesInfo}}),F=a(o.prototype,"showPointCloud",[ft.observable],{enumerable:!0,initializer:function(){return mt.default.options.defaults.showPointCloud}}),U=a(o.prototype,"showPositionGps",[ft.observable],{enumerable:!0,initializer:function(){return mt.default.options.defaults.showPositionGps}}),j=a(o.prototype,"showPositionLocalization",[ft.observable],{enumerable:!0,initializer:function(){return mt.default.options.defaults.showPositionLocalization}}),W=a(o.prototype,"showMapCrosswalk",[ft.observable],{enumerable:!0,initializer:function(){return mt.default.options.defaults.showMapCrosswalk}}),G=a(o.prototype,"showMapClearArea",[ft.observable],{enumerable:!0,initializer:function(){return mt.default.options.defaults.showMapClearArea}}),V=a(o.prototype,"showMapJunction",[ft.observable],{enumerable:!0,initializer:function(){return mt.default.options.defaults.showMapJunction}}),H=a(o.prototype,"showMapLane",[ft.observable],{enumerable:!0,initializer:function(){return mt.default.options.defaults.showMapLane}}),Y=a(o.prototype,"showMapRoad",[ft.observable],{enumerable:!0,initializer:function(){return mt.default.options.defaults.showMapRoad}}),q=a(o.prototype,"showMapSignal",[ft.observable],{enumerable:!0,initializer:function(){return mt.default.options.defaults.showMapSignal}}),X=a(o.prototype,"showMapStopSign",[ft.observable],{enumerable:!0,initializer:function(){return mt.default.options.defaults.showMapStopSign}}),Z=a(o.prototype,"showPNCMonitor",[ft.observable],{enumerable:!0,initializer:function(){return mt.default.options.defaults.showPNCMonitor}}),K=a(o.prototype,"simControlEnabled",[ft.observable],{enumerable:!0,initializer:function(){return mt.default.options.defaults.enableSimControl}}),J=a(o.prototype,"tasksPanelLocked",[ft.observable],{enumerable:!0,initializer:function(){return!1}}),Q=a(o.prototype,"hideOptionToggle",[ft.observable],{enumerable:!0,initializer:function(){return{planningCar:!0,planningQpOptimizer:!0,planningDpOptimizer:!0,planningReference:!0,perceptionPointCloud:!1,perceptionLaneMarker:!1}}}),a(o.prototype,"showTools",[ft.computed],(0,nt.default)(o.prototype,"showTools"),o.prototype),a(o.prototype,"showGeo",[ft.computed],(0,nt.default)(o.prototype,"showGeo"),o.prototype),a(o.prototype,"toggle",[ft.action],(0,nt.default)(o.prototype,"toggle"),o.prototype),a(o.prototype,"selectCamera",[ft.action],(0,nt.default)(o.prototype,"selectCamera"),o.prototype),o);e.default=yt},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n,r){n&&(0,u.default)(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function a(t,e,n,r,i){var a={};return Object.keys(r).forEach(function(t){a[t]=r[t]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(t,e,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,s,l=n(20),u=r(l),c=n(25),h=r(c),d=n(37),f=r(d),p=n(0),m=r(p),g=n(1),v=r(g),y=n(24),b=n(12),x=(o=function(){function t(){(0,m.default)(this,t),i(this,"planningTime",s,this),this.data=this.initData(),this.latencyGraph={planning:[]}}return(0,v.default)(t,[{key:"updatePlanningTime",value:function(t){this.planningTime=t}},{key:"initData",value:function(){return{slGraph:{},stGraph:{},stSpeedGraph:{},speedGraph:{},accelerationGraph:{},thetaGraph:{},kappaGraph:{},dkappaGraph:{},dpPolyGraph:{}}}},{key:"generateDataPoints",value:function(t,e,n){if(!t||!e||t.length!==e.length)return[];for(var r=[],i=0;i<e.length;i++){var a=Number(t[i]),o=Number(e[i]);void 0!==n&&(o=n(o)),r.push({x:a,y:o})}return r}},{key:"transformMapBound",value:function(t){return t>10||t<-10?100*t/Math.abs(t):t}},{key:"extractDataPoints",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!t)return[];var a=t.map(function(t){return{x:t[e]+i,y:t[n]}});return r&&t.length&&a.push({x:t[0][e],y:t[0][n]}),a}},{key:"updateSLFrame",value:function(t){var e=this.data.slGraph,n=t[0].sampledS;e.mapLowerBound=this.generateDataPoints(n,t[0].mapLowerBound,this.transformMapBound),e.mapUpperBound=this.generateDataPoints(n,t[0].mapUpperBound,this.transformMapBound),e.staticObstacleLowerBound=this.generateDataPoints(n,t[0].staticObstacleLowerBound),e.staticObstacleUpperBound=this.generateDataPoints(n,t[0].staticObstacleUpperBound),e.dynamicObstacleLowerBound=this.generateDataPoints(n,t[0].dynamicObstacleLowerBound),e.dynamicObstacleUpperBound=this.generateDataPoints(n,t[0].dynamicObstacleUpperBound),e.pathLine=this.extractDataPoints(t[0].slPath,"s","l");var r=t[1].aggregatedBoundaryS;e.aggregatedBoundaryLow=this.generateDataPoints(r,t[1].aggregatedBoundaryLow),e.aggregatedBoundaryHigh=this.generateDataPoints(r,t[1].aggregatedBoundaryHigh)}},{key:"updateSTGraph",value:function(t){var e=!0,n=!1,r=void 0;try{for(var i,a=(0,f.default)(t);!(e=(i=a.next()).done);e=!0){var o=i.value;this.data.stGraph[o.name]={obstaclesBoundary:{}};var s=this.data.stGraph[o.name];if(o.boundary){var l=!0,u=!1,c=void 0;try{for(var h,d=(0,f.default)(o.boundary);!(l=(h=d.next()).done);l=!0){var p=h.value,m=p.type.substring("ST_BOUNDARY_TYPE_".length),g=p.name+"_"+m;s.obstaclesBoundary[g]=this.extractDataPoints(p.point,"t","s",!0)}}catch(t){u=!0,c=t}finally{try{!l&&d.return&&d.return()}finally{if(u)throw c}}}s.curveLine=this.extractDataPoints(o.speedProfile,"t","s"),o.kernelCruiseRef&&(s.kernelCruise=this.generateDataPoints(o.kernelCruiseRef.t,o.kernelCruiseRef.cruiseLineS)),o.kernelFollowRef&&(s.kernelFollow=this.generateDataPoints(o.kernelFollowRef.t,o.kernelFollowRef.followLineS))}}catch(t){n=!0,r=t}finally{try{!e&&a.return&&a.return()}finally{if(n)throw r}}}},{key:"updateSTSpeedGraph",value:function(t){var e=this,n=!0,r=!1,i=void 0;try{for(var a,o=(0,f.default)(t);!(n=(a=o.next()).done);n=!0){var s=a.value;this.data.stSpeedGraph[s.name]={};var l=this.data.stSpeedGraph[s.name];l.limit=this.extractDataPoints(s.speedLimit,"s","v"),l.planned=this.extractDataPoints(s.speedProfile,"s","v"),s.speedConstraint&&function(){var t=s.speedProfile.map(function(t){return t.t}),n=s.speedProfile.map(function(t){return t.s}),r=new b.LinearInterpolant(t,n,1,[]),i=s.speedConstraint.t.map(function(t){return r.evaluate(t)[0]});l.lowerConstraint=e.generateDataPoints(i,s.speedConstraint.lowerBound),l.upperConstraint=e.generateDataPoints(i,s.speedConstraint.upperBound)}()}}catch(t){r=!0,i=t}finally{try{!n&&o.return&&o.return()}finally{if(r)throw i}}}},{key:"updateSpeed",value:function(t,e){var n=this.data.speedGraph;if(t){var r=!0,i=!1,a=void 0;try{for(var o,s=(0,f.default)(t);!(r=(o=s.next()).done);r=!0){var l=o.value;n[l.name]=this.extractDataPoints(l.speedPoint,"t","v")}}catch(t){i=!0,a=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}}e&&(n.finalSpeed=this.extractDataPoints(e,"timestampSec","speed",!1,-this.planningTime))}},{key:"updateAccelerationGraph",value:function(t){var e=this.data.accelerationGraph;t&&(e.acceleration=this.extractDataPoints(t,"timestampSec","speedAcceleration",!1,-this.planningTime))}},{key:"updateThetaGraph",value:function(t){var e=!0,n=!1,r=void 0;try{for(var i,a=(0,f.default)(t);!(e=(i=a.next()).done);e=!0){var o=i.value,s="planning_reference_line"===o.name?"ReferenceLine":o.name;this.data.thetaGraph[s]=this.extractDataPoints(o.pathPoint,"s","theta")}}catch(t){n=!0,r=t}finally{try{!e&&a.return&&a.return()}finally{if(n)throw r}}}},{key:"updateKappaGraph",value:function(t){var e=!0,n=!1,r=void 0;try{for(var i,a=(0,f.default)(t);!(e=(i=a.next()).done);e=!0){var o=i.value,s="planning_reference_line"===o.name?"ReferenceLine":o.name;this.data.kappaGraph[s]=this.extractDataPoints(o.pathPoint,"s","kappa")}}catch(t){n=!0,r=t}finally{try{!e&&a.return&&a.return()}finally{if(n)throw r}}}},{key:"updateDkappaGraph",value:function(t){var e=!0,n=!1,r=void 0;try{for(var i,a=(0,f.default)(t);!(e=(i=a.next()).done);e=!0){var o=i.value,s="planning_reference_line"===o.name?"ReferenceLine":o.name;this.data.dkappaGraph[s]=this.extractDataPoints(o.pathPoint,"s","dkappa")}}catch(t){n=!0,r=t}finally{try{!e&&a.return&&a.return()}finally{if(n)throw r}}}},{key:"updateLatencyGraph",value:function(t,e){for(var n in this.latencyGraph){var r=this.latencyGraph[n];if(r.length>0){var i=r[0].x,a=r[r.length-1].x,o=t-i;t<a?(this.latencyGraph[n]=[],r=this.latencyGraph[n]):o>3e5&&r.shift()}0!==r.length&&r[r.length-1].x===t||r.push({x:t,y:e.planning})}}},{key:"updateDpPolyGraph",value:function(t){var e=this.data.dpPolyGraph;if(t.sampleLayer){e.sampleLayer=[];var n=!0,r=!1,i=void 0;try{for(var a,o=(0,f.default)(t.sampleLayer);!(n=(a=o.next()).done);n=!0){a.value.slPoint.map(function(t){var n=t.s,r=t.l;e.sampleLayer.push({x:n,y:r})})}}catch(t){r=!0,i=t}finally{try{!n&&o.return&&o.return()}finally{if(r)throw i}}}t.minCostPoint&&(e.minCostPoint=this.extractDataPoints(t.minCostPoint,"s","l"))}},{key:"update",value:function(t){var e=t.planningData;if(e){if(this.planningTime===t.planningTime)return;this.data=this.initData(),e.slFrame&&e.slFrame.length>=2&&this.updateSLFrame(e.slFrame),e.stGraph&&(this.updateSTGraph(e.stGraph),this.updateSTSpeedGraph(e.stGraph)),e.speedPlan&&t.planningTrajectory&&this.updateSpeed(e.speedPlan,t.planningTrajectory),t.planningTrajectory&&this.updateAccelerationGraph(t.planningTrajectory),e.path&&(this.updateKappaGraph(e.path),this.updateDkappaGraph(e.path),this.updateThetaGraph(e.path)),e.dpPolyGraph&&this.updateDpPolyGraph(e.dpPolyGraph),t.latency&&this.updateLatencyGraph(t.planningTime,t.latency),this.updatePlanningTime(t.planningTime)}}}]),t}(),s=a(o.prototype,"planningTime",[y.observable],{enumerable:!0,initializer:function(){return null}}),a(o.prototype,"updatePlanningTime",[y.action],(0,h.default)(o.prototype,"updatePlanningTime"),o.prototype),o);e.default=x},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n,r){n&&(0,p.default)(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function a(t,e,n,r,i){var a={};return Object.keys(r).forEach(function(t){a[t]=r[t]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(t,e,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,s,l,u,c,h,d,f=n(20),p=r(f),m=n(25),g=r(m),v=n(0),y=r(v),b=n(1),x=r(b),_=n(24);n(560);var w=(o=function(){function t(){(0,y.default)(this,t),this.FPS=10,this.msPerFrame=100,this.recordId=null,this.mapId=null,i(this,"numFrames",s,this),i(this,"requestedFrame",l,this),i(this,"retrievedFrame",u,this),i(this,"isPlaying",c,this),i(this,"isSeeking",h,this),i(this,"seekingFrame",d,this)}return(0,x.default)(t,[{key:"setMapId",value:function(t){this.mapId=t}},{key:"setRecordId",value:function(t){this.recordId=t}},{key:"setNumFrames",value:function(t){this.numFrames=parseInt(t)}},{key:"setPlayRate",value:function(t){if("number"==typeof t&&t>0){var e=1/this.FPS*1e3;this.msPerFrame=e/t}}},{key:"initialized",value:function(){return this.numFrames&&null!==this.recordId&&null!==this.mapId}},{key:"hasNext",value:function(){return this.initialized()&&this.requestedFrame<this.numFrames}},{key:"next",value:function(){return++this.requestedFrame}},{key:"setPlayAction",value:function(t){this.isPlaying=t}},{key:"seekFrame",value:function(t){t>0&&t<=this.numFrames&&(this.seekingFrame=t,this.requestedFrame=t-1,this.isSeeking=!0)}},{key:"resetFrame",value:function(){this.requestedFrame=0,this.retrievedFrame=0,this.seekingFrame=1}},{key:"shouldProcessFrame",value:function(t){return!(!t||!t.sequenceNum||this.seekingFrame!==t.sequenceNum||!this.isPlaying&&!this.isSeeking)&&(this.retrievedFrame=t.sequenceNum,this.isSeeking=!1,this.seekingFrame++,!0)}},{key:"currentFrame",get:function(){return this.retrievedFrame}},{key:"replayComplete",get:function(){return this.seekingFrame>this.numFrames}}]),t}(),s=a(o.prototype,"numFrames",[_.observable],{enumerable:!0,initializer:function(){return 0}}),l=a(o.prototype,"requestedFrame",[_.observable],{enumerable:!0,initializer:function(){return 0}}),u=a(o.prototype,"retrievedFrame",[_.observable],{enumerable:!0,initializer:function(){return 0}}),c=a(o.prototype,"isPlaying",[_.observable],{enumerable:!0,initializer:function(){return!1}}),h=a(o.prototype,"isSeeking",[_.observable],{enumerable:!0,initializer:function(){return!0}}),d=a(o.prototype,"seekingFrame",[_.observable],{enumerable:!0,initializer:function(){return 1}}),a(o.prototype,"next",[_.action],(0,g.default)(o.prototype,"next"),o.prototype),a(o.prototype,"currentFrame",[_.computed],(0,g.default)(o.prototype,"currentFrame"),o.prototype),a(o.prototype,"replayComplete",[_.computed],(0,g.default)(o.prototype,"replayComplete"),o.prototype),a(o.prototype,"setPlayAction",[_.action],(0,g.default)(o.prototype,"setPlayAction"),o.prototype),a(o.prototype,"seekFrame",[_.action],(0,g.default)(o.prototype,"seekFrame"),o.prototype),a(o.prototype,"resetFrame",[_.action],(0,g.default)(o.prototype,"resetFrame"),o.prototype),a(o.prototype,"shouldProcessFrame",[_.action],(0,g.default)(o.prototype,"shouldProcessFrame"),o.prototype),o);e.default=w},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n,r){n&&(0,c.default)(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function a(t,e,n,r,i){var a={};return Object.keys(r).forEach(function(t){a[t]=r[t]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(t,e,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,s,l,u=n(20),c=r(u),h=n(25),d=r(h),f=n(0),p=r(f),m=n(1),g=r(m),v=n(24),y=n(36),b=r(y),x=n(113),w=r(x),M=(o=function(){function t(){(0,p.default)(this,t),i(this,"defaultRoutingEndPoint",s,this),i(this,"currentPOI",l,this)}return(0,g.default)(t,[{key:"updateDefaultRoutingEndPoint",value:function(t){if(void 0!==t.poi){this.defaultRoutingEndPoint={};for(var e=0;e<t.poi.length;++e){var n=t.poi[e];this.defaultRoutingEndPoint[n.name]=n.waypoint}}}},{key:"addDefaultEndPoint",value:function(t,e){return _.isEmpty(this.defaultRoutingEndPoint)?void alert("Failed to get default routing end point, make sure there's a default end point file under the map data directory."):void 0!==t&&""!==t&&t in this.defaultRoutingEndPoint?(this.currentPOI=t,void(e?w.default.addDefaultEndPoint(this.defaultRoutingEndPoint[t]):b.default.addDefaultEndPoint(this.defaultRoutingEndPoint[t]))):void alert("Please select a valid POI.")}},{key:"enableRouteEditing",value:function(){b.default.enableRouteEditing()}},{key:"disableRouteEditing",value:function(){b.default.disableRouteEditing()}},{key:"removeLastRoutingPoint",value:function(){b.default.removeLastRoutingPoint()}},{key:"removeAllRoutingPoints",value:function(){b.default.removeAllRoutingPoints()}},{key:"sendRoutingRequest",value:function(t){if(t)return w.default.sendRoutingRequest();var e=b.default.sendRoutingRequest();return e&&this.disableRouteEditing(),e}}]),t}(),s=a(o.prototype,"defaultRoutingEndPoint",[v.observable],{enumerable:!0,initializer:function(){return{}}}),l=a(o.prototype,"currentPOI",[v.observable],{enumerable:!0,initializer:function(){return"none"}}),a(o.prototype,"updateDefaultRoutingEndPoint",[v.action],(0,d.default)(o.prototype,"updateDefaultRoutingEndPoint"),o.prototype),a(o.prototype,"addDefaultEndPoint",[v.action],(0,d.default)(o.prototype,"addDefaultEndPoint"),o.prototype),o);e.default=M},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n,r){n&&(0,u.default)(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function a(t,e,n,r,i){var a={};return Object.keys(r).forEach(function(t){a[t]=r[t]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(t,e,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,s,l=n(20),u=r(l),c=n(25),h=r(c),d=n(0),f=r(d),p=n(1),m=r(p),g=n(24),v=(o=function(){function t(){(0,f.default)(this,t),i(this,"color",s,this)}return(0,m.default)(t,[{key:"update",value:function(t){void 0!==t.trafficSignal&&(this.color=t.trafficSignal.currentSignal)}}]),t}(),s=a(o.prototype,"color",[g.observable],{enumerable:!0,initializer:function(){return""}}),a(o.prototype,"update",[g.action],(0,h.default)(o.prototype,"update"),o.prototype),o);e.default=v},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(49),a=r(i),o=n(0),s=r(o),l=n(1),u=r(l),c=n(13),h=r(c),d=n(36),f=r(d),p=n(78),m=r(p),g=function(){function t(e){(0,s.default)(this,t),this.serverAddr=e,this.websocket=null,this.currentMode=null,this.worker=new m.default}return(0,u.default)(t,[{key:"initialize",value:function(){var t=this;try{this.websocket=new WebSocket(this.serverAddr),this.websocket.binaryType="arraybuffer"}catch(e){return console.error("Failed to establish a connection: "+e),void setTimeout(function(){t.initialize()},1e3)}this.websocket.onmessage=function(e){t.worker.postMessage({source:"map",data:e.data})},this.worker.onmessage=function(e){var n=h.default.hmi.inNavigationMode||t.currentMode!==h.default.hmi.currentMode;t.currentMode=h.default.hmi.currentMode,f.default.updateMap(e.data,n),h.default.setInitializationStatus(!0)},this.websocket.onclose=function(e){console.log("WebSocket connection closed with code: "+e.code),t.initialize()}}},{key:"requestMapData",value:function(t){this.websocket.send((0,a.default)({type:"RetrieveMapData",elements:t}))}},{key:"requestRelativeMapData",value:function(t){this.websocket.send((0,a.default)({type:"RetrieveRelativeMapData",elements:t}))}}]),t}();e.default=g},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(49),a=r(i),o=n(0),s=r(o),l=n(1),u=r(l),c=n(13),h=r(c),d=n(36),f=r(d),p=function(){function t(e){(0,s.default)(this,t),this.serverAddr=e,this.websocket=null,this.lastUpdateTimestamp=0,this.lastSeqNum=-1,this.requestTimer=null,this.processTimer=null,this.frameData={},this.routingTime2Path={}}return(0,u.default)(t,[{key:"initialize",value:function(t){var e=this;if(!(t&&t.id&&t.map))return void console.error("ERROR: missing required parameter(s)");h.default.playback.setRecordId(t.id),h.default.playback.setMapId(t.map),t.url&&(this.serverUrl=location.protocol+"//"+t.url);try{this.websocket=new WebSocket(this.serverAddr)}catch(n){return console.error("Failed to establish a connection: "+n),void setTimeout(function(){e.initialize(t)},1e3)}this.websocket.onopen=function(t){e.requestGroundMeta(h.default.playback.mapId)},this.websocket.onmessage=function(t){var n=JSON.parse(t.data);switch(n.type){case"GroundMetadata":f.default.updateGroundMetadata(e.serverUrl,n.data),e.requestFrameCount(h.default.playback.recordId);break;case"FrameCount":h.default.playback.setNumFrames(n.data),h.default.playback.hasNext()&&e.requestSimulationWorld(h.default.playback.recordId,h.default.playback.next());break;case"RoutePath":e.routingTime2Path[n.routingTime]=n.routePath;break;case"SimWorldUpdate":e.checkMessage(n),h.default.setInitializationStatus(!0);var r="string"==typeof n.world?JSON.parse(n.world):n.world;r.routePath?e.routingTime2Path[r.routingTime]=r.routePath:r.routingTime in e.routingTime2Path||e.requestRoutePath(h.default.playback.recordId,r.sequenceNum),h.default.playback.isSeeking&&e.processSimWorld(r),!r.sequenceNum||r.sequenceNum in e.frameData||(e.frameData[r.sequenceNum]=r)}},this.websocket.onclose=function(n){console.log("WebSocket connection closed, close_code: "+n.code),e.initialize(t)}}},{key:"checkMessage",value:function(t){0!==this.lastUpdateTimestamp&&t.timestamp-this.lastUpdateTimestamp>150&&console.log("Last sim_world_update took "+(t.timestamp-this.lastUpdateTimestamp)+"ms"),this.lastUpdateTimestamp=t.timestamp,-1!==this.lastSeqNum&&t.world.sequenceNum>this.lastSeqNum+1&&console.debug("Last seq: "+this.lastSeqNum+". New seq: "+t.world.sequenceNum+"."),this.lastSeqNum=t.world.sequenceNum}},{key:"startPlayback",value:function(t){var e=this;clearInterval(this.requestTimer),this.requestTimer=setInterval(function(){e.websocket.readyState===e.websocket.OPEN&&h.default.playback.initialized()&&(e.requestSimulationWorld(h.default.playback.recordId,h.default.playback.next()),h.default.playback.hasNext()||(clearInterval(e.requestTimer),e.requestTimer=null))},t/2),clearInterval(this.processTimer),this.processTimer=setInterval(function(){if(h.default.playback.initialized()){var t=h.default.playback.seekingFrame;t in e.frameData&&e.processSimWorld(e.frameData[t]),h.default.playback.replayComplete&&(clearInterval(e.processTimer),e.processTimer=null)}},t)}},{key:"pausePlayback",value:function(){clearInterval(this.requestTimer),clearInterval(this.processTimer),this.requestTimer=null,this.processTimer=null}},{key:"requestGroundMeta",value:function(t){this.websocket.send((0,a.default)({type:"RetrieveGroundMeta",mapId:t}))}},{key:"processSimWorld",value:function(t){h.default.playback.shouldProcessFrame(t)&&(t.routePath||(t.routePath=this.routingTime2Path[t.routingTime]),h.default.updateTimestamp(t.timestamp),f.default.maybeInitializeOffest(t.autoDrivingCar.positionX,t.autoDrivingCar.positionY),f.default.updateWorld(t),h.default.meters.update(t),h.default.monitor.update(t),h.default.trafficSignal.update(t))}},{key:"requestFrameCount",value:function(t){this.websocket.send((0,a.default)({type:"RetrieveFrameCount",recordId:t}))}},{key:"requestSimulationWorld",value:function(t,e){e in this.frameData?h.default.playback.isSeeking&&this.processSimWorld(this.frameData[e]):this.websocket.send((0,a.default)({type:"RequestSimulationWorld",recordId:t,frameId:e}))}},{key:"requestRoutePath",value:function(t,e){this.websocket.send((0,a.default)({type:"requestRoutePath",recordId:t,frameId:e}))}}]),t}();e.default=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(49),a=r(i),o=n(0),s=r(o),l=n(1),u=r(l),c=n(13),h=r(c),d=n(36),f=r(d),p=n(78),m=r(p),g=function(){function t(e){(0,s.default)(this,t),this.serverAddr=e,this.websocket=null,this.worker=new m.default}return(0,u.default)(t,[{key:"initialize",value:function(){var t=this;try{this.websocket=new WebSocket(this.serverAddr),this.websocket.binaryType="arraybuffer"}catch(e){return console.error("Failed to establish a connection: "+e),void setTimeout(function(){t.initialize()},1e3)}this.websocket.onmessage=function(e){t.worker.postMessage({source:"point_cloud",data:e.data})},this.websocket.onclose=function(e){console.log("WebSocket connection closed with code: "+e.code),t.initialize()},this.worker.onmessage=function(t){"PointCloudStatus"===t.data.type?(h.default.setOptionStatus("showPointCloud",t.data.enabled),!1===h.default.options.showPointCloud&&f.default.updatePointCloud({num:[]})):!0===h.default.options.showPointCloud&&void 0!==t.data.num&&f.default.updatePointCloud(t.data)},clearInterval(this.timer),this.timer=setInterval(function(){t.websocket.readyState===t.websocket.OPEN&&!0===h.default.options.showPointCloud&&t.websocket.send((0,a.default)({type:"RequestPointCloud"}))},200)}},{key:"togglePointCloud",value:function(t){this.websocket.send((0,a.default)({type:"TogglePointCloud",enable:t})),!1===h.default.options.showPointCloud&&f.default.updatePointCloud({num:[]})}}]),t}();e.default=g},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(120),a=r(i),o=n(49),s=r(o),l=n(0),u=r(l),c=n(1),h=r(c),d=n(13),f=r(d),p=n(36),m=r(p),g=n(113),v=r(g),y=n(78),b=r(y),x=function(){function t(e){(0,u.default)(this,t),this.serverAddr=e,this.websocket=null,this.simWorldUpdatePeriodMs=100,this.simWorldLastUpdateTimestamp=0,this.mapUpdatePeriodMs=1e3,this.mapLastUpdateTimestamp=0,this.updatePOI=!0,this.routingTime=void 0,this.currentMode=null,this.worker=new b.default}return(0,h.default)(t,[{key:"initialize",value:function(){var t=this;try{this.websocket=new WebSocket(this.serverAddr),this.websocket.binaryType="arraybuffer"}catch(e){return console.error("Failed to establish a connection: "+e),void setTimeout(function(){t.initialize()},1e3)}this.websocket.onmessage=function(e){t.worker.postMessage({source:"realtime",data:e.data})},this.worker.onmessage=function(e){var n=e.data;switch(n.type){case"HMIConfig":f.default.hmi.initialize(n.data);break;case"HMIStatus":f.default.hmi.updateStatus(n.data),m.default.updateGroundImage(f.default.hmi.currentMap);break;case"VehicleParam":f.default.hmi.updateVehicleParam(n.data);break;case"SimControlStatus":f.default.setOptionStatus("simControlEnabled",n.enabled);break;case"SimWorldUpdate":t.checkMessage(n);var r=t.currentMode!==f.default.hmi.currentMode;t.currentMode=f.default.hmi.currentMode,f.default.hmi.inNavigationMode?(v.default.isInitialized()&&v.default.update(n),n.autoDrivingCar.positionX=0,n.autoDrivingCar.positionY=0,n.autoDrivingCar.heading=0,m.default.coordinates.setSystem("FLU"),t.mapUpdatePeriodMs=100):(m.default.coordinates.setSystem("ENU"),t.mapUpdatePeriodMs=1e3),f.default.updateTimestamp(n.timestamp),f.default.updateModuleDelay(n),m.default.maybeInitializeOffest(n.autoDrivingCar.positionX,n.autoDrivingCar.positionY,r),f.default.meters.update(n),f.default.monitor.update(n),f.default.trafficSignal.update(n),f.default.hmi.update(n),m.default.updateWorld(n),t.updateMapIndex(n),f.default.options.showPNCMonitor&&(f.default.planningData.update(n),f.default.controlData.update(n,f.default.hmi.vehicleParam)),t.routingTime!==n.routingTime&&(t.requestRoutePath(),t.routingTime=n.routingTime);break;case"MapElementIds":m.default.updateMapIndex(n.mapHash,n.mapElementIds,n.mapRadius);break;case"DefaultEndPoint":f.default.routeEditingManager.updateDefaultRoutingEndPoint(n);break;case"RoutePath":m.default.updateRouting(n.routingTime,n.routePath)}},this.websocket.onclose=function(e){console.log("WebSocket connection closed, close_code: "+e.code),t.initialize()},clearInterval(this.timer),this.timer=setInterval(function(){if(t.websocket.readyState===t.websocket.OPEN){t.updatePOI&&(t.requestDefaultRoutingEndPoint(),t.updatePOI=!1);var e=f.default.options.showPNCMonitor;t.websocket.send((0,s.default)({type:"RequestSimulationWorld",planning:e}))}},this.simWorldUpdatePeriodMs)}},{key:"updateMapIndex",value:function(t){var e=new Date,n=e-this.mapLastUpdateTimestamp;t.mapHash&&n>=this.mapUpdatePeriodMs&&(m.default.updateMapIndex(t.mapHash,t.mapElementIds,t.mapRadius),this.mapLastUpdateTimestamp=e)}},{key:"checkMessage",value:function(t){var e=(new Date).getTime(),n=e-this.simWorldLastUpdateTimestamp;0!==this.simWorldLastUpdateTimestamp&&n>200&&console.warn("Last sim_world_update took "+n+"ms"),this.secondLastSeqNum===t.sequenceNum&&console.warn("Received duplicate simulation_world:",this.lastSeqNum),this.secondLastSeqNum=this.lastSeqNum,this.lastSeqNum=t.sequenceNum,this.simWorldLastUpdateTimestamp=e}},{key:"requestMapElementIdsByRadius",value:function(t){this.websocket.send((0,s.default)({type:"RetrieveMapElementIdsByRadius",radius:t}))}},{key:"requestRoute",value:function(t,e,n){this.websocket.send((0,s.default)({type:"SendRoutingRequest",start:t,end:n,waypoint:e}))}},{key:"requestDefaultRoutingEndPoint",value:function(){this.websocket.send((0,s.default)({type:"GetDefaultEndPoint"}))}},{key:"resetBackend",value:function(){this.websocket.send((0,s.default)({type:"Reset"}))}},{key:"dumpMessages",value:function(){this.websocket.send((0,s.default)({type:"Dump"}))}},{key:"changeSetupMode",value:function(t){this.websocket.send((0,s.default)({type:"ChangeMode",new_mode:t}))}},{key:"changeMap",value:function(t){this.websocket.send((0,s.default)({type:"ChangeMap",new_map:t})),this.updatePOI=!0}},{key:"changeVehicle",value:function(t){this.websocket.send((0,s.default)({type:"ChangeVehicle",new_vehicle:t}))}},{key:"executeModeCommand",value:function(t){this.websocket.send((0,s.default)({type:"ExecuteModeCommand",command:t}))}},{key:"executeModuleCommand",value:function(t,e){this.websocket.send((0,s.default)({type:"ExecuteModuleCommand",module:t,command:e}))}},{key:"executeToolCommand",value:function(t,e){this.websocket.send((0,s.default)({type:"ExecuteToolCommand",tool:t,command:e}))}},{key:"changeDrivingMode",value:function(t){this.websocket.send((0,s.default)({type:"ChangeDrivingMode",new_mode:t}))}},{key:"submitDriveEvent",value:function(t,e){this.websocket.send((0,s.default)({type:"SubmitDriveEvent",event_time_ms:t,event_msg:e}))}},{key:"sendVoicePiece",value:function(t){this.websocket.send((0,s.default)({type:"VoicePiece",data:btoa(String.fromCharCode.apply(String,(0,a.default)(t)))}))}},{key:"toggleSimControl",value:function(t){this.websocket.send((0,s.default)({type:"ToggleSimControl",enable:t}))}},{key:"requestRoutePath",value:function(){this.websocket.send((0,s.default)({type:"RequestRoutePath"}))}},{key:"publishNavigationInfo",value:function(t){this.websocket.send(t)}}]),t}();e.default=x},function(t,e,n){e=t.exports=n(143)(!1),e.push([t.i,'body{margin:0;overflow:hidden;background-color:#14171a!important;font:14px Lucida Grande,Helvetica,Arial,sans-serif;color:#fff}body *{font-size:16px}@media (max-height:800px),(max-width:1280px){body *{font-size:14px}}::-webkit-scrollbar{width:4px;height:8px;opacity:.3;background-color:#fff}::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#555}::-webkit-scrollbar-thumb{opacity:.8;background-color:#30a5ff}::-webkit-scrollbar-thumb:active{background-color:#30a5ff}.header{display:flex;align-items:center;z-index:100;position:relative;top:0;left:0;height:60px;background:#000;color:#fff;text-align:left}@media (max-height:800px),(max-width:1280px){.header{height:55px}}.header .apollo-logo{flex:0 0 auto;top:40px;left:40px;height:40px;width:121px;margin:10px auto 5px 18px}@media (max-height:800px),(max-width:1280px){.header .apollo-logo{top:15px;left:25px;height:25px;width:80px;margin-top:5px}}.header .header-item{flex:0 0 auto;position:relative;margin:5px;border:1px solid #383838}.header .selector select{display:block;border:none;padding:.5em 3em .5em .5em;background:#000;color:#fff;outline:none;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none}.header .selector .arrow{position:absolute;top:0;right:0;width:30px;height:100%;border-left:1px solid #383838;background:#181818;pointer-events:none}.header .selector .arrow:before{position:absolute;top:55%;right:7px;margin-top:-5px;border-top:8px solid #666;border-left:8px solid transparent;border-right:8px solid transparent;content:"";pointer-events:none}.header .header-button{padding:.5em 3em;background:#181818;color:#fff;text-align:center}.pane-container{position:absolute;width:100%;height:calc(100% - 60px)}@media (max-height:800px),(max-width:1280px){.pane-container{height:calc(100% - 55px)}}.pane-container .left-pane{display:flex;flex-flow:row nowrap;align-items:stretch;position:absolute;bottom:0;top:0;width:100%}.pane-container .left-pane .dreamview-body{display:flex;flex-flow:column nowrap;flex:1 1 auto;overflow:hidden}.pane-container .left-pane .dreamview-body .main-view{flex:0 0 auto;position:relative;min-width:600px}.pane-container .right-pane{position:absolute;right:0;width:100%;height:100%;overflow:hidden}.pane-container .right-pane ::-webkit-scrollbar{width:6px}.pane-container .SplitPane .Resizer{background:#000;opacity:.2;z-index:1;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;-moz-background-clip:padding;-webkit-background-clip:padding;background-clip:padding-box}.pane-container .SplitPane .Resizer:hover{-webkit-transition:all 2s ease;transition:all 2s ease}.pane-container .SplitPane .Resizer.vertical{width:11px;margin:0 -5px;border-left:5px solid hsla(0,0%,100%,0);border-right:5px solid hsla(0,0%,100%,0);cursor:col-resize}.pane-container .SplitPane .Resizer.vertical:hover{border-left:5px solid rgba(0,0,0,.5);border-right:5px solid rgba(0,0,0,.5)}.pane-container .SplitPane .Resizer.disabled{cursor:auto}.pane-container .SplitPane .Resizer.disabled:hover{border-color:transparent}.offlineview{display:flex;flex-flow:column nowrap;position:absolute;width:100%;height:100%}.offlineview .main-view{flex:0 0 auto;position:relative}.dreamview-canvas{z-index:1;position:absolute}.dreamview-canvas .geolocation{z-index:10;position:absolute;bottom:10px;right:10px;color:#fff}.hidden{display:none}.tools{display:flex;flex-flow:row nowrap;align-items:stretch;flex:1 1 auto;margin-top:3px;overflow:hidden}.tools .card{flex:1 1 auto;border-right:3px solid #000;padding:15px 10px 25px 20px;background:#1d2226}@media (max-height:800px),(max-width:1280px){.tools .card{padding:15px 5px 15px 15px}}.tools .card .card-header{width:100%;padding-bottom:15px}.tools .card .card-header span{width:200px;border-bottom:1px solid #999;padding:10px 10px 10px 0;font-size:18px}@media (max-height:800px),(max-width:1280px){.tools .card .card-header span{font-size:16px}}.tools .card .card-content-row{display:flex;flex-flow:row wrap;align-content:flex-start;overflow-x:hidden;overflow-y:auto;height:85%}.tools .card .card-content-column{display:flex;flex-flow:column nowrap;overflow-x:hidden;overflow-y:auto;height:89%}.tools ul{flex:0 0 auto;margin:0 2px 0 0;padding-left:0;padding-right:5px;background-color:#1d2226;color:#999;list-style:none;cursor:pointer}.tools ul li{line-height:40px}.tools ul li span{padding-left:20px}.tools ul li:hover{color:#fff;background-color:#2a3238}.tools .switch{display:inline-block;position:relative;width:40px;transform:translate(35%,25%)}.tools .switch .toggle-switch{display:none}.tools .switch .toggle-switch-label{display:block;overflow:hidden;cursor:pointer;height:20px;padding:0;line-height:20px;border:0;background-color:#3f4548;transition:background-color .2s ease-in}.tools .switch .toggle-switch-label:before{content:"";display:block;width:16px;margin:2px;background:#a0a0a0;position:absolute;top:0;bottom:0;right:20px;transition:all .2s ease-in}.tools .switch .toggle-switch:checked+.toggle-switch-label{background-color:#0e3d62}.tools .switch .toggle-switch:checked+.toggle-switch-label,.tools .switch .toggle-switch:checked+.toggle-switch-label:before{border-color:#0e3d62}.tools .switch .toggle-switch:checked+.toggle-switch-label:before{right:0;background-color:#30a5ff}.tools .switch .toggle-switch:disabled+.toggle-switch-label,.tools .switch .toggle-switch:disabled+.toggle-switch-label:before{cursor:not-allowed}.tools .tool-view-menu{display:flex;flex-flow:row nowrap;align-items:stretch;flex:2 1 auto;z-index:10!important;margin-right:3px;overflow-y:hidden;overflow-x:auto;background:#1d2226;color:#fff;text-align:left;white-space:nowrap}.tools .tool-view-menu .summary{line-height:50px}@media (max-height:800px),(max-width:1280px){.tools .tool-view-menu .summary{line-height:25px}}.tools .tool-view-menu .summary img{position:relative;width:30px;height:30px;transform:translate(-30%,25%)}@media (max-height:800px),(max-width:1280px){.tools .tool-view-menu .summary img{width:20px;height:20px;transform:translate(-50%,10%)}}.tools .tool-view-menu .summary span{padding-left:10px}.tools .tool-view-menu input[type=radio]{display:none}.tools .tool-view-menu .radio-selector-label{display:inline-block;position:relative;transform:translate(65%,30%);box-sizing:border-box;-webkit-box-sizing:border-box;width:25px;height:25px;margin-right:6px;border-radius:50%;-webkit-border-radius:50%;background-color:#a0a0a0;box-shadow:inset 1px 0 #a0a0a0;border:7px solid #3f4548}.tools .tool-view-menu input[type=radio]:checked+.radio-selector-label{border:7px solid #0e3d62;background-color:#30a5ff}.tools .console{z-index:10;position:relative;min-width:230px;margin:0;border:none;padding:0;overflow:hidden}.tools .console .monitor-item{display:flex;list-style-type:none;flex-direction:row;flex-wrap:nowrap;justify-content:flex-start;align-items:center;border-top:1px solid #333;padding:10px;cursor:default}.tools .console .monitor-item .icon{position:relative;height:20px;width:20px;padding-right:5px}@media (max-height:800px),(max-width:1280px){.tools .console .monitor-item .icon{height:15px;width:15px}}.tools .console .monitor-item .text{position:relative;width:calc(100% - 80px);padding-left:5px;line-height:150%;font-size:12px;word-wrap:break-word}.tools .console .monitor-item .time{position:absolute;right:5px;font-size:12px}.tools .console .monitor-item .alert{color:#d7466f}.tools .console .monitor-item .warn{color:#a3842d}.tools .poi-button{min-width:310px}@media (max-height:800px),(max-width:1280px){.tools .poi-button{min-width:280px}}.side-bar{display:flex;flex-direction:column;flex:0 0 auto;z-index:100;background:#1d2226;border-right:3px solid #000;overflow-y:auto;overflow-x:hidden}.side-bar .main-panel{margin-bottom:auto}.side-bar .button{display:block;width:90px;border:none;padding:20px 10px;text-align:center;background:#1d2226;color:#fff;opacity:.6;cursor:pointer}@media (max-height:800px),(max-width:1280px){.side-bar .button{width:80px;padding-top:10px}}.side-bar .button .icon{width:40px;height:40px;margin:auto}@media (max-height:800px),(max-width:1280px){.side-bar .button .icon{width:30px;height:30px}}.side-bar .button .label{padding-top:10px}@media (max-height:800px),(max-width:1280px){.side-bar .button .label{padding-top:4px}}.side-bar .button:first-child{padding-top:25px}@media (max-height:800px),(max-width:1280px){.side-bar .button:first-child{padding-top:10px}}.side-bar .button:disabled{color:#414141;cursor:not-allowed}.side-bar .button:disabled .icon{opacity:.2}.side-bar .button-active{background:#2a3238;opacity:1;color:#fff}.side-bar .sub-button{display:block;width:90px;height:80px;border:none;padding:10px;text-align:center;background:#3e4041;color:#999;cursor:pointer}@media (max-height:800px),(max-width:1280px){.side-bar .sub-button{width:80px;height:60px}}.side-bar .sub-button:not(:last-child){border-bottom:1px solid #1d2226}.side-bar .sub-button:disabled{cursor:not-allowed;opacity:.3}.side-bar .sub-button-active{background:#30a5ff;color:#fff}.status-bar{z-index:10;position:absolute;top:0;left:0;width:100%}.status-bar .auto-meter{position:absolute;width:224px;height:112px;top:10px;right:20px;background:rgba(0,0,0,.8)}.status-bar .auto-meter .speed-read{position:absolute;top:27px;left:15px;font-family:Arial;font-weight:lighter;font-size:35px;color:#fff}.status-bar .auto-meter .speed-unit{position:absolute;top:66px;left:17px;color:#fff;font-size:15px}.status-bar .auto-meter .brake-panel{position:absolute;top:21px;right:2px}.status-bar .auto-meter .throttle-panel{position:absolute;top:61px;right:2px}.status-bar .auto-meter .meter-container .meter-label{font-size:13px;color:#fff}.status-bar .auto-meter .meter-container .meter-head{display:inline-block;position:absolute;margin:5px 0 0;border-width:4px;border-style:solid}.status-bar .auto-meter .meter-container .meter-background{position:relative;display:block;height:2px;width:120px;margin:8px}.status-bar .auto-meter .meter-container .meter-background span{position:relative;overflow:hidden;display:block;height:100%}.status-bar .wheel-panel{display:flex;flex-direction:row;justify-content:left;align-items:center;position:absolute;top:128px;right:20px;width:187px;height:92px;padding:10px 22px 10px 15px;background:rgba(0,0,0,.8)}.status-bar .wheel-panel .steerangle-read{font-family:Arial;font-weight:lighter;font-size:35px;color:#fff}.status-bar .wheel-panel .steerangle-unit{padding:20px 10px 0 3px;color:#fff;font-size:13px}.status-bar .wheel-panel .left-arrow{position:absolute;top:45px;right:115px;width:0;height:0;border-style:solid;border-width:12px 15px 12px 0;border-color:transparent}.status-bar .wheel-panel .right-arrow{position:absolute;top:45px;right:15px;width:0;height:0;border-style:solid;border-width:12px 0 12px 15px;border-color:transparent transparent transparent #30435e}.status-bar .wheel-panel .wheel{position:absolute;top:15px;right:33px}.status-bar .wheel-panel .wheel-background{stroke-width:3px;stroke:#006aff}.status-bar .wheel-panel .wheel-arm{stroke-width:3px;stroke:#006aff;fill:#006aff}.status-bar .traffic-light-and-driving-mode{position:absolute;top:246px;right:20px;width:224px;height:35px;font-size:14px}.status-bar .traffic-light-and-driving-mode .traffic-light{position:absolute;width:116px;height:35px;background:rgba(0,0,0,.8)}.status-bar .traffic-light-and-driving-mode .traffic-light .symbol{position:relative;top:4px;left:4px;width:28px;height:28px}.status-bar .traffic-light-and-driving-mode .traffic-light .text{position:absolute;top:10px;right:8px;font-size:14px;color:#fff}.status-bar .traffic-light-and-driving-mode .driving-mode{position:absolute;top:0;right:0;width:105px;height:35px}.status-bar .traffic-light-and-driving-mode .driving-mode .text{position:absolute;top:50%;left:50%;float:right;transform:translate(-50%,-50%);text-align:center;font-size:14px}.status-bar .traffic-light-and-driving-mode .auto-mode{background:linear-gradient(90deg,rgba(17,30,48,.8),rgba(7,42,94,.8));border-right:1px solid #006aff;color:#006aff}.status-bar .traffic-light-and-driving-mode .manual-mode{background:linear-gradient(90deg,rgba(30,17,17,.8),rgba(71,36,36,.8));color:#b43131;border-right:1px solid #b43131}.status-bar .notification-warn{position:absolute;top:10px;right:260px;width:260px;display:flex;list-style-type:none;flex-direction:row;flex-wrap:nowrap;justify-content:flex-start;align-items:center;border-top:1px solid #333;padding:10px;cursor:default;border:1px solid #a3842d;background-color:rgba(52,39,5,.3)}.status-bar .notification-warn .icon{position:relative;height:20px;width:20px;padding-right:5px}@media (max-height:800px),(max-width:1280px){.status-bar .notification-warn .icon{height:15px;width:15px}}.status-bar .notification-warn .text{position:relative;width:calc(100% - 17px);padding-left:5px;line-height:150%;font-size:12px;word-wrap:break-word}.status-bar .notification-warn .time{position:absolute;right:5px;font-size:12px}.status-bar .notification-warn .alert{color:#d7466f}.status-bar .notification-warn .warn{color:#a3842d}.status-bar .notification-alert{position:absolute;top:10px;right:260px;width:260px;display:flex;list-style-type:none;flex-direction:row;flex-wrap:nowrap;justify-content:flex-start;align-items:center;border-top:1px solid #333;padding:10px;cursor:default;border:1px solid #d7466f;background-color:rgba(74,5,24,.3)}.status-bar .notification-alert .icon{position:relative;height:20px;width:20px;padding-right:5px}@media (max-height:800px),(max-width:1280px){.status-bar .notification-alert .icon{height:15px;width:15px}}.status-bar .notification-alert .text{position:relative;width:calc(100% - 17px);padding-left:5px;line-height:150%;font-size:12px;word-wrap:break-word}.status-bar .notification-alert .time{position:absolute;right:5px;font-size:12px}.status-bar .notification-alert .alert{color:#d7466f}.status-bar .notification-alert .warn{color:#a3842d}.tasks{display:flex;flex-flow:row nowrap;align-items:stretch;flex:1 1 auto;z-index:10;margin-right:3px;overflow-x:auto;overflow-y:hidden}.tasks .command-group{display:flex;flex-flow:row nowrap;justify-content:flex-start;flex:1 1 0;min-height:45px;min-width:130px}.tasks .command-group .name{width:40px;padding:15px}.tasks .start-auto-command{flex:2 2 0}.tasks .start-auto-command .start-auto-button{max-height:unset}.tasks .others{min-width:200px;max-width:280px}@media (max-height:800px),(max-width:1280px){.tasks .others{min-width:180px;max-width:260px}}.tasks .delay{min-width:265px;line-height:26px}.tasks .delay .delay-item{position:relative;margin:0 10px}.tasks .delay .delay-item .name{display:inline-block;min-width:140px;color:#1c9063}.tasks .delay .delay-item .value{display:inline-block;position:absolute;right:0;min-width:70px;text-align:right}.tasks .delay .delay-item .warning{color:#b43131}.tasks button{flex:1 1 0;margin:5px;border:0;min-width:75px;min-height:40px;max-height:60px;color:#999;border-bottom:2px solid #1c9063;background:linear-gradient(#000,#111f1d);outline:none;cursor:pointer}.tasks button:hover{color:#fff;background:#151e1b}.tasks button:active{background:rgba(35,51,45,.6)}.tasks button:disabled{color:#999;border-color:#555;background:linear-gradient(rgba(0,0,0,.8),rgba(9,17,16,.8));cursor:not-allowed}.tasks .disabled{cursor:not-allowed}.module-controller{display:flex;flex-flow:row nowrap;align-items:stretch;flex:1 1 auto;z-index:10;margin-right:3px;overflow:hidden}.module-controller .controller{min-width:180px}.module-controller .modules-container{flex-flow:column wrap}.module-controller .status-display{min-width:250px;padding:5px 20px 5px 5px}.module-controller .status-display .name{display:inline-block;padding:10px;min-width:80px}.module-controller .status-display .status{display:inline-block;position:relative;width:130px;padding:10px;background:#000;white-space:nowrap}.module-controller .status-display .status .status-icon{position:absolute;right:10px;width:15px;height:15px;background-color:#b43131}.route-editing-bar{z-index:10;position:absolute;top:0;left:0;right:0;min-height:90px;border-bottom:3px solid #000;padding-left:10px;background:#1d2226}@media (max-height:800px),(max-width:1280px){.route-editing-bar{min-height:60px}}.route-editing-bar .editing-panel{display:flex;justify-content:center;align-items:center;overflow:hidden;white-space:nowrap}.route-editing-bar .editing-panel .button{height:90px;border:none;padding:10px 15px;background:#1d2226;outline:none;color:#999}@media (max-height:800px),(max-width:1280px){.route-editing-bar .editing-panel .button{height:60px;padding:5px 10px}}.route-editing-bar .editing-panel .button img{display:block;top:23px;margin:15px auto}@media (max-height:800px),(max-width:1280px){.route-editing-bar .editing-panel .button img{top:13px;margin:7px auto}}.route-editing-bar .editing-panel .button span{font-family:PingFangSC-Light;color:#d8d8d8;text-align:center}.route-editing-bar .editing-panel .button:hover{background:#2a3238}.route-editing-bar .editing-panel .active{color:#fff;background:#2a3238}.route-editing-bar .editing-panel .editing-tip{height:90px;width:90px;margin-left:auto;border:none;color:#d8d8d8}@media (max-height:800px),(max-width:1280px){.route-editing-bar .editing-panel .editing-tip{height:60px;width:60px}}.route-editing-bar .editing-panel .editing-tip p{position:absolute;top:120%;right:15px;width:400px;border-radius:3px;padding:20px;background-color:#fff;color:#999;text-align:left;white-space:pre-wrap}@media (max-height:800px),(max-width:1280px){.route-editing-bar .editing-panel .editing-tip p{right:5px}}.route-editing-bar .editing-panel .editing-tip p:before{position:absolute;top:-20px;right:13px;content:"";border-style:solid;border-width:0 20px 20px;border-color:transparent transparent #fff}@-moz-document url-prefix(){.route-editing-bar .editing-panel .editing-tip p:before{top:-38px}}@media (max-height:800px),(max-width:1280px){.route-editing-bar .editing-panel .editing-tip p:before{right:8px}}.data-recorder table{width:100%;height:100%}.data-recorder table td:first-child{width:100px;border:none;box-sizing:border-box;white-space:nowrap}.data-recorder table td:nth-child(2){border:10px solid #1d2226}.data-recorder table .drive-event-time-row span{position:relative;padding:10px 145px 10px 10px;background:#101315;white-space:nowrap}.data-recorder table .drive-event-time-row span .timestamp-button{position:absolute;top:0;right:0;padding:5px 20px;border:5px solid #101315;background:#006aff;color:#fff}.data-recorder table .drive-event-msg-row{width:70%;height:70%}.data-recorder table .drive-event-msg-row textarea{height:100%;width:100%;max-width:600px;color:#fff;border:1px solid #383838;background:#101315;resize:none}.data-recorder table button{margin-right:5px;padding:10px 35px;border:none;background:#1d2226;color:#fff}.data-recorder table .submit-button{background:#000}.data-recorder table .submit-button:active{background:#383838}.loader{flex:0 0 auto;position:relative;width:100%;height:100%;background-color:#000c17}.loader .img-container{position:relative;top:55%;left:50%;width:40%;transform:translate(-50%,-50%)}.loader .img-container img{width:100%;height:auto}.loader .img-container .status-message{margin-top:10px;font-size:18px;font-size:1.7vw;color:#fff;text-align:center;animation-name:flash;animation-duration:2s;animation-timing-function:linear;animation-iteration-count:infinite;animation-direction:alternate;animation-play-state:running}@keyframes flash{0%{color:#fff}to{color:#000c17}}.loader .offline-loader{width:60%;max-width:650px}.loader .offline-loader .status-message{position:relative;top:-70px;top:-4.5vw;font-size:3vw}.video{z-index:1;position:absolute;top:0;left:0}.video img{position:relative;min-width:100px;min-height:20px;max-width:380px;max-height:300px;padding:1px;border:1px solid #383838}@media (max-height:800px),(max-width:1280px){.video img{max-width:300px;max-height:200px}}.dashcam-player{z-index:1;position:absolute;top:0;left:0;color:#fff}.dashcam-player video{max-width:380px;max-height:300px}@media (max-height:800px),(max-width:1280px){.dashcam-player video{max-width:300px;max-height:200px}}.dashcam-player .controls{display:flex;justify-content:flex-end;z-index:10;position:absolute;right:0}.dashcam-player .controls button{width:27px;height:27px;border:none;background-color:#000;opacity:.6;color:#fff}.dashcam-player .controls button img{width:15px}.dashcam-player .controls button:hover{opacity:.9}.dashcam-player .controls .close{font-size:20px}.dashcam-player .controls .syncup{padding-top:.5em}.pnc-monitor{height:100%;border:1px solid #000;box-sizing:border-box;background-color:#1d2226;overflow:auto}.pnc-monitor .scatter-graph{margin:0;border:1px #000;border-style:solid none}.pnc-monitor .react-tabs__tab-list{display:table;width:100%;margin:0;border-bottom:1px solid #000;padding:0}.pnc-monitor .react-tabs__tab{display:table-cell;position:relative;border:1px solid transparent;border-bottom:none;padding:6px 12px;background:#1d2226;color:#999;list-style:none;cursor:pointer}.pnc-monitor .react-tabs__tab--selected{background:#2a3238;color:#fff}.pnc-monitor .react-tabs__tab-panel{display:none}.pnc-monitor .react-tabs__tab-panel--selected{display:block}.navigation-view{z-index:20;position:relative}.navigation-view #map_canvas{width:100%;height:100%;background:rgba(0,0,0,.8)}.navigation-view .window-resize-control{position:absolute;bottom:0;right:0;width:30px;height:30px}',""])},function(t,e,n){e=t.exports=n(143)(!1),e.push([t.i,'.playback-controls{z-index:100;position:absolute;width:100%;height:40px;bottom:0;background:#1d2226;font-size:16px;min-width:550px}@media (max-height:800px),(max-width:1280px){.playback-controls{font-size:14px}}.playback-controls .icon{display:inline-block;width:20px;height:20px;padding:10px;cursor:pointer}.playback-controls .icon .play{stroke-linejoin:round;stroke-width:1.5px;stroke:#006aff;fill:#1d2226}.playback-controls .icon .pause,.playback-controls .icon .replay{stroke-linejoin:round;stroke-width:1.5px;stroke:#006aff;fill:#006aff}.playback-controls .icon .replay{top:2px}.playback-controls .icon .exit-fullscreen,.playback-controls .icon .fullscreen{stroke-linejoin:round;stroke-width:10px;stroke:#006aff;fill:#1d2226}.playback-controls .left-controls{display:inline-block;float:left}.playback-controls .right-controls{display:inline-block;float:right}.playback-controls .rate-selector{position:absolute;left:40px}.playback-controls .rate-selector select{display:block;border:none;padding:11px 23px 0 5px;color:#fff;background:#1d2226;outline:none;cursor:pointer;font-size:16px;-webkit-appearance:none;-moz-appearance:none;appearance:none}.playback-controls .rate-selector .arrow{position:absolute;top:5px;right:0;width:10px;height:100%;pointer-events:none}.playback-controls .rate-selector .arrow:before{position:absolute;top:16px;right:1px;margin-top:-5px;border-top:8px solid #666;border-left:8px solid transparent;border-right:8px solid transparent;content:"";pointer-events:none}.playback-controls .time-controls{position:absolute;min-width:300px;height:100%;left:125px;right:50px}.playback-controls .time-controls .rangeslider{position:absolute;top:7px;left:10px;right:115px;margin:10px 0;height:7px;border-radius:10px;background:#2d3b50;-ms-touch-action:none;touch-action:none}.playback-controls .time-controls .rangeslider .rangeslider__fill{display:block;height:100%;border-radius:10px;background-color:#006aff;background:#006aff}.playback-controls .time-controls .rangeslider .rangeslider__handle{display:inline-block;position:absolute;height:16px;width:16px;top:50%;transform:translate3d(-50%,-50%,0);border:1px solid #006aff;border-radius:100%;background:#006aff;cursor:pointer;box-shadow:none}.playback-controls .time-controls .time-display{position:absolute;top:12px;right:0;color:#fff}',""])},function(t,e,n){t.exports={default:n(304),__esModule:!0}},function(t,e,n){t.exports={default:n(306),__esModule:!0}},function(t,e,n){t.exports={default:n(308),__esModule:!0}},function(t,e,n){t.exports={default:n(313),__esModule:!0}},function(t,e,n){t.exports={default:n(314),__esModule:!0}},function(t,e,n){t.exports={default:n(315),__esModule:!0}},function(t,e,n){t.exports={default:n(316),__esModule:!0}},function(t,e,n){t.exports={default:n(317),__esModule:!0}},function(t,e,n){t.exports={default:n(318),__esModule:!0}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}},function(t,e,n){"use strict";function r(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function i(t){return 3*t.length/4-r(t)}function a(t){var e,n,i,a,o,s=t.length;a=r(t),o=new h(3*s/4-a),n=a>0?s-4:s;var l=0;for(e=0;e<n;e+=4)i=c[t.charCodeAt(e)]<<18|c[t.charCodeAt(e+1)]<<12|c[t.charCodeAt(e+2)]<<6|c[t.charCodeAt(e+3)],o[l++]=i>>16&255,o[l++]=i>>8&255,o[l++]=255&i;return 2===a?(i=c[t.charCodeAt(e)]<<2|c[t.charCodeAt(e+1)]>>4,o[l++]=255&i):1===a&&(i=c[t.charCodeAt(e)]<<10|c[t.charCodeAt(e+1)]<<4|c[t.charCodeAt(e+2)]>>2,o[l++]=i>>8&255,o[l++]=255&i),o}function o(t){return u[t>>18&63]+u[t>>12&63]+u[t>>6&63]+u[63&t]}function s(t,e,n){for(var r,i=[],a=e;a<n;a+=3)r=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),i.push(o(r));return i.join("")}function l(t){for(var e,n=t.length,r=n%3,i="",a=[],o=0,l=n-r;o<l;o+=16383)a.push(s(t,o,o+16383>l?l:o+16383));return 1===r?(e=t[n-1],i+=u[e>>2],i+=u[e<<4&63],i+="=="):2===r&&(e=(t[n-2]<<8)+t[n-1],i+=u[e>>10],i+=u[e>>4&63],i+=u[e<<2&63],i+="="),a.push(i),a.join("")}e.byteLength=i,e.toByteArray=a,e.fromByteArray=l;for(var u=[],c=[],h="undefined"!=typeof Uint8Array?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,p=d.length;f<p;++f)u[f]=d[f],c[d.charCodeAt(f)]=f;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},function(t,e,n){/*!
 * Bowser - a browser detector
 * https://github.com/ded/bowser
 * MIT License | (c) Dustin Diaz 2015
 */
!function(e,r,i){void 0!==t&&t.exports?t.exports=i():n(561)("bowser",i)}(0,0,function(){function t(t){function e(e){var n=t.match(e);return n&&n.length>1&&n[1]||""}function n(e){var n=t.match(e);return n&&n.length>1&&n[2]||""}var r,i=e(/(ipod|iphone|ipad)/i).toLowerCase(),a=/like android/i.test(t),s=!a&&/android/i.test(t),l=/nexus\s*[0-6]\s*/i.test(t),u=!l&&/nexus\s*[0-9]+/i.test(t),c=/CrOS/.test(t),h=/silk/i.test(t),d=/sailfish/i.test(t),f=/tizen/i.test(t),p=/(web|hpw)os/i.test(t),m=/windows phone/i.test(t),g=(/SamsungBrowser/i.test(t),!m&&/windows/i.test(t)),v=!i&&!h&&/macintosh/i.test(t),y=!s&&!d&&!f&&!p&&/linux/i.test(t),b=n(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),x=e(/version\/(\d+(\.\d+)?)/i),_=/tablet/i.test(t)&&!/tablet pc/i.test(t),w=!_&&/[^-]mobi/i.test(t),M=/xbox/i.test(t);/opera/i.test(t)?r={name:"Opera",opera:o,version:x||e(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(t)?r={name:"Opera",opera:o,version:e(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||x}:/SamsungBrowser/i.test(t)?r={name:"Samsung Internet for Android",samsungBrowser:o,version:x||e(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/coast/i.test(t)?r={name:"Opera Coast",coast:o,version:x||e(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(t)?r={name:"Yandex Browser",yandexbrowser:o,version:x||e(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(t)?r={name:"UC Browser",ucbrowser:o,version:e(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(t)?r={name:"Maxthon",maxthon:o,version:e(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(t)?r={name:"Epiphany",epiphany:o,version:e(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(t)?r={name:"Puffin",puffin:o,version:e(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(t)?r={name:"Sleipnir",sleipnir:o,version:e(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(t)?r={name:"K-Meleon",kMeleon:o,version:e(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:m?(r={name:"Windows Phone",osname:"Windows Phone",windowsphone:o},b?(r.msedge=o,r.version=b):(r.msie=o,r.version=e(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(t)?r={name:"Internet Explorer",msie:o,version:e(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:c?r={name:"Chrome",osname:"Chrome OS",chromeos:o,chromeBook:o,chrome:o,version:e(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(t)?r={name:"Microsoft Edge",msedge:o,version:b}:/vivaldi/i.test(t)?r={name:"Vivaldi",vivaldi:o,version:e(/vivaldi\/(\d+(\.\d+)?)/i)||x}:d?r={name:"Sailfish",osname:"Sailfish OS",sailfish:o,version:e(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(t)?r={name:"SeaMonkey",seamonkey:o,version:e(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(t)?(r={name:"Firefox",firefox:o,version:e(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(t)&&(r.firefoxos=o,r.osname="Firefox OS")):h?r={name:"Amazon Silk",silk:o,version:e(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(t)?r={name:"PhantomJS",phantom:o,version:e(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(t)?r={name:"SlimerJS",slimer:o,version:e(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(t)||/rim\stablet/i.test(t)?r={name:"BlackBerry",osname:"BlackBerry OS",blackberry:o,version:x||e(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:p?(r={name:"WebOS",osname:"WebOS",webos:o,version:x||e(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(t)&&(r.touchpad=o)):/bada/i.test(t)?r={name:"Bada",osname:"Bada",bada:o,version:e(/dolfin\/(\d+(\.\d+)?)/i)}:f?r={name:"Tizen",osname:"Tizen",tizen:o,version:e(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||x}:/qupzilla/i.test(t)?r={name:"QupZilla",qupzilla:o,version:e(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||x}:/chromium/i.test(t)?r={name:"Chromium",chromium:o,version:e(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||x}:/chrome|crios|crmo/i.test(t)?r={name:"Chrome",chrome:o,version:e(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:s?r={name:"Android",version:x}:/safari|applewebkit/i.test(t)?(r={name:"Safari",safari:o},x&&(r.version=x)):i?(r={name:"iphone"==i?"iPhone":"ipad"==i?"iPad":"iPod"},x&&(r.version=x)):r=/googlebot/i.test(t)?{name:"Googlebot",googlebot:o,version:e(/googlebot\/(\d+(\.\d+))/i)||x}:{name:e(/^(.*)\/(.*) /),version:n(/^(.*)\/(.*) /)},!r.msedge&&/(apple)?webkit/i.test(t)?(/(apple)?webkit\/537\.36/i.test(t)?(r.name=r.name||"Blink",r.blink=o):(r.name=r.name||"Webkit",r.webkit=o),!r.version&&x&&(r.version=x)):!r.opera&&/gecko\//i.test(t)&&(r.name=r.name||"Gecko",r.gecko=o,r.version=r.version||e(/gecko\/(\d+(\.\d+)?)/i)),r.windowsphone||!s&&!r.silk?!r.windowsphone&&i?(r[i]=o,r.ios=o,r.osname="iOS"):v?(r.mac=o,r.osname="macOS"):M?(r.xbox=o,r.osname="Xbox"):g?(r.windows=o,r.osname="Windows"):y&&(r.linux=o,r.osname="Linux"):(r.android=o,r.osname="Android");var S="";r.windows?S=function(t){switch(t){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(e(/Windows ((NT|XP)( \d\d?.\d)?)/i)):r.windowsphone?S=e(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):r.mac?(S=e(/Mac OS X (\d+([_\.\s]\d+)*)/i),S=S.replace(/[_\s]/g,".")):i?(S=e(/os (\d+([_\s]\d+)*) like mac os x/i),S=S.replace(/[_\s]/g,".")):s?S=e(/android[ \/-](\d+(\.\d+)*)/i):r.webos?S=e(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):r.blackberry?S=e(/rim\stablet\sos\s(\d+(\.\d+)*)/i):r.bada?S=e(/bada\/(\d+(\.\d+)*)/i):r.tizen&&(S=e(/tizen[\/\s](\d+(\.\d+)*)/i)),S&&(r.osversion=S);var E=!r.windows&&S.split(".")[0];return _||u||"ipad"==i||s&&(3==E||E>=4&&!w)||r.silk?r.tablet=o:(w||"iphone"==i||"ipod"==i||s||l||r.blackberry||r.webos||r.bada)&&(r.mobile=o),r.msedge||r.msie&&r.version>=10||r.yandexbrowser&&r.version>=15||r.vivaldi&&r.version>=1||r.chrome&&r.version>=20||r.samsungBrowser&&r.version>=4||r.firefox&&r.version>=20||r.safari&&r.version>=6||r.opera&&r.version>=10||r.ios&&r.osversion&&r.osversion.split(".")[0]>=6||r.blackberry&&r.version>=10.1||r.chromium&&r.version>=20?r.a=o:r.msie&&r.version<10||r.chrome&&r.version<20||r.firefox&&r.version<20||r.safari&&r.version<6||r.opera&&r.version<10||r.ios&&r.osversion&&r.osversion.split(".")[0]<6||r.chromium&&r.version<20?r.c=o:r.x=o,r}function e(t){return t.split(".").length}function n(t,e){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(t,e);for(n=0;n<t.length;n++)r.push(e(t[n]));return r}function r(t){for(var r=Math.max(e(t[0]),e(t[1])),i=n(t,function(t){var i=r-e(t);return t+=new Array(i+1).join(".0"),n(t.split("."),function(t){return new Array(20-t.length).join("0")+t}).reverse()});--r>=0;){if(i[0][r]>i[1][r])return 1;if(i[0][r]!==i[1][r])return-1;if(0===r)return 0}}function i(e,n,i){var a=s;"string"==typeof n&&(i=n,n=void 0),void 0===n&&(n=!1),i&&(a=t(i));var o=""+a.version;for(var l in e)if(e.hasOwnProperty(l)&&a[l]){if("string"!=typeof e[l])throw new Error("Browser version in the minVersion map should be a string: "+l+": "+String(e));return r([o,e[l]])<0}return n}function a(t,e,n){return!i(t,e,n)}var o=!0,s=t("undefined"!=typeof navigator?navigator.userAgent||"":"");return s.test=function(t){for(var e=0;e<t.length;++e){var n=t[e];if("string"==typeof n&&n in s)return!0}return!1},s.isUnsupportedBrowser=i,s.compareVersions=r,s.check=a,s._detect=t,s.detect=t,s})},function(t,e,n){"use strict";(function(t){function r(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(t,e){if(r()<e)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=a.prototype):(null===t&&(t=new a(e)),t.length=e),t}function a(t,e,n){if(!(a.TYPED_ARRAY_SUPPORT||this instanceof a))return new a(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return u(this,t)}return o(this,t,e,n)}function o(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?d(t,e,n,r):"string"==typeof e?c(t,e,n):f(t,e)}function s(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,e,n,r){return s(e),e<=0?i(t,e):void 0!==n?"string"==typeof r?i(t,e).fill(n,r):i(t,e).fill(n):i(t,e)}function u(t,e){if(s(e),t=i(t,e<0?0:0|p(e)),!a.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function c(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!a.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|g(e,n);t=i(t,r);var o=t.write(e,n);return o!==r&&(t=t.slice(0,o)),t}function h(t,e){var n=e.length<0?0:0|p(e.length);t=i(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function d(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),a.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=a.prototype):t=h(t,e),t}function f(t,e){if(a.isBuffer(e)){var n=0|p(e.length);return t=i(t,n),0===t.length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||Z(e.length)?i(t,0):h(t,e);if("Buffer"===e.type&&Q(e.data))return h(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function p(t){if(t>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|t}function m(t){return+t!=t&&(t=0),a.alloc(+t)}function g(t,e){if(a.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return V(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(t).length;default:if(r)return V(t).length;e=(""+e).toLowerCase(),r=!0}}function v(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return R(this,e,n);case"utf8":case"utf-8":return C(this,e,n);case"ascii":return O(this,e,n);case"latin1":case"binary":return A(this,e,n);case"base64":return T(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function y(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function b(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=a.from(e,r)),a.isBuffer(e))return 0===e.length?-1:x(t,e,n,r,i);if("number"==typeof e)return e&=255,a.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):x(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function x(t,e,n,r,i){function a(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}var o=1,s=t.length,l=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;o=2,s/=2,l/=2,n/=2}var u;if(i){var c=-1;for(u=n;u<s;u++)if(a(t,u)===a(e,-1===c?0:u-c)){if(-1===c&&(c=u),u-c+1===l)return c*o}else-1!==c&&(u-=u-c),c=-1}else for(n+l>s&&(n=s-l),u=n;u>=0;u--){for(var h=!0,d=0;d<l;d++)if(a(t,u+d)!==a(e,d)){h=!1;break}if(h)return u}return-1}function _(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var a=e.length;if(a%2!=0)throw new TypeError("Invalid hex string");r>a/2&&(r=a/2);for(var o=0;o<r;++o){var s=parseInt(e.substr(2*o,2),16);if(isNaN(s))return o;t[n+o]=s}return o}function w(t,e,n,r){return X(V(e,t.length-n),t,n,r)}function M(t,e,n,r){return X(H(e),t,n,r)}function S(t,e,n,r){return M(t,e,n,r)}function E(t,e,n,r){return X(q(e),t,n,r)}function k(t,e,n,r){return X(Y(e,t.length-n),t,n,r)}function T(t,e,n){return 0===e&&n===t.length?K.fromByteArray(t):K.fromByteArray(t.slice(e,n))}function C(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var a=t[i],o=null,s=a>239?4:a>223?3:a>191?2:1;if(i+s<=n){var l,u,c,h;switch(s){case 1:a<128&&(o=a);break;case 2:l=t[i+1],128==(192&l)&&(h=(31&a)<<6|63&l)>127&&(o=h);break;case 3:l=t[i+1],u=t[i+2],128==(192&l)&&128==(192&u)&&(h=(15&a)<<12|(63&l)<<6|63&u)>2047&&(h<55296||h>57343)&&(o=h);break;case 4:l=t[i+1],u=t[i+2],c=t[i+3],128==(192&l)&&128==(192&u)&&128==(192&c)&&(h=(15&a)<<18|(63&l)<<12|(63&u)<<6|63&c)>65535&&h<1114112&&(o=h)}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return P(r)}function P(t){var e=t.length;if(e<=$)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=$));return n}function O(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function A(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function R(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",a=e;a<n;++a)i+=G(t[a]);return i}function L(t,e,n){for(var r=t.slice(e,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function I(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function D(t,e,n,r,i,o){if(!a.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function N(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,a=Math.min(t.length-n,2);i<a;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function z(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,a=Math.min(t.length-n,4);i<a;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function B(t,e,n,r,i,a){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(t,e,n,r,i){return i||B(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),J.write(t,e,n,r,23,4),n+4}function U(t,e,n,r,i){return i||B(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),J.write(t,e,n,r,52,8),n+8}function j(t){if(t=W(t).replace(tt,""),t.length<2)return"";for(;t.length%4!=0;)t+="=";return t}function W(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function G(t){return t<16?"0"+t.toString(16):t.toString(16)}function V(t,e){e=e||1/0;for(var n,r=t.length,i=null,a=[],o=0;o<r;++o){if((n=t.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(e-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;a.push(n)}else if(n<2048){if((e-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function H(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function Y(t,e){for(var n,r,i,a=[],o=0;o<t.length&&!((e-=2)<0);++o)n=t.charCodeAt(o),r=n>>8,i=n%256,a.push(i),a.push(r);return a}function q(t){return K.toByteArray(j(t))}function X(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function Z(t){return t!==t}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var K=n(249),J=n(380),Q=n(252);e.Buffer=a,e.SlowBuffer=m,e.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=r(),a.poolSize=8192,a._augment=function(t){return t.__proto__=a.prototype,t},a.from=function(t,e,n){return o(null,t,e,n)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0})),a.alloc=function(t,e,n){return l(null,t,e,n)},a.allocUnsafe=function(t){return u(null,t)},a.allocUnsafeSlow=function(t){return u(null,t)},a.isBuffer=function(t){return!(null==t||!t._isBuffer)},a.compare=function(t,e){if(!a.isBuffer(t)||!a.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,e){if(!Q(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return a.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=a.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var o=t[n];if(!a.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},a.byteLength=g,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},a.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},a.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},a.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?C(this,0,t):v.apply(this,arguments)},a.prototype.equals=function(t){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},a.prototype.compare=function(t,e,n,r,i){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,i>>>=0,this===t)return 0;for(var o=i-r,s=n-e,l=Math.min(o,s),u=this.slice(r,i),c=t.slice(e,n),h=0;h<l;++h)if(u[h]!==c[h]){o=u[h],s=c[h];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},a.prototype.indexOf=function(t,e,n){return b(this,t,e,n,!0)},a.prototype.lastIndexOf=function(t,e,n){return b(this,t,e,n,!1)},a.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return _(this,t,e,n);case"utf8":case"utf-8":return w(this,t,e,n);case"ascii":return M(this,t,e,n);case"latin1":case"binary":return S(this,t,e,n);case"base64":return E(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,e,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $=4096;a.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),e<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var r;if(a.TYPED_ARRAY_SUPPORT)r=this.subarray(t,e),r.__proto__=a.prototype;else{var i=e-t;r=new a(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+t]}return r},a.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=this[t],i=1,a=0;++a<e&&(i*=256);)r+=this[t+a]*i;return r},a.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},a.prototype.readUInt8=function(t,e){return e||I(t,1,this.length),this[t]},a.prototype.readUInt16LE=function(t,e){return e||I(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUInt16BE=function(t,e){return e||I(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUInt32LE=function(t,e){return e||I(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUInt32BE=function(t,e){return e||I(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=this[t],i=1,a=0;++a<e&&(i*=256);)r+=this[t+a]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},a.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=e,i=1,a=this[t+--r];r>0&&(i*=256);)a+=this[t+--r]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*e)),a},a.prototype.readInt8=function(t,e){return e||I(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},a.prototype.readInt16LE=function(t,e){e||I(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(t,e){e||I(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(t,e){return e||I(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,e){return e||I(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readFloatLE=function(t,e){return e||I(t,4,this.length),J.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,e){return e||I(t,4,this.length),J.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,e){return e||I(t,8,this.length),J.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,e){return e||I(t,8,this.length),J.read(this,t,!1,52,8)},a.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){D(this,t,e,n,Math.pow(2,8*n)-1,0)}var i=1,a=0;for(this[e]=255&t;++a<n&&(i*=256);)this[e+a]=t/i&255;return e+n},a.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){D(this,t,e,n,Math.pow(2,8*n)-1,0)}var i=n-1,a=1;for(this[e+i]=255&t;--i>=0&&(a*=256);)this[e+i]=t/a&255;return e+n},a.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,1,255,0),a.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},a.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},a.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},a.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):z(this,t,e,!0),e+4},a.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):z(this,t,e,!1),e+4},a.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);D(this,t,e,n,i-1,-i)}var a=0,o=1,s=0;for(this[e]=255&t;++a<n&&(o*=256);)t<0&&0===s&&0!==this[e+a-1]&&(s=1),this[e+a]=(t/o>>0)-s&255;return e+n},a.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);D(this,t,e,n,i-1,-i)}var a=n-1,o=1,s=0;for(this[e+a]=255&t;--a>=0&&(o*=256);)t<0&&0===s&&0!==this[e+a+1]&&(s=1),this[e+a]=(t/o>>0)-s&255;return e+n},a.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,1,127,-128),a.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},a.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},a.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},a.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):z(this,t,e,!0),e+4},a.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):z(this,t,e,!1),e+4},a.prototype.writeFloatLE=function(t,e,n){return F(this,t,e,!0,n)},a.prototype.writeFloatBE=function(t,e,n){return F(this,t,e,!1,n)},a.prototype.writeDoubleLE=function(t,e,n){return U(this,t,e,!0,n)},a.prototype.writeDoubleBE=function(t,e,n){return U(this,t,e,!1,n)},a.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!a.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},a.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!a.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0);var o;if("number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=a.isBuffer(t)?t:V(new a(t,r).toString()),l=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%l]}return this};var tt=/[^+\/0-9A-Za-z-_]/g}).call(e,n(61))},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){var r=n(272)();r.helpers=n(6),n(271)(r),r.defaults=n(9),r.Element=n(21),r.elements=n(33),r.Interaction=n(122),r.platform=n(123),n(274)(r),n(268)(r),n(269)(r),n(270)(r),n(273)(r),n(276)(r),n(275)(r),n(277)(r),n(292)(r),n(290)(r),n(291)(r),n(293)(r),n(294)(r),n(295)(r),n(261)(r),n(262)(r),n(263)(r),n(264)(r),n(265)(r),n(266)(r),n(267)(r),n(254)(r),n(255)(r),n(256)(r),n(257)(r),n(258)(r),n(259)(r),n(260)(r);var i=[];i.push(n(287)(r),n(288)(r),n(289)(r)),r.plugins.register(i),r.platform.initialize(),t.exports=r,"undefined"!=typeof window&&(window.Chart=r),r.canvasHelpers=r.helpers.canvas},function(t,e,n){"use strict";t.exports=function(t){t.Bar=function(e,n){return n.type="bar",new t(e,n)}}},function(t,e,n){"use strict";t.exports=function(t){t.Bubble=function(e,n){return n.type="bubble",new t(e,n)}}},function(t,e,n){"use strict";t.exports=function(t){t.Doughnut=function(e,n){return n.type="doughnut",new t(e,n)}}},function(t,e,n){"use strict";t.exports=function(t){t.Line=function(e,n){return n.type="line",new t(e,n)}}},function(t,e,n){"use strict";t.exports=function(t){t.PolarArea=function(e,n){return n.type="polarArea",new t(e,n)}}},function(t,e,n){"use strict";t.exports=function(t){t.Radar=function(e,n){return n.type="radar",new t(e,n)}}},function(t,e,n){"use strict";t.exports=function(t){t.Scatter=function(e,n){return n.type="scatter",new t(e,n)}}},function(t,e,n){"use strict";var r=n(9),i=n(33),a=n(6);r._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),r._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{position:"left",type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{callbacks:{title:function(t,e){var n="";return t.length>0&&(t[0].yLabel?n=t[0].yLabel:e.labels.length>0&&t[0].index<e.labels.length&&(n=e.labels[t[0].index])),n},label:function(t,e){return(e.datasets[t.datasetIndex].label||"")+": "+t.xLabel}},mode:"index",axis:"y"}}),t.exports=function(t){t.controllers.bar=t.DatasetController.extend({dataElementType:i.Rectangle,initialize:function(){var e,n=this;t.DatasetController.prototype.initialize.apply(n,arguments),e=n.getMeta(),e.stack=n.getDataset().stack,e.bar=!0},update:function(t){var e,n,r=this,i=r.getMeta().data;for(r._ruler=r.getRuler(),e=0,n=i.length;e<n;++e)r.updateElement(i[e],e,t)},updateElement:function(t,e,n){var r=this,i=r.chart,o=r.getMeta(),s=r.getDataset(),l=t.custom||{},u=i.options.elements.rectangle;t._xScale=r.getScaleForId(o.xAxisID),t._yScale=r.getScaleForId(o.yAxisID),t._datasetIndex=r.index,t._index=e,t._model={datasetLabel:s.label,label:i.data.labels[e],borderSkipped:l.borderSkipped?l.borderSkipped:u.borderSkipped,backgroundColor:l.backgroundColor?l.backgroundColor:a.valueAtIndexOrDefault(s.backgroundColor,e,u.backgroundColor),borderColor:l.borderColor?l.borderColor:a.valueAtIndexOrDefault(s.borderColor,e,u.borderColor),borderWidth:l.borderWidth?l.borderWidth:a.valueAtIndexOrDefault(s.borderWidth,e,u.borderWidth)},r.updateElementGeometry(t,e,n),t.pivot()},updateElementGeometry:function(t,e,n){var r=this,i=t._model,a=r.getValueScale(),o=a.getBasePixel(),s=a.isHorizontal(),l=r._ruler||r.getRuler(),u=r.calculateBarValuePixels(r.index,e),c=r.calculateBarIndexPixels(r.index,e,l);i.horizontal=s,i.base=n?o:u.base,i.x=s?n?o:u.head:c.center,i.y=s?c.center:n?o:u.head,i.height=s?c.size:void 0,i.width=s?void 0:c.size},getValueScaleId:function(){return this.getMeta().yAxisID},getIndexScaleId:function(){return this.getMeta().xAxisID},getValueScale:function(){return this.getScaleForId(this.getValueScaleId())},getIndexScale:function(){return this.getScaleForId(this.getIndexScaleId())},getStackCount:function(t){var e,n,r=this,i=r.chart,a=r.getIndexScale(),o=a.options.stacked,s=void 0===t?i.data.datasets.length:t+1,l=[];for(e=0;e<s;++e)n=i.getDatasetMeta(e),n.bar&&i.isDatasetVisible(e)&&(!1===o||!0===o&&-1===l.indexOf(n.stack)||void 0===o&&(void 0===n.stack||-1===l.indexOf(n.stack)))&&l.push(n.stack);return l.length},getStackIndex:function(t){return this.getStackCount(t)-1},getRuler:function(){var t,e,n=this,r=n.getIndexScale(),i=n.getStackCount(),a=n.index,o=[],s=r.isHorizontal(),l=s?r.left:r.top,u=l+(s?r.width:r.height);for(t=0,e=n.getMeta().data.length;t<e;++t)o.push(r.getPixelForValue(null,t,a));return{pixels:o,start:l,end:u,stackCount:i,scale:r}},calculateBarValuePixels:function(t,e){var n,r,i,a,o,s,l=this,u=l.chart,c=l.getMeta(),h=l.getValueScale(),d=u.data.datasets,f=h.getRightValue(d[t].data[e]),p=h.options.stacked,m=c.stack,g=0;if(p||void 0===p&&void 0!==m)for(n=0;n<t;++n)r=u.getDatasetMeta(n),r.bar&&r.stack===m&&r.controller.getValueScaleId()===h.id&&u.isDatasetVisible(n)&&(i=h.getRightValue(d[n].data[e]),(f<0&&i<0||f>=0&&i>0)&&(g+=i));return a=h.getPixelForValue(g),o=h.getPixelForValue(g+f),s=(o-a)/2,{size:s,base:a,head:o,center:o+s/2}},calculateBarIndexPixels:function(t,e,n){var r,i,o,s,l,u,c=this,h=n.scale.options,d=c.getStackIndex(t),f=n.pixels,p=f[e],m=f.length,g=n.start,v=n.end;return 1===m?(r=p>g?p-g:v-p,i=p<v?v-p:p-g):(e>0&&(r=(p-f[e-1])/2,e===m-1&&(i=r)),e<m-1&&(i=(f[e+1]-p)/2,0===e&&(r=i))),o=r*h.categoryPercentage,s=i*h.categoryPercentage,l=(o+s)/n.stackCount,u=l*h.barPercentage,u=Math.min(a.valueOrDefault(h.barThickness,u),a.valueOrDefault(h.maxBarThickness,1/0)),p-=o,p+=l*d,p+=(l-u)/2,{size:u,base:p,head:p+u,center:p+u/2}},draw:function(){var t=this,e=t.chart,n=t.getValueScale(),r=t.getMeta().data,i=t.getDataset(),o=r.length,s=0;for(a.canvas.clipArea(e.ctx,e.chartArea);s<o;++s)isNaN(n.getRightValue(i.data[s]))||r[s].draw();a.canvas.unclipArea(e.ctx)},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index,r=t.custom||{},i=t._model;i.backgroundColor=r.hoverBackgroundColor?r.hoverBackgroundColor:a.valueAtIndexOrDefault(e.hoverBackgroundColor,n,a.getHoverColor(i.backgroundColor)),i.borderColor=r.hoverBorderColor?r.hoverBorderColor:a.valueAtIndexOrDefault(e.hoverBorderColor,n,a.getHoverColor(i.borderColor)),i.borderWidth=r.hoverBorderWidth?r.hoverBorderWidth:a.valueAtIndexOrDefault(e.hoverBorderWidth,n,i.borderWidth)},removeHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index,r=t.custom||{},i=t._model,o=this.chart.options.elements.rectangle;i.backgroundColor=r.backgroundColor?r.backgroundColor:a.valueAtIndexOrDefault(e.backgroundColor,n,o.backgroundColor),i.borderColor=r.borderColor?r.borderColor:a.valueAtIndexOrDefault(e.borderColor,n,o.borderColor),i.borderWidth=r.borderWidth?r.borderWidth:a.valueAtIndexOrDefault(e.borderWidth,n,o.borderWidth)}}),t.controllers.horizontalBar=t.controllers.bar.extend({getValueScaleId:function(){return this.getMeta().xAxisID},getIndexScaleId:function(){return this.getMeta().yAxisID}})}},function(t,e,n){"use strict";var r=n(9),i=n(33),a=n(6);r._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(t,e){var n=e.datasets[t.datasetIndex].label||"",r=e.datasets[t.datasetIndex].data[t.index];return n+": ("+t.xLabel+", "+t.yLabel+", "+r.r+")"}}}}),t.exports=function(t){t.controllers.bubble=t.DatasetController.extend({dataElementType:i.Point,update:function(t){var e=this,n=e.getMeta(),r=n.data;a.each(r,function(n,r){e.updateElement(n,r,t)})},updateElement:function(t,e,n){var r=this,i=r.getMeta(),a=t.custom||{},o=r.getScaleForId(i.xAxisID),s=r.getScaleForId(i.yAxisID),l=r._resolveElementOptions(t,e),u=r.getDataset().data[e],c=r.index,h=n?o.getPixelForDecimal(.5):o.getPixelForValue("object"==typeof u?u:NaN,e,c),d=n?s.getBasePixel():s.getPixelForValue(u,e,c);t._xScale=o,t._yScale=s,t._options=l,t._datasetIndex=c,t._index=e,t._model={backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,hitRadius:l.hitRadius,pointStyle:l.pointStyle,radius:n?0:l.radius,skip:a.skip||isNaN(h)||isNaN(d),x:h,y:d},t.pivot()},setHoverStyle:function(t){var e=t._model,n=t._options;e.backgroundColor=a.valueOrDefault(n.hoverBackgroundColor,a.getHoverColor(n.backgroundColor)),e.borderColor=a.valueOrDefault(n.hoverBorderColor,a.getHoverColor(n.borderColor)),e.borderWidth=a.valueOrDefault(n.hoverBorderWidth,n.borderWidth),e.radius=n.radius+n.hoverRadius},removeHoverStyle:function(t){var e=t._model,n=t._options;e.backgroundColor=n.backgroundColor,e.borderColor=n.borderColor,e.borderWidth=n.borderWidth,e.radius=n.radius},_resolveElementOptions:function(t,e){var n,r,i,o=this,s=o.chart,l=s.data.datasets,u=l[o.index],c=t.custom||{},h=s.options.elements.point,d=a.options.resolve,f=u.data[e],p={},m={chart:s,dataIndex:e,dataset:u,datasetIndex:o.index},g=["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle"];for(n=0,r=g.length;n<r;++n)i=g[n],p[i]=d([c[i],u[i],h[i]],m,e);return p.radius=d([c.radius,f?f.r:void 0,u.radius,h.radius],m,e),p}})}},function(t,e,n){"use strict";var r=n(9),i=n(33),a=n(6);r._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var n=t.data,r=n.datasets,i=n.labels;if(r.length)for(var a=0;a<r[0].data.length;++a)e.push('<li><span style="background-color:'+r[0].backgroundColor[a]+'"></span>'),i[a]&&e.push(i[a]),e.push("</li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(t){var e=t.data;return e.labels.length&&e.datasets.length?e.labels.map(function(n,r){var i=t.getDatasetMeta(0),o=e.datasets[0],s=i.data[r],l=s&&s.custom||{},u=a.valueAtIndexOrDefault,c=t.options.elements.arc;return{text:n,fillStyle:l.backgroundColor?l.backgroundColor:u(o.backgroundColor,r,c.backgroundColor),strokeStyle:l.borderColor?l.borderColor:u(o.borderColor,r,c.borderColor),lineWidth:l.borderWidth?l.borderWidth:u(o.borderWidth,r,c.borderWidth),hidden:isNaN(o.data[r])||i.data[r].hidden,index:r}}):[]}},onClick:function(t,e){var n,r,i,a=e.index,o=this.chart;for(n=0,r=(o.data.datasets||[]).length;n<r;++n)i=o.getDatasetMeta(n),i.data[a]&&(i.data[a].hidden=!i.data[a].hidden);o.update()}},cutoutPercentage:50,rotation:-.5*Math.PI,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(t,e){var n=e.labels[t.index],r=": "+e.datasets[t.datasetIndex].data[t.index];return a.isArray(n)?(n=n.slice(),n[0]+=r):n+=r,n}}}}),r._set("pie",a.clone(r.doughnut)),r._set("pie",{cutoutPercentage:0}),t.exports=function(t){t.controllers.doughnut=t.controllers.pie=t.DatasetController.extend({dataElementType:i.Arc,linkScales:a.noop,getRingIndex:function(t){for(var e=0,n=0;n<t;++n)this.chart.isDatasetVisible(n)&&++e;return e},update:function(t){var e=this,n=e.chart,r=n.chartArea,i=n.options,o=i.elements.arc,s=r.right-r.left-o.borderWidth,l=r.bottom-r.top-o.borderWidth,u=Math.min(s,l),c={x:0,y:0},h=e.getMeta(),d=i.cutoutPercentage,f=i.circumference;if(f<2*Math.PI){var p=i.rotation%(2*Math.PI);p+=2*Math.PI*(p>=Math.PI?-1:p<-Math.PI?1:0);var m=p+f,g={x:Math.cos(p),y:Math.sin(p)},v={x:Math.cos(m),y:Math.sin(m)},y=p<=0&&m>=0||p<=2*Math.PI&&2*Math.PI<=m,b=p<=.5*Math.PI&&.5*Math.PI<=m||p<=2.5*Math.PI&&2.5*Math.PI<=m,x=p<=-Math.PI&&-Math.PI<=m||p<=Math.PI&&Math.PI<=m,_=p<=.5*-Math.PI&&.5*-Math.PI<=m||p<=1.5*Math.PI&&1.5*Math.PI<=m,w=d/100,M={x:x?-1:Math.min(g.x*(g.x<0?1:w),v.x*(v.x<0?1:w)),y:_?-1:Math.min(g.y*(g.y<0?1:w),v.y*(v.y<0?1:w))},S={x:y?1:Math.max(g.x*(g.x>0?1:w),v.x*(v.x>0?1:w)),y:b?1:Math.max(g.y*(g.y>0?1:w),v.y*(v.y>0?1:w))},E={width:.5*(S.x-M.x),height:.5*(S.y-M.y)};u=Math.min(s/E.width,l/E.height),c={x:-.5*(S.x+M.x),y:-.5*(S.y+M.y)}}n.borderWidth=e.getMaxBorderWidth(h.data),n.outerRadius=Math.max((u-n.borderWidth)/2,0),n.innerRadius=Math.max(d?n.outerRadius/100*d:0,0),n.radiusLength=(n.outerRadius-n.innerRadius)/n.getVisibleDatasetCount(),n.offsetX=c.x*n.outerRadius,n.offsetY=c.y*n.outerRadius,h.total=e.calculateTotal(),e.outerRadius=n.outerRadius-n.radiusLength*e.getRingIndex(e.index),e.innerRadius=Math.max(e.outerRadius-n.radiusLength,0),a.each(h.data,function(n,r){e.updateElement(n,r,t)})},updateElement:function(t,e,n){var r=this,i=r.chart,o=i.chartArea,s=i.options,l=s.animation,u=(o.left+o.right)/2,c=(o.top+o.bottom)/2,h=s.rotation,d=s.rotation,f=r.getDataset(),p=n&&l.animateRotate?0:t.hidden?0:r.calculateCircumference(f.data[e])*(s.circumference/(2*Math.PI)),m=n&&l.animateScale?0:r.innerRadius,g=n&&l.animateScale?0:r.outerRadius,v=a.valueAtIndexOrDefault;a.extend(t,{_datasetIndex:r.index,_index:e,_model:{x:u+i.offsetX,y:c+i.offsetY,startAngle:h,endAngle:d,circumference:p,outerRadius:g,innerRadius:m,label:v(f.label,e,i.data.labels[e])}});var y=t._model;this.removeHoverStyle(t),n&&l.animateRotate||(y.startAngle=0===e?s.rotation:r.getMeta().data[e-1]._model.endAngle,y.endAngle=y.startAngle+y.circumference),t.pivot()},removeHoverStyle:function(e){t.DatasetController.prototype.removeHoverStyle.call(this,e,this.chart.options.elements.arc)},calculateTotal:function(){var t,e=this.getDataset(),n=this.getMeta(),r=0;return a.each(n.data,function(n,i){t=e.data[i],isNaN(t)||n.hidden||(r+=Math.abs(t))}),r},calculateCircumference:function(t){var e=this.getMeta().total;return e>0&&!isNaN(t)?2*Math.PI*(t/e):0},getMaxBorderWidth:function(t){for(var e,n,r=0,i=this.index,a=t.length,o=0;o<a;o++)e=t[o]._model?t[o]._model.borderWidth:0,n=t[o]._chart?t[o]._chart.config.data.datasets[i].hoverBorderWidth:0,r=e>r?e:r,r=n>r?n:r;return r}})}},function(t,e,n){"use strict";var r=n(9),i=n(33),a=n(6);r._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}}),t.exports=function(t){function e(t,e){return a.valueOrDefault(t.showLine,e.showLines)}t.controllers.line=t.DatasetController.extend({datasetElementType:i.Line,dataElementType:i.Point,update:function(t){var n,r,i,o=this,s=o.getMeta(),l=s.dataset,u=s.data||[],c=o.chart.options,h=c.elements.line,d=o.getScaleForId(s.yAxisID),f=o.getDataset(),p=e(f,c);for(p&&(i=l.custom||{},void 0!==f.tension&&void 0===f.lineTension&&(f.lineTension=f.tension),l._scale=d,l._datasetIndex=o.index,l._children=u,l._model={spanGaps:f.spanGaps?f.spanGaps:c.spanGaps,tension:i.tension?i.tension:a.valueOrDefault(f.lineTension,h.tension),backgroundColor:i.backgroundColor?i.backgroundColor:f.backgroundColor||h.backgroundColor,borderWidth:i.borderWidth?i.borderWidth:f.borderWidth||h.borderWidth,borderColor:i.borderColor?i.borderColor:f.borderColor||h.borderColor,borderCapStyle:i.borderCapStyle?i.borderCapStyle:f.borderCapStyle||h.borderCapStyle,borderDash:i.borderDash?i.borderDash:f.borderDash||h.borderDash,borderDashOffset:i.borderDashOffset?i.borderDashOffset:f.borderDashOffset||h.borderDashOffset,borderJoinStyle:i.borderJoinStyle?i.borderJoinStyle:f.borderJoinStyle||h.borderJoinStyle,fill:i.fill?i.fill:void 0!==f.fill?f.fill:h.fill,steppedLine:i.steppedLine?i.steppedLine:a.valueOrDefault(f.steppedLine,h.stepped),cubicInterpolationMode:i.cubicInterpolationMode?i.cubicInterpolationMode:a.valueOrDefault(f.cubicInterpolationMode,h.cubicInterpolationMode)},l.pivot()),n=0,r=u.length;n<r;++n)o.updateElement(u[n],n,t);for(p&&0!==l._model.tension&&o.updateBezierControlPoints(),n=0,r=u.length;n<r;++n)u[n].pivot()},getPointBackgroundColor:function(t,e){var n=this.chart.options.elements.point.backgroundColor,r=this.getDataset(),i=t.custom||{};return i.backgroundColor?n=i.backgroundColor:r.pointBackgroundColor?n=a.valueAtIndexOrDefault(r.pointBackgroundColor,e,n):r.backgroundColor&&(n=r.backgroundColor),n},getPointBorderColor:function(t,e){var n=this.chart.options.elements.point.borderColor,r=this.getDataset(),i=t.custom||{};return i.borderColor?n=i.borderColor:r.pointBorderColor?n=a.valueAtIndexOrDefault(r.pointBorderColor,e,n):r.borderColor&&(n=r.borderColor),n},getPointBorderWidth:function(t,e){var n=this.chart.options.elements.point.borderWidth,r=this.getDataset(),i=t.custom||{};return isNaN(i.borderWidth)?!isNaN(r.pointBorderWidth)||a.isArray(r.pointBorderWidth)?n=a.valueAtIndexOrDefault(r.pointBorderWidth,e,n):isNaN(r.borderWidth)||(n=r.borderWidth):n=i.borderWidth,n},updateElement:function(t,e,n){var r,i,o=this,s=o.getMeta(),l=t.custom||{},u=o.getDataset(),c=o.index,h=u.data[e],d=o.getScaleForId(s.yAxisID),f=o.getScaleForId(s.xAxisID),p=o.chart.options.elements.point;void 0!==u.radius&&void 0===u.pointRadius&&(u.pointRadius=u.radius),void 0!==u.hitRadius&&void 0===u.pointHitRadius&&(u.pointHitRadius=u.hitRadius),r=f.getPixelForValue("object"==typeof h?h:NaN,e,c),i=n?d.getBasePixel():o.calculatePointY(h,e,c),t._xScale=f,t._yScale=d,t._datasetIndex=c,t._index=e,t._model={x:r,y:i,skip:l.skip||isNaN(r)||isNaN(i),radius:l.radius||a.valueAtIndexOrDefault(u.pointRadius,e,p.radius),pointStyle:l.pointStyle||a.valueAtIndexOrDefault(u.pointStyle,e,p.pointStyle),backgroundColor:o.getPointBackgroundColor(t,e),borderColor:o.getPointBorderColor(t,e),borderWidth:o.getPointBorderWidth(t,e),tension:s.dataset._model?s.dataset._model.tension:0,steppedLine:!!s.dataset._model&&s.dataset._model.steppedLine,hitRadius:l.hitRadius||a.valueAtIndexOrDefault(u.pointHitRadius,e,p.hitRadius)}},calculatePointY:function(t,e,n){var r,i,a,o=this,s=o.chart,l=o.getMeta(),u=o.getScaleForId(l.yAxisID),c=0,h=0;if(u.options.stacked){for(r=0;r<n;r++)if(i=s.data.datasets[r],a=s.getDatasetMeta(r),"line"===a.type&&a.yAxisID===u.id&&s.isDatasetVisible(r)){var d=Number(u.getRightValue(i.data[e]));d<0?h+=d||0:c+=d||0}var f=Number(u.getRightValue(t));return f<0?u.getPixelForValue(h+f):u.getPixelForValue(c+f)}return u.getPixelForValue(t)},updateBezierControlPoints:function(){function t(t,e,n){return Math.max(Math.min(t,n),e)}var e,n,r,i,o,s=this,l=s.getMeta(),u=s.chart.chartArea,c=l.data||[];if(l.dataset._model.spanGaps&&(c=c.filter(function(t){return!t._model.skip})),"monotone"===l.dataset._model.cubicInterpolationMode)a.splineCurveMonotone(c);else for(e=0,n=c.length;e<n;++e)r=c[e],i=r._model,o=a.splineCurve(a.previousItem(c,e)._model,i,a.nextItem(c,e)._model,l.dataset._model.tension),i.controlPointPreviousX=o.previous.x,i.controlPointPreviousY=o.previous.y,i.controlPointNextX=o.next.x,i.controlPointNextY=o.next.y;if(s.chart.options.elements.line.capBezierPoints)for(e=0,n=c.length;e<n;++e)i=c[e]._model,i.controlPointPreviousX=t(i.controlPointPreviousX,u.left,u.right),i.controlPointPreviousY=t(i.controlPointPreviousY,u.top,u.bottom),i.controlPointNextX=t(i.controlPointNextX,u.left,u.right),i.controlPointNextY=t(i.controlPointNextY,u.top,u.bottom)},draw:function(){var t=this,n=t.chart,r=t.getMeta(),i=r.data||[],o=n.chartArea,s=i.length,l=0;for(a.canvas.clipArea(n.ctx,o),e(t.getDataset(),n.options)&&r.dataset.draw(),a.canvas.unclipArea(n.ctx);l<s;++l)i[l].draw(o)},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index,r=t.custom||{},i=t._model;i.radius=r.hoverRadius||a.valueAtIndexOrDefault(e.pointHoverRadius,n,this.chart.options.elements.point.hoverRadius),i.backgroundColor=r.hoverBackgroundColor||a.valueAtIndexOrDefault(e.pointHoverBackgroundColor,n,a.getHoverColor(i.backgroundColor)),i.borderColor=r.hoverBorderColor||a.valueAtIndexOrDefault(e.pointHoverBorderColor,n,a.getHoverColor(i.borderColor)),i.borderWidth=r.hoverBorderWidth||a.valueAtIndexOrDefault(e.pointHoverBorderWidth,n,i.borderWidth)},removeHoverStyle:function(t){var e=this,n=e.chart.data.datasets[t._datasetIndex],r=t._index,i=t.custom||{},o=t._model;void 0!==n.radius&&void 0===n.pointRadius&&(n.pointRadius=n.radius),o.radius=i.radius||a.valueAtIndexOrDefault(n.pointRadius,r,e.chart.options.elements.point.radius),o.backgroundColor=e.getPointBackgroundColor(t,r),o.borderColor=e.getPointBorderColor(t,r),o.borderWidth=e.getPointBorderWidth(t,r)}})}},function(t,e,n){"use strict";var r=n(9),i=n(33),a=n(6);r._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var n=t.data,r=n.datasets,i=n.labels;if(r.length)for(var a=0;a<r[0].data.length;++a)e.push('<li><span style="background-color:'+r[0].backgroundColor[a]+'"></span>'),i[a]&&e.push(i[a]),e.push("</li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(t){var e=t.data;return e.labels.length&&e.datasets.length?e.labels.map(function(n,r){var i=t.getDatasetMeta(0),o=e.datasets[0],s=i.data[r],l=s.custom||{},u=a.valueAtIndexOrDefault,c=t.options.elements.arc;return{text:n,fillStyle:l.backgroundColor?l.backgroundColor:u(o.backgroundColor,r,c.backgroundColor),strokeStyle:l.borderColor?l.borderColor:u(o.borderColor,r,c.borderColor),lineWidth:l.borderWidth?l.borderWidth:u(o.borderWidth,r,c.borderWidth),hidden:isNaN(o.data[r])||i.data[r].hidden,index:r}}):[]}},onClick:function(t,e){var n,r,i,a=e.index,o=this.chart;for(n=0,r=(o.data.datasets||[]).length;n<r;++n)i=o.getDatasetMeta(n),i.data[a].hidden=!i.data[a].hidden;o.update()}},tooltips:{callbacks:{title:function(){return""},label:function(t,e){return e.labels[t.index]+": "+t.yLabel}}}}),t.exports=function(t){t.controllers.polarArea=t.DatasetController.extend({dataElementType:i.Arc,linkScales:a.noop,update:function(t){var e=this,n=e.chart,r=n.chartArea,i=e.getMeta(),o=n.options,s=o.elements.arc,l=Math.min(r.right-r.left,r.bottom-r.top);n.outerRadius=Math.max((l-s.borderWidth/2)/2,0),n.innerRadius=Math.max(o.cutoutPercentage?n.outerRadius/100*o.cutoutPercentage:1,0),n.radiusLength=(n.outerRadius-n.innerRadius)/n.getVisibleDatasetCount(),e.outerRadius=n.outerRadius-n.radiusLength*e.index,e.innerRadius=e.outerRadius-n.radiusLength,i.count=e.countVisibleElements(),a.each(i.data,function(n,r){e.updateElement(n,r,t)})},updateElement:function(t,e,n){for(var r=this,i=r.chart,o=r.getDataset(),s=i.options,l=s.animation,u=i.scale,c=i.data.labels,h=r.calculateCircumference(o.data[e]),d=u.xCenter,f=u.yCenter,p=0,m=r.getMeta(),g=0;g<e;++g)isNaN(o.data[g])||m.data[g].hidden||++p;var v=s.startAngle,y=t.hidden?0:u.getDistanceFromCenterForValue(o.data[e]),b=v+h*p,x=b+(t.hidden?0:h),_=l.animateScale?0:u.getDistanceFromCenterForValue(o.data[e]);a.extend(t,{_datasetIndex:r.index,_index:e,_scale:u,_model:{x:d,y:f,innerRadius:0,outerRadius:n?_:y,startAngle:n&&l.animateRotate?v:b,endAngle:n&&l.animateRotate?v:x,label:a.valueAtIndexOrDefault(c,e,c[e])}}),r.removeHoverStyle(t),t.pivot()},removeHoverStyle:function(e){t.DatasetController.prototype.removeHoverStyle.call(this,e,this.chart.options.elements.arc)},countVisibleElements:function(){var t=this.getDataset(),e=this.getMeta(),n=0;return a.each(e.data,function(e,r){isNaN(t.data[r])||e.hidden||n++}),n},calculateCircumference:function(t){var e=this.getMeta().count;return e>0&&!isNaN(t)?2*Math.PI/e:0}})}},function(t,e,n){"use strict";var r=n(9),i=n(33),a=n(6);r._set("radar",{scale:{type:"radialLinear"},elements:{line:{tension:0}}}),t.exports=function(t){t.controllers.radar=t.DatasetController.extend({datasetElementType:i.Line,dataElementType:i.Point,linkScales:a.noop,update:function(t){var e=this,n=e.getMeta(),r=n.dataset,i=n.data,o=r.custom||{},s=e.getDataset(),l=e.chart.options.elements.line,u=e.chart.scale;void 0!==s.tension&&void 0===s.lineTension&&(s.lineTension=s.tension),a.extend(n.dataset,{_datasetIndex:e.index,_scale:u,_children:i,_loop:!0,_model:{tension:o.tension?o.tension:a.valueOrDefault(s.lineTension,l.tension),backgroundColor:o.backgroundColor?o.backgroundColor:s.backgroundColor||l.backgroundColor,borderWidth:o.borderWidth?o.borderWidth:s.borderWidth||l.borderWidth,borderColor:o.borderColor?o.borderColor:s.borderColor||l.borderColor,fill:o.fill?o.fill:void 0!==s.fill?s.fill:l.fill,borderCapStyle:o.borderCapStyle?o.borderCapStyle:s.borderCapStyle||l.borderCapStyle,borderDash:o.borderDash?o.borderDash:s.borderDash||l.borderDash,borderDashOffset:o.borderDashOffset?o.borderDashOffset:s.borderDashOffset||l.borderDashOffset,borderJoinStyle:o.borderJoinStyle?o.borderJoinStyle:s.borderJoinStyle||l.borderJoinStyle}}),n.dataset.pivot(),a.each(i,function(n,r){e.updateElement(n,r,t)},e),e.updateBezierControlPoints()},updateElement:function(t,e,n){var r=this,i=t.custom||{},o=r.getDataset(),s=r.chart.scale,l=r.chart.options.elements.point,u=s.getPointPositionForValue(e,o.data[e]);void 0!==o.radius&&void 0===o.pointRadius&&(o.pointRadius=o.radius),void 0!==o.hitRadius&&void 0===o.pointHitRadius&&(o.pointHitRadius=o.hitRadius),a.extend(t,{_datasetIndex:r.index,_index:e,_scale:s,_model:{x:n?s.xCenter:u.x,y:n?s.yCenter:u.y,tension:i.tension?i.tension:a.valueOrDefault(o.lineTension,r.chart.options.elements.line.tension),radius:i.radius?i.radius:a.valueAtIndexOrDefault(o.pointRadius,e,l.radius),backgroundColor:i.backgroundColor?i.backgroundColor:a.valueAtIndexOrDefault(o.pointBackgroundColor,e,l.backgroundColor),borderColor:i.borderColor?i.borderColor:a.valueAtIndexOrDefault(o.pointBorderColor,e,l.borderColor),borderWidth:i.borderWidth?i.borderWidth:a.valueAtIndexOrDefault(o.pointBorderWidth,e,l.borderWidth),pointStyle:i.pointStyle?i.pointStyle:a.valueAtIndexOrDefault(o.pointStyle,e,l.pointStyle),hitRadius:i.hitRadius?i.hitRadius:a.valueAtIndexOrDefault(o.pointHitRadius,e,l.hitRadius)}}),t._model.skip=i.skip?i.skip:isNaN(t._model.x)||isNaN(t._model.y)},updateBezierControlPoints:function(){var t=this.chart.chartArea,e=this.getMeta();a.each(e.data,function(n,r){var i=n._model,o=a.splineCurve(a.previousItem(e.data,r,!0)._model,i,a.nextItem(e.data,r,!0)._model,i.tension);i.controlPointPreviousX=Math.max(Math.min(o.previous.x,t.right),t.left),i.controlPointPreviousY=Math.max(Math.min(o.previous.y,t.bottom),t.top),i.controlPointNextX=Math.max(Math.min(o.next.x,t.right),t.left),i.controlPointNextY=Math.max(Math.min(o.next.y,t.bottom),t.top),n.pivot()})},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t.custom||{},r=t._index,i=t._model;i.radius=n.hoverRadius?n.hoverRadius:a.valueAtIndexOrDefault(e.pointHoverRadius,r,this.chart.options.elements.point.hoverRadius),i.backgroundColor=n.hoverBackgroundColor?n.hoverBackgroundColor:a.valueAtIndexOrDefault(e.pointHoverBackgroundColor,r,a.getHoverColor(i.backgroundColor)),i.borderColor=n.hoverBorderColor?n.hoverBorderColor:a.valueAtIndexOrDefault(e.pointHoverBorderColor,r,a.getHoverColor(i.borderColor)),i.borderWidth=n.hoverBorderWidth?n.hoverBorderWidth:a.valueAtIndexOrDefault(e.pointHoverBorderWidth,r,i.borderWidth)},removeHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t.custom||{},r=t._index,i=t._model,o=this.chart.options.elements.point;i.radius=n.radius?n.radius:a.valueAtIndexOrDefault(e.pointRadius,r,o.radius),i.backgroundColor=n.backgroundColor?n.backgroundColor:a.valueAtIndexOrDefault(e.pointBackgroundColor,r,o.backgroundColor),i.borderColor=n.borderColor?n.borderColor:a.valueAtIndexOrDefault(e.pointBorderColor,r,o.borderColor),i.borderWidth=n.borderWidth?n.borderWidth:a.valueAtIndexOrDefault(e.pointBorderWidth,r,o.borderWidth)}})}},function(t,e,n){"use strict";n(9)._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},showLines:!1,tooltips:{callbacks:{title:function(){return""},label:function(t){return"("+t.xLabel+", "+t.yLabel+")"}}}}),t.exports=function(t){t.controllers.scatter=t.controllers.line}},function(t,e,n){"use strict";var r=n(9),i=n(21),a=n(6);r._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:a.noop,onComplete:a.noop}}),t.exports=function(t){t.Animation=i.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),t.animationService={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(t,e,n,r){var i,a,o=this.animations;for(e.chart=t,r||(t.animating=!0),i=0,a=o.length;i<a;++i)if(o[i].chart===t)return void(o[i]=e);o.push(e),1===o.length&&this.requestAnimationFrame()},cancelAnimation:function(t){var e=a.findIndex(this.animations,function(e){return e.chart===t});-1!==e&&(this.animations.splice(e,1),t.animating=!1)},requestAnimationFrame:function(){var t=this;null===t.request&&(t.request=a.requestAnimFrame.call(window,function(){t.request=null,t.startDigest()}))},startDigest:function(){var t=this,e=Date.now(),n=0;t.dropFrames>1&&(n=Math.floor(t.dropFrames),t.dropFrames=t.dropFrames%1),t.advance(1+n);var r=Date.now();t.dropFrames+=(r-e)/t.frameDuration,t.animations.length>0&&t.requestAnimationFrame()},advance:function(t){for(var e,n,r=this.animations,i=0;i<r.length;)e=r[i],n=e.chart,e.currentStep=(e.currentStep||0)+t,e.currentStep=Math.min(e.currentStep,e.numSteps),a.callback(e.render,[n,e],n),a.callback(e.onAnimationProgress,[e],n),e.currentStep>=e.numSteps?(a.callback(e.onAnimationComplete,[e],n),n.animating=!1,r.splice(i,1)):++i}},Object.defineProperty(t.Animation.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(t.Animation.prototype,"chartInstance",{get:function(){return this.chart},set:function(t){this.chart=t}})}},function(t,e,n){"use strict";var r=n(9),i=n(6),a=n(122),o=n(123);t.exports=function(t){function e(t){t=t||{};var e=t.data=t.data||{};return e.datasets=e.datasets||[],e.labels=e.labels||[],t.options=i.configMerge(r.global,r[t.type],t.options||{}),t}function n(t){var e=t.options;e.scale?t.scale.options=e.scale:e.scales&&e.scales.xAxes.concat(e.scales.yAxes).forEach(function(e){t.scales[e.id].options=e}),t.tooltip._options=e.tooltips}function s(t){return"top"===t||"bottom"===t}var l=t.plugins;t.types={},t.instances={},t.controllers={},i.extend(t.prototype,{construct:function(n,r){var a=this;r=e(r);var s=o.acquireContext(n,r),l=s&&s.canvas,u=l&&l.height,c=l&&l.width;if(a.id=i.uid(),a.ctx=s,a.canvas=l,a.config=r,a.width=c,a.height=u,a.aspectRatio=u?c/u:null,a.options=r.options,a._bufferedRender=!1,a.chart=a,a.controller=a,t.instances[a.id]=a,Object.defineProperty(a,"data",{get:function(){return a.config.data},set:function(t){a.config.data=t}}),!s||!l)return void console.error("Failed to create chart: can't acquire context from the given item");a.initialize(),a.update()},initialize:function(){var t=this;return l.notify(t,"beforeInit"),i.retinaScale(t,t.options.devicePixelRatio),t.bindEvents(),t.options.responsive&&t.resize(!0),t.ensureScalesHaveIDs(),t.buildScales(),t.initToolTip(),l.notify(t,"afterInit"),t},clear:function(){return i.canvas.clear(this),this},stop:function(){return t.animationService.cancelAnimation(this),this},resize:function(t){var e=this,n=e.options,r=e.canvas,a=n.maintainAspectRatio&&e.aspectRatio||null,o=Math.max(0,Math.floor(i.getMaximumWidth(r))),s=Math.max(0,Math.floor(a?o/a:i.getMaximumHeight(r)));if((e.width!==o||e.height!==s)&&(r.width=e.width=o,r.height=e.height=s,r.style.width=o+"px",r.style.height=s+"px",i.retinaScale(e,n.devicePixelRatio),!t)){var u={width:o,height:s};l.notify(e,"resize",[u]),e.options.onResize&&e.options.onResize(e,u),e.stop(),e.update(e.options.responsiveAnimationDuration)}},ensureScalesHaveIDs:function(){var t=this.options,e=t.scales||{},n=t.scale;i.each(e.xAxes,function(t,e){t.id=t.id||"x-axis-"+e}),i.each(e.yAxes,function(t,e){t.id=t.id||"y-axis-"+e}),n&&(n.id=n.id||"scale")},buildScales:function(){var e=this,n=e.options,r=e.scales={},a=[];n.scales&&(a=a.concat((n.scales.xAxes||[]).map(function(t){return{options:t,dtype:"category",dposition:"bottom"}}),(n.scales.yAxes||[]).map(function(t){return{options:t,dtype:"linear",dposition:"left"}}))),n.scale&&a.push({options:n.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),i.each(a,function(n){var a=n.options,o=i.valueOrDefault(a.type,n.dtype),l=t.scaleService.getScaleConstructor(o);if(l){s(a.position)!==s(n.dposition)&&(a.position=n.dposition);var u=new l({id:a.id,options:a,ctx:e.ctx,chart:e});r[u.id]=u,u.mergeTicksOptions(),n.isDefault&&(e.scale=u)}}),t.scaleService.addScalesToLayout(this)},buildOrUpdateControllers:function(){var e=this,n=[],r=[];return i.each(e.data.datasets,function(i,a){var o=e.getDatasetMeta(a),s=i.type||e.config.type;if(o.type&&o.type!==s&&(e.destroyDatasetMeta(a),o=e.getDatasetMeta(a)),o.type=s,n.push(o.type),o.controller)o.controller.updateIndex(a);else{var l=t.controllers[o.type];if(void 0===l)throw new Error('"'+o.type+'" is not a chart type.');o.controller=new l(e,a),r.push(o.controller)}},e),r},resetElements:function(){var t=this;i.each(t.data.datasets,function(e,n){t.getDatasetMeta(n).controller.reset()},t)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(t){var e=this;if(t&&"object"==typeof t||(t={duration:t,lazy:arguments[1]}),n(e),!1!==l.notify(e,"beforeUpdate")){e.tooltip._data=e.data;var r=e.buildOrUpdateControllers();i.each(e.data.datasets,function(t,n){e.getDatasetMeta(n).controller.buildOrUpdateElements()},e),e.updateLayout(),i.each(r,function(t){t.reset()}),e.updateDatasets(),e.tooltip.initialize(),e.lastActive=[],l.notify(e,"afterUpdate"),e._bufferedRender?e._bufferedRequest={duration:t.duration,easing:t.easing,lazy:t.lazy}:e.render(t)}},updateLayout:function(){var e=this;!1!==l.notify(e,"beforeLayout")&&(t.layoutService.update(this,this.width,this.height),l.notify(e,"afterScaleUpdate"),l.notify(e,"afterLayout"))},updateDatasets:function(){var t=this;if(!1!==l.notify(t,"beforeDatasetsUpdate")){for(var e=0,n=t.data.datasets.length;e<n;++e)t.updateDataset(e);l.notify(t,"afterDatasetsUpdate")}},updateDataset:function(t){var e=this,n=e.getDatasetMeta(t),r={meta:n,index:t};!1!==l.notify(e,"beforeDatasetUpdate",[r])&&(n.controller.update(),l.notify(e,"afterDatasetUpdate",[r]))},render:function(e){var n=this;e&&"object"==typeof e||(e={duration:e,lazy:arguments[1]});var r=e.duration,a=e.lazy;if(!1!==l.notify(n,"beforeRender")){var o=n.options.animation,s=function(t){l.notify(n,"afterRender"),i.callback(o&&o.onComplete,[t],n)};if(o&&(void 0!==r&&0!==r||void 0===r&&0!==o.duration)){var u=new t.Animation({numSteps:(r||o.duration)/16.66,easing:e.easing||o.easing,render:function(t,e){var n=i.easing.effects[e.easing],r=e.currentStep,a=r/e.numSteps;t.draw(n(a),a,r)},onAnimationProgress:o.onProgress,onAnimationComplete:s});t.animationService.addAnimation(n,u,r,a)}else n.draw(),s(new t.Animation({numSteps:0,chart:n}));return n}},draw:function(t){var e=this;e.clear(),i.isNullOrUndef(t)&&(t=1),e.transition(t),!1!==l.notify(e,"beforeDraw",[t])&&(i.each(e.boxes,function(t){t.draw(e.chartArea)},e),e.scale&&e.scale.draw(),e.drawDatasets(t),e._drawTooltip(t),l.notify(e,"afterDraw",[t]))},transition:function(t){for(var e=this,n=0,r=(e.data.datasets||[]).length;n<r;++n)e.isDatasetVisible(n)&&e.getDatasetMeta(n).controller.transition(t);e.tooltip.transition(t)},drawDatasets:function(t){var e=this;if(!1!==l.notify(e,"beforeDatasetsDraw",[t])){for(var n=(e.data.datasets||[]).length-1;n>=0;--n)e.isDatasetVisible(n)&&e.drawDataset(n,t);l.notify(e,"afterDatasetsDraw",[t])}},drawDataset:function(t,e){var n=this,r=n.getDatasetMeta(t),i={meta:r,index:t,easingValue:e};!1!==l.notify(n,"beforeDatasetDraw",[i])&&(r.controller.draw(e),l.notify(n,"afterDatasetDraw",[i]))},_drawTooltip:function(t){var e=this,n=e.tooltip,r={tooltip:n,easingValue:t};!1!==l.notify(e,"beforeTooltipDraw",[r])&&(n.draw(),l.notify(e,"afterTooltipDraw",[r]))},getElementAtEvent:function(t){return a.modes.single(this,t)},getElementsAtEvent:function(t){return a.modes.label(this,t,{intersect:!0})},getElementsAtXAxis:function(t){return a.modes["x-axis"](this,t,{intersect:!0})},getElementsAtEventForMode:function(t,e,n){var r=a.modes[e];return"function"==typeof r?r(this,t,n):[]},getDatasetAtEvent:function(t){return a.modes.dataset(this,t,{intersect:!0})},getDatasetMeta:function(t){var e=this,n=e.data.datasets[t];n._meta||(n._meta={});var r=n._meta[e.id];return r||(r=n._meta[e.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),r},getVisibleDatasetCount:function(){for(var t=0,e=0,n=this.data.datasets.length;e<n;++e)this.isDatasetVisible(e)&&t++;return t},isDatasetVisible:function(t){var e=this.getDatasetMeta(t);return"boolean"==typeof e.hidden?!e.hidden:!this.data.datasets[t].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(t){var e=this.id,n=this.data.datasets[t],r=n._meta&&n._meta[e];r&&(r.controller.destroy(),delete n._meta[e])},destroy:function(){var e,n,r=this,a=r.canvas;for(r.stop(),e=0,n=r.data.datasets.length;e<n;++e)r.destroyDatasetMeta(e);a&&(r.unbindEvents(),i.canvas.clear(r),o.releaseContext(r.ctx),r.canvas=null,r.ctx=null),l.notify(r,"destroy"),delete t.instances[r.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var e=this;e.tooltip=new t.Tooltip({_chart:e,_chartInstance:e,_data:e.data,_options:e.options.tooltips},e)},bindEvents:function(){var t=this,e=t._listeners={},n=function(){t.eventHandler.apply(t,arguments)};i.each(t.options.events,function(r){o.addEventListener(t,r,n),e[r]=n}),t.options.responsive&&(n=function(){t.resize()},o.addEventListener(t,"resize",n),e.resize=n)},unbindEvents:function(){var t=this,e=t._listeners;e&&(delete t._listeners,i.each(e,function(e,n){o.removeEventListener(t,n,e)}))},updateHoverStyle:function(t,e,n){var r,i,a,o=n?"setHoverStyle":"removeHoverStyle";for(i=0,a=t.length;i<a;++i)(r=t[i])&&this.getDatasetMeta(r._datasetIndex).controller[o](r)},eventHandler:function(t){var e=this,n=e.tooltip;if(!1!==l.notify(e,"beforeEvent",[t])){e._bufferedRender=!0,e._bufferedRequest=null;var r=e.handleEvent(t);r|=n&&n.handleEvent(t),l.notify(e,"afterEvent",[t]);var i=e._bufferedRequest;return i?e.render(i):r&&!e.animating&&(e.stop(),e.render(e.options.hover.animationDuration,!0)),e._bufferedRender=!1,e._bufferedRequest=null,e}},handleEvent:function(t){var e=this,n=e.options||{},r=n.hover,a=!1;return e.lastActive=e.lastActive||[],"mouseout"===t.type?e.active=[]:e.active=e.getElementsAtEventForMode(t,r.mode,r),i.callback(n.onHover||n.hover.onHover,[t.native,e.active],e),"mouseup"!==t.type&&"click"!==t.type||n.onClick&&n.onClick.call(e,t.native,e.active),e.lastActive.length&&e.updateHoverStyle(e.lastActive,r.mode,!1),e.active.length&&r.mode&&e.updateHoverStyle(e.active,r.mode,!0),a=!i.arrayEquals(e.active,e.lastActive),e.lastActive=e.active,a}}),t.Controller=t}},function(t,e,n){"use strict";var r=n(6);t.exports=function(t){function e(t,e){if(t._chartjs)return void t._chartjs.listeners.push(e);Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),i.forEach(function(e){var n="onData"+e.charAt(0).toUpperCase()+e.slice(1),i=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:function(){var e=Array.prototype.slice.call(arguments),a=i.apply(this,e);return r.each(t._chartjs.listeners,function(t){"function"==typeof t[n]&&t[n].apply(t,e)}),a}})})}function n(t,e){var n=t._chartjs;if(n){var r=n.listeners,a=r.indexOf(e);-1!==a&&r.splice(a,1),r.length>0||(i.forEach(function(e){delete t[e]}),delete t._chartjs)}}var i=["push","pop","shift","splice","unshift"];t.DatasetController=function(t,e){this.initialize(t,e)},r.extend(t.DatasetController.prototype,{datasetElementType:null,dataElementType:null,initialize:function(t,e){var n=this;n.chart=t,n.index=e,n.linkScales(),n.addElements()},updateIndex:function(t){this.index=t},linkScales:function(){var t=this,e=t.getMeta(),n=t.getDataset();null===e.xAxisID&&(e.xAxisID=n.xAxisID||t.chart.options.scales.xAxes[0].id),null===e.yAxisID&&(e.yAxisID=n.yAxisID||t.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(t){return this.chart.scales[t]},reset:function(){this.update(!0)},destroy:function(){this._data&&n(this._data,this)},createMetaDataset:function(){var t=this,e=t.datasetElementType;return e&&new e({_chart:t.chart,_datasetIndex:t.index})},createMetaData:function(t){var e=this,n=e.dataElementType;return n&&new n({_chart:e.chart,_datasetIndex:e.index,_index:t})},addElements:function(){var t,e,n=this,r=n.getMeta(),i=n.getDataset().data||[],a=r.data;for(t=0,e=i.length;t<e;++t)a[t]=a[t]||n.createMetaData(t);r.dataset=r.dataset||n.createMetaDataset()},addElementAndReset:function(t){var e=this.createMetaData(t);this.getMeta().data.splice(t,0,e),this.updateElement(e,t,!0)},buildOrUpdateElements:function(){var t=this,r=t.getDataset(),i=r.data||(r.data=[]);t._data!==i&&(t._data&&n(t._data,t),e(i,t),t._data=i),t.resyncElements()},update:r.noop,transition:function(t){for(var e=this.getMeta(),n=e.data||[],r=n.length,i=0;i<r;++i)n[i].transition(t);e.dataset&&e.dataset.transition(t)},draw:function(){var t=this.getMeta(),e=t.data||[],n=e.length,r=0;for(t.dataset&&t.dataset.draw();r<n;++r)e[r].draw()},removeHoverStyle:function(t,e){var n=this.chart.data.datasets[t._datasetIndex],i=t._index,a=t.custom||{},o=r.valueAtIndexOrDefault,s=t._model;s.backgroundColor=a.backgroundColor?a.backgroundColor:o(n.backgroundColor,i,e.backgroundColor),s.borderColor=a.borderColor?a.borderColor:o(n.borderColor,i,e.borderColor),s.borderWidth=a.borderWidth?a.borderWidth:o(n.borderWidth,i,e.borderWidth)},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index,i=t.custom||{},a=r.valueAtIndexOrDefault,o=r.getHoverColor,s=t._model;s.backgroundColor=i.hoverBackgroundColor?i.hoverBackgroundColor:a(e.hoverBackgroundColor,n,o(s.backgroundColor)),s.borderColor=i.hoverBorderColor?i.hoverBorderColor:a(e.hoverBorderColor,n,o(s.borderColor)),s.borderWidth=i.hoverBorderWidth?i.hoverBorderWidth:a(e.hoverBorderWidth,n,s.borderWidth)},resyncElements:function(){var t=this,e=t.getMeta(),n=t.getDataset().data,r=e.data.length,i=n.length;i<r?e.data.splice(i,r-i):i>r&&t.insertElements(r,i-r)},insertElements:function(t,e){for(var n=0;n<e;++n)this.addElementAndReset(t+n)},onDataPush:function(){this.insertElements(this.getDataset().data.length-1,arguments.length)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(t,e){this.getMeta().data.splice(t,e),this.insertElements(t,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),t.DatasetController.extend=r.inherits}},function(t,e,n){"use strict";var r=n(124),i=n(9),a=n(6);t.exports=function(t){function e(t,e,n){var r;return"string"==typeof t?(r=parseInt(t,10),-1!==t.indexOf("%")&&(r=r/100*e.parentNode[n])):r=t,r}function n(t){return void 0!==t&&null!==t&&"none"!==t}function o(t,r,i){var a=document.defaultView,o=t.parentNode,s=a.getComputedStyle(t)[r],l=a.getComputedStyle(o)[r],u=n(s),c=n(l),h=Number.POSITIVE_INFINITY;return u||c?Math.min(u?e(s,t,i):h,c?e(l,o,i):h):"none"}a.configMerge=function(){return a.merge(a.clone(arguments[0]),[].slice.call(arguments,1),{merger:function(e,n,r,i){var o=n[e]||{},s=r[e];"scales"===e?n[e]=a.scaleMerge(o,s):"scale"===e?n[e]=a.merge(o,[t.scaleService.getScaleDefaults(s.type),s]):a._merger(e,n,r,i)}})},a.scaleMerge=function(){return a.merge(a.clone(arguments[0]),[].slice.call(arguments,1),{merger:function(e,n,r,i){if("xAxes"===e||"yAxes"===e){var o,s,l,u=r[e].length;for(n[e]||(n[e]=[]),o=0;o<u;++o)l=r[e][o],s=a.valueOrDefault(l.type,"xAxes"===e?"category":"linear"),o>=n[e].length&&n[e].push({}),!n[e][o].type||l.type&&l.type!==n[e][o].type?a.merge(n[e][o],[t.scaleService.getScaleDefaults(s),l]):a.merge(n[e][o],l)}else a._merger(e,n,r,i)}})},a.where=function(t,e){if(a.isArray(t)&&Array.prototype.filter)return t.filter(e);var n=[];return a.each(t,function(t){e(t)&&n.push(t)}),n},a.findIndex=Array.prototype.findIndex?function(t,e,n){return t.findIndex(e,n)}:function(t,e,n){n=void 0===n?t:n;for(var r=0,i=t.length;r<i;++r)if(e.call(n,t[r],r,t))return r;return-1},a.findNextWhere=function(t,e,n){a.isNullOrUndef(n)&&(n=-1);for(var r=n+1;r<t.length;r++){var i=t[r];if(e(i))return i}},a.findPreviousWhere=function(t,e,n){a.isNullOrUndef(n)&&(n=t.length);for(var r=n-1;r>=0;r--){var i=t[r];if(e(i))return i}},a.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},a.almostEquals=function(t,e,n){return Math.abs(t-e)<n},a.almostWhole=function(t,e){var n=Math.round(t);return n-e<t&&n+e>t},a.max=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.max(t,e)},Number.NEGATIVE_INFINITY)},a.min=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.min(t,e)},Number.POSITIVE_INFINITY)},a.sign=Math.sign?function(t){return Math.sign(t)}:function(t){return t=+t,0===t||isNaN(t)?t:t>0?1:-1},a.log10=Math.log10?function(t){return Math.log10(t)}:function(t){return Math.log(t)/Math.LN10},a.toRadians=function(t){return t*(Math.PI/180)},a.toDegrees=function(t){return t*(180/Math.PI)},a.getAngleFromPoint=function(t,e){var n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r),a=Math.atan2(r,n);return a<-.5*Math.PI&&(a+=2*Math.PI),{angle:a,distance:i}},a.distanceBetweenPoints=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},a.aliasPixel=function(t){return t%2==0?0:.5},a.splineCurve=function(t,e,n,r){var i=t.skip?e:t,a=e,o=n.skip?e:n,s=Math.sqrt(Math.pow(a.x-i.x,2)+Math.pow(a.y-i.y,2)),l=Math.sqrt(Math.pow(o.x-a.x,2)+Math.pow(o.y-a.y,2)),u=s/(s+l),c=l/(s+l);u=isNaN(u)?0:u,c=isNaN(c)?0:c;var h=r*u,d=r*c;return{previous:{x:a.x-h*(o.x-i.x),y:a.y-h*(o.y-i.y)},next:{x:a.x+d*(o.x-i.x),y:a.y+d*(o.y-i.y)}}},a.EPSILON=Number.EPSILON||1e-14,a.splineCurveMonotone=function(t){var e,n,r,i,o=(t||[]).map(function(t){return{model:t._model,deltaK:0,mK:0}}),s=o.length;for(e=0;e<s;++e)if(r=o[e],!r.model.skip){if(n=e>0?o[e-1]:null,(i=e<s-1?o[e+1]:null)&&!i.model.skip){var l=i.model.x-r.model.x;r.deltaK=0!==l?(i.model.y-r.model.y)/l:0}!n||n.model.skip?r.mK=r.deltaK:!i||i.model.skip?r.mK=n.deltaK:this.sign(n.deltaK)!==this.sign(r.deltaK)?r.mK=0:r.mK=(n.deltaK+r.deltaK)/2}var u,c,h,d;for(e=0;e<s-1;++e)r=o[e],i=o[e+1],r.model.skip||i.model.skip||(a.almostEquals(r.deltaK,0,this.EPSILON)?r.mK=i.mK=0:(u=r.mK/r.deltaK,c=i.mK/r.deltaK,(d=Math.pow(u,2)+Math.pow(c,2))<=9||(h=3/Math.sqrt(d),r.mK=u*h*r.deltaK,i.mK=c*h*r.deltaK)));var f;for(e=0;e<s;++e)r=o[e],r.model.skip||(n=e>0?o[e-1]:null,i=e<s-1?o[e+1]:null,n&&!n.model.skip&&(f=(r.model.x-n.model.x)/3,r.model.controlPointPreviousX=r.model.x-f,r.model.controlPointPreviousY=r.model.y-f*r.mK),i&&!i.model.skip&&(f=(i.model.x-r.model.x)/3,r.model.controlPointNextX=r.model.x+f,r.model.controlPointNextY=r.model.y+f*r.mK))},a.nextItem=function(t,e,n){return n?e>=t.length-1?t[0]:t[e+1]:e>=t.length-1?t[t.length-1]:t[e+1]},a.previousItem=function(t,e,n){return n?e<=0?t[t.length-1]:t[e-1]:e<=0?t[0]:t[e-1]},a.niceNum=function(t,e){var n=Math.floor(a.log10(t)),r=t/Math.pow(10,n);return(e?r<1.5?1:r<3?2:r<7?5:10:r<=1?1:r<=2?2:r<=5?5:10)*Math.pow(10,n)},a.requestAnimFrame=function(){return"undefined"==typeof window?function(t){t()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}(),a.getRelativePosition=function(t,e){var n,r,i=t.originalEvent||t,o=t.currentTarget||t.srcElement,s=o.getBoundingClientRect(),l=i.touches;l&&l.length>0?(n=l[0].clientX,r=l[0].clientY):(n=i.clientX,r=i.clientY);var u=parseFloat(a.getStyle(o,"padding-left")),c=parseFloat(a.getStyle(o,"padding-top")),h=parseFloat(a.getStyle(o,"padding-right")),d=parseFloat(a.getStyle(o,"padding-bottom")),f=s.right-s.left-u-h,p=s.bottom-s.top-c-d;return n=Math.round((n-s.left-u)/f*o.width/e.currentDevicePixelRatio),r=Math.round((r-s.top-c)/p*o.height/e.currentDevicePixelRatio),{x:n,y:r}},a.getConstraintWidth=function(t){return o(t,"max-width","clientWidth")},a.getConstraintHeight=function(t){return o(t,"max-height","clientHeight")},a.getMaximumWidth=function(t){var e=t.parentNode;if(!e)return t.clientWidth;var n=parseInt(a.getStyle(e,"padding-left"),10),r=parseInt(a.getStyle(e,"padding-right"),10),i=e.clientWidth-n-r,o=a.getConstraintWidth(t);return isNaN(o)?i:Math.min(i,o)},a.getMaximumHeight=function(t){var e=t.parentNode;if(!e)return t.clientHeight;var n=parseInt(a.getStyle(e,"padding-top"),10),r=parseInt(a.getStyle(e,"padding-bottom"),10),i=e.clientHeight-n-r,o=a.getConstraintHeight(t);return isNaN(o)?i:Math.min(i,o)},a.getStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)},a.retinaScale=function(t,e){var n=t.currentDevicePixelRatio=e||window.devicePixelRatio||1;if(1!==n){var r=t.canvas,i=t.height,a=t.width;r.height=i*n,r.width=a*n,t.ctx.scale(n,n),r.style.height=i+"px",r.style.width=a+"px"}},a.fontString=function(t,e,n){return e+" "+t+"px "+n},a.longestText=function(t,e,n,r){r=r||{};var i=r.data=r.data||{},o=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},o=r.garbageCollect=[],r.font=e),t.font=e;var s=0;a.each(n,function(e){void 0!==e&&null!==e&&!0!==a.isArray(e)?s=a.measureText(t,i,o,s,e):a.isArray(e)&&a.each(e,function(e){void 0===e||null===e||a.isArray(e)||(s=a.measureText(t,i,o,s,e))})});var l=o.length/2;if(l>n.length){for(var u=0;u<l;u++)delete i[o[u]];o.splice(0,l)}return s},a.measureText=function(t,e,n,r,i){var a=e[i];return a||(a=e[i]=t.measureText(i).width,n.push(i)),a>r&&(r=a),r},a.numberOfLabelLines=function(t){var e=1;return a.each(t,function(t){a.isArray(t)&&t.length>e&&(e=t.length)}),e},a.color=r?function(t){return t instanceof CanvasGradient&&(t=i.global.defaultColor),r(t)}:function(t){return console.error("Color.js not found!"),t},a.getHoverColor=function(t){return t instanceof CanvasPattern?t:a.color(t).saturate(.5).darken(.1).rgbString()}}},function(t,e,n){"use strict";n(9)._set("global",{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",showLines:!0,elements:{},layout:{padding:{top:0,right:0,bottom:0,left:0}}}),t.exports=function(){var t=function(t,e){return this.construct(t,e),this};return t.Chart=t,t}},function(t,e,n){"use strict";var r=n(6);t.exports=function(t){function e(t,e){return r.where(t,function(t){return t.position===e})}function n(t,e){t.forEach(function(t,e){return t._tmpIndex_=e,t}),t.sort(function(t,n){var r=e?n:t,i=e?t:n;return r.weight===i.weight?r._tmpIndex_-i._tmpIndex_:r.weight-i.weight}),t.forEach(function(t){delete t._tmpIndex_})}t.layoutService={defaults:{},addBox:function(t,e){t.boxes||(t.boxes=[]),e.fullWidth=e.fullWidth||!1,e.position=e.position||"top",e.weight=e.weight||0,t.boxes.push(e)},removeBox:function(t,e){var n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure:function(t,e,n){for(var r,i=["fullWidth","position","weight"],a=i.length,o=0;o<a;++o)r=i[o],n.hasOwnProperty(r)&&(e[r]=n[r])},update:function(t,i,a){function o(t){var e,n=t.isHorizontal();n?(e=t.update(t.fullWidth?_:T,k),C-=e.height):(e=t.update(E,S),T-=e.width),P.push({horizontal:n,minSize:e,box:t})}function s(t){var e=r.findNextWhere(P,function(e){return e.box===t});if(e)if(t.isHorizontal()){var n={left:Math.max(I,O),right:Math.max(D,A),top:0,bottom:0};t.update(t.fullWidth?_:T,w/2,n)}else t.update(e.minSize.width,C)}function l(t){var e=r.findNextWhere(P,function(e){return e.box===t}),n={left:0,right:0,top:N,bottom:z};e&&t.update(e.minSize.width,C,n)}function u(t){t.isHorizontal()?(t.left=t.fullWidth?d:I,t.right=t.fullWidth?i-f:I+T,t.top=G,t.bottom=G+t.height,G=t.bottom):(t.left=W,t.right=W+t.width,t.top=N,t.bottom=N+C,W=t.right)}if(t){var c=t.options.layout||{},h=r.options.toPadding(c.padding),d=h.left,f=h.right,p=h.top,m=h.bottom,g=e(t.boxes,"left"),v=e(t.boxes,"right"),y=e(t.boxes,"top"),b=e(t.boxes,"bottom"),x=e(t.boxes,"chartArea");n(g,!0),n(v,!1),n(y,!0),n(b,!1);var _=i-d-f,w=a-p-m,M=_/2,S=w/2,E=(i-M)/(g.length+v.length),k=(a-S)/(y.length+b.length),T=_,C=w,P=[];r.each(g.concat(v,y,b),o);var O=0,A=0,R=0,L=0;r.each(y.concat(b),function(t){if(t.getPadding){var e=t.getPadding();O=Math.max(O,e.left),A=Math.max(A,e.right)}}),r.each(g.concat(v),function(t){if(t.getPadding){var e=t.getPadding();R=Math.max(R,e.top),L=Math.max(L,e.bottom)}});var I=d,D=f,N=p,z=m;r.each(g.concat(v),s),r.each(g,function(t){I+=t.width}),r.each(v,function(t){D+=t.width}),r.each(y.concat(b),s),r.each(y,function(t){N+=t.height}),r.each(b,function(t){z+=t.height}),r.each(g.concat(v),l),I=d,D=f,N=p,z=m,r.each(g,function(t){I+=t.width}),r.each(v,function(t){D+=t.width}),r.each(y,function(t){N+=t.height}),r.each(b,function(t){z+=t.height});var B=Math.max(O-I,0);I+=B,D+=Math.max(A-D,0);var F=Math.max(R-N,0);N+=F,z+=Math.max(L-z,0);var U=a-N-z,j=i-I-D;j===T&&U===C||(r.each(g,function(t){t.height=U}),r.each(v,function(t){t.height=U}),r.each(y,function(t){t.fullWidth||(t.width=j)}),r.each(b,function(t){t.fullWidth||(t.width=j)}),C=U,T=j);var W=d+B,G=p+F;r.each(g.concat(y),u),W+=T,G+=C,r.each(v,u),r.each(b,u),t.chartArea={left:I,top:N,right:I+T,bottom:N+C},r.each(x,function(e){e.left=t.chartArea.left,e.top=t.chartArea.top,e.right=t.chartArea.right,e.bottom=t.chartArea.bottom,e.update(T,C)})}}}}},function(t,e,n){"use strict";var r=n(9),i=n(21),a=n(6);r._set("global",{plugins:{}}),t.exports=function(t){t.plugins={_plugins:[],_cacheId:0,register:function(t){var e=this._plugins;[].concat(t).forEach(function(t){-1===e.indexOf(t)&&e.push(t)}),this._cacheId++},unregister:function(t){var e=this._plugins;[].concat(t).forEach(function(t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(t,e,n){var r,i,a,o,s,l=this.descriptors(t),u=l.length;for(r=0;r<u;++r)if(i=l[r],a=i.plugin,"function"==typeof(s=a[e])&&(o=[t].concat(n||[]),o.push(i.options),!1===s.apply(a,o)))return!1;return!0},descriptors:function(t){var e=t._plugins||(t._plugins={});if(e.id===this._cacheId)return e.descriptors;var n=[],i=[],o=t&&t.config||{},s=o.options&&o.options.plugins||{};return this._plugins.concat(o.plugins||[]).forEach(function(t){if(-1===n.indexOf(t)){var e=t.id,o=s[e];!1!==o&&(!0===o&&(o=a.clone(r.global.plugins[e])),n.push(t),i.push({plugin:t,options:o||{}}))}}),e.descriptors=i,e.id=this._cacheId,i}},t.pluginService=t.plugins,t.PluginBase=i.extend({})}},function(t,e,n){"use strict";function r(t){var e,n,r=[];for(e=0,n=t.length;e<n;++e)r.push(t[e].label);return r}function i(t,e,n){var r=t.getPixelForTick(e);return n&&(r-=0===e?(t.getPixelForTick(1)-r)/2:(r-t.getPixelForTick(e-1))/2),r}var a=n(9),o=n(21),s=n(6),l=n(50);a._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",lineHeight:1.2,padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:l.formatters.values,minor:{},major:{}}}),t.exports=function(t){function e(t,e,n){return s.isArray(e)?s.longestText(t,n,e):t.measureText(e).width}function n(t){var e=s.valueOrDefault,n=a.global,r=e(t.fontSize,n.defaultFontSize),i=e(t.fontStyle,n.defaultFontStyle),o=e(t.fontFamily,n.defaultFontFamily);return{size:r,style:i,family:o,font:s.fontString(r,i,o)}}function l(t){return s.options.toLineHeight(s.valueOrDefault(t.lineHeight,1.2),s.valueOrDefault(t.fontSize,a.global.defaultFontSize))}t.Scale=o.extend({getPadding:function(){var t=this;return{left:t.paddingLeft||0,top:t.paddingTop||0,right:t.paddingRight||0,bottom:t.paddingBottom||0}},getTicks:function(){return this._ticks},mergeTicksOptions:function(){var t=this.options.ticks;!1===t.minor&&(t.minor={display:!1}),!1===t.major&&(t.major={display:!1});for(var e in t)"major"!==e&&"minor"!==e&&(void 0===t.minor[e]&&(t.minor[e]=t[e]),void 0===t.major[e]&&(t.major[e]=t[e]))},beforeUpdate:function(){s.callback(this.options.beforeUpdate,[this])},update:function(t,e,n){var r,i,a,o,l,u,c=this;for(c.beforeUpdate(),c.maxWidth=t,c.maxHeight=e,c.margins=s.extend({left:0,right:0,top:0,bottom:0},n),c.longestTextCache=c.longestTextCache||{},c.beforeSetDimensions(),c.setDimensions(),c.afterSetDimensions(),c.beforeDataLimits(),c.determineDataLimits(),c.afterDataLimits(),c.beforeBuildTicks(),l=c.buildTicks()||[],c.afterBuildTicks(),c.beforeTickToLabelConversion(),a=c.convertTicksToLabels(l)||c.ticks,c.afterTickToLabelConversion(),c.ticks=a,r=0,i=a.length;r<i;++r)o=a[r],u=l[r],u?u.label=o:l.push(u={label:o,major:!1});return c._ticks=l,c.beforeCalculateTickRotation(),c.calculateTickRotation(),c.afterCalculateTickRotation(),c.beforeFit(),c.fit(),c.afterFit(),c.afterUpdate(),c.minSize},afterUpdate:function(){s.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){s.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0},afterSetDimensions:function(){s.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){s.callback(this.options.beforeDataLimits,[this])},determineDataLimits:s.noop,afterDataLimits:function(){s.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){s.callback(this.options.beforeBuildTicks,[this])},buildTicks:s.noop,afterBuildTicks:function(){s.callback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){s.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var t=this,e=t.options.ticks;t.ticks=t.ticks.map(e.userCallback||e.callback,this)},afterTickToLabelConversion:function(){s.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){s.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var t=this,e=t.ctx,i=t.options.ticks,a=r(t._ticks),o=n(i);e.font=o.font;var l=i.minRotation||0;if(a.length&&t.options.display&&t.isHorizontal())for(var u,c=s.longestText(e,o.font,a,t.longestTextCache),h=c,d=t.getPixelForTick(1)-t.getPixelForTick(0)-6;h>d&&l<i.maxRotation;){var f=s.toRadians(l);if(u=Math.cos(f),Math.sin(f)*c>t.maxHeight){l--;break}l++,h=u*c}t.labelRotation=l},afterCalculateTickRotation:function(){s.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){s.callback(this.options.beforeFit,[this])},fit:function(){var t=this,i=t.minSize={width:0,height:0},a=r(t._ticks),o=t.options,u=o.ticks,c=o.scaleLabel,h=o.gridLines,d=o.display,f=t.isHorizontal(),p=n(u),m=o.gridLines.tickMarkLength;if(i.width=f?t.isFullWidth()?t.maxWidth-t.margins.left-t.margins.right:t.maxWidth:d&&h.drawTicks?m:0,i.height=f?d&&h.drawTicks?m:0:t.maxHeight,c.display&&d){var g=l(c),v=s.options.toPadding(c.padding),y=g+v.height;f?i.height+=y:i.width+=y}if(u.display&&d){var b=s.longestText(t.ctx,p.font,a,t.longestTextCache),x=s.numberOfLabelLines(a),_=.5*p.size,w=t.options.ticks.padding;if(f){t.longestLabelWidth=b;var M=s.toRadians(t.labelRotation),S=Math.cos(M),E=Math.sin(M),k=E*b+p.size*x+_*(x-1)+_;i.height=Math.min(t.maxHeight,i.height+k+w),t.ctx.font=p.font;var T=e(t.ctx,a[0],p.font),C=e(t.ctx,a[a.length-1],p.font);0!==t.labelRotation?(t.paddingLeft="bottom"===o.position?S*T+3:S*_+3,t.paddingRight="bottom"===o.position?S*_+3:S*C+3):(t.paddingLeft=T/2+3,t.paddingRight=C/2+3)}else u.mirror?b=0:b+=w+_,i.width=Math.min(t.maxWidth,i.width+b),t.paddingTop=p.size/2,t.paddingBottom=p.size/2}t.handleMargins(),t.width=i.width,t.height=i.height},handleMargins:function(){var t=this;t.margins&&(t.paddingLeft=Math.max(t.paddingLeft-t.margins.left,0),t.paddingTop=Math.max(t.paddingTop-t.margins.top,0),t.paddingRight=Math.max(t.paddingRight-t.margins.right,0),t.paddingBottom=Math.max(t.paddingBottom-t.margins.bottom,0))},afterFit:function(){s.callback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(t){if(s.isNullOrUndef(t))return NaN;if("number"==typeof t&&!isFinite(t))return NaN;if(t)if(this.isHorizontal()){if(void 0!==t.x)return this.getRightValue(t.x)}else if(void 0!==t.y)return this.getRightValue(t.y);return t},getLabelForIndex:s.noop,getPixelForValue:s.noop,getValueForPixel:s.noop,getPixelForTick:function(t){var e=this,n=e.options.offset;if(e.isHorizontal()){var r=e.width-(e.paddingLeft+e.paddingRight),i=r/Math.max(e._ticks.length-(n?0:1),1),a=i*t+e.paddingLeft;n&&(a+=i/2);var o=e.left+Math.round(a);return o+=e.isFullWidth()?e.margins.left:0}var s=e.height-(e.paddingTop+e.paddingBottom);return e.top+t*(s/(e._ticks.length-1))},getPixelForDecimal:function(t){var e=this;if(e.isHorizontal()){var n=e.width-(e.paddingLeft+e.paddingRight),r=n*t+e.paddingLeft,i=e.left+Math.round(r);return i+=e.isFullWidth()?e.margins.left:0}return e.top+t*e.height},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var t=this,e=t.min,n=t.max;return t.beginAtZero?0:e<0&&n<0?n:e>0&&n>0?e:0},_autoSkip:function(t){var e,n,r,i,a,o=this,l=o.isHorizontal(),u=o.options.ticks.minor,c=t.length,h=s.toRadians(o.labelRotation),d=Math.cos(h),f=o.longestLabelWidth*d,p=[];for(u.maxTicksLimit&&(a=u.maxTicksLimit),l&&(e=!1,(f+u.autoSkipPadding)*c>o.width-(o.paddingLeft+o.paddingRight)&&(e=1+Math.floor((f+u.autoSkipPadding)*c/(o.width-(o.paddingLeft+o.paddingRight)))),a&&c>a&&(e=Math.max(e,Math.floor(c/a)))),n=0;n<c;n++)r=t[n],i=e>1&&n%e>0||n%e==0&&n+e>=c,i&&n!==c-1&&delete r.label,p.push(r);return p},draw:function(t){var e=this,r=e.options;if(r.display){var o=e.ctx,u=a.global,c=r.ticks.minor,h=r.ticks.major||c,d=r.gridLines,f=r.scaleLabel,p=0!==e.labelRotation,m=e.isHorizontal(),g=c.autoSkip?e._autoSkip(e.getTicks()):e.getTicks(),v=s.valueOrDefault(c.fontColor,u.defaultFontColor),y=n(c),b=s.valueOrDefault(h.fontColor,u.defaultFontColor),x=n(h),_=d.drawTicks?d.tickMarkLength:0,w=s.valueOrDefault(f.fontColor,u.defaultFontColor),M=n(f),S=s.options.toPadding(f.padding),E=s.toRadians(e.labelRotation),k=[],T="right"===r.position?e.left:e.right-_,C="right"===r.position?e.left+_:e.right,P="bottom"===r.position?e.top:e.bottom-_,O="bottom"===r.position?e.top+_:e.bottom;if(s.each(g,function(n,a){if(!s.isNullOrUndef(n.label)){var o,l,h,f,v=n.label;a===e.zeroLineIndex&&r.offset===d.offsetGridLines?(o=d.zeroLineWidth,l=d.zeroLineColor,h=d.zeroLineBorderDash,f=d.zeroLineBorderDashOffset):(o=s.valueAtIndexOrDefault(d.lineWidth,a),l=s.valueAtIndexOrDefault(d.color,a),h=s.valueOrDefault(d.borderDash,u.borderDash),f=s.valueOrDefault(d.borderDashOffset,u.borderDashOffset));var y,b,x,w,M,S,A,R,L,I,D="middle",N="middle",z=c.padding;if(m){var B=_+z;"bottom"===r.position?(N=p?"middle":"top",D=p?"right":"center",I=e.top+B):(N=p?"middle":"bottom",D=p?"left":"center",I=e.bottom-B);var F=i(e,a,d.offsetGridLines&&g.length>1);F<e.left&&(l="rgba(0,0,0,0)"),F+=s.aliasPixel(o),L=e.getPixelForTick(a)+c.labelOffset,y=x=M=A=F,b=P,w=O,S=t.top,R=t.bottom}else{var U,j="left"===r.position;c.mirror?(D=j?"left":"right",U=z):(D=j?"right":"left",U=_+z),L=j?e.right-U:e.left+U;var W=i(e,a,d.offsetGridLines&&g.length>1);W<e.top&&(l="rgba(0,0,0,0)"),W+=s.aliasPixel(o),I=e.getPixelForTick(a)+c.labelOffset,y=T,x=C,M=t.left,A=t.right,b=w=S=R=W}k.push({tx1:y,ty1:b,tx2:x,ty2:w,x1:M,y1:S,x2:A,y2:R,labelX:L,labelY:I,glWidth:o,glColor:l,glBorderDash:h,glBorderDashOffset:f,rotation:-1*E,label:v,major:n.major,textBaseline:N,textAlign:D})}}),s.each(k,function(t){if(d.display&&(o.save(),o.lineWidth=t.glWidth,o.strokeStyle=t.glColor,o.setLineDash&&(o.setLineDash(t.glBorderDash),o.lineDashOffset=t.glBorderDashOffset),o.beginPath(),d.drawTicks&&(o.moveTo(t.tx1,t.ty1),o.lineTo(t.tx2,t.ty2)),d.drawOnChartArea&&(o.moveTo(t.x1,t.y1),o.lineTo(t.x2,t.y2)),o.stroke(),o.restore()),c.display){o.save(),o.translate(t.labelX,t.labelY),o.rotate(t.rotation),o.font=t.major?x.font:y.font,o.fillStyle=t.major?b:v,o.textBaseline=t.textBaseline,o.textAlign=t.textAlign;var e=t.label;if(s.isArray(e))for(var n=0,r=0;n<e.length;++n)o.fillText(""+e[n],0,r),r+=1.5*y.size;else o.fillText(e,0,0);o.restore()}}),f.display){var A,R,L=0,I=l(f)/2;if(m)A=e.left+(e.right-e.left)/2,R="bottom"===r.position?e.bottom-I-S.bottom:e.top+I+S.top;else{var D="left"===r.position;A=D?e.left+I+S.top:e.right-I-S.top,R=e.top+(e.bottom-e.top)/2,L=D?-.5*Math.PI:.5*Math.PI}o.save(),o.translate(A,R),o.rotate(L),o.textAlign="center",o.textBaseline="middle",o.fillStyle=w,o.font=M.font,o.fillText(f.labelString,0,0),o.restore()}if(d.drawBorder){o.lineWidth=s.valueAtIndexOrDefault(d.lineWidth,0),o.strokeStyle=s.valueAtIndexOrDefault(d.color,0);var N=e.left,z=e.right,B=e.top,F=e.bottom,U=s.aliasPixel(o.lineWidth);m?(B=F="top"===r.position?e.bottom:e.top,B+=U,F+=U):(N=z="left"===r.position?e.right:e.left,N+=U,z+=U),o.beginPath(),o.moveTo(N,B),o.lineTo(z,F),o.stroke()}}}})}},function(t,e,n){"use strict";var r=n(9),i=n(6);t.exports=function(t){t.scaleService={constructors:{},defaults:{},registerScaleType:function(t,e,n){this.constructors[t]=e,this.defaults[t]=i.clone(n)},getScaleConstructor:function(t){return this.constructors.hasOwnProperty(t)?this.constructors[t]:void 0},getScaleDefaults:function(t){return this.defaults.hasOwnProperty(t)?i.merge({},[r.scale,this.defaults[t]]):{}},updateScaleDefaults:function(t,e){var n=this;n.defaults.hasOwnProperty(t)&&(n.defaults[t]=i.extend(n.defaults[t],e))},addScalesToLayout:function(e){i.each(e.scales,function(n){n.fullWidth=n.options.fullWidth,n.position=n.options.position,n.weight=n.options.weight,t.layoutService.addBox(e,n)})}}}},function(t,e,n){"use strict";var r=n(9),i=n(21),a=n(6);r._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:a.noop,title:function(t,e){var n="",r=e.labels,i=r?r.length:0;if(t.length>0){var a=t[0];a.xLabel?n=a.xLabel:i>0&&a.index<i&&(n=r[a.index])}return n},afterTitle:a.noop,beforeBody:a.noop,beforeLabel:a.noop,label:function(t,e){var n=e.datasets[t.datasetIndex].label||"";return n&&(n+=": "),n+=t.yLabel},labelColor:function(t,e){var n=e.getDatasetMeta(t.datasetIndex),r=n.data[t.index],i=r._view;return{borderColor:i.borderColor,backgroundColor:i.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:a.noop,afterBody:a.noop,beforeFooter:a.noop,footer:a.noop,afterFooter:a.noop}}}),t.exports=function(t){function e(t,e){var n=a.color(t);return n.alpha(e*n.alpha()).rgbaString()}function n(t,e){return e&&(a.isArray(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function o(t){var e=t._xScale,n=t._yScale||t._scale,r=t._index,i=t._datasetIndex;return{xLabel:e?e.getLabelForIndex(r,i):"",yLabel:n?n.getLabelForIndex(r,i):"",index:r,datasetIndex:i,x:t._model.x,y:t._model.y}}function s(t){var e=r.global,n=a.valueOrDefault;return{xPadding:t.xPadding,yPadding:t.yPadding,xAlign:t.xAlign,yAlign:t.yAlign,bodyFontColor:t.bodyFontColor,_bodyFontFamily:n(t.bodyFontFamily,e.defaultFontFamily),_bodyFontStyle:n(t.bodyFontStyle,e.defaultFontStyle),_bodyAlign:t.bodyAlign,bodyFontSize:n(t.bodyFontSize,e.defaultFontSize),bodySpacing:t.bodySpacing,titleFontColor:t.titleFontColor,_titleFontFamily:n(t.titleFontFamily,e.defaultFontFamily),_titleFontStyle:n(t.titleFontStyle,e.defaultFontStyle),titleFontSize:n(t.titleFontSize,e.defaultFontSize),_titleAlign:t.titleAlign,titleSpacing:t.titleSpacing,titleMarginBottom:t.titleMarginBottom,footerFontColor:t.footerFontColor,_footerFontFamily:n(t.footerFontFamily,e.defaultFontFamily),_footerFontStyle:n(t.footerFontStyle,e.defaultFontStyle),footerFontSize:n(t.footerFontSize,e.defaultFontSize),_footerAlign:t.footerAlign,footerSpacing:t.footerSpacing,footerMarginTop:t.footerMarginTop,caretSize:t.caretSize,cornerRadius:t.cornerRadius,backgroundColor:t.backgroundColor,opacity:0,legendColorBackground:t.multiKeyBackground,displayColors:t.displayColors,borderColor:t.borderColor,borderWidth:t.borderWidth}}function l(t,e){var n=t._chart.ctx,r=2*e.yPadding,i=0,o=e.body,s=o.reduce(function(t,e){return t+e.before.length+e.lines.length+e.after.length},0);s+=e.beforeBody.length+e.afterBody.length;var l=e.title.length,u=e.footer.length,c=e.titleFontSize,h=e.bodyFontSize,d=e.footerFontSize;r+=l*c,r+=l?(l-1)*e.titleSpacing:0,r+=l?e.titleMarginBottom:0,r+=s*h,r+=s?(s-1)*e.bodySpacing:0,r+=u?e.footerMarginTop:0,r+=u*d,r+=u?(u-1)*e.footerSpacing:0;var f=0,p=function(t){i=Math.max(i,n.measureText(t).width+f)};return n.font=a.fontString(c,e._titleFontStyle,e._titleFontFamily),a.each(e.title,p),n.font=a.fontString(h,e._bodyFontStyle,e._bodyFontFamily),a.each(e.beforeBody.concat(e.afterBody),p),f=e.displayColors?h+2:0,a.each(o,function(t){a.each(t.before,p),a.each(t.lines,p),a.each(t.after,p)}),f=0,n.font=a.fontString(d,e._footerFontStyle,e._footerFontFamily),a.each(e.footer,p),i+=2*e.xPadding,{width:i,height:r}}function u(t,e){var n=t._model,r=t._chart,i=t._chart.chartArea,a="center",o="center";n.y<e.height?o="top":n.y>r.height-e.height&&(o="bottom");var s,l,u,c,h,d=(i.left+i.right)/2,f=(i.top+i.bottom)/2;"center"===o?(s=function(t){return t<=d},l=function(t){return t>d}):(s=function(t){return t<=e.width/2},l=function(t){return t>=r.width-e.width/2}),u=function(t){return t+e.width>r.width},c=function(t){return t-e.width<0},h=function(t){return t<=f?"top":"bottom"},s(n.x)?(a="left",u(n.x)&&(a="center",o=h(n.y))):l(n.x)&&(a="right",c(n.x)&&(a="center",o=h(n.y)));var p=t._options;return{xAlign:p.xAlign?p.xAlign:a,yAlign:p.yAlign?p.yAlign:o}}function c(t,e,n){var r=t.x,i=t.y,a=t.caretSize,o=t.caretPadding,s=t.cornerRadius,l=n.xAlign,u=n.yAlign,c=a+o,h=s+o;return"right"===l?r-=e.width:"center"===l&&(r-=e.width/2),"top"===u?i+=c:i-="bottom"===u?e.height+c:e.height/2,"center"===u?"left"===l?r+=c:"right"===l&&(r-=c):"left"===l?r-=h:"right"===l&&(r+=h),{x:r,y:i}}t.Tooltip=i.extend({initialize:function(){this._model=s(this._options),this._lastActive=[]},getTitle:function(){var t=this,e=t._options,r=e.callbacks,i=r.beforeTitle.apply(t,arguments),a=r.title.apply(t,arguments),o=r.afterTitle.apply(t,arguments),s=[];return s=n(s,i),s=n(s,a),s=n(s,o)},getBeforeBody:function(){var t=this._options.callbacks.beforeBody.apply(this,arguments);return a.isArray(t)?t:void 0!==t?[t]:[]},getBody:function(t,e){var r=this,i=r._options.callbacks,o=[];return a.each(t,function(t){var a={before:[],lines:[],after:[]};n(a.before,i.beforeLabel.call(r,t,e)),n(a.lines,i.label.call(r,t,e)),n(a.after,i.afterLabel.call(r,t,e)),o.push(a)}),o},getAfterBody:function(){var t=this._options.callbacks.afterBody.apply(this,arguments);return a.isArray(t)?t:void 0!==t?[t]:[]},getFooter:function(){var t=this,e=t._options.callbacks,r=e.beforeFooter.apply(t,arguments),i=e.footer.apply(t,arguments),a=e.afterFooter.apply(t,arguments),o=[];return o=n(o,r),o=n(o,i),o=n(o,a)},update:function(e){var n,r,i=this,h=i._options,d=i._model,f=i._model=s(h),p=i._active,m=i._data,g={xAlign:d.xAlign,yAlign:d.yAlign},v={x:d.x,y:d.y},y={width:d.width,height:d.height},b={x:d.caretX,y:d.caretY};if(p.length){f.opacity=1;var x=[],_=[];b=t.Tooltip.positioners[h.position].call(i,p,i._eventPosition);var w=[];for(n=0,r=p.length;n<r;++n)w.push(o(p[n]));h.filter&&(w=w.filter(function(t){return h.filter(t,m)})),h.itemSort&&(w=w.sort(function(t,e){return h.itemSort(t,e,m)})),a.each(w,function(t){x.push(h.callbacks.labelColor.call(i,t,i._chart)),_.push(h.callbacks.labelTextColor.call(i,t,i._chart))}),f.title=i.getTitle(w,m),f.beforeBody=i.getBeforeBody(w,m),f.body=i.getBody(w,m),f.afterBody=i.getAfterBody(w,m),f.footer=i.getFooter(w,m),f.x=Math.round(b.x),f.y=Math.round(b.y),f.caretPadding=h.caretPadding,f.labelColors=x,f.labelTextColors=_,f.dataPoints=w,y=l(this,f),g=u(this,y),v=c(f,y,g)}else f.opacity=0;return f.xAlign=g.xAlign,f.yAlign=g.yAlign,f.x=v.x,f.y=v.y,f.width=y.width,f.height=y.height,f.caretX=b.x,f.caretY=b.y,i._model=f,e&&h.custom&&h.custom.call(i,f),i},drawCaret:function(t,e){var n=this._chart.ctx,r=this._view,i=this.getCaretPosition(t,e,r);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)},getCaretPosition:function(t,e,n){var r,i,a,o,s,l,u=n.caretSize,c=n.cornerRadius,h=n.xAlign,d=n.yAlign,f=t.x,p=t.y,m=e.width,g=e.height;if("center"===d)s=p+g/2,"left"===h?(r=f,i=r-u,a=r,o=s+u,l=s-u):(r=f+m,i=r+u,a=r,o=s-u,l=s+u);else if("left"===h?(i=f+c+u,r=i-u,a=i+u):"right"===h?(i=f+m-c-u,r=i-u,a=i+u):(i=f+m/2,r=i-u,a=i+u),"top"===d)o=p,s=o-u,l=o;else{o=p+g,s=o+u,l=o;var v=a;a=r,r=v}return{x1:r,x2:i,x3:a,y1:o,y2:s,y3:l}},drawTitle:function(t,n,r,i){var o=n.title;if(o.length){r.textAlign=n._titleAlign,r.textBaseline="top";var s=n.titleFontSize,l=n.titleSpacing;r.fillStyle=e(n.titleFontColor,i),r.font=a.fontString(s,n._titleFontStyle,n._titleFontFamily);var u,c;for(u=0,c=o.length;u<c;++u)r.fillText(o[u],t.x,t.y),t.y+=s+l,u+1===o.length&&(t.y+=n.titleMarginBottom-l)}},drawBody:function(t,n,r,i){var o=n.bodyFontSize,s=n.bodySpacing,l=n.body;r.textAlign=n._bodyAlign,r.textBaseline="top",r.font=a.fontString(o,n._bodyFontStyle,n._bodyFontFamily);var u=0,c=function(e){r.fillText(e,t.x+u,t.y),t.y+=o+s};r.fillStyle=e(n.bodyFontColor,i),a.each(n.beforeBody,c);var h=n.displayColors;u=h?o+2:0,a.each(l,function(s,l){var u=e(n.labelTextColors[l],i);r.fillStyle=u,a.each(s.before,c),a.each(s.lines,function(a){h&&(r.fillStyle=e(n.legendColorBackground,i),r.fillRect(t.x,t.y,o,o),r.lineWidth=1,r.strokeStyle=e(n.labelColors[l].borderColor,i),r.strokeRect(t.x,t.y,o,o),r.fillStyle=e(n.labelColors[l].backgroundColor,i),r.fillRect(t.x+1,t.y+1,o-2,o-2),r.fillStyle=u),c(a)}),a.each(s.after,c)}),u=0,a.each(n.afterBody,c),t.y-=s},drawFooter:function(t,n,r,i){var o=n.footer;o.length&&(t.y+=n.footerMarginTop,r.textAlign=n._footerAlign,r.textBaseline="top",r.fillStyle=e(n.footerFontColor,i),r.font=a.fontString(n.footerFontSize,n._footerFontStyle,n._footerFontFamily),a.each(o,function(e){r.fillText(e,t.x,t.y),t.y+=n.footerFontSize+n.footerSpacing}))},drawBackground:function(t,n,r,i,a){r.fillStyle=e(n.backgroundColor,a),r.strokeStyle=e(n.borderColor,a),r.lineWidth=n.borderWidth;var o=n.xAlign,s=n.yAlign,l=t.x,u=t.y,c=i.width,h=i.height,d=n.cornerRadius;r.beginPath(),r.moveTo(l+d,u),"top"===s&&this.drawCaret(t,i),r.lineTo(l+c-d,u),r.quadraticCurveTo(l+c,u,l+c,u+d),"center"===s&&"right"===o&&this.drawCaret(t,i),r.lineTo(l+c,u+h-d),r.quadraticCurveTo(l+c,u+h,l+c-d,u+h),"bottom"===s&&this.drawCaret(t,i),r.lineTo(l+d,u+h),r.quadraticCurveTo(l,u+h,l,u+h-d),"center"===s&&"left"===o&&this.drawCaret(t,i),r.lineTo(l,u+d),r.quadraticCurveTo(l,u,l+d,u),r.closePath(),r.fill(),n.borderWidth>0&&r.stroke()},draw:function(){var t=this._chart.ctx,e=this._view;if(0!==e.opacity){var n={width:e.width,height:e.height},r={x:e.x,y:e.y},i=Math.abs(e.opacity<.001)?0:e.opacity,a=e.title.length||e.beforeBody.length||e.body.length||e.afterBody.length||e.footer.length;this._options.enabled&&a&&(this.drawBackground(r,e,t,n,i),r.x+=e.xPadding,r.y+=e.yPadding,this.drawTitle(r,e,t,i),this.drawBody(r,e,t,i),this.drawFooter(r,e,t,i))}},handleEvent:function(t){var e=this,n=e._options,r=!1;if(e._lastActive=e._lastActive||[],"mouseout"===t.type?e._active=[]:e._active=e._chart.getElementsAtEventForMode(t,n.mode,n),!(r=!a.arrayEquals(e._active,e._lastActive)))return!1;if(e._lastActive=e._active,n.enabled||n.custom){e._eventPosition={x:t.x,y:t.y};var i=e._model;e.update(!0),e.pivot(),r|=i.x!==e._model.x||i.y!==e._model.y}return r}}),t.Tooltip.positioners={average:function(t){if(!t.length)return!1;var e,n,r=0,i=0,a=0;for(e=0,n=t.length;e<n;++e){var o=t[e];if(o&&o.hasValue()){var s=o.tooltipPosition();r+=s.x,i+=s.y,++a}}return{x:Math.round(r/a),y:Math.round(i/a)}},nearest:function(t,e){var n,r,i,o=e.x,s=e.y,l=Number.POSITIVE_INFINITY;for(n=0,r=t.length;n<r;++n){var u=t[n];if(u&&u.hasValue()){var c=u.getCenterPoint(),h=a.distanceBetweenPoints(e,c);h<l&&(l=h,i=u)}}if(i){var d=i.tooltipPosition();o=d.x,s=d.y}return{x:o,y:s}}}}},function(t,e,n){"use strict";var r=n(9),i=n(21),a=n(6);r._set("global",{elements:{arc:{backgroundColor:r.global.defaultColor,borderColor:"#fff",borderWidth:2}}}),t.exports=i.extend({inLabelRange:function(t){var e=this._view;return!!e&&Math.pow(t-e.x,2)<Math.pow(e.radius+e.hoverRadius,2)},inRange:function(t,e){var n=this._view;if(n){for(var r=a.getAngleFromPoint(n,{x:t,y:e}),i=r.angle,o=r.distance,s=n.startAngle,l=n.endAngle;l<s;)l+=2*Math.PI;for(;i>l;)i-=2*Math.PI;for(;i<s;)i+=2*Math.PI;var u=i>=s&&i<=l,c=o>=n.innerRadius&&o<=n.outerRadius;return u&&c}return!1},getCenterPoint:function(){var t=this._view,e=(t.startAngle+t.endAngle)/2,n=(t.innerRadius+t.outerRadius)/2;return{x:t.x+Math.cos(e)*n,y:t.y+Math.sin(e)*n}},getArea:function(){var t=this._view;return Math.PI*((t.endAngle-t.startAngle)/(2*Math.PI))*(Math.pow(t.outerRadius,2)-Math.pow(t.innerRadius,2))},tooltipPosition:function(){var t=this._view,e=t.startAngle+(t.endAngle-t.startAngle)/2,n=(t.outerRadius-t.innerRadius)/2+t.innerRadius;return{x:t.x+Math.cos(e)*n,y:t.y+Math.sin(e)*n}},draw:function(){var t=this._chart.ctx,e=this._view,n=e.startAngle,r=e.endAngle;t.beginPath(),t.arc(e.x,e.y,e.outerRadius,n,r),t.arc(e.x,e.y,e.innerRadius,r,n,!0),t.closePath(),t.strokeStyle=e.borderColor,t.lineWidth=e.borderWidth,t.fillStyle=e.backgroundColor,t.fill(),t.lineJoin="bevel",e.borderWidth&&t.stroke()}})},function(t,e,n){"use strict";var r=n(9),i=n(21),a=n(6),o=r.global;r._set("global",{elements:{line:{tension:.4,backgroundColor:o.defaultColor,borderWidth:3,borderColor:o.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}}),t.exports=i.extend({draw:function(){var t,e,n,r,i=this,s=i._view,l=i._chart.ctx,u=s.spanGaps,c=i._children.slice(),h=o.elements.line,d=-1;for(i._loop&&c.length&&c.push(c[0]),l.save(),l.lineCap=s.borderCapStyle||h.borderCapStyle,l.setLineDash&&l.setLineDash(s.borderDash||h.borderDash),l.lineDashOffset=s.borderDashOffset||h.borderDashOffset,l.lineJoin=s.borderJoinStyle||h.borderJoinStyle,l.lineWidth=s.borderWidth||h.borderWidth,l.strokeStyle=s.borderColor||o.defaultColor,l.beginPath(),d=-1,t=0;t<c.length;++t)e=c[t],n=a.previousItem(c,t),r=e._view,0===t?r.skip||(l.moveTo(r.x,r.y),d=t):(n=-1===d?n:c[d],r.skip||(d!==t-1&&!u||-1===d?l.moveTo(r.x,r.y):a.canvas.lineTo(l,n._view,e._view),d=t));l.stroke(),l.restore()}})},function(t,e,n){"use strict";function r(t){var e=this._view;return!!e&&Math.pow(t-e.x,2)<Math.pow(e.radius+e.hitRadius,2)}function i(t){var e=this._view;return!!e&&Math.pow(t-e.y,2)<Math.pow(e.radius+e.hitRadius,2)}var a=n(9),o=n(21),s=n(6),l=a.global.defaultColor;a._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:l,borderColor:l,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}}),t.exports=o.extend({inRange:function(t,e){var n=this._view;return!!n&&Math.pow(t-n.x,2)+Math.pow(e-n.y,2)<Math.pow(n.hitRadius+n.radius,2)},inLabelRange:r,inXRange:r,inYRange:i,getCenterPoint:function(){var t=this._view;return{x:t.x,y:t.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y,padding:t.radius+t.borderWidth}},draw:function(t){var e=this._view,n=this._model,r=this._chart.ctx,i=e.pointStyle,o=e.radius,u=e.x,c=e.y,h=s.color,d=0;e.skip||(r.strokeStyle=e.borderColor||l,r.lineWidth=s.valueOrDefault(e.borderWidth,a.global.elements.point.borderWidth),r.fillStyle=e.backgroundColor||l,void 0!==t&&(n.x<t.left||1.01*t.right<n.x||n.y<t.top||1.01*t.bottom<n.y)&&(n.x<t.left?d=(u-n.x)/(t.left-n.x):1.01*t.right<n.x?d=(n.x-u)/(n.x-t.right):n.y<t.top?d=(c-n.y)/(t.top-n.y):1.01*t.bottom<n.y&&(d=(n.y-c)/(n.y-t.bottom)),d=Math.round(100*d)/100,r.strokeStyle=h(r.strokeStyle).alpha(d).rgbString(),r.fillStyle=h(r.fillStyle).alpha(d).rgbString()),s.canvas.drawPoint(r,i,o,u,c))}})},function(t,e,n){"use strict";function r(t){return void 0!==t._view.width}function i(t){var e,n,i,a,o=t._view;if(r(t)){var s=o.width/2;e=o.x-s,n=o.x+s,i=Math.min(o.y,o.base),a=Math.max(o.y,o.base)}else{var l=o.height/2;e=Math.min(o.x,o.base),n=Math.max(o.x,o.base),i=o.y-l,a=o.y+l}return{left:e,top:i,right:n,bottom:a}}var a=n(9),o=n(21);a._set("global",{elements:{rectangle:{backgroundColor:a.global.defaultColor,borderColor:a.global.defaultColor,borderSkipped:"bottom",borderWidth:0}}}),t.exports=o.extend({draw:function(){function t(t){return v[(b+t)%4]}var e,n,r,i,a,o,s,l=this._chart.ctx,u=this._view,c=u.borderWidth;if(u.horizontal?(e=u.base,n=u.x,r=u.y-u.height/2,i=u.y+u.height/2,a=n>e?1:-1,o=1,s=u.borderSkipped||"left"):(e=u.x-u.width/2,n=u.x+u.width/2,r=u.y,i=u.base,a=1,o=i>r?1:-1,s=u.borderSkipped||"bottom"),c){var h=Math.min(Math.abs(e-n),Math.abs(r-i));c=c>h?h:c;var d=c/2,f=e+("left"!==s?d*a:0),p=n+("right"!==s?-d*a:0),m=r+("top"!==s?d*o:0),g=i+("bottom"!==s?-d*o:0);f!==p&&(r=m,i=g),m!==g&&(e=f,n=p)}l.beginPath(),l.fillStyle=u.backgroundColor,l.strokeStyle=u.borderColor,l.lineWidth=c;var v=[[e,i],[e,r],[n,r],[n,i]],y=["bottom","left","top","right"],b=y.indexOf(s,0);-1===b&&(b=0);var x=t(0);l.moveTo(x[0],x[1]);for(var _=1;_<4;_++)x=t(_),l.lineTo(x[0],x[1]);l.fill(),c&&l.stroke()},height:function(){var t=this._view;return t.base-t.y},inRange:function(t,e){var n=!1;if(this._view){var r=i(this);n=t>=r.left&&t<=r.right&&e>=r.top&&e<=r.bottom}return n},inLabelRange:function(t,e){var n=this;if(!n._view)return!1;var a=i(n);return r(n)?t>=a.left&&t<=a.right:e>=a.top&&e<=a.bottom},inXRange:function(t){var e=i(this);return t>=e.left&&t<=e.right},inYRange:function(t){var e=i(this);return t>=e.top&&t<=e.bottom},getCenterPoint:function(){var t,e,n=this._view;return r(this)?(t=n.x,e=(n.y+n.base)/2):(t=(n.x+n.base)/2,e=n.y),{x:t,y:e}},getArea:function(){var t=this._view;return t.width*Math.abs(t.y-t.base)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y}}})},function(t,e,n){"use strict";var r=n(63),e=t.exports={clear:function(t){t.ctx.clearRect(0,0,t.width,t.height)},roundedRect:function(t,e,n,r,i,a){if(a){var o=Math.min(a,r/2),s=Math.min(a,i/2);t.moveTo(e+o,n),t.lineTo(e+r-o,n),t.quadraticCurveTo(e+r,n,e+r,n+s),t.lineTo(e+r,n+i-s),t.quadraticCurveTo(e+r,n+i,e+r-o,n+i),t.lineTo(e+o,n+i),t.quadraticCurveTo(e,n+i,e,n+i-s),t.lineTo(e,n+s),t.quadraticCurveTo(e,n,e+o,n)}else t.rect(e,n,r,i)},drawPoint:function(t,e,n,r,i){var a,o,s,l,u,c;if(e&&"object"==typeof e&&("[object HTMLImageElement]"===(a=e.toString())||"[object HTMLCanvasElement]"===a))return void t.drawImage(e,r-e.width/2,i-e.height/2,e.width,e.height);if(!(isNaN(n)||n<=0)){switch(e){default:t.beginPath(),t.arc(r,i,n,0,2*Math.PI),t.closePath(),t.fill();break;case"triangle":t.beginPath(),o=3*n/Math.sqrt(3),u=o*Math.sqrt(3)/2,t.moveTo(r-o/2,i+u/3),t.lineTo(r+o/2,i+u/3),t.lineTo(r,i-2*u/3),t.closePath(),t.fill();break;case"rect":c=1/Math.SQRT2*n,t.beginPath(),t.fillRect(r-c,i-c,2*c,2*c),t.strokeRect(r-c,i-c,2*c,2*c);break;case"rectRounded":var h=n/Math.SQRT2,d=r-h,f=i-h,p=Math.SQRT2*n;t.beginPath(),this.roundedRect(t,d,f,p,p,n/2),t.closePath(),t.fill();break;case"rectRot":c=1/Math.SQRT2*n,t.beginPath(),t.moveTo(r-c,i),t.lineTo(r,i+c),t.lineTo(r+c,i),t.lineTo(r,i-c),t.closePath(),t.fill();break;case"cross":t.beginPath(),t.moveTo(r,i+n),t.lineTo(r,i-n),t.moveTo(r-n,i),t.lineTo(r+n,i),t.closePath();break;case"crossRot":t.beginPath(),s=Math.cos(Math.PI/4)*n,l=Math.sin(Math.PI/4)*n,t.moveTo(r-s,i-l),t.lineTo(r+s,i+l),t.moveTo(r-s,i+l),t.lineTo(r+s,i-l),t.closePath();break;case"star":t.beginPath(),t.moveTo(r,i+n),t.lineTo(r,i-n),t.moveTo(r-n,i),t.lineTo(r+n,i),s=Math.cos(Math.PI/4)*n,l=Math.sin(Math.PI/4)*n,t.moveTo(r-s,i-l),t.lineTo(r+s,i+l),t.moveTo(r-s,i+l),t.lineTo(r+s,i-l),t.closePath();break;case"line":t.beginPath(),t.moveTo(r-n,i),t.lineTo(r+n,i),t.closePath();break;case"dash":t.beginPath(),t.moveTo(r,i),t.lineTo(r+n,i),t.closePath()}t.stroke()}},clipArea:function(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()},unclipArea:function(t){t.restore()},lineTo:function(t,e,n,r){return n.steppedLine?("after"===n.steppedLine&&!r||"after"!==n.steppedLine&&r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y),void t.lineTo(n.x,n.y)):n.tension?void t.bezierCurveTo(r?e.controlPointPreviousX:e.controlPointNextX,r?e.controlPointPreviousY:e.controlPointNextY,r?n.controlPointNextX:n.controlPointPreviousX,r?n.controlPointNextY:n.controlPointPreviousY,n.x,n.y):void t.lineTo(n.x,n.y)}};r.clear=e.clear,r.drawRoundedRectangle=function(t){t.beginPath(),e.roundedRect.apply(e,arguments),t.closePath()}},function(t,e,n){"use strict";var r=n(63),i={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return(t-=1)*t*t+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-((t-=1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return(t-=1)*t*t*t*t+1},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return 1-Math.cos(t*(Math.PI/2))},easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return t>=1?t:-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-(t-=1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,n=0,r=1;return 0===t?0:1===t?1:(n||(n=.3),r<1?(r=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/r),-r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n))},easeOutElastic:function(t){var e=1.70158,n=0,r=1;return 0===t?0:1===t?1:(n||(n=.3),r<1?(r=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/r),r*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/n)+1)},easeInOutElastic:function(t){var e=1.70158,n=0,r=1;return 0===t?0:2==(t/=.5)?1:(n||(n=.45),r<1?(r=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/r),t<1?r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*-.5:r*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*.5+1)},easeInBack:function(t){var e=1.70158;return t*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:function(t){return 1-i.easeOutBounce(1-t)},easeOutBounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:function(t){return t<.5?.5*i.easeInBounce(2*t):.5*i.easeOutBounce(2*t-1)+.5}};t.exports={effects:i},r.easingEffects=i},function(t,e,n){"use strict";var r=n(63);t.exports={toLineHeight:function(t,e){var n=(""+t).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100}return e*t},toPadding:function(t){var e,n,i,a;return r.isObject(t)?(e=+t.top||0,n=+t.right||0,i=+t.bottom||0,a=+t.left||0):e=n=i=a=+t||0,{top:e,right:n,bottom:i,left:a,height:e+i,width:a+n}},resolve:function(t,e,n){var i,a,o;for(i=0,a=t.length;i<a;++i)if(void 0!==(o=t[i])&&(void 0!==e&&"function"==typeof o&&(o=o(e)),void 0!==n&&r.isArray(o)&&(o=o[n]),void 0!==o))return o}}},function(t,e){t.exports={acquireContext:function(t){return t&&t.canvas&&(t=t.canvas),t&&t.getContext("2d")||null}}},function(t,e,n){"use strict";function r(t,e){var n=g.getStyle(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?Number(r[1]):void 0}function i(t,e){var n=t.style,i=t.getAttribute("height"),a=t.getAttribute("width");if(t[v]={initial:{height:i,width:a,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",null===a||""===a){var o=r(t,"width");void 0!==o&&(t.width=o)}if(null===i||""===i)if(""===t.style.height)t.height=t.width/(e.options.aspectRatio||2);else{var s=r(t,"height");void 0!==o&&(t.height=s)}return t}function a(t,e,n){t.addEventListener(e,n,S)}function o(t,e,n){t.removeEventListener(e,n,S)}function s(t,e,n,r,i){return{type:t,chart:e,native:i||null,x:void 0!==n?n:null,y:void 0!==r?r:null}}function l(t,e){var n=w[t.type]||t.type,r=g.getRelativePosition(t,e);return s(n,e,r.x,r.y,t)}function u(t,e){var n=!1,r=[];return function(){r=Array.prototype.slice.call(arguments),e=e||this,n||(n=!0,g.requestAnimFrame.call(window,function(){n=!1,t.apply(e,r)}))}}function c(t){var e=document.createElement("div"),n=y+"size-monitor",r="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;";e.style.cssText=r,e.className=n,e.innerHTML='<div class="'+n+'-expand" style="'+r+'"><div style="position:absolute;width:1000000px;height:1000000px;left:0;top:0"></div></div><div class="'+n+'-shrink" style="'+r+'"><div style="position:absolute;width:200%;height:200%;left:0; top:0"></div></div>';var i=e.childNodes[0],o=e.childNodes[1];e._reset=function(){i.scrollLeft=1e6,i.scrollTop=1e6,o.scrollLeft=1e6,o.scrollTop=1e6};var s=function(){e._reset(),t()};return a(i,"scroll",s.bind(i,"expand")),a(o,"scroll",s.bind(o,"shrink")),e}function h(t,e){var n=t[v]||(t[v]={}),r=n.renderProxy=function(t){t.animationName===x&&e()};g.each(_,function(e){a(t,e,r)}),n.reflow=!!t.offsetParent,t.classList.add(b)}function d(t){var e=t[v]||{},n=e.renderProxy;n&&(g.each(_,function(e){o(t,e,n)}),delete e.renderProxy),t.classList.remove(b)}function f(t,e,n){var r=t[v]||(t[v]={}),i=r.resizer=c(u(function(){if(r.resizer)return e(s("resize",n))}));h(t,function(){if(r.resizer){var e=t.parentNode;e&&e!==i.parentNode&&e.insertBefore(i,e.firstChild),i._reset()}})}function p(t){var e=t[v]||{},n=e.resizer;delete e.resizer,d(t),n&&n.parentNode&&n.parentNode.removeChild(n)}function m(t,e){var n=t._style||document.createElement("style");t._style||(t._style=n,e="/* Chart.js */\n"+e,n.setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(n)),n.appendChild(document.createTextNode(e))}var g=n(6),v="$chartjs",y="chartjs-",b=y+"render-monitor",x=y+"render-animation",_=["animationstart","webkitAnimationStart"],w={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},M=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("e",null,e)}catch(t){}return t}(),S=!!M&&{passive:!0};t.exports={_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,initialize:function(){var t="from{opacity:0.99}to{opacity:1}";m(this,"@-webkit-keyframes "+x+"{"+t+"}@keyframes "+x+"{"+t+"}."+b+"{-webkit-animation:"+x+" 0.001s;animation:"+x+" 0.001s;}")},acquireContext:function(t,e){"string"==typeof t?t=document.getElementById(t):t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas);var n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(i(t,e),n):null},releaseContext:function(t){var e=t.canvas;if(e[v]){var n=e[v].initial;["height","width"].forEach(function(t){var r=n[t];g.isNullOrUndef(r)?e.removeAttribute(t):e.setAttribute(t,r)}),g.each(n.style||{},function(t,n){e.style[n]=t}),e.width=e.width,delete e[v]}},addEventListener:function(t,e,n){var r=t.canvas;if("resize"===e)return void f(r,n,t);var i=n[v]||(n[v]={});a(r,e,(i.proxies||(i.proxies={}))[t.id+"_"+e]=function(e){n(l(e,t))})},removeEventListener:function(t,e,n){var r=t.canvas;if("resize"===e)return void p(r);var i=n[v]||{},a=i.proxies||{},s=a[t.id+"_"+e];s&&o(r,e,s)}},g.addEvent=a,g.removeEvent=o},function(t,e,n){"use strict";var r=n(9),i=n(33),a=n(6);r._set("global",{plugins:{filler:{propagate:!0}}}),t.exports=function(){function t(t,e,n){var r,i=t._model||{},a=i.fill;if(void 0===a&&(a=!!i.backgroundColor),!1===a||null===a)return!1;if(!0===a)return"origin";if(r=parseFloat(a,10),isFinite(r)&&Math.floor(r)===r)return"-"!==a[0]&&"+"!==a[0]||(r=e+r),!(r===e||r<0||r>=n)&&r;switch(a){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return a;default:return!1}}function e(t){var e,n=t.el._model||{},r=t.el._scale||{},i=t.fill,a=null;if(isFinite(i))return null;if("start"===i?a=void 0===n.scaleBottom?r.bottom:n.scaleBottom:"end"===i?a=void 0===n.scaleTop?r.top:n.scaleTop:void 0!==n.scaleZero?a=n.scaleZero:r.getBasePosition?a=r.getBasePosition():r.getBasePixel&&(a=r.getBasePixel()),void 0!==a&&null!==a){if(void 0!==a.x&&void 0!==a.y)return a;if("number"==typeof a&&isFinite(a))return e=r.isHorizontal(),{x:e?a:null,y:e?null:a}}return null}function n(t,e,n){var r,i=t[e],a=i.fill,o=[e];if(!n)return a;for(;!1!==a&&-1===o.indexOf(a);){if(!isFinite(a))return a;if(!(r=t[a]))return!1;if(r.visible)return a;o.push(a),a=r.fill}return!1}function o(t){var e=t.fill,n="dataset";return!1===e?null:(isFinite(e)||(n="boundary"),c[n](t))}function s(t){return t&&!t.skip}function l(t,e,n,r,i){var o;if(r&&i){for(t.moveTo(e[0].x,e[0].y),o=1;o<r;++o)a.canvas.lineTo(t,e[o-1],e[o]);for(t.lineTo(n[i-1].x,n[i-1].y),o=i-1;o>0;--o)a.canvas.lineTo(t,n[o],n[o-1],!0)}}function u(t,e,n,r,i,a){var o,u,c,h,d,f,p,m=e.length,g=r.spanGaps,v=[],y=[],b=0,x=0;for(t.beginPath(),o=0,u=m+!!a;o<u;++o)c=o%m,h=e[c]._view,d=n(h,c,r),f=s(h),p=s(d),f&&p?(b=v.push(h),x=y.push(d)):b&&x&&(g?(f&&v.push(h),p&&y.push(d)):(l(t,v,y,b,x),b=x=0,v=[],y=[]));l(t,v,y,b,x),t.closePath(),t.fillStyle=i,t.fill()}var c={dataset:function(t){var e=t.fill,n=t.chart,r=n.getDatasetMeta(e),i=r&&n.isDatasetVisible(e),a=i&&r.dataset._children||[],o=a.length||0;return o?function(t,e){return e<o&&a[e]._view||null}:null},boundary:function(t){var e=t.boundary,n=e?e.x:null,r=e?e.y:null;return function(t){return{x:null===n?t.x:n,y:null===r?t.y:r}}}};return{id:"filler",afterDatasetsUpdate:function(r,a){var s,l,u,c,h=(r.data.datasets||[]).length,d=a.propagate,f=[];for(l=0;l<h;++l)s=r.getDatasetMeta(l),u=s.dataset,c=null,u&&u._model&&u instanceof i.Line&&(c={visible:r.isDatasetVisible(l),fill:t(u,l,h),chart:r,el:u}),s.$filler=c,f.push(c);for(l=0;l<h;++l)(c=f[l])&&(c.fill=n(f,l,d),c.boundary=e(c),c.mapper=o(c))},beforeDatasetDraw:function(t,e){var n=e.meta.$filler;if(n){var i=t.ctx,o=n.el,s=o._view,l=o._children||[],c=n.mapper,h=s.backgroundColor||r.global.defaultColor;c&&h&&l.length&&(a.canvas.clipArea(i,t.chartArea),u(i,l,c,s,h,o._loop),a.canvas.unclipArea(i))}}}}},function(t,e,n){"use strict";var r=n(9),i=n(21),a=n(6);r._set("global",{legend:{display:!0,position:"top",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(t,e){var n=e.datasetIndex,r=this.chart,i=r.getDatasetMeta(n);i.hidden=null===i.hidden?!r.data.datasets[n].hidden:null,r.update()},onHover:null,labels:{boxWidth:40,padding:10,generateLabels:function(t){var e=t.data;return a.isArray(e.datasets)?e.datasets.map(function(e,n){return{text:e.label,fillStyle:a.isArray(e.backgroundColor)?e.backgroundColor[0]:e.backgroundColor,hidden:!t.isDatasetVisible(n),lineCap:e.borderCapStyle,lineDash:e.borderDash,lineDashOffset:e.borderDashOffset,lineJoin:e.borderJoinStyle,lineWidth:e.borderWidth,strokeStyle:e.borderColor,pointStyle:e.pointStyle,datasetIndex:n}},this):[]}}},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');for(var n=0;n<t.data.datasets.length;n++)e.push('<li><span style="background-color:'+t.data.datasets[n].backgroundColor+'"></span>'),t.data.datasets[n].label&&e.push(t.data.datasets[n].label),e.push("</li>");return e.push("</ul>"),e.join("")}}),t.exports=function(t){function e(t,e){return t.usePointStyle?e*Math.SQRT2:t.boxWidth}function n(e,n){var r=new t.Legend({ctx:e.ctx,options:n,chart:e});o.configure(e,r,n),o.addBox(e,r),e.legend=r}var o=t.layoutService,s=a.noop;return t.Legend=i.extend({initialize:function(t){a.extend(this,t),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:s,update:function(t,e,n){var r=this;return r.beforeUpdate(),r.maxWidth=t,r.maxHeight=e,r.margins=n,r.beforeSetDimensions(),r.setDimensions(),r.afterSetDimensions(),r.beforeBuildLabels(),r.buildLabels(),r.afterBuildLabels(),r.beforeFit(),r.fit(),r.afterFit(),r.afterUpdate(),r.minSize},afterUpdate:s,beforeSetDimensions:s,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:s,beforeBuildLabels:s,buildLabels:function(){var t=this,e=t.options.labels||{},n=a.callback(e.generateLabels,[t.chart],t)||[];e.filter&&(n=n.filter(function(n){return e.filter(n,t.chart.data)})),t.options.reverse&&n.reverse(),t.legendItems=n},afterBuildLabels:s,beforeFit:s,fit:function(){var t=this,n=t.options,i=n.labels,o=n.display,s=t.ctx,l=r.global,u=a.valueOrDefault,c=u(i.fontSize,l.defaultFontSize),h=u(i.fontStyle,l.defaultFontStyle),d=u(i.fontFamily,l.defaultFontFamily),f=a.fontString(c,h,d),p=t.legendHitBoxes=[],m=t.minSize,g=t.isHorizontal();if(g?(m.width=t.maxWidth,m.height=o?10:0):(m.width=o?10:0,m.height=t.maxHeight),o)if(s.font=f,g){var v=t.lineWidths=[0],y=t.legendItems.length?c+i.padding:0;s.textAlign="left",s.textBaseline="top",a.each(t.legendItems,function(n,r){var a=e(i,c),o=a+c/2+s.measureText(n.text).width;v[v.length-1]+o+i.padding>=t.width&&(y+=c+i.padding,v[v.length]=t.left),p[r]={left:0,top:0,width:o,height:c},v[v.length-1]+=o+i.padding}),m.height+=y}else{var b=i.padding,x=t.columnWidths=[],_=i.padding,w=0,M=0,S=c+b;a.each(t.legendItems,function(t,n){var r=e(i,c),a=r+c/2+s.measureText(t.text).width;M+S>m.height&&(_+=w+i.padding,x.push(w),w=0,M=0),w=Math.max(w,a),M+=S,p[n]={left:0,top:0,width:a,height:c}}),_+=w,x.push(w),m.width+=_}t.width=m.width,t.height=m.height},afterFit:s,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var t=this,n=t.options,i=n.labels,o=r.global,s=o.elements.line,l=t.width,u=t.lineWidths;if(n.display){var c,h=t.ctx,d=a.valueOrDefault,f=d(i.fontColor,o.defaultFontColor),p=d(i.fontSize,o.defaultFontSize),m=d(i.fontStyle,o.defaultFontStyle),g=d(i.fontFamily,o.defaultFontFamily),v=a.fontString(p,m,g);h.textAlign="left",h.textBaseline="middle",h.lineWidth=.5,h.strokeStyle=f,h.fillStyle=f,h.font=v;var y=e(i,p),b=t.legendHitBoxes,x=function(t,e,r){if(!(isNaN(y)||y<=0)){h.save(),h.fillStyle=d(r.fillStyle,o.defaultColor),h.lineCap=d(r.lineCap,s.borderCapStyle),h.lineDashOffset=d(r.lineDashOffset,s.borderDashOffset),h.lineJoin=d(r.lineJoin,s.borderJoinStyle),h.lineWidth=d(r.lineWidth,s.borderWidth),h.strokeStyle=d(r.strokeStyle,o.defaultColor);var i=0===d(r.lineWidth,s.borderWidth);if(h.setLineDash&&h.setLineDash(d(r.lineDash,s.borderDash)),n.labels&&n.labels.usePointStyle){var l=p*Math.SQRT2/2,u=l/Math.SQRT2,c=t+u,f=e+u;a.canvas.drawPoint(h,r.pointStyle,l,c,f)}else i||h.strokeRect(t,e,y,p),h.fillRect(t,e,y,p);h.restore()}},_=function(t,e,n,r){var i=p/2,a=y+i+t,o=e+i;h.fillText(n.text,a,o),n.hidden&&(h.beginPath(),h.lineWidth=2,h.moveTo(a,o),h.lineTo(a+r,o),h.stroke())},w=t.isHorizontal();c=w?{x:t.left+(l-u[0])/2,y:t.top+i.padding,line:0}:{x:t.left+i.padding,y:t.top+i.padding,line:0};var M=p+i.padding;a.each(t.legendItems,function(e,n){var r=h.measureText(e.text).width,a=y+p/2+r,o=c.x,s=c.y;w?o+a>=l&&(s=c.y+=M,c.line++,o=c.x=t.left+(l-u[c.line])/2):s+M>t.bottom&&(o=c.x=o+t.columnWidths[c.line]+i.padding,s=c.y=t.top+i.padding,c.line++),x(o,s,e),b[n].left=o,b[n].top=s,_(o,s,e,r),w?c.x+=a+i.padding:c.y+=M})}},handleEvent:function(t){var e=this,n=e.options,r="mouseup"===t.type?"click":t.type,i=!1;if("mousemove"===r){if(!n.onHover)return}else{if("click"!==r)return;if(!n.onClick)return}var a=t.x,o=t.y;if(a>=e.left&&a<=e.right&&o>=e.top&&o<=e.bottom)for(var s=e.legendHitBoxes,l=0;l<s.length;++l){var u=s[l];if(a>=u.left&&a<=u.left+u.width&&o>=u.top&&o<=u.top+u.height){if("click"===r){n.onClick.call(e,t.native,e.legendItems[l]),i=!0;break}if("mousemove"===r){n.onHover.call(e,t.native,e.legendItems[l]),i=!0;break}}}return i}}),{id:"legend",beforeInit:function(t){var e=t.options.legend;e&&n(t,e)},beforeUpdate:function(t){var e=t.options.legend,i=t.legend;e?(a.mergeIf(e,r.global.legend),i?(o.configure(t,i,e),i.options=e):n(t,e)):i&&(o.removeBox(t,i),delete t.legend)},afterEvent:function(t,e){var n=t.legend;n&&n.handleEvent(e)}}}},function(t,e,n){"use strict";var r=n(9),i=n(21),a=n(6);r._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,lineHeight:1.2,padding:10,position:"top",text:"",weight:2e3}}),t.exports=function(t){function e(e,r){var i=new t.Title({ctx:e.ctx,options:r,chart:e});n.configure(e,i,r),n.addBox(e,i),e.titleBlock=i}var n=t.layoutService,o=a.noop;return t.Title=i.extend({initialize:function(t){var e=this;a.extend(e,t),e.legendHitBoxes=[]},beforeUpdate:o,update:function(t,e,n){var r=this;return r.beforeUpdate(),r.maxWidth=t,r.maxHeight=e,r.margins=n,r.beforeSetDimensions(),r.setDimensions(),r.afterSetDimensions(),r.beforeBuildLabels(),r.buildLabels(),r.afterBuildLabels(),r.beforeFit(),r.fit(),r.afterFit(),r.afterUpdate(),r.minSize},afterUpdate:o,beforeSetDimensions:o,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:o,beforeBuildLabels:o,buildLabels:o,afterBuildLabels:o,beforeFit:o,fit:function(){var t=this,e=a.valueOrDefault,n=t.options,i=n.display,o=e(n.fontSize,r.global.defaultFontSize),s=t.minSize,l=a.isArray(n.text)?n.text.length:1,u=a.options.toLineHeight(n.lineHeight,o),c=i?l*u+2*n.padding:0;t.isHorizontal()?(s.width=t.maxWidth,s.height=c):(s.width=c,s.height=t.maxHeight),t.width=s.width,t.height=s.height},afterFit:o,isHorizontal:function(){var t=this.options.position;return"top"===t||"bottom"===t},draw:function(){var t=this,e=t.ctx,n=a.valueOrDefault,i=t.options,o=r.global;if(i.display){var s,l,u,c=n(i.fontSize,o.defaultFontSize),h=n(i.fontStyle,o.defaultFontStyle),d=n(i.fontFamily,o.defaultFontFamily),f=a.fontString(c,h,d),p=a.options.toLineHeight(i.lineHeight,c),m=p/2+i.padding,g=0,v=t.top,y=t.left,b=t.bottom,x=t.right;e.fillStyle=n(i.fontColor,o.defaultFontColor),e.font=f,t.isHorizontal()?(l=y+(x-y)/2,u=v+m,s=x-y):(l="left"===i.position?y+m:x-m,u=v+(b-v)/2,s=b-v,g=Math.PI*("left"===i.position?-.5:.5)),e.save(),e.translate(l,u),e.rotate(g),e.textAlign="center",e.textBaseline="middle";var _=i.text;if(a.isArray(_))for(var w=0,M=0;M<_.length;++M)e.fillText(_[M],0,w,s),w+=p;else e.fillText(_,0,0,s);e.restore()}}}),{id:"title",beforeInit:function(t){var n=t.options.title;n&&e(t,n)},beforeUpdate:function(i){var o=i.options.title,s=i.titleBlock;o?(a.mergeIf(o,r.global.title),s?(n.configure(i,s,o),s.options=o):e(i,o)):s&&(t.layoutService.removeBox(i,s),delete i.titleBlock)}}}},function(t,e,n){"use strict";t.exports=function(t){var e={position:"bottom"},n=t.Scale.extend({getLabels:function(){var t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels},determineDataLimits:function(){var t=this,e=t.getLabels();t.minIndex=0,t.maxIndex=e.length-1;var n;void 0!==t.options.ticks.min&&(n=e.indexOf(t.options.ticks.min),t.minIndex=-1!==n?n:t.minIndex),void 0!==t.options.ticks.max&&(n=e.indexOf(t.options.ticks.max),t.maxIndex=-1!==n?n:t.maxIndex),t.min=e[t.minIndex],t.max=e[t.maxIndex]},buildTicks:function(){var t=this,e=t.getLabels();t.ticks=0===t.minIndex&&t.maxIndex===e.length-1?e:e.slice(t.minIndex,t.maxIndex+1)},getLabelForIndex:function(t,e){var n=this,r=n.chart.data,i=n.isHorizontal();return r.yLabels&&!i?n.getRightValue(r.datasets[e].data[t]):n.ticks[t-n.minIndex]},getPixelForValue:function(t,e){var n,r=this,i=r.options.offset,a=Math.max(r.maxIndex+1-r.minIndex-(i?0:1),1);if(void 0!==t&&null!==t&&(n=r.isHorizontal()?t.x:t.y),void 0!==n||void 0!==t&&isNaN(e)){var o=r.getLabels();t=n||t;var s=o.indexOf(t);e=-1!==s?s:e}if(r.isHorizontal()){var l=r.width/a,u=l*(e-r.minIndex);return i&&(u+=l/2),r.left+Math.round(u)}var c=r.height/a,h=c*(e-r.minIndex);return i&&(h+=c/2),r.top+Math.round(h)},getPixelForTick:function(t){return this.getPixelForValue(this.ticks[t],t+this.minIndex,null)},getValueForPixel:function(t){var e=this,n=e.options.offset,r=Math.max(e._ticks.length-(n?0:1),1),i=e.isHorizontal(),a=(i?e.width:e.height)/r;return t-=i?e.left:e.top,n&&(t-=a/2),(t<=0?0:Math.round(t/a))+e.minIndex},getBasePixel:function(){return this.bottom}});t.scaleService.registerScaleType("category",n,e)}},function(t,e,n){"use strict";var r=n(9),i=n(6),a=n(50);t.exports=function(t){var e={position:"left",ticks:{callback:a.formatters.linear}},n=t.LinearScaleBase.extend({determineDataLimits:function(){function t(t){return s?t.xAxisID===e.id:t.yAxisID===e.id}var e=this,n=e.options,r=e.chart,a=r.data,o=a.datasets,s=e.isHorizontal();e.min=null,e.max=null;var l=n.stacked;if(void 0===l&&i.each(o,function(e,n){if(!l){var i=r.getDatasetMeta(n);r.isDatasetVisible(n)&&t(i)&&void 0!==i.stack&&(l=!0)}}),n.stacked||l){var u={};i.each(o,function(a,o){var s=r.getDatasetMeta(o),l=[s.type,void 0===n.stacked&&void 0===s.stack?o:"",s.stack].join(".");void 0===u[l]&&(u[l]={positiveValues:[],negativeValues:[]});var c=u[l].positiveValues,h=u[l].negativeValues;r.isDatasetVisible(o)&&t(s)&&i.each(a.data,function(t,r){var i=+e.getRightValue(t);isNaN(i)||s.data[r].hidden||(c[r]=c[r]||0,h[r]=h[r]||0,n.relativePoints?c[r]=100:i<0?h[r]+=i:c[r]+=i)})}),i.each(u,function(t){var n=t.positiveValues.concat(t.negativeValues),r=i.min(n),a=i.max(n);e.min=null===e.min?r:Math.min(e.min,r),e.max=null===e.max?a:Math.max(e.max,a)})}else i.each(o,function(n,a){var o=r.getDatasetMeta(a);r.isDatasetVisible(a)&&t(o)&&i.each(n.data,function(t,n){var r=+e.getRightValue(t);isNaN(r)||o.data[n].hidden||(null===e.min?e.min=r:r<e.min&&(e.min=r),null===e.max?e.max=r:r>e.max&&(e.max=r))})});e.min=isFinite(e.min)&&!isNaN(e.min)?e.min:0,e.max=isFinite(e.max)&&!isNaN(e.max)?e.max:1,this.handleTickRangeOptions()},getTickLimit:function(){var t,e=this,n=e.options.ticks;if(e.isHorizontal())t=Math.min(n.maxTicksLimit?n.maxTicksLimit:11,Math.ceil(e.width/50));else{var a=i.valueOrDefault(n.fontSize,r.global.defaultFontSize);t=Math.min(n.maxTicksLimit?n.maxTicksLimit:11,Math.ceil(e.height/(2*a)))}return t},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForValue:function(t){var e,n=this,r=n.start,i=+n.getRightValue(t),a=n.end-r;return n.isHorizontal()?(e=n.left+n.width/a*(i-r),Math.round(e)):(e=n.bottom-n.height/a*(i-r),Math.round(e))},getValueForPixel:function(t){var e=this,n=e.isHorizontal(),r=n?e.width:e.height,i=(n?t-e.left:e.bottom-t)/r;return e.start+(e.end-e.start)*i},getPixelForTick:function(t){return this.getPixelForValue(this.ticksAsNumbers[t])}});t.scaleService.registerScaleType("linear",n,e)}},function(t,e,n){"use strict";var r=n(6),i=n(50);t.exports=function(t){var e=r.noop;t.LinearScaleBase=t.Scale.extend({getRightValue:function(e){return"string"==typeof e?+e:t.Scale.prototype.getRightValue.call(this,e)},handleTickRangeOptions:function(){var t=this,e=t.options,n=e.ticks;if(n.beginAtZero){var i=r.sign(t.min),a=r.sign(t.max);i<0&&a<0?t.max=0:i>0&&a>0&&(t.min=0)}var o=void 0!==n.min||void 0!==n.suggestedMin,s=void 0!==n.max||void 0!==n.suggestedMax;void 0!==n.min?t.min=n.min:void 0!==n.suggestedMin&&(null===t.min?t.min=n.suggestedMin:t.min=Math.min(t.min,n.suggestedMin)),void 0!==n.max?t.max=n.max:void 0!==n.suggestedMax&&(null===t.max?t.max=n.suggestedMax:t.max=Math.max(t.max,n.suggestedMax)),o!==s&&t.min>=t.max&&(o?t.max=t.min+1:t.min=t.max-1),t.min===t.max&&(t.max++,n.beginAtZero||t.min--)},getTickLimit:e,handleDirectionalChanges:e,buildTicks:function(){var t=this,e=t.options,n=e.ticks,a=t.getTickLimit();a=Math.max(2,a);var o={maxTicks:a,min:n.min,max:n.max,stepSize:r.valueOrDefault(n.fixedStepSize,n.stepSize)},s=t.ticks=i.generators.linear(o,t);t.handleDirectionalChanges(),t.max=r.max(s),t.min=r.min(s),n.reverse?(s.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max)},convertTicksToLabels:function(){var e=this;e.ticksAsNumbers=e.ticks.slice(),e.zeroLineIndex=e.ticks.indexOf(0),t.Scale.prototype.convertTicksToLabels.call(e)}})}},function(t,e,n){"use strict";var r=n(6),i=n(50);t.exports=function(t){var e={position:"left",ticks:{callback:i.formatters.logarithmic}},n=t.Scale.extend({determineDataLimits:function(){function t(t){return u?t.xAxisID===e.id:t.yAxisID===e.id}var e=this,n=e.options,i=n.ticks,a=e.chart,o=a.data,s=o.datasets,l=r.valueOrDefault,u=e.isHorizontal();e.min=null,e.max=null,e.minNotZero=null;var c=n.stacked;if(void 0===c&&r.each(s,function(e,n){if(!c){var r=a.getDatasetMeta(n);a.isDatasetVisible(n)&&t(r)&&void 0!==r.stack&&(c=!0)}}),n.stacked||c){var h={};r.each(s,function(i,o){var s=a.getDatasetMeta(o),l=[s.type,void 0===n.stacked&&void 0===s.stack?o:"",s.stack].join(".");a.isDatasetVisible(o)&&t(s)&&(void 0===h[l]&&(h[l]=[]),r.each(i.data,function(t,r){var i=h[l],a=+e.getRightValue(t);isNaN(a)||s.data[r].hidden||(i[r]=i[r]||0,n.relativePoints?i[r]=100:i[r]+=a)}))}),r.each(h,function(t){var n=r.min(t),i=r.max(t);e.min=null===e.min?n:Math.min(e.min,n),e.max=null===e.max?i:Math.max(e.max,i)})}else r.each(s,function(n,i){var o=a.getDatasetMeta(i);a.isDatasetVisible(i)&&t(o)&&r.each(n.data,function(t,n){var r=+e.getRightValue(t);isNaN(r)||o.data[n].hidden||(null===e.min?e.min=r:r<e.min&&(e.min=r),null===e.max?e.max=r:r>e.max&&(e.max=r),0!==r&&(null===e.minNotZero||r<e.minNotZero)&&(e.minNotZero=r))})});e.min=l(i.min,e.min),e.max=l(i.max,e.max),e.min===e.max&&(0!==e.min&&null!==e.min?(e.min=Math.pow(10,Math.floor(r.log10(e.min))-1),e.max=Math.pow(10,Math.floor(r.log10(e.max))+1)):(e.min=1,e.max=10))},buildTicks:function(){var t=this,e=t.options,n=e.ticks,a={min:n.min,max:n.max},o=t.ticks=i.generators.logarithmic(a,t);t.isHorizontal()||o.reverse(),t.max=r.max(o),t.min=r.min(o),n.reverse?(o.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max)},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),t.Scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForTick:function(t){return this.getPixelForValue(this.tickValues[t])},getPixelForValue:function(t){var e,n,i,a=this,o=a.start,s=+a.getRightValue(t),l=a.options,u=l.ticks;return a.isHorizontal()?(i=r.log10(a.end)-r.log10(o),0===s?n=a.left:(e=a.width,n=a.left+e/i*(r.log10(s)-r.log10(o)))):(e=a.height,0!==o||u.reverse?0===a.end&&u.reverse?(i=r.log10(a.start)-r.log10(a.minNotZero),n=s===a.end?a.top:s===a.minNotZero?a.top+.02*e:a.top+.02*e+.98*e/i*(r.log10(s)-r.log10(a.minNotZero))):0===s?n=u.reverse?a.top:a.bottom:(i=r.log10(a.end)-r.log10(o),e=a.height,n=a.bottom-e/i*(r.log10(s)-r.log10(o))):(i=r.log10(a.end)-r.log10(a.minNotZero),n=s===o?a.bottom:s===a.minNotZero?a.bottom-.02*e:a.bottom-.02*e-.98*e/i*(r.log10(s)-r.log10(a.minNotZero)))),n},getValueForPixel:function(t){var e,n,i=this,a=r.log10(i.end)-r.log10(i.start);return i.isHorizontal()?(n=i.width,e=i.start*Math.pow(10,(t-i.left)*a/n)):(n=i.height,e=Math.pow(10,(i.bottom-t)*a/n)/i.start),e}});t.scaleService.registerScaleType("logarithmic",n,e)}},function(t,e,n){"use strict";var r=n(9),i=n(6),a=n(50);t.exports=function(t){function e(t){var e=t.options;return e.angleLines.display||e.pointLabels.display?t.chart.data.labels.length:0}function n(t){var e=t.options.pointLabels,n=i.valueOrDefault(e.fontSize,g.defaultFontSize),r=i.valueOrDefault(e.fontStyle,g.defaultFontStyle),a=i.valueOrDefault(e.fontFamily,g.defaultFontFamily);return{size:n,style:r,family:a,font:i.fontString(n,r,a)}}function o(t,e,n){return i.isArray(n)?{w:i.longestText(t,t.font,n),h:n.length*e+1.5*(n.length-1)*e}:{w:t.measureText(n).width,h:e}}function s(t,e,n,r,i){return t===r||t===i?{start:e-n/2,end:e+n/2}:t<r||t>i?{start:e-n-5,end:e}:{start:e,end:e+n+5}}function l(t){var r,a,l,u=n(t),c=Math.min(t.height/2,t.width/2),h={r:t.width,l:0,t:t.height,b:0},d={};t.ctx.font=u.font,t._pointLabelSizes=[];var f=e(t);for(r=0;r<f;r++){l=t.getPointPosition(r,c),a=o(t.ctx,u.size,t.pointLabels[r]||""),t._pointLabelSizes[r]=a;var p=t.getIndexAngle(r),m=i.toDegrees(p)%360,g=s(m,l.x,a.w,0,180),v=s(m,l.y,a.h,90,270);g.start<h.l&&(h.l=g.start,d.l=p),g.end>h.r&&(h.r=g.end,d.r=p),v.start<h.t&&(h.t=v.start,d.t=p),v.end>h.b&&(h.b=v.end,d.b=p)}t.setReductions(c,h,d)}function u(t){var e=Math.min(t.height/2,t.width/2);t.drawingArea=Math.round(e),t.setCenterPoint(0,0,0,0)}function c(t){return 0===t||180===t?"center":t<180?"left":"right"}function h(t,e,n,r){if(i.isArray(e))for(var a=n.y,o=1.5*r,s=0;s<e.length;++s)t.fillText(e[s],n.x,a),a+=o;else t.fillText(e,n.x,n.y)}function d(t,e,n){90===t||270===t?n.y-=e.h/2:(t>270||t<90)&&(n.y-=e.h)}function f(t){var r=t.ctx,a=i.valueOrDefault,o=t.options,s=o.angleLines,l=o.pointLabels;r.lineWidth=s.lineWidth,r.strokeStyle=s.color;var u=t.getDistanceFromCenterForValue(o.ticks.reverse?t.min:t.max),f=n(t);r.textBaseline="top";for(var p=e(t)-1;p>=0;p--){if(s.display){var m=t.getPointPosition(p,u);r.beginPath(),r.moveTo(t.xCenter,t.yCenter),r.lineTo(m.x,m.y),r.stroke(),r.closePath()}if(l.display){var v=t.getPointPosition(p,u+5),y=a(l.fontColor,g.defaultFontColor);r.font=f.font,r.fillStyle=y;var b=t.getIndexAngle(p),x=i.toDegrees(b);r.textAlign=c(x),d(x,t._pointLabelSizes[p],v),h(r,t.pointLabels[p]||"",v,f.size)}}}function p(t,n,r,a){var o=t.ctx;if(o.strokeStyle=i.valueAtIndexOrDefault(n.color,a-1),o.lineWidth=i.valueAtIndexOrDefault(n.lineWidth,a-1),t.options.gridLines.circular)o.beginPath(),o.arc(t.xCenter,t.yCenter,r,0,2*Math.PI),o.closePath(),o.stroke();else{var s=e(t);if(0===s)return;o.beginPath();var l=t.getPointPosition(0,r);o.moveTo(l.x,l.y);for(var u=1;u<s;u++)l=t.getPointPosition(u,r),o.lineTo(l.x,l.y);o.closePath(),o.stroke()}}function m(t){return i.isNumber(t)?t:0}var g=r.global,v={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:a.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(t){return t}}},y=t.LinearScaleBase.extend({setDimensions:function(){var t=this,e=t.options,n=e.ticks;t.width=t.maxWidth,t.height=t.maxHeight,t.xCenter=Math.round(t.width/2),t.yCenter=Math.round(t.height/2);var r=i.min([t.height,t.width]),a=i.valueOrDefault(n.fontSize,g.defaultFontSize);t.drawingArea=e.display?r/2-(a/2+n.backdropPaddingY):r/2},determineDataLimits:function(){var t=this,e=t.chart,n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;i.each(e.data.datasets,function(a,o){if(e.isDatasetVisible(o)){var s=e.getDatasetMeta(o);i.each(a.data,function(e,i){var a=+t.getRightValue(e);isNaN(a)||s.data[i].hidden||(n=Math.min(a,n),r=Math.max(a,r))})}}),t.min=n===Number.POSITIVE_INFINITY?0:n,t.max=r===Number.NEGATIVE_INFINITY?0:r,t.handleTickRangeOptions()},getTickLimit:function(){var t=this.options.ticks,e=i.valueOrDefault(t.fontSize,g.defaultFontSize);return Math.min(t.maxTicksLimit?t.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*e)))},convertTicksToLabels:function(){var e=this;t.LinearScaleBase.prototype.convertTicksToLabels.call(e),e.pointLabels=e.chart.data.labels.map(e.options.pointLabels.callback,e)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},fit:function(){this.options.pointLabels.display?l(this):u(this)},setReductions:function(t,e,n){var r=this,i=e.l/Math.sin(n.l),a=Math.max(e.r-r.width,0)/Math.sin(n.r),o=-e.t/Math.cos(n.t),s=-Math.max(e.b-r.height,0)/Math.cos(n.b);i=m(i),a=m(a),o=m(o),s=m(s),r.drawingArea=Math.min(Math.round(t-(i+a)/2),Math.round(t-(o+s)/2)),r.setCenterPoint(i,a,o,s)},setCenterPoint:function(t,e,n,r){var i=this,a=i.width-e-i.drawingArea,o=t+i.drawingArea,s=n+i.drawingArea,l=i.height-r-i.drawingArea;i.xCenter=Math.round((o+a)/2+i.left),i.yCenter=Math.round((s+l)/2+i.top)},getIndexAngle:function(t){return t*(2*Math.PI/e(this))+(this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0)*Math.PI*2/360},getDistanceFromCenterForValue:function(t){var e=this;if(null===t)return 0;var n=e.drawingArea/(e.max-e.min);return e.options.ticks.reverse?(e.max-t)*n:(t-e.min)*n},getPointPosition:function(t,e){var n=this,r=n.getIndexAngle(t)-Math.PI/2;return{x:Math.round(Math.cos(r)*e)+n.xCenter,y:Math.round(Math.sin(r)*e)+n.yCenter}},getPointPositionForValue:function(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))},getBasePosition:function(){var t=this,e=t.min,n=t.max;return t.getPointPositionForValue(0,t.beginAtZero?0:e<0&&n<0?n:e>0&&n>0?e:0)},draw:function(){var t=this,e=t.options,n=e.gridLines,r=e.ticks,a=i.valueOrDefault;if(e.display){var o=t.ctx,s=this.getIndexAngle(0),l=a(r.fontSize,g.defaultFontSize),u=a(r.fontStyle,g.defaultFontStyle),c=a(r.fontFamily,g.defaultFontFamily),h=i.fontString(l,u,c);i.each(t.ticks,function(e,i){if(i>0||r.reverse){var u=t.getDistanceFromCenterForValue(t.ticksAsNumbers[i]);if(n.display&&0!==i&&p(t,n,u,i),r.display){var c=a(r.fontColor,g.defaultFontColor);if(o.font=h,o.save(),o.translate(t.xCenter,t.yCenter),o.rotate(s),r.showLabelBackdrop){var d=o.measureText(e).width;o.fillStyle=r.backdropColor,o.fillRect(-d/2-r.backdropPaddingX,-u-l/2-r.backdropPaddingY,d+2*r.backdropPaddingX,l+2*r.backdropPaddingY)}o.textAlign="center",o.textBaseline="middle",o.fillStyle=c,o.fillText(e,0,-u),o.restore()}}}),(e.angleLines.display||e.pointLabels.display)&&f(t)}}});t.scaleService.registerScaleType("radialLinear",y,v)}},function(t,e,n){"use strict";function r(t,e){return t-e}function i(t){var e,n,r,i={},a=[];for(e=0,n=t.length;e<n;++e)r=t[e],i[r]||(i[r]=!0,a.push(r));return a}function a(t,e,n,r){if("linear"===r||!t.length)return[{time:e,pos:0},{time:n,pos:1}];var i,a,o,s,l,u=[],c=[e];for(i=0,a=t.length;i<a;++i)(s=t[i])>e&&s<n&&c.push(s);for(c.push(n),i=0,a=c.length;i<a;++i)l=c[i+1],o=c[i-1],s=c[i],void 0!==o&&void 0!==l&&Math.round((l+o)/2)===s||u.push({time:s,pos:i/(a-1)});return u}function o(t,e,n){for(var r,i,a,o=0,s=t.length-1;o>=0&&o<=s;){if(r=o+s>>1,i=t[r-1]||null,a=t[r],!i)return{lo:null,hi:a};if(a[e]<n)o=r+1;else{if(!(i[e]>n))return{lo:i,hi:a};s=r-1}}return{lo:a,hi:null}}function s(t,e,n,r){var i=o(t,e,n),a=i.lo?i.hi?i.lo:t[t.length-2]:t[0],s=i.lo?i.hi?i.hi:t[t.length-1]:t[1],l=s[e]-a[e],u=l?(n-a[e])/l:0,c=(s[r]-a[r])*u;return a[r]+c}function l(t,e){var n=e.parser,r=e.parser||e.format;return"function"==typeof n?n(t):"string"==typeof t&&"string"==typeof r?v(t,r):(t instanceof v||(t=v(t)),t.isValid()?t:"function"==typeof r?r(t):t)}function u(t,e){if(b.isNullOrUndef(t))return null;var n=e.options.time,r=l(e.getRightValue(t),n);return r.isValid()?(n.round&&r.startOf(n.round),r.valueOf()):null}function c(t,e,n,r){var i,a,o,s=e-t,l=w[n],u=l.size,c=l.steps;if(!c)return Math.ceil(s/((r||1)*u));for(i=0,a=c.length;i<a&&(o=c[i],!(Math.ceil(s/(u*o))<=r));++i);return o}function h(t,e,n,r){var i,a,o,s=M.length;for(i=M.indexOf(t);i<s-1;++i)if(a=w[M[i]],o=a.steps?a.steps[a.steps.length-1]:_,a.common&&Math.ceil((n-e)/(o*a.size))<=r)return M[i];return M[s-1]}function d(t,e,n,r){var i,a,o=v.duration(v(r).diff(v(n))),s=M.length;for(i=s-1;i>=M.indexOf(e);i--)if(a=M[i],w[a].common&&o.as(a)>=t.length)return a;return M[e?M.indexOf(e):0]}function f(t){for(var e=M.indexOf(t)+1,n=M.length;e<n;++e)if(w[M[e]].common)return M[e]}function p(t,e,n,r){var i,a=r.time,o=a.unit||h(a.minUnit,t,e,n),s=f(o),l=b.valueOrDefault(a.stepSize,a.unitStepSize),u="week"===o&&a.isoWeekday,d=r.ticks.major.enabled,p=w[o],m=v(t),g=v(e),y=[];for(l||(l=c(t,e,o,n)),u&&(m=m.isoWeekday(u),g=g.isoWeekday(u)),m=m.startOf(u?"day":o),g=g.startOf(u?"day":o),g<e&&g.add(1,o),i=v(m),d&&s&&!u&&!a.round&&(i.startOf(s),i.add(~~((m-i)/(p.size*l))*l,o));i<g;i.add(l,o))y.push(+i);return y.push(+i),y}function m(t,e,n,r,i){var a,o,l=0,u=0;return i.offset&&e.length&&(i.time.min||(a=e.length>1?e[1]:r,o=e[0],l=(s(t,"time",a,"pos")-s(t,"time",o,"pos"))/2),i.time.max||(a=e[e.length-1],o=e.length>1?e[e.length-2]:n,u=(s(t,"time",a,"pos")-s(t,"time",o,"pos"))/2)),{left:l,right:u}}function g(t,e){var n,r,i,a,o=[];for(n=0,r=t.length;n<r;++n)i=t[n],a=!!e&&i===+v(i).startOf(e),o.push({value:i,major:a});return o}var v=n(411);v="function"==typeof v?v:window.moment;var y=n(9),b=n(6),x=Number.MIN_SAFE_INTEGER||-9007199254740991,_=Number.MAX_SAFE_INTEGER||9007199254740991,w={millisecond:{common:!0,size:1,steps:[1,2,5,10,20,50,100,250,500]},second:{common:!0,size:1e3,steps:[1,2,5,10,30]},minute:{common:!0,size:6e4,steps:[1,2,5,10,30]},hour:{common:!0,size:36e5,steps:[1,2,3,6,12]},day:{common:!0,size:864e5,steps:[1,2,5]},week:{common:!1,size:6048e5,steps:[1,2,3,4]},month:{common:!0,size:2628e6,steps:[1,2,3]},quarter:{common:!1,size:7884e6,steps:[1,2,3,4]},year:{common:!0,size:3154e7}},M=Object.keys(w);t.exports=function(t){var e={position:"bottom",distribution:"linear",bounds:"data",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}},n=t.Scale.extend({initialize:function(){if(!v)throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");this.mergeTicksOptions(),t.Scale.prototype.initialize.call(this)},update:function(){var e=this,n=e.options;return n.time&&n.time.format&&console.warn("options.time.format is deprecated and replaced by options.time.parser."),t.Scale.prototype.update.apply(e,arguments)},getRightValue:function(e){return e&&void 0!==e.t&&(e=e.t),t.Scale.prototype.getRightValue.call(this,e)},determineDataLimits:function(){var t,e,n,a,o,s,l=this,c=l.chart,h=l.options.time,d=_,f=x,p=[],m=[],g=[];for(t=0,n=c.data.labels.length;t<n;++t)g.push(u(c.data.labels[t],l));for(t=0,n=(c.data.datasets||[]).length;t<n;++t)if(c.isDatasetVisible(t))if(o=c.data.datasets[t].data,b.isObject(o[0]))for(m[t]=[],e=0,a=o.length;e<a;++e)s=u(o[e],l),p.push(s),m[t][e]=s;else p.push.apply(p,g),m[t]=g.slice(0);else m[t]=[];g.length&&(g=i(g).sort(r),d=Math.min(d,g[0]),f=Math.max(f,g[g.length-1])),p.length&&(p=i(p).sort(r),d=Math.min(d,p[0]),f=Math.max(f,p[p.length-1])),d=u(h.min,l)||d,f=u(h.max,l)||f,d=d===_?+v().startOf("day"):d,f=f===x?+v().endOf("day")+1:f,l.min=Math.min(d,f),l.max=Math.max(d+1,f),l._horizontal=l.isHorizontal(),l._table=[],l._timestamps={data:p,datasets:m,labels:g}},buildTicks:function(){var t,e,n,r=this,i=r.min,o=r.max,s=r.options,l=s.time,c=[],h=[];switch(s.ticks.source){case"data":c=r._timestamps.data;break;case"labels":c=r._timestamps.labels;break;case"auto":default:c=p(i,o,r.getLabelCapacity(i),s)}for("ticks"===s.bounds&&c.length&&(i=c[0],o=c[c.length-1]),i=u(l.min,r)||i,o=u(l.max,r)||o,t=0,e=c.length;t<e;++t)(n=c[t])>=i&&n<=o&&h.push(n);return r.min=i,r.max=o,r._unit=l.unit||d(h,l.minUnit,r.min,r.max),r._majorUnit=f(r._unit),r._table=a(r._timestamps.data,i,o,s.distribution),r._offsets=m(r._table,h,i,o,s),g(h,r._majorUnit)},getLabelForIndex:function(t,e){var n=this,r=n.chart.data,i=n.options.time,a=r.labels&&t<r.labels.length?r.labels[t]:"",o=r.datasets[e].data[t];return b.isObject(o)&&(a=n.getRightValue(o)),i.tooltipFormat&&(a=l(a,i).format(i.tooltipFormat)),a},tickFormatFunction:function(t,e,n,r){var i=this,a=i.options,o=t.valueOf(),s=a.time.displayFormats,l=s[i._unit],u=i._majorUnit,c=s[u],h=t.clone().startOf(u).valueOf(),d=a.ticks.major,f=d.enabled&&u&&c&&o===h,p=t.format(r||(f?c:l)),m=f?d:a.ticks.minor,g=b.valueOrDefault(m.callback,m.userCallback);return g?g(p,e,n):p},convertTicksToLabels:function(t){var e,n,r=[];for(e=0,n=t.length;e<n;++e)r.push(this.tickFormatFunction(v(t[e].value),e,t));return r},getPixelForOffset:function(t){var e=this,n=e._horizontal?e.width:e.height,r=e._horizontal?e.left:e.top,i=s(e._table,"time",t,"pos");return r+n*(e._offsets.left+i)/(e._offsets.left+1+e._offsets.right)},getPixelForValue:function(t,e,n){var r=this,i=null;if(void 0!==e&&void 0!==n&&(i=r._timestamps.datasets[n][e]),null===i&&(i=u(t,r)),null!==i)return r.getPixelForOffset(i)},getPixelForTick:function(t){var e=this.getTicks();return t>=0&&t<e.length?this.getPixelForOffset(e[t].value):null},getValueForPixel:function(t){var e=this,n=e._horizontal?e.width:e.height,r=e._horizontal?e.left:e.top,i=(n?(t-r)/n:0)*(e._offsets.left+1+e._offsets.left)-e._offsets.right,a=s(e._table,"pos",i,"time");return v(a)},getLabelWidth:function(t){var e=this,n=e.options.ticks,r=e.ctx.measureText(t).width,i=b.toRadians(n.maxRotation),a=Math.cos(i),o=Math.sin(i);return r*a+b.valueOrDefault(n.fontSize,y.global.defaultFontSize)*o},getLabelCapacity:function(t){var e=this,n=e.options.time.displayFormats.millisecond,r=e.tickFormatFunction(v(t),0,[],n),i=e.getLabelWidth(r),a=e.isHorizontal()?e.width:e.height;return Math.floor(a/i)}});t.scaleService.registerScaleType("time",n,e)}},function(t,e,n){function r(t){if(t){var e=/^#([a-fA-F0-9]{3})$/i,n=/^#([a-fA-F0-9]{6})$/i,r=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,i=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,a=/(\w+)/,o=[0,0,0],s=1,l=t.match(e);if(l){l=l[1];for(var u=0;u<o.length;u++)o[u]=parseInt(l[u]+l[u],16)}else if(l=t.match(n)){l=l[1];for(var u=0;u<o.length;u++)o[u]=parseInt(l.slice(2*u,2*u+2),16)}else if(l=t.match(r)){for(var u=0;u<o.length;u++)o[u]=parseInt(l[u+1]);s=parseFloat(l[4])}else if(l=t.match(i)){for(var u=0;u<o.length;u++)o[u]=Math.round(2.55*parseFloat(l[u+1]));s=parseFloat(l[4])}else if(l=t.match(a)){if("transparent"==l[1])return[0,0,0,0];if(!(o=x[l[1]]))return}for(var u=0;u<o.length;u++)o[u]=y(o[u],0,255);return s=s||0==s?y(s,0,1):1,o[3]=s,o}}function i(t){if(t){var e=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,n=t.match(e);if(n){var r=parseFloat(n[4]);return[y(parseInt(n[1]),0,360),y(parseFloat(n[2]),0,100),y(parseFloat(n[3]),0,100),y(isNaN(r)?1:r,0,1)]}}}function a(t){if(t){var e=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,n=t.match(e);if(n){var r=parseFloat(n[4]);return[y(parseInt(n[1]),0,360),y(parseFloat(n[2]),0,100),y(parseFloat(n[3]),0,100),y(isNaN(r)?1:r,0,1)]}}}function o(t){var e=r(t);return e&&e.slice(0,3)}function s(t){var e=i(t);return e&&e.slice(0,3)}function l(t){var e=r(t);return e?e[3]:(e=i(t))?e[3]:(e=a(t))?e[3]:void 0}function u(t){return"#"+b(t[0])+b(t[1])+b(t[2])}function c(t,e){return e<1||t[3]&&t[3]<1?h(t,e):"rgb("+t[0]+", "+t[1]+", "+t[2]+")"}function h(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+e+")"}function d(t,e){return e<1||t[3]&&t[3]<1?f(t,e):"rgb("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%)"}function f(t,e){return"rgba("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%, "+(e||t[3]||1)+")"}function p(t,e){return e<1||t[3]&&t[3]<1?m(t,e):"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)"}function m(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+e+")"}function g(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+(void 0!==e&&1!==e?", "+e:"")+")"}function v(t){return _[t.slice(0,3)]}function y(t,e,n){return Math.min(Math.max(e,t),n)}function b(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}var x=n(300);t.exports={getRgba:r,getHsla:i,getRgb:o,getHsl:s,getHwb:a,getAlpha:l,hexString:u,rgbString:c,rgbaString:h,percentString:d,percentaString:f,hslString:p,hslaString:m,hwbString:g,keyword:v};var _={};for(var w in x)_[x[w]]=w},function(t,e){function n(t){var e,n,r,i=t[0]/255,a=t[1]/255,o=t[2]/255,s=Math.min(i,a,o),l=Math.max(i,a,o),u=l-s;return l==s?e=0:i==l?e=(a-o)/u:a==l?e=2+(o-i)/u:o==l&&(e=4+(i-a)/u),e=Math.min(60*e,360),e<0&&(e+=360),r=(s+l)/2,n=l==s?0:r<=.5?u/(l+s):u/(2-l-s),[e,100*n,100*r]}function i(t){var e,n,r,i=t[0],a=t[1],o=t[2],s=Math.min(i,a,o),l=Math.max(i,a,o),u=l-s;return n=0==l?0:u/l*1e3/10,l==s?e=0:i==l?e=(a-o)/u:a==l?e=2+(o-i)/u:o==l&&(e=4+(i-a)/u),e=Math.min(60*e,360),e<0&&(e+=360),r=l/255*1e3/10,[e,n,r]}function a(t){var e=t[0],r=t[1],i=t[2],a=n(t)[0],o=1/255*Math.min(e,Math.min(r,i)),i=1-1/255*Math.max(e,Math.max(r,i));return[a,100*o,100*i]}function o(t){var e,n,r,i,a=t[0]/255,o=t[1]/255,s=t[2]/255;return i=Math.min(1-a,1-o,1-s),e=(1-a-i)/(1-i)||0,n=(1-o-i)/(1-i)||0,r=(1-s-i)/(1-i)||0,[100*e,100*n,100*r,100*i]}function s(t){return K[JSON.stringify(t)]}function l(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255;return e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,[100*(.4124*e+.3576*n+.1805*r),100*(.2126*e+.7152*n+.0722*r),100*(.0193*e+.1192*n+.9505*r)]}function u(t){var e,n,r,i=l(t),a=i[0],o=i[1],s=i[2];return a/=95.047,o/=100,s/=108.883,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,e=116*o-16,n=500*(a-o),r=200*(o-s),[e,n,r]}function c(t){return z(u(t))}function h(t){var e,n,r,i,a,o=t[0]/360,s=t[1]/100,l=t[2]/100;if(0==s)return a=255*l,[a,a,a];n=l<.5?l*(1+s):l+s-l*s,e=2*l-n,i=[0,0,0];for(var u=0;u<3;u++)r=o+1/3*-(u-1),r<0&&r++,r>1&&r--,a=6*r<1?e+6*(n-e)*r:2*r<1?n:3*r<2?e+(n-e)*(2/3-r)*6:e,i[u]=255*a;return i}function d(t){var e,n,r=t[0],i=t[1]/100,a=t[2]/100;return 0===a?[0,0,0]:(a*=2,i*=a<=1?a:2-a,n=(a+i)/2,e=2*i/(a+i),[r,100*e,100*n])}function f(t){return a(h(t))}function p(t){return o(h(t))}function m(t){return s(h(t))}function v(t){var e=t[0]/60,n=t[1]/100,r=t[2]/100,i=Math.floor(e)%6,a=e-Math.floor(e),o=255*r*(1-n),s=255*r*(1-n*a),l=255*r*(1-n*(1-a)),r=255*r;switch(i){case 0:return[r,l,o];case 1:return[s,r,o];case 2:return[o,r,l];case 3:return[o,s,r];case 4:return[l,o,r];case 5:return[r,o,s]}}function y(t){var e,n,r=t[0],i=t[1]/100,a=t[2]/100;return n=(2-i)*a,e=i*a,e/=n<=1?n:2-n,e=e||0,n/=2,[r,100*e,100*n]}function x(t){return a(v(t))}function _(t){return o(v(t))}function w(t){return s(v(t))}function M(t){var e,n,i,a,o=t[0]/360,s=t[1]/100,l=t[2]/100,u=s+l;switch(u>1&&(s/=u,l/=u),e=Math.floor(6*o),n=1-l,i=6*o-e,0!=(1&e)&&(i=1-i),a=s+i*(n-s),e){default:case 6:case 0:r=n,g=a,b=s;break;case 1:r=a,g=n,b=s;break;case 2:r=s,g=n,b=a;break;case 3:r=s,g=a,b=n;break;case 4:r=a,g=s,b=n;break;case 5:r=n,g=s,b=a}return[255*r,255*g,255*b]}function S(t){return n(M(t))}function E(t){return i(M(t))}function k(t){return o(M(t))}function T(t){return s(M(t))}function C(t){var e,n,r,i=t[0]/100,a=t[1]/100,o=t[2]/100,s=t[3]/100;return e=1-Math.min(1,i*(1-s)+s),n=1-Math.min(1,a*(1-s)+s),r=1-Math.min(1,o*(1-s)+s),[255*e,255*n,255*r]}function P(t){return n(C(t))}function O(t){return i(C(t))}function A(t){return a(C(t))}function R(t){return s(C(t))}function L(t){var e,n,r,i=t[0]/100,a=t[1]/100,o=t[2]/100;return e=3.2406*i+-1.5372*a+-.4986*o,n=-.9689*i+1.8758*a+.0415*o,r=.0557*i+-.204*a+1.057*o,e=e>.0031308?1.055*Math.pow(e,1/2.4)-.055:e*=12.92,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:r*=12.92,e=Math.min(Math.max(0,e),1),n=Math.min(Math.max(0,n),1),r=Math.min(Math.max(0,r),1),[255*e,255*n,255*r]}function I(t){var e,n,r,i=t[0],a=t[1],o=t[2];return i/=95.047,a/=100,o/=108.883,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,e=116*a-16,n=500*(i-a),r=200*(a-o),[e,n,r]}function D(t){return z(I(t))}function N(t){var e,n,r,i,a=t[0],o=t[1],s=t[2];return a<=8?(n=100*a/903.3,i=n/100*7.787+16/116):(n=100*Math.pow((a+16)/116,3),i=Math.pow(n/100,1/3)),e=e/95.047<=.008856?e=95.047*(o/500+i-16/116)/7.787:95.047*Math.pow(o/500+i,3),r=r/108.883<=.008859?r=108.883*(i-s/200-16/116)/7.787:108.883*Math.pow(i-s/200,3),[e,n,r]}function z(t){var e,n,r,i=t[0],a=t[1],o=t[2];return e=Math.atan2(o,a),n=360*e/2/Math.PI,n<0&&(n+=360),r=Math.sqrt(a*a+o*o),[i,r,n]}function B(t){return L(N(t))}function F(t){var e,n,r,i=t[0],a=t[1],o=t[2];return r=o/360*2*Math.PI,e=a*Math.cos(r),n=a*Math.sin(r),[i,e,n]}function U(t){return N(F(t))}function j(t){return B(F(t))}function W(t){return Z[t]}function G(t){return n(W(t))}function V(t){return i(W(t))}function H(t){return a(W(t))}function Y(t){return o(W(t))}function q(t){return u(W(t))}function X(t){return l(W(t))}t.exports={rgb2hsl:n,rgb2hsv:i,rgb2hwb:a,rgb2cmyk:o,rgb2keyword:s,rgb2xyz:l,rgb2lab:u,rgb2lch:c,hsl2rgb:h,hsl2hsv:d,hsl2hwb:f,hsl2cmyk:p,hsl2keyword:m,hsv2rgb:v,hsv2hsl:y,hsv2hwb:x,hsv2cmyk:_,hsv2keyword:w,hwb2rgb:M,hwb2hsl:S,hwb2hsv:E,hwb2cmyk:k,hwb2keyword:T,cmyk2rgb:C,cmyk2hsl:P,cmyk2hsv:O,cmyk2hwb:A,cmyk2keyword:R,keyword2rgb:W,keyword2hsl:G,keyword2hsv:V,keyword2hwb:H,keyword2cmyk:Y,keyword2lab:q,keyword2xyz:X,xyz2rgb:L,xyz2lab:I,xyz2lch:D,lab2xyz:N,lab2rgb:B,lab2lch:z,lch2lab:F,lch2xyz:U,lch2rgb:j};var Z={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},K={};for(var J in Z)K[JSON.stringify(Z[J])]=J},function(t,e,n){var r=n(297),i=function(){return new u};for(var a in r){i[a+"Raw"]=function(t){return function(e){return"number"==typeof e&&(e=Array.prototype.slice.call(arguments)),r[t](e)}}(a);var o=/(\w+)2(\w+)/.exec(a),s=o[1],l=o[2];i[s]=i[s]||{},i[s][l]=i[a]=function(t){return function(e){"number"==typeof e&&(e=Array.prototype.slice.call(arguments));var n=r[t](e);if("string"==typeof n||void 0===n)return n;for(var i=0;i<n.length;i++)n[i]=Math.round(n[i]);return n}}(a)}var u=function(){this.convs={}};u.prototype.routeSpace=function(t,e){var n=e[0];return void 0===n?this.getValues(t):("number"==typeof n&&(n=Array.prototype.slice.call(e)),this.setValues(t,n))},u.prototype.setValues=function(t,e){return this.space=t,this.convs={},this.convs[t]=e,this},u.prototype.getValues=function(t){var e=this.convs[t];if(!e){var n=this.space,r=this.convs[n];e=i[n][t](r),this.convs[t]=e}return e},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(t){u.prototype[t]=function(e){return this.routeSpace(t,arguments)}}),t.exports=i},function(t,e){!function(){"use strict";var n={PI:Math.PI,x_pi:3e3*Math.PI/180,delta:function(t,e){var n=6378245,r=.006693421622965943,i=this.transformLat(e-105,t-35),a=this.transformLon(e-105,t-35),o=t/180*this.PI,s=Math.sin(o);s=1-r*s*s;var l=Math.sqrt(s);return i=180*i/(n*(1-r)/(s*l)*this.PI),a=180*a/(n/l*Math.cos(o)*this.PI),{lat:i,lon:a}},wgs84_gcj02:function(t,e){if(this.outOfChina(e,t))return[t,e];var n=this.delta(e,t);return[t+n.lon,e+n.lat]},gcj02_wgs84:function(t,e){if(this.outOfChina(e,t))return[t,e];var n=this.delta(e,t);return[t-n.lon,e-n.lat]},gcj02_wgs84_precise:function(t,e){for(var n,r,i=.01,a=.01,o=e-i,s=t-a,l=e+i,u=t+a,c=0;;){n=(o+l)/2,r=(s+u)/2;var h=this.gcj_encrypt(n,r);if(i=h.lat-e,a=h.lon-t,Math.abs(i)<1e-9&&Math.abs(a)<1e-9)break;if(i>0?l=n:o=n,a>0?u=r:s=r,++c>1e4)break}return[r,n]},gcj02_bd09ll:function(t,e){var n=t,r=e,i=Math.sqrt(n*n+r*r)+2e-5*Math.sin(r*this.x_pi),a=Math.atan2(r,n)+3e-6*Math.cos(n*this.x_pi);return[i*Math.cos(a)+.0065,i*Math.sin(a)+.006]},bd09ll_gcj02:function(t,e){var n=t-.0065,r=e-.006,i=Math.sqrt(n*n+r*r)-2e-5*Math.sin(r*this.x_pi),a=Math.atan2(r,n)-3e-6*Math.cos(n*this.x_pi);return[i*Math.cos(a),i*Math.sin(a)]},outOfChina:function(t,e){return e<72.004||e>137.8347||(t<.8293||t>55.8271)},transformLat:function(t,e){var n=2*t-100+3*e+.2*e*e+.1*t*e+.2*Math.sqrt(Math.abs(t));return n+=2*(20*Math.sin(6*t*this.PI)+20*Math.sin(2*t*this.PI))/3,n+=2*(20*Math.sin(e*this.PI)+40*Math.sin(e/3*this.PI))/3,n+=2*(160*Math.sin(e/12*this.PI)+320*Math.sin(e*this.PI/30))/3},transformLon:function(t,e){var n=300+t+2*e+.1*t*t+.1*t*e+.1*Math.sqrt(Math.abs(t));return n+=2*(20*Math.sin(6*t*this.PI)+20*Math.sin(2*t*this.PI))/3,n+=2*(20*Math.sin(t*this.PI)+40*Math.sin(t/3*this.PI))/3,n+=2*(150*Math.sin(t/12*this.PI)+300*Math.sin(t/30*this.PI))/3}},r={crs:{bd09ll:"+proj=longlat +datum=BD09",gcj02:"+proj=longlat +datum=GCJ02",wgs84:"+proj=longlat +datum=WGS84 +no_defs"},transform:function(t,e,n){if(!t)return null;if(!e||!n)throw new Error("must provide a valid fromCRS and toCRS.");if(this._isCoord(t))return this._transformCoordinate(t,e,n);if(this._isArray(t)){for(var r=[],i=0;i<t.length;i++)r.push(this.transform(t[i],e,n));return r}return this._transformGeoJSON(t,e,n)},_transformGeoJSON:function(t,e,n){if("Feature"===t.type){var r=this.transform(t.geometry,e,n),i=this._extend({},t);return i.geometry=r,i}if("FeatureCollection"===t.type){for(var a=t.features,i=this._extend({},t),o=[],s=0;s<a.length;s++)o.push(this.transform(a[s],e,n));return i.features=o,i}if("GeometryCollection"===t.type){for(var l=t.geometries,i=this._extend({},t),u=[],s=0;s<l.length;s++)u.push(this.transform(l[s],e,n));return i.geometries=u,i}var i=this._extend({},t),c=this._transformCoordinate(t.coordinates,e,n);return i.coordinates=c,i},_transformCoordinate:function(t,e,r){var i=e,a=r;if("proj4"===e.type&&(i=this._toCRS(e.properties.proj)),"proj4"===r.type&&(a=this._toCRS(r.properties.proj)),i=i.toLowerCase(),a=a.toLowerCase(),"epsg:4326"===i&&(i="wgs84"),"epsg:4326"===a&&(a="wgs84"),i===a)return t;var o=i+"_"+a;return this._eachCoordinate(t,function(t){return n[o](parseFloat(t[0]),parseFloat(t[1]))},this)},_extend:function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},_toCRS:function(t){for(var e in this.crs)if(t===this.crs[e])return e;return null},_eachCoordinate:function(t,e,n){if(this._isCoord(t))return e.call(n,t);for(var r=[],i=0,a=t.length;i<a;i++){var o=t[i];if(null!=o)if(this._isCoord(o)){var s=e.call(n,o);r.push(s)}else this._isArray(o)&&r.push(this._eachCoordinate(o,e,n))}return r},_isCoord:function(t){return!!(this._isArray(t)&&this._isNumber(t[0])&&this._isNumber(t[1]))},_isNumber:function(t){return"number"==typeof t&&!isNaN(t)},_isArray:function(t){return!!t&&("array"==typeof t||null!==t.constructor&&t.constructor==Array)},_isString:function(t){return null!=t&&("string"==typeof t||null!==t.constructor&&t.constructor==String)}};void 0!==t&&t.exports&&(e=t.exports=r),"undefined"!=typeof window&&(window.maptalks=window.maptalks||{},window.maptalks.CRSTransform=r)}()},function(t,e,n){"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(t,e,n){"use strict";function r(t,e){for(var n=t.length,r=0,i=0;i<n;i++)r=r*e+t[i];return r}function i(t,e,n){var i,h,d,f,p,m=!0;if(!s(t))throw new TypeError("polynomial()::invalid input argument. Coefficients must be provided as an array of number primitives. Value: `"+t+"`.");if(a(e))return r(t,e);if(!o(e))throw new TypeError("polynomial()::invalid input argument. Second argument must be either a single number primitive or an array of values. Value: `"+e+"`.");if(arguments.length>2){if(!l(n))throw new TypeError("polynomial()::invalid input argument. Options argument must be an object. Value: `"+n+"`.");if(n.hasOwnProperty("copy")&&(m=n.copy,!u(m)))throw new TypeError("polynomial()::invalid option. Copy option must be a boolean primitive. Option: `"+m+"`.");if(n.hasOwnProperty("accessor")&&(i=n.accessor,!c(i)))throw new TypeError("polynomial()::invalid option. Accessor must be a function. Option: `"+i+"`.")}if(h=e.length,d=m?new Array(h):e,i)for(p=0;p<h;p++){if(f=i(e[p],p),!a(f))throw new TypeError("polynomial()::invalid input argument. Accessed array values must be number primitives. Value: `"+f+"`.");d[p]=r(t,f)}else for(p=0;p<h;p++){if(f=e[p],!a(f))throw new TypeError("polynomial()::invalid input argument. Array values must be number primitives. Value: `"+f+"`.");d[p]=r(t,f)}return d}var a=n(499),o=n(111),s=n(498),l=n(500),u=n(496),c=n(497);t.exports=i},function(t,e,n){n(44),n(344),t.exports=n(10).Array.from},function(t,e,n){n(57),n(44),t.exports=n(342)},function(t,e,n){n(57),n(44),t.exports=n(343)},function(t,e,n){var r=n(10),i=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},function(t,e,n){n(346),t.exports=n(10).Math.log2},function(t,e,n){n(347),t.exports=n(10).Object.assign},function(t,e,n){n(348);var r=n(10).Object;t.exports=function(t,e){return r.create(t,e)}},function(t,e,n){n(349);var r=n(10).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){n(350);var r=n(10).Object;t.exports=function(t,e){return r.getOwnPropertyDescriptor(t,e)}},function(t,e,n){n(351),t.exports=n(10).Object.getPrototypeOf},function(t,e,n){n(352),t.exports=n(10).Object.keys},function(t,e,n){n(353),t.exports=n(10).Object.setPrototypeOf},function(t,e,n){n(357),t.exports=n(10).Object.values},function(t,e,n){n(99),n(44),n(57),n(354),n(358),n(359),t.exports=n(10).Promise},function(t,e,n){n(99),n(44),n(57),n(355),n(362),n(361),n(360),t.exports=n(10).Set},function(t,e,n){n(356),n(99),n(363),n(364),t.exports=n(10).Symbol},function(t,e,n){n(44),n(57),t.exports=n(97).f("iterator")},function(t,e){t.exports=function(){}},function(t,e,n){var r=n(53);t.exports=function(t,e){var n=[];return r(t,!1,n.push,n,e),n}},function(t,e,n){var r=n(35),i=n(67),a=n(341);t.exports=function(t){return function(e,n,o){var s,l=r(e),u=i(l.length),c=a(o,u);if(t&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((t||c in l)&&l[c]===n)return t||c||0;return!t&&-1}}},function(t,e,n){var r=n(28),i=n(84),a=n(43),o=n(67),s=n(324);t.exports=function(t,e){var n=1==t,l=2==t,u=3==t,c=4==t,h=6==t,d=5==t||h,f=e||s;return function(e,s,p){for(var m,g,v=a(e),y=i(v),b=r(s,p,3),x=o(y.length),_=0,w=n?f(e,x):l?f(e,0):void 0;x>_;_++)if((d||_ in y)&&(m=y[_],g=b(m,_,v),t))if(n)w[_]=g;else if(g)switch(t){case 3:return!0;case 5:return m;case 6:return _;case 2:w.push(m)}else if(c)return!1;return h?-1:u||c?c:w}}},function(t,e,n){var r=n(22),i=n(128),a=n(16)("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[a])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){var r=n(323);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){"use strict";var r=n(23).f,i=n(66),a=n(91),o=n(28),s=n(80),l=n(53),u=n(85),c=n(131),h=n(138),d=n(27),f=n(86).fastKey,p=n(141),m=d?"_s":"size",g=function(t,e){var n,r=f(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,u){var c=t(function(t,r){s(t,c,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[m]=0,void 0!=r&&l(r,n,t[u],t)});return a(c.prototype,{clear:function(){for(var t=p(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[m]=0},delete:function(t){var n=p(this,e),r=g(n,t);if(r){var i=r.n,a=r.p;delete n._i[r.i],r.r=!0,a&&(a.n=i),i&&(i.p=a),n._f==r&&(n._f=i),n._l==r&&(n._l=a),n[m]--}return!!r},forEach:function(t){p(this,e);for(var n,r=o(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!g(p(this,e),t)}}),d&&r(c.prototype,"size",{get:function(){return p(this,e)[m]}}),c},def:function(t,e,n){var r,i,a=g(t,e);return a?a.v=n:(t._l=a={i:i=f(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=a),r&&(r.n=a),t[m]++,"F"!==i&&(t._i[i]=a)),t},getEntry:g,setStrong:function(t,e,n){u(t,e,function(t,n){this._t=p(t,e),this._k=n,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?"keys"==e?c(0,n.k):"values"==e?c(0,n.v):c(0,[n.k,n.v]):(t._t=void 0,c(1))},n?"entries":"values",!n,!0),h(e)}}},function(t,e,n){var r=n(64),i=n(320);t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},function(t,e,n){"use strict";var r=n(18),i=n(15),a=n(86),o=n(38),s=n(34),l=n(91),u=n(53),c=n(80),h=n(22),d=n(56),f=n(23).f,p=n(322)(0),m=n(27);t.exports=function(t,e,n,g,v,y){var b=r[t],x=b,_=v?"set":"add",w=x&&x.prototype,M={};return m&&"function"==typeof x&&(y||w.forEach&&!o(function(){(new x).entries().next()}))?(x=e(function(e,n){c(e,x,t,"_c"),e._c=new b,void 0!=n&&u(n,v,e[_],e)}),p("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in w&&(!y||"clear"!=t)&&s(x.prototype,t,function(n,r){if(c(this,x,t),!e&&y&&!h(n))return"get"==t&&void 0;var i=this._c[t](0===n?0:n,r);return e?this:i})}),y||f(x.prototype,"size",{get:function(){return this._c.size}})):(x=g.getConstructor(e,t,v,_),l(x.prototype,n),a.NEED=!0),d(x,t),M[t]=x,i(i.G+i.W+i.F,M),y||g.setStrong(x,t,v),x}},function(t,e,n){"use strict";var r=n(23),i=n(55);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){var r=n(42),i=n(89),a=n(54);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var o,s=n(t),l=a.f,u=0;s.length>u;)l.call(t,o=s[u++])&&e.push(o);return e}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){"use strict";var r=n(66),i=n(55),a=n(56),o={};n(34)(o,n(16)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(o,{next:i(1,n)}),a(t,e+" Iterator")}},function(t,e,n){var r=n(18),i=n(140).set,a=r.MutationObserver||r.WebKitMutationObserver,o=r.process,s=r.Promise,l="process"==n(52)(o);t.exports=function(){var t,e,n,u=function(){var r,i;for(l&&(r=o.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(l)n=function(){o.nextTick(u)};else if(!a||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var c=s.resolve();n=function(){c.then(u)}}else n=function(){i.call(r,u)};else{var h=!0,d=document.createTextNode("");new a(u).observe(d,{characterData:!0}),n=function(){d.data=h=!h}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e,n){"use strict";var r=n(42),i=n(89),a=n(54),o=n(43),s=n(84),l=Object.assign;t.exports=!l||n(38)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=r})?function(t,e){for(var n=o(t),l=arguments.length,u=1,c=i.f,h=a.f;l>u;)for(var d,f=s(arguments[u++]),p=c?r(f).concat(c(f)):r(f),m=p.length,g=0;m>g;)h.call(f,d=p[g++])&&(n[d]=f[d]);return n}:l},function(t,e,n){var r=n(23),i=n(26),a=n(42);t.exports=n(27)?Object.defineProperties:function(t,e){i(t);for(var n,o=a(e),s=o.length,l=0;s>l;)r.f(t,n=o[l++],e[n]);return t}},function(t,e,n){var r=n(35),i=n(132).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return i(t)}catch(t){return o.slice()}};t.exports.f=function(t){return o&&"[object Window]"==a.call(t)?s(t):i(r(t))}},function(t,e,n){var r=n(42),i=n(35),a=n(54).f;t.exports=function(t){return function(e){for(var n,o=i(e),s=r(o),l=s.length,u=0,c=[];l>u;)a.call(o,n=s[u++])&&c.push(t?[n,o[n]]:o[n]);return c}}},function(t,e,n){"use strict";var r=n(15),i=n(51),a=n(28),o=n(53);t.exports=function(t){r(r.S,t,{from:function(t){var e,n,r,s,l=arguments[1];return i(this),e=void 0!==l,e&&i(l),void 0==t?new this:(n=[],e?(r=0,s=a(l,arguments[2],2),o(t,!1,function(t){n.push(s(t,r++))})):o(t,!1,n.push,n),new this(n))}})}},function(t,e,n){"use strict";var r=n(15);t.exports=function(t){r(r.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,n){var r=n(22),i=n(26),a=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n(28)(Function.call,n(88).f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return a(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:a}},function(t,e,n){var r=n(94),i=n(81);t.exports=function(t){return function(e,n){var a,o,s=String(i(e)),l=r(n),u=s.length;return l<0||l>=u?t?"":void 0:(a=s.charCodeAt(l),a<55296||a>56319||l+1===u||(o=s.charCodeAt(l+1))<56320||o>57343?t?s.charAt(l):a:t?s.slice(l,l+2):o-56320+(a-55296<<10)+65536)}}},function(t,e,n){var r=n(94),i=Math.max,a=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):a(t,e)}},function(t,e,n){var r=n(26),i=n(98);t.exports=n(10).getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},function(t,e,n){var r=n(64),i=n(16)("iterator"),a=n(41);t.exports=n(10).isIterable=function(t){var e=Object(t);return void 0!==e[i]||"@@iterator"in e||a.hasOwnProperty(r(e))}},function(t,e,n){"use strict";var r=n(28),i=n(15),a=n(43),o=n(129),s=n(127),l=n(67),u=n(328),c=n(98);i(i.S+i.F*!n(130)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,h,d=a(t),f="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,g=void 0!==m,v=0,y=c(d);if(g&&(m=r(m,p>2?arguments[2]:void 0,2)),void 0==y||f==Array&&s(y))for(e=l(d.length),n=new f(e);e>v;v++)u(n,v,g?m(d[v],v):d[v]);else for(h=y.call(d),n=new f;!(i=h.next()).done;v++)u(n,v,g?o(h,m,[i.value,v],!0):i.value);return n.length=v,n}})},function(t,e,n){"use strict";var r=n(319),i=n(131),a=n(41),o=n(35);t.exports=n(85)(Array,"Array",function(t,e){this._t=o(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):"keys"==e?i(0,n):"values"==e?i(0,t[n]):i(0,[n,t[n]])},"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},function(t,e,n){var r=n(15);r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){var r=n(15);r(r.S+r.F,"Object",{assign:n(333)})},function(t,e,n){var r=n(15);r(r.S,"Object",{create:n(66)})},function(t,e,n){var r=n(15);r(r.S+r.F*!n(27),"Object",{defineProperty:n(23).f})},function(t,e,n){var r=n(35),i=n(88).f;n(90)("getOwnPropertyDescriptor",function(){return function(t,e){return i(r(t),e)}})},function(t,e,n){var r=n(43),i=n(133);n(90)("getPrototypeOf",function(){return function(t){return i(r(t))}})},function(t,e,n){var r=n(43),i=n(42);n(90)("keys",function(){return function(t){return i(r(t))}})},function(t,e,n){var r=n(15);r(r.S,"Object",{setPrototypeOf:n(339).set})},function(t,e,n){"use strict";var r,i,a,o,s=n(65),l=n(18),u=n(28),c=n(64),h=n(15),d=n(22),f=n(51),p=n(80),m=n(53),g=n(139),v=n(140).set,y=n(332)(),b=n(87),x=n(135),_=n(136),w=l.TypeError,M=l.process,S=l.Promise,E="process"==c(M),k=function(){},T=i=b.f,C=!!function(){try{var t=S.resolve(1),e=(t.constructor={})[n(16)("species")]=function(t){t(k,k)};return(E||"function"==typeof PromiseRejectionEvent)&&t.then(k)instanceof e}catch(t){}}(),P=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},O=function(t,e){if(!t._n){t._n=!0;var n=t._c;y(function(){for(var r=t._v,i=1==t._s,a=0;n.length>a;)!function(e){var n,a,o=i?e.ok:e.fail,s=e.resolve,l=e.reject,u=e.domain;try{o?(i||(2==t._h&&L(t),t._h=1),!0===o?n=r:(u&&u.enter(),n=o(r),u&&u.exit()),n===e.promise?l(w("Promise-chain cycle")):(a=P(n))?a.call(n,s,l):s(n)):l(r)}catch(t){l(t)}}(n[a++]);t._c=[],t._n=!1,e&&!t._h&&A(t)})}},A=function(t){v.call(l,function(){var e,n,r,i=t._v,a=R(t);if(a&&(e=x(function(){E?M.emit("unhandledRejection",i,t):(n=l.onunhandledrejection)?n({promise:t,reason:i}):(r=l.console)&&r.error&&r.error("Unhandled promise rejection",i)}),t._h=E||R(t)?2:1),t._a=void 0,a&&e.e)throw e.v})},R=function(t){return 1!==t._h&&0===(t._a||t._c).length},L=function(t){v.call(l,function(){var e;E?M.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})})},I=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),O(e,!0))},D=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw w("Promise can't be resolved itself");(e=P(t))?y(function(){var r={_w:n,_d:!1};try{e.call(t,u(D,r,1),u(I,r,1))}catch(t){I.call(r,t)}}):(n._v=t,n._s=1,O(n,!1))}catch(t){I.call({_w:n,_d:!1},t)}}};C||(S=function(t){p(this,S,"Promise","_h"),f(t),r.call(this);try{t(u(D,this,1),u(I,this,1))}catch(t){I.call(this,t)}},r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(91)(S.prototype,{then:function(t,e){var n=T(g(this,S));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=E?M.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&O(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),a=function(){var t=new r;this.promise=t,this.resolve=u(D,t,1),this.reject=u(I,t,1)},b.f=T=function(t){return t===S||t===o?new a(t):i(t)}),h(h.G+h.W+h.F*!C,{Promise:S}),n(56)(S,"Promise"),n(138)("Promise"),o=n(10).Promise,h(h.S+h.F*!C,"Promise",{reject:function(t){var e=T(this);return(0,e.reject)(t),e.promise}}),h(h.S+h.F*(s||!C),"Promise",{resolve:function(t){return _(s&&this===o?S:this,t)}}),h(h.S+h.F*!(C&&n(130)(function(t){S.all(t).catch(k)})),"Promise",{all:function(t){var e=this,n=T(e),r=n.resolve,i=n.reject,a=x(function(){var n=[],a=0,o=1;m(t,!1,function(t){var s=a++,l=!1;n.push(void 0),o++,e.resolve(t).then(function(t){l||(l=!0,n[s]=t,--o||r(n))},i)}),--o||r(n)});return a.e&&i(a.v),n.promise},race:function(t){var e=this,n=T(e),r=n.reject,i=x(function(){m(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(t,e,n){"use strict";var r=n(325),i=n(141);t.exports=n(327)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(i(this,"Set"),t=0===t?0:t,t)}},r)},function(t,e,n){"use strict";var r=n(18),i=n(39),a=n(27),o=n(15),s=n(137),l=n(86).KEY,u=n(38),c=n(93),h=n(56),d=n(68),f=n(16),p=n(97),m=n(96),g=n(329),v=n(128),y=n(26),b=n(22),x=n(35),_=n(95),w=n(55),M=n(66),S=n(335),E=n(88),k=n(23),T=n(42),C=E.f,P=k.f,O=S.f,A=r.Symbol,R=r.JSON,L=R&&R.stringify,I=f("_hidden"),D=f("toPrimitive"),N={}.propertyIsEnumerable,z=c("symbol-registry"),B=c("symbols"),F=c("op-symbols"),U=Object.prototype,j="function"==typeof A,W=r.QObject,G=!W||!W.prototype||!W.prototype.findChild,V=a&&u(function(){return 7!=M(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=C(U,e);r&&delete U[e],P(t,e,n),r&&t!==U&&P(U,e,r)}:P,H=function(t){var e=B[t]=M(A.prototype);return e._k=t,e},Y=j&&"symbol"==typeof A.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof A},q=function(t,e,n){return t===U&&q(F,e,n),y(t),e=_(e,!0),y(n),i(B,e)?(n.enumerable?(i(t,I)&&t[I][e]&&(t[I][e]=!1),n=M(n,{enumerable:w(0,!1)})):(i(t,I)||P(t,I,w(1,{})),t[I][e]=!0),V(t,e,n)):P(t,e,n)},X=function(t,e){y(t);for(var n,r=g(e=x(e)),i=0,a=r.length;a>i;)q(t,n=r[i++],e[n]);return t},Z=function(t,e){return void 0===e?M(t):X(M(t),e)},K=function(t){var e=N.call(this,t=_(t,!0));return!(this===U&&i(B,t)&&!i(F,t))&&(!(e||!i(this,t)||!i(B,t)||i(this,I)&&this[I][t])||e)},J=function(t,e){if(t=x(t),e=_(e,!0),t!==U||!i(B,e)||i(F,e)){var n=C(t,e);return!n||!i(B,e)||i(t,I)&&t[I][e]||(n.enumerable=!0),n}},Q=function(t){for(var e,n=O(x(t)),r=[],a=0;n.length>a;)i(B,e=n[a++])||e==I||e==l||r.push(e);return r},$=function(t){for(var e,n=t===U,r=O(n?F:x(t)),a=[],o=0;r.length>o;)!i(B,e=r[o++])||n&&!i(U,e)||a.push(B[e]);return a};j||(A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(n){this===U&&e.call(F,n),i(this,I)&&i(this[I],t)&&(this[I][t]=!1),V(this,t,w(1,n))};return a&&G&&V(U,t,{configurable:!0,set:e}),H(t)},s(A.prototype,"toString",function(){return this._k}),E.f=J,k.f=q,n(132).f=S.f=Q,n(54).f=K,n(89).f=$,a&&!n(65)&&s(U,"propertyIsEnumerable",K,!0),p.f=function(t){return H(f(t))}),o(o.G+o.W+o.F*!j,{Symbol:A});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)f(tt[et++]);for(var nt=T(f.store),rt=0;nt.length>rt;)m(nt[rt++]);o(o.S+o.F*!j,"Symbol",{for:function(t){return i(z,t+="")?z[t]:z[t]=A(t)},keyFor:function(t){if(!Y(t))throw TypeError(t+" is not a symbol!");for(var e in z)if(z[e]===t)return e},useSetter:function(){G=!0},useSimple:function(){G=!1}}),o(o.S+o.F*!j,"Object",{create:Z,defineProperty:q,defineProperties:X,getOwnPropertyDescriptor:J,getOwnPropertyNames:Q,getOwnPropertySymbols:$}),R&&o(o.S+o.F*(!j||u(function(){var t=A();return"[null]"!=L([t])||"{}"!=L({a:t})||"{}"!=L(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(b(e)||void 0!==t)&&!Y(t))return v(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Y(e))return e}),r[1]=e,L.apply(R,r)}}),A.prototype[D]||n(34)(A.prototype,D,A.prototype.valueOf),h(A,"Symbol"),h(Math,"Math",!0),h(r.JSON,"JSON",!0)},function(t,e,n){var r=n(15),i=n(336)(!1);r(r.S,"Object",{values:function(t){return i(t)}})},function(t,e,n){"use strict";var r=n(15),i=n(10),a=n(18),o=n(139),s=n(136);r(r.P+r.R,"Promise",{finally:function(t){var e=o(this,i.Promise||a.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then(function(){return n})}:t,n?function(n){return s(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){"use strict";var r=n(15),i=n(87),a=n(135);r(r.S,"Promise",{try:function(t){var e=i.f(this),n=a(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){n(337)("Set")},function(t,e,n){n(338)("Set")},function(t,e,n){var r=n(15);r(r.P+r.R,"Set",{toJSON:n(326)("Set")})},function(t,e,n){n(96)("asyncIterator")},function(t,e,n){n(96)("observable")},function(t,e,n){"use strict";var r=n(69),i={listen:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}}):t.attachEvent?(t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}):void 0},capture:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!0),{remove:function(){t.removeEventListener(e,n,!0)}}):{remove:r}},registerDefault:function(){}};t.exports=i},function(t,e,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};t.exports=i},function(t,e,n){"use strict";function r(t,e){return!(!t||!e)&&(t===e||!i(t)&&(i(e)?r(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}var i=n(372);t.exports=r},function(t,e,n){"use strict";function r(t){try{t.focus()}catch(t){}}t.exports=r},function(t,e,n){"use strict";function r(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r,a,o,s,l){if(i(e),!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,a,o,s,l],h=0;u=new Error(e.replace(/%s/g,function(){return c[h++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}var i=function(t){};t.exports=r},function(t,e,n){"use strict";function r(t){var e=t?t.ownerDocument||t:document,n=e.defaultView||window;return!(!t||!("function"==typeof n.Node?t instanceof n.Node:"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName))}t.exports=r},function(t,e,n){"use strict";function r(t){return i(t)&&3==t.nodeType}var i=n(371);t.exports=r},function(t,e,n){"use strict";function r(t,e){return t===e?0!==t||0!==e||1/t==1/e:t!==t&&e!==e}function i(t,e){if(r(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(var o=0;o<n.length;o++)if(!a.call(e,n[o])||!r(t[n[o]],e[n[o]]))return!1;return!0}var a=Object.prototype.hasOwnProperty;t.exports=i},function(t,e){function n(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}t.exports=n},function(t,e){function n(t,e){return t[0]*e[0]+t[1]*e[1]}t.exports=n},function(t,e){function n(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i),t}t.exports=n},function(t,e){function n(t,e,n){return t[0]=e,t[1]=n,t}t.exports=n},function(t,e){function n(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}t.exports=n},function(t,e,n){"use strict";function r(t){return t in o?o[t]:o[t]=t.replace(i,"-$&").toLowerCase().replace(a,"-ms-")}var i=/[A-Z]/g,a=/^ms-/,o={};t.exports=r},function(t,e){e.read=function(t,e,n,r,i){var a,o,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,h=n?i-1:0,d=n?-1:1,f=t[e+h];for(h+=d,a=f&(1<<-c)-1,f>>=-c,c+=s;c>0;a=256*a+t[e+h],h+=d,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=r;c>0;o=256*o+t[e+h],h+=d,c-=8);if(0===a)a=1-u;else{if(a===l)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,r),a-=u}return(f?-1:1)*o*Math.pow(2,a-r)},e.write=function(t,e,n,r,i,a){var o,s,l,u=8*a-i-1,c=(1<<u)-1,h=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:a-1,p=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),e+=o+h>=1?d/l:d*Math.pow(2,1-h),e*l>=2&&(o++,l/=2),o+h>=c?(s=0,o=c):o+h>=1?(s=(e*l-1)*Math.pow(2,i),o+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;t[n+f]=255&s,f+=p,s/=256,i-=8);for(o=o<<i|s,u+=i;u>0;t[n+f]=255&o,f+=p,o/=256,u-=8);t[n+f-p]|=128*m}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t){var e=t.prefixMap,n=t.plugins,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t};return function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t);var r="undefined"!=typeof navigator?navigator.userAgent:void 0;if(this._userAgent=n.userAgent||r,this._keepUnprefixed=n.keepUnprefixed||!1,this._userAgent&&(this._browserInfo=(0,l.default)(this._userAgent)),!this._browserInfo||!this._browserInfo.cssPrefix)return this._useFallback=!0,!1;this.prefixedKeyframes=(0,c.default)(this._browserInfo.browserName,this._browserInfo.browserVersion,this._browserInfo.cssPrefix);var a=this._browserInfo.browserName&&e[this._browserInfo.browserName];if(a){this._requiresPrefix={};for(var o in a)a[o]>=this._browserInfo.browserVersion&&(this._requiresPrefix[o]=!0);this._hasPropsRequiringPrefix=Object.keys(this._requiresPrefix).length>0}else this._useFallback=!0;this._metaData={browserVersion:this._browserInfo.browserVersion,browserName:this._browserInfo.browserName,cssPrefix:this._browserInfo.cssPrefix,jsPrefix:this._browserInfo.jsPrefix,keepUnprefixed:this._keepUnprefixed,requiresPrefix:this._requiresPrefix}}return o(t,[{key:"prefix",value:function(t){return this._useFallback?r(t):this._hasPropsRequiringPrefix?this._prefixStyle(t):t}},{key:"_prefixStyle",value:function(t){for(var e in t){var r=t[e];if((0,g.default)(r))t[e]=this.prefix(r);else if(Array.isArray(r)){for(var i=[],a=0,o=r.length;a<o;++a){var s=(0,y.default)(n,e,r[a],t,this._metaData);(0,p.default)(i,s||r[a])}i.length>0&&(t[e]=i)}else{var l=(0,y.default)(n,e,r,t,this._metaData);l&&(t[e]=l),this._requiresPrefix.hasOwnProperty(e)&&(t[this._browserInfo.jsPrefix+(0,d.default)(e)]=r,this._keepUnprefixed||delete t[e])}}return t}}],[{key:"prefixAll",value:function(t){return r(t)}}]),t}()}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.default=a;var s=n(407),l=r(s),u=n(408),c=r(u),h=n(101),d=r(h),f=n(145),p=r(f),m=n(146),g=r(m),v=n(147),y=r(v);t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={plugins:[],prefixMap:{chrome:{appearance:64,userSelect:53,textEmphasisPosition:64,textEmphasis:64,textEmphasisStyle:64,textEmphasisColor:64,boxDecorationBreak:64,clipPath:54,maskImage:64,maskMode:64,maskRepeat:64,maskPosition:64,maskClip:64,maskOrigin:64,maskSize:64,maskComposite:64,mask:64,maskBorderSource:64,maskBorderMode:64,maskBorderSlice:64,maskBorderWidth:64,maskBorderOutset:64,maskBorderRepeat:64,maskBorder:64,maskType:64,textDecorationStyle:56,textDecorationSkip:56,textDecorationLine:56,textDecorationColor:56,filter:52,fontFeatureSettings:47,breakAfter:49,breakBefore:49,breakInside:49,columnCount:49,columnFill:49,columnGap:49,columnRule:49,columnRuleColor:49,columnRuleStyle:49,columnRuleWidth:49,columns:49,columnSpan:49,columnWidth:49,writingMode:47},safari:{flex:8,flexBasis:8,flexDirection:8,flexGrow:8,flexFlow:8,flexShrink:8,flexWrap:8,alignContent:8,alignItems:8,alignSelf:8,justifyContent:8,order:8,transform:8,transformOrigin:8,transformOriginX:8,transformOriginY:8,backfaceVisibility:8,perspective:8,perspectiveOrigin:8,transformStyle:8,transformOriginZ:8,animation:8,animationDelay:8,animationDirection:8,animationFillMode:8,animationDuration:8,animationIterationCount:8,animationName:8,animationPlayState:8,animationTimingFunction:8,appearance:11,userSelect:11,backdropFilter:11,fontKerning:9,scrollSnapType:10.1,scrollSnapPointsX:10.1,scrollSnapPointsY:10.1,scrollSnapDestination:10.1,scrollSnapCoordinate:10.1,boxDecorationBreak:11,clipPath:11,maskImage:11,maskMode:11,maskRepeat:11,maskPosition:11,maskClip:11,maskOrigin:11,maskSize:11,maskComposite:11,mask:11,maskBorderSource:11,maskBorderMode:11,maskBorderSlice:11,maskBorderWidth:11,maskBorderOutset:11,maskBorderRepeat:11,maskBorder:11,maskType:11,textDecorationStyle:11,textDecorationSkip:11,textDecorationLine:11,textDecorationColor:11,shapeImageThreshold:10,shapeImageMargin:10,shapeImageOutside:10,filter:9,hyphens:11,flowInto:11,flowFrom:11,breakBefore:8,breakAfter:8,breakInside:8,regionFragment:11,columnCount:8,columnFill:8,columnGap:8,columnRule:8,columnRuleColor:8,columnRuleStyle:8,columnRuleWidth:8,columns:8,columnSpan:8,columnWidth:8,writingMode:11},firefox:{appearance:58,userSelect:58,textAlignLast:48,tabSize:58,hyphens:42,breakAfter:51,breakBefore:51,breakInside:51,columnCount:51,columnFill:51,columnGap:51,columnRule:51,columnRuleColor:51,columnRuleStyle:51,columnRuleWidth:51,columns:51,columnSpan:51,columnWidth:51},opera:{flex:16,flexBasis:16,flexDirection:16,flexGrow:16,flexFlow:16,flexShrink:16,flexWrap:16,alignContent:16,alignItems:16,alignSelf:16,justifyContent:16,order:16,transform:22,transformOrigin:22,transformOriginX:22,transformOriginY:22,backfaceVisibility:22,perspective:22,perspectiveOrigin:22,transformStyle:22,transformOriginZ:22,animation:29,animationDelay:29,animationDirection:29,animationFillMode:29,animationDuration:29,animationIterationCount:29,animationName:29,animationPlayState:29,animationTimingFunction:29,appearance:49,userSelect:40,fontKerning:19,textEmphasisPosition:49,textEmphasis:49,textEmphasisStyle:49,textEmphasisColor:49,boxDecorationBreak:49,clipPath:41,maskImage:49,maskMode:49,maskRepeat:49,maskPosition:49,maskClip:49,maskOrigin:49,maskSize:49,maskComposite:49,mask:49,maskBorderSource:49,maskBorderMode:49,maskBorderSlice:49,maskBorderWidth:49,maskBorderOutset:49,maskBorderRepeat:49,maskBorder:49,maskType:49,textDecorationStyle:43,textDecorationSkip:43,textDecorationLine:43,textDecorationColor:43,filter:39,fontFeatureSettings:34,breakAfter:36,breakBefore:36,breakInside:36,columnCount:36,columnFill:36,columnGap:36,columnRule:36,columnRuleColor:36,columnRuleStyle:36,columnRuleWidth:36,columns:36,columnSpan:36,columnWidth:36,writingMode:34},ie:{userSelect:11,wrapFlow:11,wrapThrough:11,wrapMargin:11,scrollSnapType:11,scrollSnapPointsX:11,scrollSnapPointsY:11,scrollSnapDestination:11,scrollSnapCoordinate:11,hyphens:11,flowInto:11,flowFrom:11,breakBefore:11,breakAfter:11,breakInside:11,regionFragment:11,gridTemplateColumns:11,gridTemplateRows:11,gridTemplateAreas:11,gridTemplate:11,gridAutoColumns:11,gridAutoRows:11,gridAutoFlow:11,grid:11,gridRowStart:11,gridColumnStart:11,gridRowEnd:11,gridRow:11,gridColumn:11,gridColumnEnd:11,gridColumnGap:11,gridRowGap:11,gridArea:11,gridGap:11,textSizeAdjust:11,writingMode:11},edge:{userSelect:16,wrapFlow:16,wrapThrough:16,wrapMargin:16,scrollSnapType:16,scrollSnapPointsX:16,scrollSnapPointsY:16,scrollSnapDestination:16,scrollSnapCoordinate:16,hyphens:16,flowInto:16,flowFrom:16,breakBefore:16,breakAfter:16,breakInside:16,regionFragment:16,gridTemplateColumns:15,gridTemplateRows:15,gridTemplateAreas:15,gridTemplate:15,gridAutoColumns:15,gridAutoRows:15,gridAutoFlow:15,grid:15,gridRowStart:15,gridColumnStart:15,gridRowEnd:15,gridRow:15,gridColumn:15,gridColumnEnd:15,gridColumnGap:15,gridRowGap:15,gridArea:15,gridGap:15},ios_saf:{flex:8.1,flexBasis:8.1,flexDirection:8.1,flexGrow:8.1,flexFlow:8.1,flexShrink:8.1,flexWrap:8.1,alignContent:8.1,alignItems:8.1,alignSelf:8.1,justifyContent:8.1,order:8.1,transform:8.1,transformOrigin:8.1,transformOriginX:8.1,transformOriginY:8.1,backfaceVisibility:8.1,perspective:8.1,perspectiveOrigin:8.1,transformStyle:8.1,transformOriginZ:8.1,animation:8.1,animationDelay:8.1,animationDirection:8.1,animationFillMode:8.1,animationDuration:8.1,animationIterationCount:8.1,animationName:8.1,animationPlayState:8.1,animationTimingFunction:8.1,appearance:11,userSelect:11,backdropFilter:11,fontKerning:11,scrollSnapType:11,scrollSnapPointsX:11,scrollSnapPointsY:11,scrollSnapDestination:11,scrollSnapCoordinate:11,boxDecorationBreak:11,clipPath:11,maskImage:11,maskMode:11,maskRepeat:11,maskPosition:11,maskClip:11,maskOrigin:11,maskSize:11,maskComposite:11,mask:11,maskBorderSource:11,maskBorderMode:11,maskBorderSlice:11,maskBorderWidth:11,maskBorderOutset:11,maskBorderRepeat:11,maskBorder:11,maskType:11,textSizeAdjust:11,textDecorationStyle:11,textDecorationSkip:11,textDecorationLine:11,textDecorationColor:11,shapeImageThreshold:10,shapeImageMargin:10,shapeImageOutside:10,filter:9,hyphens:11,flowInto:11,flowFrom:11,breakBefore:8.1,breakAfter:8.1,breakInside:8.1,regionFragment:11,columnCount:8.1,columnFill:8.1,columnGap:8.1,columnRule:8.1,columnRuleColor:8.1,columnRuleStyle:8.1,columnRuleWidth:8.1,columns:8.1,columnSpan:8.1,columnWidth:8.1,writingMode:11},android:{borderImage:4.2,borderImageOutset:4.2,borderImageRepeat:4.2,borderImageSlice:4.2,borderImageSource:4.2,borderImageWidth:4.2,flex:4.2,flexBasis:4.2,flexDirection:4.2,flexGrow:4.2,flexFlow:4.2,flexShrink:4.2,flexWrap:4.2,alignContent:4.2,alignItems:4.2,alignSelf:4.2,justifyContent:4.2,order:4.2,transition:4.2,transitionDelay:4.2,transitionDuration:4.2,transitionProperty:4.2,transitionTimingFunction:4.2,transform:4.4,transformOrigin:4.4,transformOriginX:4.4,transformOriginY:4.4,backfaceVisibility:4.4,perspective:4.4,perspectiveOrigin:4.4,transformStyle:4.4,transformOriginZ:4.4,animation:4.4,animationDelay:4.4,animationDirection:4.4,animationFillMode:4.4,animationDuration:4.4,animationIterationCount:4.4,animationName:4.4,animationPlayState:4.4,animationTimingFunction:4.4,appearance:56,userSelect:4.4,fontKerning:4.4,textEmphasisPosition:56,textEmphasis:56,textEmphasisStyle:56,textEmphasisColor:56,boxDecorationBreak:56,clipPath:4.4,maskImage:56,maskMode:56,maskRepeat:56,maskPosition:56,maskClip:56,maskOrigin:56,maskSize:56,maskComposite:56,mask:56,maskBorderSource:56,maskBorderMode:56,maskBorderSlice:56,maskBorderWidth:56,maskBorderOutset:56,maskBorderRepeat:56,maskBorder:56,maskType:56,filter:4.4,fontFeatureSettings:4.4,breakAfter:4.4,breakBefore:4.4,breakInside:4.4,columnCount:4.4,columnFill:4.4,columnGap:4.4,columnRule:4.4,columnRuleColor:4.4,columnRuleStyle:4.4,columnRuleWidth:4.4,columns:4.4,columnSpan:4.4,columnWidth:4.4,writingMode:4.4},and_chr:{appearance:61,textEmphasisPosition:61,textEmphasis:61,textEmphasisStyle:61,textEmphasisColor:61,boxDecorationBreak:61,maskImage:61,maskMode:61,maskRepeat:61,maskPosition:61,maskClip:61,maskOrigin:61,maskSize:61,maskComposite:61,mask:61,maskBorderSource:61,maskBorderMode:61,maskBorderSlice:61,maskBorderWidth:61,maskBorderOutset:61,maskBorderRepeat:61,maskBorder:61,maskType:61},and_uc:{flex:11.4,flexBasis:11.4,flexDirection:11.4,flexGrow:11.4,flexFlow:11.4,flexShrink:11.4,flexWrap:11.4,alignContent:11.4,alignItems:11.4,alignSelf:11.4,justifyContent:11.4,order:11.4,transform:11.4,transformOrigin:11.4,transformOriginX:11.4,transformOriginY:11.4,backfaceVisibility:11.4,perspective:11.4,perspectiveOrigin:11.4,transformStyle:11.4,transformOriginZ:11.4,animation:11.4,animationDelay:11.4,animationDirection:11.4,animationFillMode:11.4,animationDuration:11.4,animationIterationCount:11.4,animationName:11.4,animationPlayState:11.4,animationTimingFunction:11.4,appearance:11.4,userSelect:11.4,textEmphasisPosition:11.4,textEmphasis:11.4,textEmphasisStyle:11.4,textEmphasisColor:11.4,clipPath:11.4,maskImage:11.4,maskMode:11.4,maskRepeat:11.4,maskPosition:11.4,maskClip:11.4,maskOrigin:11.4,maskSize:11.4,maskComposite:11.4,mask:11.4,maskBorderSource:11.4,maskBorderMode:11.4,maskBorderSlice:11.4,maskBorderWidth:11.4,maskBorderOutset:11.4,maskBorderRepeat:11.4,maskBorder:11.4,maskType:11.4,textSizeAdjust:11.4,filter:11.4,hyphens:11.4,fontFeatureSettings:11.4,breakAfter:11.4,breakBefore:11.4,breakInside:11.4,columnCount:11.4,columnFill:11.4,columnGap:11.4,columnRule:11.4,columnRuleColor:11.4,columnRuleStyle:11.4,columnRuleWidth:11.4,columns:11.4,columnSpan:11.4,columnWidth:11.4,writingMode:11.4},op_mini:{}}},t.exports=e.default},function(t,e,n){"use strict";function r(t,e,n,r){var i=r.browserName,o=r.browserVersion,s=r.cssPrefix,l=r.keepUnprefixed;if("string"==typeof e&&e.indexOf("cross-fade(")>-1&&("chrome"===i||"opera"===i||"and_chr"===i||("ios_saf"===i||"safari"===i)&&o<10))return(0,a.default)(e.replace(/cross-fade\(/g,s+"cross-fade("),e,l)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=n(29),a=function(t){return t&&t.__esModule?t:{default:t}}(i);t.exports=e.default},function(t,e,n){"use strict";function r(t,e,n,r){var i=r.browserName,l=r.browserVersion,u=r.cssPrefix,c=r.keepUnprefixed;return"cursor"!==t||!o[e]||"firefox"!==i&&"chrome"!==i&&"safari"!==i&&"opera"!==i?"cursor"===t&&s[e]&&("firefox"===i&&l<24||"chrome"===i&&l<37||"safari"===i&&l<9||"opera"===i&&l<24)?(0,a.default)(u+e,e,c):void 0:(0,a.default)(u+e,e,c)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=n(29),a=function(t){return t&&t.__esModule?t:{default:t}}(i),o={grab:!0,grabbing:!0},s={"zoom-in":!0,"zoom-out":!0};t.exports=e.default},function(t,e,n){"use strict";function r(t,e,n,r){var i=r.browserName,o=r.browserVersion,s=r.cssPrefix,l=r.keepUnprefixed;if("string"==typeof e&&e.indexOf("filter(")>-1&&("ios_saf"===i||"safari"===i&&o<9.1))return(0,a.default)(e.replace(/filter\(/g,s+"filter("),e,l)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=n(29),a=function(t){return t&&t.__esModule?t:{default:t}}(i);t.exports=e.default},function(t,e,n){"use strict";function r(t,e,n,r){var i=r.browserName,s=r.browserVersion,l=r.cssPrefix,u=r.keepUnprefixed;if("display"===t&&o[e]&&("chrome"===i&&s<29&&s>20||("safari"===i||"ios_saf"===i)&&s<9&&s>6||"opera"===i&&(15===s||16===s)))return(0,a.default)(l+e,e,u)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=n(29),a=function(t){return t&&t.__esModule?t:{default:t}}(i),o={flex:!0,"inline-flex":!0};t.exports=e.default},function(t,e,n){"use strict";function r(t,e,n,r){var i=r.browserName,l=r.browserVersion,c=r.cssPrefix,h=r.keepUnprefixed,d=r.requiresPrefix;if((u.indexOf(t)>-1||"display"===t&&"string"==typeof e&&e.indexOf("flex")>-1)&&("firefox"===i&&l<22||"chrome"===i&&l<21||("safari"===i||"ios_saf"===i)&&l<=6.1||"android"===i&&l<4.4||"and_uc"===i)){if(delete d[t],h||Array.isArray(n[t])||delete n[t],"flexDirection"===t&&"string"==typeof e&&(e.indexOf("column")>-1?n.WebkitBoxOrient="vertical":n.WebkitBoxOrient="horizontal",e.indexOf("reverse")>-1?n.WebkitBoxDirection="reverse":n.WebkitBoxDirection="normal"),"display"===t&&o.hasOwnProperty(e))return(0,a.default)(c+o[e],e,h);s.hasOwnProperty(t)&&(n[s[t]]=o[e]||e)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=n(29),a=function(t){return t&&t.__esModule?t:{default:t}}(i),o={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple",flex:"box","inline-flex":"inline-box"},s={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines"},l=["alignContent","alignSelf","order","flexGrow","flexShrink","flexBasis","flexDirection"],u=Object.keys(s).concat(l);t.exports=e.default},function(t,e,n){"use strict";function r(t,e,n,r){var i=r.browserName,s=r.browserVersion,l=r.cssPrefix,u=r.keepUnprefixed;if("string"==typeof e&&o.test(e)&&("firefox"===i&&s<16||"chrome"===i&&s<26||("safari"===i||"ios_saf"===i)&&s<7||("opera"===i||"op_mini"===i)&&s<12.1||"android"===i&&s<4.4||"and_uc"===i))return(0,a.default)(l+e,e,u)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=n(29),a=function(t){return t&&t.__esModule?t:{default:t}}(i),o=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/;t.exports=e.default},function(t,e,n){"use strict";function r(t,e,n,r){var i=r.browserName,o=r.cssPrefix,s=r.keepUnprefixed;if("string"==typeof e&&e.indexOf("image-set(")>-1&&("chrome"===i||"opera"===i||"and_chr"===i||"and_uc"===i||"ios_saf"===i||"safari"===i))return(0,a.default)(e.replace(/image-set\(/g,o+"image-set("),e,s)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=n(29),a=function(t){return t&&t.__esModule?t:{default:t}}(i);t.exports=e.default},function(t,e,n){"use strict";function r(t,e,n,r){var i=r.browserName,o=r.cssPrefix,s=r.keepUnprefixed;if("position"===t&&"sticky"===e&&("safari"===i||"ios_saf"===i))return(0,a.default)(o+e,e,s)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=n(29),a=function(t){return t&&t.__esModule?t:{default:t}}(i);t.exports=e.default},function(t,e,n){"use strict";function r(t,e,n,r){var i=r.cssPrefix,l=r.keepUnprefixed;if(o.hasOwnProperty(t)&&s.hasOwnProperty(e))return(0,a.default)(i+e,e,l)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=n(29),a=function(t){return t&&t.__esModule?t:{default:t}}(i),o={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},s={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};t.exports=e.default},function(t,e,n){"use strict";function r(t,e,n,r){var i=r.cssPrefix,l=r.keepUnprefixed,u=r.requiresPrefix;if("string"==typeof e&&o.hasOwnProperty(t)){s||(s=Object.keys(u).map(function(t){return(0,a.default)(t)}));var c=e.split(/,(?![^()]*(?:\([^()]*\))?\))/g);return s.forEach(function(t){c.forEach(function(e,n){e.indexOf(t)>-1&&"order"!==t&&(c[n]=e.replace(t,i+t)+(l?","+e:""))})}),c.join(",")}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=n(142),a=function(t){return t&&t.__esModule?t:{default:t}}(i),o={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},s=void 0;t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){function e(t){for(var i in t){var a=t[i];if((0,d.default)(a))t[i]=e(a);else if(Array.isArray(a)){for(var s=[],u=0,h=a.length;u<h;++u){var f=(0,l.default)(r,i,a[u],t,n);(0,c.default)(s,f||a[u])}s.length>0&&(t[i]=s)}else{var p=(0,l.default)(r,i,a,t,n);p&&(t[i]=p),(0,o.default)(n,i,t)}}return t}var n=t.prefixMap,r=t.plugins;return e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var a=n(409),o=r(a),s=n(147),l=r(s),u=n(145),c=r(u),h=n(146),d=r(h);t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(394),a=r(i),o=n(406),s=r(o),l=n(397),u=r(l),c=n(396),h=r(c),d=n(398),f=r(d),p=n(399),m=r(p),g=n(400),v=r(g),y=n(401),b=r(y),x=n(402),_=r(x),w=n(403),M=r(w),S=n(404),E=r(S),k=n(405),T=r(k),C=[h.default,u.default,f.default,v.default,b.default,_.default,M.default,E.default,T.default,m.default];e.default=(0,a.default)({prefixMap:s.default.prefixMap,plugins:C}),t.exports=e.default},function(t,e,n){"use strict";function r(t,e){if("string"==typeof e&&!(0,a.default)(e)&&e.indexOf("cross-fade(")>-1)return o.map(function(t){return e.replace(/cross-fade\(/g,t+"cross-fade(")})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=n(58),a=function(t){return t&&t.__esModule?t:{default:t}}(i),o=["-webkit-",""];t.exports=e.default},function(t,e,n){"use strict";function r(t,e){if("cursor"===t&&a.hasOwnProperty(e))return i.map(function(t){return t+e})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=["-webkit-","-moz-",""],a={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0};t.exports=e.default},function(t,e,n){"use strict";function r(t,e){if("string"==typeof e&&!(0,a.default)(e)&&e.indexOf("filter(")>-1)return o.map(function(t){return e.replace(/filter\(/g,t+"filter(")})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=n(58),a=function(t){return t&&t.__esModule?t:{default:t}}(i),o=["-webkit-",""];t.exports=e.default},function(t,e,n){"use strict";function r(t,e){if("display"===t&&i.hasOwnProperty(e))return i[e]}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i={flex:["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex","flex"],"inline-flex":["-webkit-inline-box","-moz-inline-box","-ms-inline-flexbox","-webkit-inline-flex","inline-flex"]};t.exports=e.default},function(t,e,n){"use strict";function r(t,e,n){"flexDirection"===t&&"string"==typeof e&&(e.indexOf("column")>-1?n.WebkitBoxOrient="vertical":n.WebkitBoxOrient="horizontal",e.indexOf("reverse")>-1?n.WebkitBoxDirection="reverse":n.WebkitBoxDirection="normal"),a.hasOwnProperty(t)&&(n[a[t]]=i[e]||e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple"},a={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines"};t.exports=e.default},function(t,e,n){"use strict";function r(t,e){if("string"==typeof e&&!(0,a.default)(e)&&s.test(e))return o.map(function(t){return t+e})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=n(58),a=function(t){return t&&t.__esModule?t:{default:t}}(i),o=["-webkit-","-moz-",""],s=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/;t.exports=e.default},function(t,e,n){"use strict";function r(t,e){if("string"==typeof e&&!(0,a.default)(e)&&e.indexOf("image-set(")>-1)return o.map(function(t){return e.replace(/image-set\(/g,t+"image-set(")})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=n(58),a=function(t){return t&&t.__esModule?t:{default:t}}(i),o=["-webkit-",""];t.exports=e.default},function(t,e,n){"use strict";function r(t,e){if("position"===t&&"sticky"===e)return["-webkit-sticky","sticky"]}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r,t.exports=e.default},function(t,e,n){"use strict";function r(t,e){if(a.hasOwnProperty(t)&&o.hasOwnProperty(e))return i.map(function(t){return t+e})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=["-webkit-","-moz-",""],a={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},o={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if((0,u.default)(t))return t;for(var n=t.split(/,(?![^()]*(?:\([^()]*\))?\))/g),r=0,i=n.length;r<i;++r){var a=n[r],o=[a];for(var l in e){var c=(0,s.default)(l);if(a.indexOf(c)>-1&&"order"!==c)for(var h=e[l],d=0,p=h.length;d<p;++d)o.unshift(a.replace(c,f[h[d]]+c))}n[r]=o.join(",")}return n.join(",")}function a(t,e,n,r){if("string"==typeof e&&d.hasOwnProperty(t)){var a=i(e,r),o=a.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(t){return!/-moz-|-ms-/.test(t)}).join(",");if(t.indexOf("Webkit")>-1)return o;var s=a.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(t){return!/-webkit-|-ms-/.test(t)}).join(",");return t.indexOf("Moz")>-1?s:(n["Webkit"+(0,h.default)(t)]=o,n["Moz"+(0,h.default)(t)]=s,a)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var o=n(142),s=r(o),l=n(58),u=r(l),c=n(101),h=r(c),d={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},f={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"};t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=["Webkit"],i=["Moz"],a=["ms"],o=["Webkit","Moz"],s=["Webkit","ms"],l=["Webkit","Moz","ms"];e.default={plugins:[],prefixMap:{appearance:o,userSelect:l,textEmphasisPosition:r,textEmphasis:r,textEmphasisStyle:r,textEmphasisColor:r,boxDecorationBreak:r,clipPath:r,maskImage:r,maskMode:r,maskRepeat:r,maskPosition:r,maskClip:r,maskOrigin:r,maskSize:r,maskComposite:r,mask:r,maskBorderSource:r,maskBorderMode:r,maskBorderSlice:r,maskBorderWidth:r,maskBorderOutset:r,maskBorderRepeat:r,maskBorder:r,maskType:r,textDecorationStyle:r,textDecorationSkip:r,textDecorationLine:r,textDecorationColor:r,filter:r,fontFeatureSettings:r,breakAfter:l,breakBefore:l,breakInside:l,columnCount:o,columnFill:o,columnGap:o,columnRule:o,columnRuleColor:o,columnRuleStyle:o,columnRuleWidth:o,columns:o,columnSpan:o,columnWidth:o,writingMode:s,flex:r,flexBasis:r,flexDirection:r,flexGrow:r,flexFlow:r,flexShrink:r,flexWrap:r,alignContent:r,alignItems:r,alignSelf:r,justifyContent:r,order:r,transform:r,transformOrigin:r,transformOriginX:r,transformOriginY:r,backfaceVisibility:r,perspective:r,perspectiveOrigin:r,transformStyle:r,transformOriginZ:r,animation:r,animationDelay:r,animationDirection:r,animationFillMode:r,animationDuration:r,animationIterationCount:r,animationName:r,animationPlayState:r,animationTimingFunction:r,backdropFilter:r,fontKerning:r,scrollSnapType:s,scrollSnapPointsX:s,scrollSnapPointsY:s,scrollSnapDestination:s,scrollSnapCoordinate:s,shapeImageThreshold:r,shapeImageMargin:r,shapeImageOutside:r,hyphens:l,flowInto:s,flowFrom:s,regionFragment:s,textAlignLast:i,tabSize:i,wrapFlow:a,wrapThrough:a,wrapMargin:a,gridTemplateColumns:a,gridTemplateRows:a,gridTemplateAreas:a,gridTemplate:a,gridAutoColumns:a,gridAutoRows:a,gridAutoFlow:a,grid:a,gridRowStart:a,gridColumnStart:a,gridRowEnd:a,gridRow:a,gridColumn:a,gridColumnEnd:a,gridColumnGap:a,gridRowGap:a,gridArea:a,gridGap:a,textSizeAdjust:s,borderImage:r,borderImageOutset:r,borderImageRepeat:r,borderImageSlice:r,borderImageSource:r,borderImageWidth:r,transitionDelay:r,transitionDuration:r,transitionProperty:r,transitionTimingFunction:r}},t.exports=e.default},function(t,e,n){"use strict";function r(t){if(t.firefox)return"firefox";if(t.mobile||t.tablet){if(t.ios)return"ios_saf";if(t.android)return"android";if(t.opera)return"op_mini"}for(var e in l)if(t.hasOwnProperty(e))return l[e]}function i(t){var e=o.default._detect(t);e.yandexbrowser&&(e=o.default._detect(t.replace(/YaBrowser\/[0-9.]*/,"")));for(var n in s)if(e.hasOwnProperty(n)){var i=s[n];e.jsPrefix=i,e.cssPrefix="-"+i.toLowerCase()+"-";break}return e.browserName=r(e),e.version?e.browserVersion=parseFloat(e.version):e.browserVersion=parseInt(parseFloat(e.osversion),10),e.osVersion=parseFloat(e.osversion),"ios_saf"===e.browserName&&e.browserVersion>e.osVersion&&(e.browserVersion=e.osVersion),"android"===e.browserName&&e.chrome&&e.browserVersion>37&&(e.browserName="and_chr"),"android"===e.browserName&&e.osVersion<5&&(e.browserVersion=e.osVersion),"android"===e.browserName&&e.samsungBrowser&&(e.browserName="and_chr",e.browserVersion=44),e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var a=n(250),o=function(t){return t&&t.__esModule?t:{default:t}}(a),s={chrome:"Webkit",safari:"Webkit",ios:"Webkit",android:"Webkit",phantom:"Webkit",opera:"Webkit",webos:"Webkit",blackberry:"Webkit",bada:"Webkit",tizen:"Webkit",chromium:"Webkit",vivaldi:"Webkit",firefox:"Moz",seamoney:"Moz",sailfish:"Moz",msie:"ms",msedge:"ms"},l={chrome:"chrome",chromium:"chrome",safari:"safari",firfox:"firefox",msedge:"edge",opera:"opera",vivaldi:"opera",msie:"ie"};t.exports=e.default},function(t,e,n){"use strict";function r(t,e,n){return"chrome"===t&&e<43||("safari"===t||"ios_saf"===t)&&e<9||"opera"===t&&e<30||"android"===t&&e<=4.4||"and_uc"===t?n+"keyframes":"keyframes"}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r,t.exports=e.default},function(t,e,n){"use strict";function r(t,e,n){if(t.hasOwnProperty(e))for(var r=t[e],i=0,o=r.length;i<o;++i)n[r[i]+(0,a.default)(e)]=n[e]}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=n(101),a=function(t){return t&&t.__esModule?t:{default:t}}(i);t.exports=e.default},function(t,e,n){(function(e){function n(t,n){function i(t){setTimeout(function(){o.onmessage({data:t})},0)}var a,o=this;if(n=n||{},r)return a=t.toString().trim().match(/^function\s*\w*\s*\([\w\s,]*\)\s*{([\w\W]*?)}$/)[1],new e.Worker(e.URL.createObjectURL(new e.Blob([a],{type:"text/javascript"})));this.self=n,this.self.postMessage=i,setTimeout(t.bind(n,n),0)}var r=!!(e===e.window&&e.URL&&e.Blob&&e.Worker);n.prototype.postMessage=function(t){var e=this;setTimeout(function(){e.self.onmessage({data:t})},0)},t.exports=n}).call(e,n(61))},function(t,e,n){(function(t){!function(e,n){t.exports=n()}(0,function(){"use strict";function e(){return br.apply(null,arguments)}function n(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function r(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function i(t){var e;for(e in t)return!1;return!0}function a(t){return void 0===t}function o(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function s(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function l(t,e){var n,r=[];for(n=0;n<t.length;++n)r.push(e(t[n],n));return r}function u(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function c(t,e){for(var n in e)u(e,n)&&(t[n]=e[n]);return u(e,"toString")&&(t.toString=e.toString),u(e,"valueOf")&&(t.valueOf=e.valueOf),t}function h(t,e,n,r){return ye(t,e,n,r,!0).utc()}function d(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function f(t){return null==t._pf&&(t._pf=d()),t._pf}function p(t){if(null==t._isValid){var e=f(t),n=_r.call(e.parsedDateParts,function(t){return null!=t}),r=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(r=r&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return r;t._isValid=r}return t._isValid}function m(t){var e=h(NaN);return null!=t?c(f(e),t):f(e).userInvalidated=!0,e}function g(t,e){var n,r,i;if(a(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),a(e._i)||(t._i=e._i),a(e._f)||(t._f=e._f),a(e._l)||(t._l=e._l),a(e._strict)||(t._strict=e._strict),a(e._tzm)||(t._tzm=e._tzm),a(e._isUTC)||(t._isUTC=e._isUTC),a(e._offset)||(t._offset=e._offset),a(e._pf)||(t._pf=f(e)),a(e._locale)||(t._locale=e._locale),wr.length>0)for(n=0;n<wr.length;n++)r=wr[n],i=e[r],a(i)||(t[r]=i);return t}function v(t){g(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Mr&&(Mr=!0,e.updateOffset(this),Mr=!1)}function y(t){return t instanceof v||null!=t&&null!=t._isAMomentObject}function b(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function x(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=b(e)),n}function _(t,e,n){var r,i=Math.min(t.length,e.length),a=Math.abs(t.length-e.length),o=0;for(r=0;r<i;r++)(n&&t[r]!==e[r]||!n&&x(t[r])!==x(e[r]))&&o++;return o+a}function w(t){!1===e.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function M(t,n){var r=!0;return c(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),r){for(var i,a=[],o=0;o<arguments.length;o++){if(i="","object"==typeof arguments[o]){i+="\n["+o+"] ";for(var s in arguments[0])i+=s+": "+arguments[0][s]+", ";i=i.slice(0,-2)}else i=arguments[o];a.push(i)}w(t+"\nArguments: "+Array.prototype.slice.call(a).join("")+"\n"+(new Error).stack),r=!1}return n.apply(this,arguments)},n)}function S(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),Sr[t]||(w(n),Sr[t]=!0)}function E(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function k(t){var e,n;for(n in t)e=t[n],E(e)?this[n]=e:this["_"+n]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function T(t,e){var n,i=c({},t);for(n in e)u(e,n)&&(r(t[n])&&r(e[n])?(i[n]={},c(i[n],t[n]),c(i[n],e[n])):null!=e[n]?i[n]=e[n]:delete i[n]);for(n in t)u(t,n)&&!u(e,n)&&r(t[n])&&(i[n]=c({},i[n]));return i}function C(t){null!=t&&this.set(t)}function P(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return E(r)?r.call(e,n):r}function O(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function A(){return this._invalidDate}function R(t){return this._ordinal.replace("%d",t)}function L(t,e,n,r){var i=this._relativeTime[n];return E(i)?i(t,e,n,r):i.replace(/%d/i,t)}function I(t,e){var n=this._relativeTime[t>0?"future":"past"];return E(n)?n(e):n.replace(/%s/i,e)}function D(t,e){var n=t.toLowerCase();Rr[n]=Rr[n+"s"]=Rr[e]=t}function N(t){return"string"==typeof t?Rr[t]||Rr[t.toLowerCase()]:void 0}function z(t){var e,n,r={};for(n in t)u(t,n)&&(e=N(n))&&(r[e]=t[n]);return r}function B(t,e){Lr[t]=e}function F(t){var e=[];for(var n in t)e.push({unit:n,priority:Lr[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}function U(t,n){return function(r){return null!=r?(W(this,t,r),e.updateOffset(this,n),this):j(this,t)}}function j(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function W(t,e,n){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](n)}function G(t){return t=N(t),E(this[t])?this[t]():this}function V(t,e){if("object"==typeof t){t=z(t);for(var n=F(t),r=0;r<n.length;r++)this[n[r].unit](t[n[r].unit])}else if(t=N(t),E(this[t]))return this[t](e);return this}function H(t,e,n){var r=""+Math.abs(t),i=e-r.length;return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function Y(t,e,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),t&&(zr[t]=i),e&&(zr[e[0]]=function(){return H(i.apply(this,arguments),e[1],e[2])}),n&&(zr[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function q(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function X(t){var e,n,r=t.match(Ir);for(e=0,n=r.length;e<n;e++)zr[r[e]]?r[e]=zr[r[e]]:r[e]=q(r[e]);return function(e){var i,a="";for(i=0;i<n;i++)a+=E(r[i])?r[i].call(e,t):r[i];return a}}function Z(t,e){return t.isValid()?(e=K(e,t.localeData()),Nr[e]=Nr[e]||X(e),Nr[e](t)):t.localeData().invalidDate()}function K(t,e){function n(t){return e.longDateFormat(t)||t}var r=5;for(Dr.lastIndex=0;r>=0&&Dr.test(t);)t=t.replace(Dr,n),Dr.lastIndex=0,r-=1;return t}function J(t,e,n){ei[t]=E(e)?e:function(t,r){return t&&n?n:e}}function Q(t,e){return u(ei,t)?ei[t](e._strict,e._locale):new RegExp($(t))}function $(t){return tt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,r,i){return e||n||r||i}))}function tt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function et(t,e){var n,r=e;for("string"==typeof t&&(t=[t]),o(e)&&(r=function(t,n){n[e]=x(t)}),n=0;n<t.length;n++)ni[t[n]]=r}function nt(t,e){et(t,function(t,n,r,i){r._w=r._w||{},e(t,r._w,r,i)})}function rt(t,e,n){null!=e&&u(ni,t)&&ni[t](e,n._a,n,t)}function it(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function at(t,e){return t?n(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||fi).test(e)?"format":"standalone"][t.month()]:n(this._months)?this._months:this._months.standalone}function ot(t,e){return t?n(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[fi.test(e)?"format":"standalone"][t.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function st(t,e,n){var r,i,a,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)a=h([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===e?(i=di.call(this._shortMonthsParse,o),-1!==i?i:null):(i=di.call(this._longMonthsParse,o),-1!==i?i:null):"MMM"===e?-1!==(i=di.call(this._shortMonthsParse,o))?i:(i=di.call(this._longMonthsParse,o),-1!==i?i:null):-1!==(i=di.call(this._longMonthsParse,o))?i:(i=di.call(this._shortMonthsParse,o),-1!==i?i:null)}function lt(t,e,n){var r,i,a;if(this._monthsParseExact)return st.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=h([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[r].test(t))return r;if(n&&"MMM"===e&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function ut(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=x(e);else if(e=t.localeData().monthsParse(e),!o(e))return t;return n=Math.min(t.date(),it(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function ct(t){return null!=t?(ut(this,t),e.updateOffset(this,!0),this):j(this,"Month")}function ht(){return it(this.year(),this.month())}function dt(t){return this._monthsParseExact?(u(this,"_monthsRegex")||pt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=gi),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function ft(t){return this._monthsParseExact?(u(this,"_monthsRegex")||pt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=vi),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function pt(){function t(t,e){return e.length-t.length}var e,n,r=[],i=[],a=[];for(e=0;e<12;e++)n=h([2e3,e]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),a.push(this.months(n,"")),a.push(this.monthsShort(n,""));for(r.sort(t),i.sort(t),a.sort(t),e=0;e<12;e++)r[e]=tt(r[e]),i[e]=tt(i[e]);for(e=0;e<24;e++)a[e]=tt(a[e]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function mt(t){return gt(t)?366:365}function gt(t){return t%4==0&&t%100!=0||t%400==0}function vt(){return gt(this.year())}function yt(t,e,n,r,i,a,o){var s=new Date(t,e,n,r,i,a,o);return t<100&&t>=0&&isFinite(s.getFullYear())&&s.setFullYear(t),s}function bt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function xt(t,e,n){var r=7+e-n;return-(7+bt(t,0,r).getUTCDay()-e)%7+r-1}function _t(t,e,n,r,i){var a,o,s=(7+n-r)%7,l=xt(t,r,i),u=1+7*(e-1)+s+l;return u<=0?(a=t-1,o=mt(a)+u):u>mt(t)?(a=t+1,o=u-mt(t)):(a=t,o=u),{year:a,dayOfYear:o}}function wt(t,e,n){var r,i,a=xt(t.year(),e,n),o=Math.floor((t.dayOfYear()-a-1)/7)+1;return o<1?(i=t.year()-1,r=o+Mt(i,e,n)):o>Mt(t.year(),e,n)?(r=o-Mt(t.year(),e,n),i=t.year()+1):(i=t.year(),r=o),{week:r,year:i}}function Mt(t,e,n){var r=xt(t,e,n),i=xt(t+1,e,n);return(mt(t)-r+i)/7}function St(t){return wt(t,this._week.dow,this._week.doy).week}function Et(){return this._week.dow}function kt(){return this._week.doy}function Tt(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function Ct(t){var e=wt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function Pt(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function Ot(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function At(t,e){return t?n(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:n(this._weekdays)?this._weekdays:this._weekdays.standalone}function Rt(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Lt(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin}function It(t,e,n){var r,i,a,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)a=h([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===e?(i=di.call(this._weekdaysParse,o),-1!==i?i:null):"ddd"===e?(i=di.call(this._shortWeekdaysParse,o),-1!==i?i:null):(i=di.call(this._minWeekdaysParse,o),-1!==i?i:null):"dddd"===e?-1!==(i=di.call(this._weekdaysParse,o))?i:-1!==(i=di.call(this._shortWeekdaysParse,o))?i:(i=di.call(this._minWeekdaysParse,o),-1!==i?i:null):"ddd"===e?-1!==(i=di.call(this._shortWeekdaysParse,o))?i:-1!==(i=di.call(this._weekdaysParse,o))?i:(i=di.call(this._minWeekdaysParse,o),-1!==i?i:null):-1!==(i=di.call(this._minWeekdaysParse,o))?i:-1!==(i=di.call(this._weekdaysParse,o))?i:(i=di.call(this._shortWeekdaysParse,o),-1!==i?i:null)}function Dt(t,e,n){var r,i,a;if(this._weekdaysParseExact)return It.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=h([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[r].test(t))return r;if(n&&"ddd"===e&&this._shortWeekdaysParse[r].test(t))return r;if(n&&"dd"===e&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function Nt(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Pt(t,this.localeData()),this.add(t-e,"d")):e}function zt(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Bt(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=Ot(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function Ft(t){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Wt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=Mi),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ut(t){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Wt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Si),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function jt(t){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Wt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ei),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Wt(){function t(t,e){return e.length-t.length}var e,n,r,i,a,o=[],s=[],l=[],u=[];for(e=0;e<7;e++)n=h([2e3,1]).day(e),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),a=this.weekdays(n,""),o.push(r),s.push(i),l.push(a),u.push(r),u.push(i),u.push(a);for(o.sort(t),s.sort(t),l.sort(t),u.sort(t),e=0;e<7;e++)s[e]=tt(s[e]),l[e]=tt(l[e]),u[e]=tt(u[e]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Gt(){return this.hours()%12||12}function Vt(){return this.hours()||24}function Ht(t,e){Y(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Yt(t,e){return e._meridiemParse}function qt(t){return"p"===(t+"").toLowerCase().charAt(0)}function Xt(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function Zt(t){return t?t.toLowerCase().replace("_","-"):t}function Kt(t){for(var e,n,r,i,a=0;a<t.length;){for(i=Zt(t[a]).split("-"),e=i.length,n=Zt(t[a+1]),n=n?n.split("-"):null;e>0;){if(r=Jt(i.slice(0,e).join("-")))return r;if(n&&n.length>=e&&_(i,n,!0)>=e-1)break;e--}a++}return null}function Jt(e){var n=null;if(!Oi[e]&&void 0!==t&&t&&t.exports)try{n=ki._abbr,function(){var t=new Error('Cannot find module "./locale"');throw t.code="MODULE_NOT_FOUND",t}(),Qt(n)}catch(t){}return Oi[e]}function Qt(t,e){var n;return t&&(n=a(e)?ee(t):$t(t,e))&&(ki=n),ki._abbr}function $t(t,e){if(null!==e){var n=Pi;if(e.abbr=t,null!=Oi[t])S("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Oi[t]._config;else if(null!=e.parentLocale){if(null==Oi[e.parentLocale])return Ai[e.parentLocale]||(Ai[e.parentLocale]=[]),Ai[e.parentLocale].push({name:t,config:e}),null;n=Oi[e.parentLocale]._config}return Oi[t]=new C(T(n,e)),Ai[t]&&Ai[t].forEach(function(t){$t(t.name,t.config)}),Qt(t),Oi[t]}return delete Oi[t],null}function te(t,e){if(null!=e){var n,r=Pi;null!=Oi[t]&&(r=Oi[t]._config),e=T(r,e),n=new C(e),n.parentLocale=Oi[t],Oi[t]=n,Qt(t)}else null!=Oi[t]&&(null!=Oi[t].parentLocale?Oi[t]=Oi[t].parentLocale:null!=Oi[t]&&delete Oi[t]);return Oi[t]}function ee(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return ki;if(!n(t)){if(e=Jt(t))return e;t=[t]}return Kt(t)}function ne(){return Tr(Oi)}function re(t){var e,n=t._a;return n&&-2===f(t).overflow&&(e=n[ii]<0||n[ii]>11?ii:n[ai]<1||n[ai]>it(n[ri],n[ii])?ai:n[oi]<0||n[oi]>24||24===n[oi]&&(0!==n[si]||0!==n[li]||0!==n[ui])?oi:n[si]<0||n[si]>59?si:n[li]<0||n[li]>59?li:n[ui]<0||n[ui]>999?ui:-1,f(t)._overflowDayOfYear&&(e<ri||e>ai)&&(e=ai),f(t)._overflowWeeks&&-1===e&&(e=ci),f(t)._overflowWeekday&&-1===e&&(e=hi),f(t).overflow=e),t}function ie(t){var e,n,r,i,a,o,s=t._i,l=Ri.exec(s)||Li.exec(s);if(l){for(f(t).iso=!0,e=0,n=Di.length;e<n;e++)if(Di[e][1].exec(l[1])){i=Di[e][0],r=!1!==Di[e][2];break}if(null==i)return void(t._isValid=!1);if(l[3]){for(e=0,n=Ni.length;e<n;e++)if(Ni[e][1].exec(l[3])){a=(l[2]||" ")+Ni[e][0];break}if(null==a)return void(t._isValid=!1)}if(!r&&null!=a)return void(t._isValid=!1);if(l[4]){if(!Ii.exec(l[4]))return void(t._isValid=!1);o="Z"}t._f=i+(a||"")+(o||""),he(t)}else t._isValid=!1}function ae(t){var e,n,r,i,a,o,s,l,u={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"},c="YXWVUTSRQPONZABCDEFGHIKLM";if(e=t._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),n=Bi.exec(e)){if(r=n[1]?"ddd"+(5===n[1].length?", ":" "):"",i="D MMM "+(n[2].length>10?"YYYY ":"YY "),a="HH:mm"+(n[4]?":ss":""),n[1]){var h=new Date(n[2]),d=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][h.getDay()];if(n[1].substr(0,3)!==d)return f(t).weekdayMismatch=!0,void(t._isValid=!1)}switch(n[5].length){case 2:0===l?s=" +0000":(l=c.indexOf(n[5][1].toUpperCase())-12,s=(l<0?" -":" +")+(""+l).replace(/^-?/,"0").match(/..$/)[0]+"00");break;case 4:s=u[n[5]];break;default:s=u[" GMT"]}n[5]=s,t._i=n.splice(1).join(""),o=" ZZ",t._f=r+i+a+o,he(t),f(t).rfc2822=!0}else t._isValid=!1}function oe(t){var n=zi.exec(t._i);if(null!==n)return void(t._d=new Date(+n[1]));ie(t),!1===t._isValid&&(delete t._isValid,ae(t),!1===t._isValid&&(delete t._isValid,e.createFromInputFallback(t)))}function se(t,e,n){return null!=t?t:null!=e?e:n}function le(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function ue(t){var e,n,r,i,a=[];if(!t._d){for(r=le(t),t._w&&null==t._a[ai]&&null==t._a[ii]&&ce(t),null!=t._dayOfYear&&(i=se(t._a[ri],r[ri]),(t._dayOfYear>mt(i)||0===t._dayOfYear)&&(f(t)._overflowDayOfYear=!0),n=bt(i,0,t._dayOfYear),t._a[ii]=n.getUTCMonth(),t._a[ai]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=a[e]=r[e];for(;e<7;e++)t._a[e]=a[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[oi]&&0===t._a[si]&&0===t._a[li]&&0===t._a[ui]&&(t._nextDay=!0,t._a[oi]=0),t._d=(t._useUTC?bt:yt).apply(null,a),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[oi]=24)}}function ce(t){var e,n,r,i,a,o,s,l;if(e=t._w,null!=e.GG||null!=e.W||null!=e.E)a=1,o=4,n=se(e.GG,t._a[ri],wt(be(),1,4).year),r=se(e.W,1),((i=se(e.E,1))<1||i>7)&&(l=!0);else{a=t._locale._week.dow,o=t._locale._week.doy;var u=wt(be(),a,o);n=se(e.gg,t._a[ri],u.year),r=se(e.w,u.week),null!=e.d?((i=e.d)<0||i>6)&&(l=!0):null!=e.e?(i=e.e+a,(e.e<0||e.e>6)&&(l=!0)):i=a}r<1||r>Mt(n,a,o)?f(t)._overflowWeeks=!0:null!=l?f(t)._overflowWeekday=!0:(s=_t(n,r,i,a,o),t._a[ri]=s.year,t._dayOfYear=s.dayOfYear)}function he(t){if(t._f===e.ISO_8601)return void ie(t);if(t._f===e.RFC_2822)return void ae(t);t._a=[],f(t).empty=!0;var n,r,i,a,o,s=""+t._i,l=s.length,u=0;for(i=K(t._f,t._locale).match(Ir)||[],n=0;n<i.length;n++)a=i[n],r=(s.match(Q(a,t))||[])[0],r&&(o=s.substr(0,s.indexOf(r)),o.length>0&&f(t).unusedInput.push(o),s=s.slice(s.indexOf(r)+r.length),u+=r.length),zr[a]?(r?f(t).empty=!1:f(t).unusedTokens.push(a),rt(a,r,t)):t._strict&&!r&&f(t).unusedTokens.push(a);f(t).charsLeftOver=l-u,s.length>0&&f(t).unusedInput.push(s),t._a[oi]<=12&&!0===f(t).bigHour&&t._a[oi]>0&&(f(t).bigHour=void 0),f(t).parsedDateParts=t._a.slice(0),f(t).meridiem=t._meridiem,t._a[oi]=de(t._locale,t._a[oi],t._meridiem),ue(t),re(t)}function de(t,e,n){var r;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(r=t.isPM(n),r&&e<12&&(e+=12),r||12!==e||(e=0),e):e}function fe(t){var e,n,r,i,a;if(0===t._f.length)return f(t).invalidFormat=!0,void(t._d=new Date(NaN));for(i=0;i<t._f.length;i++)a=0,e=g({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[i],he(e),p(e)&&(a+=f(e).charsLeftOver,a+=10*f(e).unusedTokens.length,f(e).score=a,(null==r||a<r)&&(r=a,n=e));c(t,n||e)}function pe(t){if(!t._d){var e=z(t._i);t._a=l([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),ue(t)}}function me(t){var e=new v(re(ge(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function ge(t){var e=t._i,r=t._f;return t._locale=t._locale||ee(t._l),null===e||void 0===r&&""===e?m({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),y(e)?new v(re(e)):(s(e)?t._d=e:n(r)?fe(t):r?he(t):ve(t),p(t)||(t._d=null),t))}function ve(t){var i=t._i;a(i)?t._d=new Date(e.now()):s(i)?t._d=new Date(i.valueOf()):"string"==typeof i?oe(t):n(i)?(t._a=l(i.slice(0),function(t){return parseInt(t,10)}),ue(t)):r(i)?pe(t):o(i)?t._d=new Date(i):e.createFromInputFallback(t)}function ye(t,e,a,o,s){var l={};return!0!==a&&!1!==a||(o=a,a=void 0),(r(t)&&i(t)||n(t)&&0===t.length)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=s,l._l=a,l._i=t,l._f=e,l._strict=o,me(l)}function be(t,e,n,r){return ye(t,e,n,r,!1)}function xe(t,e){var r,i;if(1===e.length&&n(e[0])&&(e=e[0]),!e.length)return be();for(r=e[0],i=1;i<e.length;++i)e[i].isValid()&&!e[i][t](r)||(r=e[i]);return r}function _e(){return xe("isBefore",[].slice.call(arguments,0))}function we(){return xe("isAfter",[].slice.call(arguments,0))}function Me(t){for(var e in t)if(-1===Wi.indexOf(e)||null!=t[e]&&isNaN(t[e]))return!1;for(var n=!1,r=0;r<Wi.length;++r)if(t[Wi[r]]){if(n)return!1;parseFloat(t[Wi[r]])!==x(t[Wi[r]])&&(n=!0)}return!0}function Se(){return this._isValid}function Ee(){return Ve(NaN)}function ke(t){var e=z(t),n=e.year||0,r=e.quarter||0,i=e.month||0,a=e.week||0,o=e.day||0,s=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._isValid=Me(e),this._milliseconds=+c+1e3*u+6e4*l+1e3*s*60*60,this._days=+o+7*a,this._months=+i+3*r+12*n,this._data={},this._locale=ee(),this._bubble()}function Te(t){return t instanceof ke}function Ce(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Pe(t,e){Y(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+H(~~(t/60),2)+e+H(~~t%60,2)})}function Oe(t,e){var n=(e||"").match(t);if(null===n)return null;var r=n[n.length-1]||[],i=(r+"").match(Gi)||["-",0,0],a=60*i[1]+x(i[2]);return 0===a?0:"+"===i[0]?a:-a}function Ae(t,n){var r,i;return n._isUTC?(r=n.clone(),i=(y(t)||s(t)?t.valueOf():be(t).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),e.updateOffset(r,!1),r):be(t).local()}function Re(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Le(t,n,r){var i,a=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Oe(Qr,t)))return this}else Math.abs(t)<16&&!r&&(t*=60);return!this._isUTC&&n&&(i=Re(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),a!==t&&(!n||this._changeInProgress?Ze(this,Ve(t-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:Re(this)}function Ie(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function De(t){return this.utcOffset(0,t)}function Ne(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Re(this),"m")),this}function ze(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Oe(Jr,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function Be(t){return!!this.isValid()&&(t=t?be(t).utcOffset():0,(this.utcOffset()-t)%60==0)}function Fe(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ue(){if(!a(this._isDSTShifted))return this._isDSTShifted;var t={};if(g(t,this),t=ge(t),t._a){var e=t._isUTC?h(t._a):be(t._a);this._isDSTShifted=this.isValid()&&_(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function je(){return!!this.isValid()&&!this._isUTC}function We(){return!!this.isValid()&&this._isUTC}function Ge(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Ve(t,e){var n,r,i,a=t,s=null;return Te(t)?a={ms:t._milliseconds,d:t._days,M:t._months}:o(t)?(a={},e?a[e]=t:a.milliseconds=t):(s=Vi.exec(t))?(n="-"===s[1]?-1:1,a={y:0,d:x(s[ai])*n,h:x(s[oi])*n,m:x(s[si])*n,s:x(s[li])*n,ms:x(Ce(1e3*s[ui]))*n}):(s=Hi.exec(t))?(n="-"===s[1]?-1:1,a={y:He(s[2],n),M:He(s[3],n),w:He(s[4],n),d:He(s[5],n),h:He(s[6],n),m:He(s[7],n),s:He(s[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(i=qe(be(a.from),be(a.to)),a={},a.ms=i.milliseconds,a.M=i.months),r=new ke(a),Te(t)&&u(t,"_locale")&&(r._locale=t._locale),r}function He(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Ye(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function qe(t,e){var n;return t.isValid()&&e.isValid()?(e=Ae(e,t),t.isBefore(e)?n=Ye(t,e):(n=Ye(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Xe(t,e){return function(n,r){var i,a;return null===r||isNaN(+r)||(S(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=n,n=r,r=a),n="string"==typeof n?+n:n,i=Ve(n,r),Ze(this,i,t),this}}function Ze(t,n,r,i){var a=n._milliseconds,o=Ce(n._days),s=Ce(n._months);t.isValid()&&(i=null==i||i,a&&t._d.setTime(t._d.valueOf()+a*r),o&&W(t,"Date",j(t,"Date")+o*r),s&&ut(t,j(t,"Month")+s*r),i&&e.updateOffset(t,o||s))}function Ke(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Je(t,n){var r=t||be(),i=Ae(r,this).startOf("day"),a=e.calendarFormat(this,i)||"sameElse",o=n&&(E(n[a])?n[a].call(this,r):n[a]);return this.format(o||this.localeData().calendar(a,this,be(r)))}function Qe(){return new v(this)}function $e(t,e){var n=y(t)?t:be(t);return!(!this.isValid()||!n.isValid())&&(e=N(a(e)?"millisecond":e),"millisecond"===e?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())}function tn(t,e){var n=y(t)?t:be(t);return!(!this.isValid()||!n.isValid())&&(e=N(a(e)?"millisecond":e),"millisecond"===e?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())}function en(t,e,n,r){return r=r||"()",("("===r[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===r[1]?this.isBefore(e,n):!this.isAfter(e,n))}function nn(t,e){var n,r=y(t)?t:be(t);return!(!this.isValid()||!r.isValid())&&(e=N(e||"millisecond"),"millisecond"===e?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))}function rn(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function an(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function on(t,e,n){var r,i,a,o;return this.isValid()?(r=Ae(t,this),r.isValid()?(i=6e4*(r.utcOffset()-this.utcOffset()),e=N(e),"year"===e||"month"===e||"quarter"===e?(o=sn(this,r),"quarter"===e?o/=3:"year"===e&&(o/=12)):(a=this-r,o="second"===e?a/1e3:"minute"===e?a/6e4:"hour"===e?a/36e5:"day"===e?(a-i)/864e5:"week"===e?(a-i)/6048e5:a),n?o:b(o)):NaN):NaN}function sn(t,e){var n,r,i=12*(e.year()-t.year())+(e.month()-t.month()),a=t.clone().add(i,"months");return e-a<0?(n=t.clone().add(i-1,"months"),r=(e-a)/(a-n)):(n=t.clone().add(i+1,"months"),r=(e-a)/(n-a)),-(i+r)||0}function ln(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function un(){if(!this.isValid())return null;var t=this.clone().utc();return t.year()<0||t.year()>9999?Z(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):E(Date.prototype.toISOString)?this.toDate().toISOString():Z(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function cn(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=e+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+i)}function hn(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=Z(this,t);return this.localeData().postformat(n)}function dn(t,e){return this.isValid()&&(y(t)&&t.isValid()||be(t).isValid())?Ve({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function fn(t){return this.from(be(),t)}function pn(t,e){return this.isValid()&&(y(t)&&t.isValid()||be(t).isValid())?Ve({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function mn(t){return this.to(be(),t)}function gn(t){var e;return void 0===t?this._locale._abbr:(e=ee(t),null!=e&&(this._locale=e),this)}function vn(){return this._locale}function yn(t){switch(t=N(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function bn(t){return void 0===(t=N(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))}function xn(){return this._d.valueOf()-6e4*(this._offset||0)}function _n(){return Math.floor(this.valueOf()/1e3)}function wn(){return new Date(this.valueOf())}function Mn(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Sn(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function En(){return this.isValid()?this.toISOString():null}function kn(){return p(this)}function Tn(){return c({},f(this))}function Cn(){return f(this).overflow}function Pn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function On(t,e){Y(0,[t,t.length],0,e)}function An(t){return Dn.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Rn(t){return Dn.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Ln(){return Mt(this.year(),1,4)}function In(){var t=this.localeData()._week;return Mt(this.year(),t.dow,t.doy)}function Dn(t,e,n,r,i){var a;return null==t?wt(this,r,i).year:(a=Mt(t,r,i),e>a&&(e=a),Nn.call(this,t,e,n,r,i))}function Nn(t,e,n,r,i){var a=_t(t,e,n,r,i),o=bt(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function zn(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Bn(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function Fn(t,e){e[ui]=x(1e3*("0."+t))}function Un(){return this._isUTC?"UTC":""}function jn(){return this._isUTC?"Coordinated Universal Time":""}function Wn(t){return be(1e3*t)}function Gn(){return be.apply(null,arguments).parseZone()}function Vn(t){return t}function Hn(t,e,n,r){var i=ee(),a=h().set(r,e);return i[n](a,t)}function Yn(t,e,n){if(o(t)&&(e=t,t=void 0),t=t||"",null!=e)return Hn(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Hn(t,r,n,"month");return i}function qn(t,e,n,r){"boolean"==typeof t?(o(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,o(e)&&(n=e,e=void 0),e=e||"");var i=ee(),a=t?i._week.dow:0;if(null!=n)return Hn(e,(n+a)%7,r,"day");var s,l=[];for(s=0;s<7;s++)l[s]=Hn(e,(s+a)%7,r,"day");return l}function Xn(t,e){return Yn(t,e,"months")}function Zn(t,e){return Yn(t,e,"monthsShort")}function Kn(t,e,n){return qn(t,e,n,"weekdays")}function Jn(t,e,n){return qn(t,e,n,"weekdaysShort")}function Qn(t,e,n){return qn(t,e,n,"weekdaysMin")}function $n(){var t=this._data;return this._milliseconds=na(this._milliseconds),this._days=na(this._days),this._months=na(this._months),t.milliseconds=na(t.milliseconds),t.seconds=na(t.seconds),t.minutes=na(t.minutes),t.hours=na(t.hours),t.months=na(t.months),t.years=na(t.years),this}function tr(t,e,n,r){var i=Ve(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function er(t,e){return tr(this,t,e,1)}function nr(t,e){return tr(this,t,e,-1)}function rr(t){return t<0?Math.floor(t):Math.ceil(t)}function ir(){var t,e,n,r,i,a=this._milliseconds,o=this._days,s=this._months,l=this._data;return a>=0&&o>=0&&s>=0||a<=0&&o<=0&&s<=0||(a+=864e5*rr(or(s)+o),o=0,s=0),l.milliseconds=a%1e3,t=b(a/1e3),l.seconds=t%60,e=b(t/60),l.minutes=e%60,n=b(e/60),l.hours=n%24,o+=b(n/24),i=b(ar(o)),s+=i,o-=rr(or(i)),r=b(s/12),s%=12,l.days=o,l.months=s,l.years=r,this}function ar(t){return 4800*t/146097}function or(t){return 146097*t/4800}function sr(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if("month"===(t=N(t))||"year"===t)return e=this._days+r/864e5,n=this._months+ar(e),"month"===t?n:n/12;switch(e=this._days+Math.round(or(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return 24*e+r/36e5;case"minute":return 1440*e+r/6e4;case"second":return 86400*e+r/1e3;case"millisecond":return Math.floor(864e5*e)+r;default:throw new Error("Unknown unit "+t)}}function lr(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*x(this._months/12):NaN}function ur(t){return function(){return this.as(t)}}function cr(t){return t=N(t),this.isValid()?this[t+"s"]():NaN}function hr(t){return function(){return this.isValid()?this._data[t]:NaN}}function dr(){return b(this.days()/7)}function fr(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function pr(t,e,n){var r=Ve(t).abs(),i=ya(r.as("s")),a=ya(r.as("m")),o=ya(r.as("h")),s=ya(r.as("d")),l=ya(r.as("M")),u=ya(r.as("y")),c=i<=ba.ss&&["s",i]||i<ba.s&&["ss",i]||a<=1&&["m"]||a<ba.m&&["mm",a]||o<=1&&["h"]||o<ba.h&&["hh",o]||s<=1&&["d"]||s<ba.d&&["dd",s]||l<=1&&["M"]||l<ba.M&&["MM",l]||u<=1&&["y"]||["yy",u];return c[2]=e,c[3]=+t>0,c[4]=n,fr.apply(null,c)}function mr(t){return void 0===t?ya:"function"==typeof t&&(ya=t,!0)}function gr(t,e){return void 0!==ba[t]&&(void 0===e?ba[t]:(ba[t]=e,"s"===t&&(ba.ss=e-1),!0))}function vr(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),n=pr(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function yr(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n,r=xa(this._milliseconds)/1e3,i=xa(this._days),a=xa(this._months);t=b(r/60),e=b(t/60),r%=60,t%=60,n=b(a/12),a%=12;var o=n,s=a,l=i,u=e,c=t,h=r,d=this.asSeconds();return d?(d<0?"-":"")+"P"+(o?o+"Y":"")+(s?s+"M":"")+(l?l+"D":"")+(u||c||h?"T":"")+(u?u+"H":"")+(c?c+"M":"")+(h?h+"S":""):"P0D"}var br,xr;xr=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};var _r=xr,wr=e.momentProperties=[],Mr=!1,Sr={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var Er;Er=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)u(t,e)&&n.push(e);return n};var kr,Tr=Er,Cr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Pr={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Or=/\d{1,2}/,Ar={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Rr={},Lr={},Ir=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Dr=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Nr={},zr={},Br=/\d/,Fr=/\d\d/,Ur=/\d{3}/,jr=/\d{4}/,Wr=/[+-]?\d{6}/,Gr=/\d\d?/,Vr=/\d\d\d\d?/,Hr=/\d\d\d\d\d\d?/,Yr=/\d{1,3}/,qr=/\d{1,4}/,Xr=/[+-]?\d{1,6}/,Zr=/\d+/,Kr=/[+-]?\d+/,Jr=/Z|[+-]\d\d:?\d\d/gi,Qr=/Z|[+-]\d\d(?::?\d\d)?/gi,$r=/[+-]?\d+(\.\d{1,3})?/,ti=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ei={},ni={},ri=0,ii=1,ai=2,oi=3,si=4,li=5,ui=6,ci=7,hi=8;kr=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};var di=kr;Y("M",["MM",2],"Mo",function(){return this.month()+1}),Y("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),Y("MMMM",0,0,function(t){return this.localeData().months(this,t)}),D("month","M"),B("month",8),J("M",Gr),J("MM",Gr,Fr),J("MMM",function(t,e){return e.monthsShortRegex(t)}),J("MMMM",function(t,e){return e.monthsRegex(t)}),et(["M","MM"],function(t,e){e[ii]=x(t)-1}),et(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);null!=i?e[ii]=i:f(n).invalidMonth=t});var fi=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,pi="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),mi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),gi=ti,vi=ti;Y("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),Y(0,["YY",2],0,function(){return this.year()%100}),Y(0,["YYYY",4],0,"year"),Y(0,["YYYYY",5],0,"year"),Y(0,["YYYYYY",6,!0],0,"year"),D("year","y"),B("year",1),J("Y",Kr),J("YY",Gr,Fr),J("YYYY",qr,jr),J("YYYYY",Xr,Wr),J("YYYYYY",Xr,Wr),et(["YYYYY","YYYYYY"],ri),et("YYYY",function(t,n){n[ri]=2===t.length?e.parseTwoDigitYear(t):x(t)}),et("YY",function(t,n){n[ri]=e.parseTwoDigitYear(t)}),et("Y",function(t,e){e[ri]=parseInt(t,10)}),e.parseTwoDigitYear=function(t){return x(t)+(x(t)>68?1900:2e3)};var yi=U("FullYear",!0);Y("w",["ww",2],"wo","week"),Y("W",["WW",2],"Wo","isoWeek"),D("week","w"),D("isoWeek","W"),B("week",5),B("isoWeek",5),J("w",Gr),J("ww",Gr,Fr),J("W",Gr),J("WW",Gr,Fr),nt(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=x(t)});var bi={dow:0,doy:6};Y("d",0,"do","day"),Y("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),Y("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),Y("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),Y("e",0,0,"weekday"),Y("E",0,0,"isoWeekday"),D("day","d"),D("weekday","e"),D("isoWeekday","E"),B("day",11),B("weekday",11),B("isoWeekday",11),J("d",Gr),J("e",Gr),J("E",Gr),J("dd",function(t,e){return e.weekdaysMinRegex(t)}),J("ddd",function(t,e){return e.weekdaysShortRegex(t)}),J("dddd",function(t,e){return e.weekdaysRegex(t)}),nt(["dd","ddd","dddd"],function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);null!=i?e.d=i:f(n).invalidWeekday=t}),nt(["d","e","E"],function(t,e,n,r){e[r]=x(t)});var xi="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),_i="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),wi="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Mi=ti,Si=ti,Ei=ti;Y("H",["HH",2],0,"hour"),Y("h",["hh",2],0,Gt),Y("k",["kk",2],0,Vt),Y("hmm",0,0,function(){return""+Gt.apply(this)+H(this.minutes(),2)}),Y("hmmss",0,0,function(){return""+Gt.apply(this)+H(this.minutes(),2)+H(this.seconds(),2)}),Y("Hmm",0,0,function(){return""+this.hours()+H(this.minutes(),2)}),Y("Hmmss",0,0,function(){return""+this.hours()+H(this.minutes(),2)+H(this.seconds(),2)}),Ht("a",!0),Ht("A",!1),D("hour","h"),B("hour",13),J("a",Yt),J("A",Yt),J("H",Gr),J("h",Gr),J("k",Gr),J("HH",Gr,Fr),J("hh",Gr,Fr),J("kk",Gr,Fr),J("hmm",Vr),J("hmmss",Hr),J("Hmm",Vr),J("Hmmss",Hr),et(["H","HH"],oi),et(["k","kk"],function(t,e,n){var r=x(t);e[oi]=24===r?0:r}),et(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),et(["h","hh"],function(t,e,n){e[oi]=x(t),f(n).bigHour=!0}),et("hmm",function(t,e,n){var r=t.length-2;e[oi]=x(t.substr(0,r)),e[si]=x(t.substr(r)),f(n).bigHour=!0}),et("hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[oi]=x(t.substr(0,r)),e[si]=x(t.substr(r,2)),e[li]=x(t.substr(i)),f(n).bigHour=!0}),et("Hmm",function(t,e,n){var r=t.length-2;e[oi]=x(t.substr(0,r)),e[si]=x(t.substr(r))}),et("Hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[oi]=x(t.substr(0,r)),e[si]=x(t.substr(r,2)),e[li]=x(t.substr(i))});var ki,Ti=/[ap]\.?m?\.?/i,Ci=U("Hours",!0),Pi={calendar:Cr,longDateFormat:Pr,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:Or,relativeTime:Ar,months:pi,monthsShort:mi,week:bi,weekdays:xi,weekdaysMin:wi,weekdaysShort:_i,meridiemParse:Ti},Oi={},Ai={},Ri=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Li=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ii=/Z|[+-]\d\d(?::?\d\d)?/,Di=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Ni=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],zi=/^\/?Date\((\-?\d+)/i,Bi=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;e.createFromInputFallback=M("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),e.ISO_8601=function(){},e.RFC_2822=function(){};var Fi=M("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=be.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:m()}),Ui=M("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=be.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:m()}),ji=function(){return Date.now?Date.now():+new Date},Wi=["year","quarter","month","week","day","hour","minute","second","millisecond"];Pe("Z",":"),Pe("ZZ",""),J("Z",Qr),J("ZZ",Qr),et(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Oe(Qr,t)});var Gi=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Vi=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Hi=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Ve.fn=ke.prototype,Ve.invalid=Ee;var Yi=Xe(1,"add"),qi=Xe(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Xi=M("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});Y(0,["gg",2],0,function(){return this.weekYear()%100}),Y(0,["GG",2],0,function(){return this.isoWeekYear()%100}),On("gggg","weekYear"),On("ggggg","weekYear"),On("GGGG","isoWeekYear"),On("GGGGG","isoWeekYear"),D("weekYear","gg"),D("isoWeekYear","GG"),B("weekYear",1),B("isoWeekYear",1),J("G",Kr),J("g",Kr),J("GG",Gr,Fr),J("gg",Gr,Fr),J("GGGG",qr,jr),J("gggg",qr,jr),J("GGGGG",Xr,Wr),J("ggggg",Xr,Wr),nt(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=x(t)}),nt(["gg","GG"],function(t,n,r,i){n[i]=e.parseTwoDigitYear(t)}),Y("Q",0,"Qo","quarter"),D("quarter","Q"),B("quarter",7),J("Q",Br),et("Q",function(t,e){e[ii]=3*(x(t)-1)}),Y("D",["DD",2],"Do","date"),D("date","D"),B("date",9),J("D",Gr),J("DD",Gr,Fr),J("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),et(["D","DD"],ai),et("Do",function(t,e){e[ai]=x(t.match(Gr)[0],10)});var Zi=U("Date",!0);Y("DDD",["DDDD",3],"DDDo","dayOfYear"),D("dayOfYear","DDD"),B("dayOfYear",4),J("DDD",Yr),J("DDDD",Ur),et(["DDD","DDDD"],function(t,e,n){n._dayOfYear=x(t)}),Y("m",["mm",2],0,"minute"),D("minute","m"),B("minute",14),J("m",Gr),J("mm",Gr,Fr),et(["m","mm"],si);var Ki=U("Minutes",!1);Y("s",["ss",2],0,"second"),D("second","s"),B("second",15),J("s",Gr),J("ss",Gr,Fr),et(["s","ss"],li);var Ji=U("Seconds",!1);Y("S",0,0,function(){return~~(this.millisecond()/100)}),Y(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Y(0,["SSS",3],0,"millisecond"),Y(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Y(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Y(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Y(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Y(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Y(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),D("millisecond","ms"),B("millisecond",16),J("S",Yr,Br),J("SS",Yr,Fr),J("SSS",Yr,Ur);var Qi;for(Qi="SSSS";Qi.length<=9;Qi+="S")J(Qi,Zr);for(Qi="S";Qi.length<=9;Qi+="S")et(Qi,Fn);var $i=U("Milliseconds",!1);Y("z",0,0,"zoneAbbr"),Y("zz",0,0,"zoneName");var ta=v.prototype;ta.add=Yi,ta.calendar=Je,ta.clone=Qe,ta.diff=on,ta.endOf=bn,ta.format=hn,ta.from=dn,ta.fromNow=fn,ta.to=pn,ta.toNow=mn,ta.get=G,ta.invalidAt=Cn,ta.isAfter=$e,ta.isBefore=tn,ta.isBetween=en,ta.isSame=nn,ta.isSameOrAfter=rn,ta.isSameOrBefore=an,ta.isValid=kn,ta.lang=Xi,ta.locale=gn,ta.localeData=vn,ta.max=Ui,ta.min=Fi,ta.parsingFlags=Tn,ta.set=V,ta.startOf=yn,ta.subtract=qi,ta.toArray=Mn,ta.toObject=Sn,ta.toDate=wn,ta.toISOString=un,ta.inspect=cn,ta.toJSON=En,ta.toString=ln,ta.unix=_n,ta.valueOf=xn,ta.creationData=Pn,ta.year=yi,ta.isLeapYear=vt,ta.weekYear=An,ta.isoWeekYear=Rn,ta.quarter=ta.quarters=zn,ta.month=ct,ta.daysInMonth=ht,ta.week=ta.weeks=Tt,ta.isoWeek=ta.isoWeeks=Ct,ta.weeksInYear=In,ta.isoWeeksInYear=Ln,ta.date=Zi,ta.day=ta.days=Nt,ta.weekday=zt,ta.isoWeekday=Bt,ta.dayOfYear=Bn,ta.hour=ta.hours=Ci,ta.minute=ta.minutes=Ki,ta.second=ta.seconds=Ji,ta.millisecond=ta.milliseconds=$i,ta.utcOffset=Le,ta.utc=De,ta.local=Ne,ta.parseZone=ze,ta.hasAlignedHourOffset=Be,ta.isDST=Fe,ta.isLocal=je,ta.isUtcOffset=We,ta.isUtc=Ge,ta.isUTC=Ge,ta.zoneAbbr=Un,ta.zoneName=jn,ta.dates=M("dates accessor is deprecated. Use date instead.",Zi),ta.months=M("months accessor is deprecated. Use month instead",ct),ta.years=M("years accessor is deprecated. Use year instead",yi),ta.zone=M("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Ie),ta.isDSTShifted=M("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ue);var ea=C.prototype;ea.calendar=P,ea.longDateFormat=O,ea.invalidDate=A,ea.ordinal=R,ea.preparse=Vn,ea.postformat=Vn,ea.relativeTime=L,ea.pastFuture=I,ea.set=k,ea.months=at,ea.monthsShort=ot,ea.monthsParse=lt,ea.monthsRegex=ft,ea.monthsShortRegex=dt,ea.week=St,ea.firstDayOfYear=kt,ea.firstDayOfWeek=Et,ea.weekdays=At,ea.weekdaysMin=Lt,ea.weekdaysShort=Rt,ea.weekdaysParse=Dt,ea.weekdaysRegex=Ft,ea.weekdaysShortRegex=Ut,ea.weekdaysMinRegex=jt,ea.isPM=qt,ea.meridiem=Xt,Qt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===x(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),e.lang=M("moment.lang is deprecated. Use moment.locale instead.",Qt),e.langData=M("moment.langData is deprecated. Use moment.localeData instead.",ee);var na=Math.abs,ra=ur("ms"),ia=ur("s"),aa=ur("m"),oa=ur("h"),sa=ur("d"),la=ur("w"),ua=ur("M"),ca=ur("y"),ha=hr("milliseconds"),da=hr("seconds"),fa=hr("minutes"),pa=hr("hours"),ma=hr("days"),ga=hr("months"),va=hr("years"),ya=Math.round,ba={ss:44,s:45,m:45,h:22,d:26,M:11},xa=Math.abs,_a=ke.prototype;return _a.isValid=Se,_a.abs=$n,_a.add=er,_a.subtract=nr,_a.as=sr,_a.asMilliseconds=ra,_a.asSeconds=ia,_a.asMinutes=aa,_a.asHours=oa,_a.asDays=sa,_a.asWeeks=la,_a.asMonths=ua,_a.asYears=ca,_a.valueOf=lr,_a._bubble=ir,_a.get=cr,_a.milliseconds=ha,_a.seconds=da,_a.minutes=fa,_a.hours=pa,_a.days=ma,_a.weeks=dr,_a.months=ga,_a.years=va,_a.humanize=vr,_a.toISOString=yr,_a.toString=yr,_a.toJSON=yr,_a.locale=gn,_a.localeData=vn,_a.toIsoString=M("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",yr),_a.lang=Xi,Y("X",0,0,"unix"),Y("x",0,0,"valueOf"),J("x",Kr),J("X",$r),et("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),et("x",function(t,e,n){n._d=new Date(x(t))}),e.version="2.18.1",function(t){br=t}(be),e.fn=ta,e.min=_e,e.max=we,e.now=ji,e.utc=h,e.unix=Wn,e.months=Xn,e.isDate=s,e.locale=Qt,e.invalid=m,e.duration=Ve,e.isMoment=y,e.weekdays=Kn,e.parseZone=Gn,e.localeData=ee,e.isDuration=Te,e.monthsShort=Zn,e.weekdaysMin=Qn,e.defineLocale=$t,e.updateLocale=te,e.locales=ne,e.weekdaysShort=Jn,e.normalizeUnits=N,e.relativeTimeRounding=mr,e.relativeTimeThreshold=gr,e.calendarFormat=Ke,e.prototype=ta,e})}).call(e,n(112)(t))},function(t,e,n){var r=n(374),i=n(377),a=n(376),o=n(378),s=n(375),l=[0,0];t.exports.computeMiter=function(t,e,n,o,u){return r(t,n,o),a(t,t),i(e,-t[1],t[0]),i(l,-n[1],n[0]),u/s(e,l)},t.exports.normal=function(t,e){return i(t,-e[1],e[0]),t},t.exports.direction=function(t,e,n){return o(t,e,n),a(t,t),t}},function(t,e,n){function r(t,e,n){t.push([[e[0],e[1]],n])}var i=n(412),a=[0,0],o=[0,0],s=[0,0],l=[0,0];t.exports=function(t,e){var n=null,u=[];e&&(t=t.slice(),t.push(t[0]));for(var c=t.length,h=1;h<c;h++){var d=t[h-1],f=t[h],p=h<t.length-1?t[h+1]:null;if(i.direction(a,f,d),n||(n=[0,0],i.normal(n,a)),1===h&&r(u,n,1),p){i.direction(o,p,f);var m=i.computeMiter(s,l,a,o,1);r(u,l,m)}else i.normal(n,a),r(u,n,1)}if(t.length>2&&e){var g=t[c-2],v=t[0],y=t[1];i.direction(a,v,g),i.direction(o,y,v),i.normal(n,a);var b=i.computeMiter(s,l,a,o,1);u[0][0]=l.slice(),u[c-1][0]=l.slice(),u[0][1]=b,u[c-1][1]=b,u.pop()}return u}},function(t,e,n){"use strict";function r(t,e,n){if(!(this instanceof r))return new r(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===e){var i=t.split(",");this.x=parseFloat(i[0],10),this.y=parseFloat(i[1],10),this.z=parseFloat(i[2],10)||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}var i=n(148);r.fromMGRS=function(t){return new r(n.i(i.b)(t))},r.prototype.toMGRS=function(t){return n.i(i.c)([this.x,this.y],t)},e.a=r},function(t,e,n){"use strict";e.a=function(t,e,n){var r,i,a,o=n.x,s=n.y,l=n.z||0,u={};for(a=0;a<3;a++)if(!e||2!==a||void 0!==n.z)switch(0===a?(r=o,i="x"):1===a?(r=s,i="y"):(r=l,i="z"),t.axis[a]){case"e":u[i]=r;break;case"w":u[i]=-r;break;case"n":u[i]=r;break;case"s":u[i]=-r;break;case"u":void 0!==n[i]&&(u.z=r);break;case"d":void 0!==n[i]&&(u.z=-r);break;default:return null}return u}},function(t,e,n){"use strict";function r(t){if("function"==typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof t||t!==t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}e.a=function(t){r(t.x),r(t.y)}},function(t,e,n){"use strict";var r=n(11);e.a=function(t,e){if(void 0===t){if((t=Math.floor(30*(n.i(r.a)(e)+Math.PI)/Math.PI)+1)<0)return 0;if(t>60)return 60}return t}},function(t,e,n){"use strict";var r=n(149),i=n(424);e.a=function(t){var e=Math.abs(t);return e=n.i(i.a)(e*(1+e/(n.i(r.a)(1,e)+1))),t<0?-e:e}},function(t,e,n){"use strict";e.a=function(t,e){for(var n,r=2*Math.cos(e),i=t.length-1,a=t[i],o=0;--i>=0;)n=r*a-o+t[i],o=a,a=n;return Math.sin(e)*n}},function(t,e,n){"use strict";var r=n(152),i=n(421);e.a=function(t,e,a){for(var o,s,l=Math.sin(e),u=Math.cos(e),c=n.i(r.a)(a),h=n.i(i.a)(a),d=2*u*h,f=-2*l*c,p=t.length-1,m=t[p],g=0,v=0,y=0;--p>=0;)o=v,s=g,v=m,g=y,m=d*v-o-f*g+t[p],y=f*v-s+d*g;return d=l*h,f=u*c,[d*m-f*y,d*y+f*m]}},function(t,e,n){"use strict";e.a=function(t){var e=Math.exp(t);return e=(e+1/e)/2}},function(t,e,n){"use strict";e.a=function(t,e){for(var n,r=2*Math.cos(2*e),i=t.length-1,a=t[i],o=0;--i>=0;)n=r*a-o+t[i],o=a,a=n;return e+n*Math.sin(2*e)}},function(t,e,n){"use strict";var r=n(7);e.a=function(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*r.a:r.a;for(var i,a,o,s,l=Math.asin(.5*e),u=0;u<30;u++)if(a=Math.sin(l),o=Math.cos(l),s=t*a,i=Math.pow(1-s*s,2)/(2*o)*(e/(1-t*t)-a/(1-s*s)+.5/t*Math.log((1-s)/(1+s))),l+=i,Math.abs(i)<=1e-10)return l;return NaN}},function(t,e,n){"use strict";e.a=function(t){var e=1+t,n=e-1;return 0===n?t:t*Math.log(e)/n}},function(t,e,n){"use strict";e.a=function(t,e){return Math.pow((1-t)/(1+t),e)}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={};r.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},r.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},r.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},r.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},r.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},r.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},r.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},r.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},r.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},r.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},r.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},r.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},r.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},r.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},r.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},r.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},r.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});var r={};r.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},r.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},r.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},r.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},r.airy={a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},r.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},r.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},r.mod_airy={a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},r.andrae={a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},r.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},r.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},r.bessel={a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},r.bess_nam={a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},r.clrk66={a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},r.clrk80={a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},r.clrk58={a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},r.CPM={a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},r.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},r.engelis={a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},r.evrst30={a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},r.evrst48={a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},r.evrst56={a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},r.evrst69={a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},r.evrstSS={a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},r.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},r.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},r.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},r.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},r.hough={a:6378270,rf:297,ellipseName:"Hough"},r.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},r.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},r.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},r.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},r.new_intl={a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},r.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},r.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},r.SEasia={a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},r.walbeck={a:6376896,b:6355834.8467,ellipseName:"Walbeck"},r.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},r.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},r.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var i=r.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};r.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={};r.greenwich=0,r.lisbon=-9.131906111111,r.paris=2.337229166667,r.bogota=-74.080916666667,r.madrid=-3.687938888889,r.rome=12.452333333333,r.bern=7.439583333333,r.jakarta=106.807719444444,r.ferro=-17.666666666667,r.brussels=4.367975,r.stockholm=18.058277777778,r.athens=23.7163375,r.oslo=10.722916666667},function(t,e,n){"use strict";e.a={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}}},function(t,e,n){"use strict";function r(t,e,r){var i,a,o;return Array.isArray(r)?(i=n.i(s.a)(t,e,r),3===r.length?[i.x,i.y,i.z]:[i.x,i.y]):(a=n.i(s.a)(t,e,r),o=Object.keys(r),2===o.length?a:(o.forEach(function(t){"x"!==t&&"y"!==t&&(a[t]=r[t])}),a))}function i(t){return t instanceof o.a?t:t.oProj?t.oProj:n.i(o.a)(t)}function a(t,e,n){t=i(t);var a,o=!1;return void 0===e?(e=t,t=l,o=!0):(void 0!==e.x||Array.isArray(e))&&(n=e,e=t,t=l,o=!0),e=i(e),n?r(t,e,n):(a={forward:function(n){return r(t,e,n)},inverse:function(n){return r(e,t,n)}},o&&(a.oProj=e),a)}var o=n(103),s=n(157),l=n.i(o.a)("WGS84");e.a=a},function(t,e,n){"use strict";function r(t,e,n,r,a,o){var s={};return s.datum_type=void 0===t||"none"===t?i.k:i.l,e&&(s.datum_params=e.map(parseFloat),0===s.datum_params[0]&&0===s.datum_params[1]&&0===s.datum_params[2]||(s.datum_type=i.h),s.datum_params.length>3&&(0===s.datum_params[3]&&0===s.datum_params[4]&&0===s.datum_params[5]&&0===s.datum_params[6]||(s.datum_type=i.i,s.datum_params[3]*=i.f,s.datum_params[4]*=i.f,s.datum_params[5]*=i.f,s.datum_params[6]=s.datum_params[6]/1e6+1))),s.a=n,s.b=r,s.es=a,s.ep2=o,s}var i=n(7);e.a=r},function(t,e,n){"use strict";function r(t,e){return t.datum_type===e.datum_type&&(!(t.a!==e.a||Math.abs(t.es-e.es)>5e-11)&&(t.datum_type===l.h?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type!==l.i||t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6]))}function i(t,e,n){var r,i,a,o,s=t.x,u=t.y,c=t.z?t.z:0;if(u<-l.a&&u>-1.001*l.a)u=-l.a;else if(u>l.a&&u<1.001*l.a)u=l.a;else if(u<-l.a||u>l.a)return null;return s>Math.PI&&(s-=2*Math.PI),i=Math.sin(u),o=Math.cos(u),a=i*i,r=n/Math.sqrt(1-e*a),{x:(r+c)*o*Math.cos(s),y:(r+c)*o*Math.sin(s),z:(r*(1-e)+c)*i}}function a(t,e,n,r){var i,a,o,s,u,c,h,d,f,p,m,g,v,y,b,x,_=t.x,w=t.y,M=t.z?t.z:0;if(i=Math.sqrt(_*_+w*w),a=Math.sqrt(_*_+w*w+M*M),i/n<1e-12){if(y=0,a/n<1e-12)return b=l.a,x=-r,{x:t.x,y:t.y,z:t.z}}else y=Math.atan2(w,_);o=M/a,s=i/a,u=1/Math.sqrt(1-e*(2-e)*s*s),d=s*(1-e)*u,f=o*u,v=0;do{v++,h=n/Math.sqrt(1-e*f*f),x=i*d+M*f-h*(1-e*f*f),c=e*h/(h+x),u=1/Math.sqrt(1-c*(2-c)*s*s),p=s*(1-c)*u,m=o*u,g=m*d-p*f,d=p,f=m}while(g*g>1e-24&&v<30);return b=Math.atan(m/Math.abs(p)),{x:y,y:b,z:x}}function o(t,e,n){if(e===l.h)return{x:t.x+n[0],y:t.y+n[1],z:t.z+n[2]};if(e===l.i){var r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],u=n[5],c=n[6];return{x:c*(t.x-u*t.y+s*t.z)+r,y:c*(u*t.x+t.y-o*t.z)+i,z:c*(-s*t.x+o*t.y+t.z)+a}}}function s(t,e,n){if(e===l.h)return{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]};if(e===l.i){var r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],u=n[5],c=n[6],h=(t.x-r)/c,d=(t.y-i)/c,f=(t.z-a)/c;return{x:h+u*d-s*f,y:-u*h+d+o*f,z:s*h-o*d+f}}}e.a=r,e.b=i,e.e=a,e.c=o,e.d=s;var l=n(7)},function(t,e,n){"use strict";function r(t){return t===i.h||t===i.i}var i=n(7),a=n(432);e.a=function(t,e,o){return n.i(a.a)(t,e)?o:t.datum_type===i.k||e.datum_type===i.k?o:t.es!==e.es||t.a!==e.a||r(t.datum_type)||r(e.datum_type)?(o=n.i(a.b)(o,t.es,t.a),r(t.datum_type)&&(o=n.i(a.c)(o,t.datum_type,t.datum_params)),r(e.datum_type)&&(o=n.i(a.d)(o,e.datum_type,e.datum_params)),n.i(a.e)(o,e.es,e.a,e.b)):o}},function(t,e,n){"use strict";function r(t,e,n,r){var i=t*t,o=e*e,s=(i-o)/i,l=0;return r?(t*=1-s*(a.m+s*(a.n+s*a.o)),i=t*t,s=0):l=Math.sqrt(s),{es:s,e:l,ep2:(i-o)/o}}function i(t,e,r,i,l){if(!t){var u=n.i(s.a)(o.a,i);u||(u=o.b),t=u.a,e=u.b,r=u.rf}return r&&!e&&(e=(1-1/r)*t),(0===r||Math.abs(t-e)<a.d)&&(l=!0,e=t),{a:t,b:e,rf:r,sphere:l}}e.b=r,e.a=i;var a=n(7),o=n(427),s=n(108)},function(t,e,n){"use strict";e.a=function(t,e){t=t||{};var n,r;if(!e)return t;for(r in e)void 0!==(n=e[r])&&(t[r]=n);return t}},function(t,e,n){"use strict";e.a=function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(430),i=n(103),a=n(414),o=n(153),s=n(154),l=n(157),u=n(148),c=n(467),h=n(468);r.a.defaultDatum="WGS84",r.a.Proj=i.a,r.a.WGS84=new r.a.Proj("WGS84"),r.a.Point=a.a,r.a.toPoint=o.a,r.a.defs=s.a,r.a.transform=l.a,r.a.mgrs=u.a,r.a.version=c.a,n.i(h.a)(r.a),e.default=r.a},function(t,e,n){"use strict";function r(t){return"string"==typeof t}function i(t){return t in l.a}function a(t){return h.some(function(e){return t.indexOf(e)>-1})}function o(t){return"+"===t[0]}function s(t){return r(t)?i(t)?l.a[t]:a(t)?n.i(u.a)(t):o(t)?n.i(c.a)(t):void 0:t}var l=n(154),u=n(162),c=n(155),h=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];e.a=s},function(t,e,n){"use strict";function r(t,e){var n=c.length;return t.names?(c[n]=t,t.names.forEach(function(t){u[t.toLowerCase()]=n}),this):(console.log(e),!0)}function i(t){if(!t)return!1;var e=t.toLowerCase();return void 0!==u[e]&&c[u[e]]?c[u[e]]:void 0}function a(){l.forEach(r)}var o=n(452),s=n(451),l=[o.a,s.a],u={},c=[];e.a={start:a,add:r,get:i}},function(t,e,n){"use strict";function r(){Math.abs(this.lat1+this.lat2)<h.d||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=n.i(s.a)(this.e3,this.sin_po,this.cos_po),this.qs1=n.i(l.a)(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=n.i(s.a)(this.e3,this.sin_po,this.cos_po),this.qs2=n.i(l.a)(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=n.i(l.a)(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>h.d?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function i(t){var e=t.x,r=t.y;this.sin_phi=Math.sin(r),this.cos_phi=Math.cos(r);var i=n.i(l.a)(this.e3,this.sin_phi,this.cos_phi),a=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,o=this.ns0*n.i(u.a)(e-this.long0),s=a*Math.sin(o)+this.x0,c=this.rh-a*Math.cos(o)+this.y0;return t.x=s,t.y=c,t}function a(t){var e,r,i,a,o,s;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),i=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),i=-1),a=0,0!==e&&(a=Math.atan2(i*t.x,i*t.y)),i=e*this.ns0/this.a,this.sphere?s=Math.asin((this.c-i*i)/(2*this.ns0)):(r=(this.c-i*i)/this.ns0,s=this.phi1z(this.e3,r)),o=n.i(u.a)(a/this.ns0+this.long0),t.x=o,t.y=s,t}function o(t,e){var r,i,a,o,s,l=n.i(c.a)(.5*e);if(t<h.d)return l;for(var u=t*t,d=1;d<=25;d++)if(r=Math.sin(l),i=Math.cos(l),a=t*r,o=1-a*a,s=.5*o*o/i*(e/(1-u)-r/o+.5/t*Math.log((1-a)/(1+a))),l+=s,Math.abs(s)<=1e-7)return l;return null}var s=n(46),l=n(107),u=n(11),c=n(45),h=n(7),d=["Albers_Conic_Equal_Area","Albers","aea"];e.a={init:r,forward:i,inverse:a,names:d,phi1z:o}},function(t,e,n){"use strict";function r(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function i(t){var e,r,i,a,p,m,g,v,y,b,x,_,w,M,S,E,k,T,C,P,O,A,R,L=t.x,I=t.y,D=Math.sin(t.y),N=Math.cos(t.y),z=n.i(o.a)(L-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=s.d?(t.x=this.x0+this.a*(s.a-I)*Math.sin(z),t.y=this.y0-this.a*(s.a-I)*Math.cos(z),t):Math.abs(this.sin_p12+1)<=s.d?(t.x=this.x0+this.a*(s.a+I)*Math.sin(z),t.y=this.y0+this.a*(s.a+I)*Math.cos(z),t):(T=this.sin_p12*D+this.cos_p12*N*Math.cos(z),E=Math.acos(T),k=E/Math.sin(E),t.x=this.x0+this.a*k*N*Math.sin(z),t.y=this.y0+this.a*k*(this.cos_p12*D-this.sin_p12*N*Math.cos(z)),t):(e=n.i(u.a)(this.es),r=n.i(c.a)(this.es),i=n.i(h.a)(this.es),a=n.i(d.a)(this.es),Math.abs(this.sin_p12-1)<=s.d?(p=this.a*n.i(l.a)(e,r,i,a,s.a),m=this.a*n.i(l.a)(e,r,i,a,I),t.x=this.x0+(p-m)*Math.sin(z),t.y=this.y0-(p-m)*Math.cos(z),t):Math.abs(this.sin_p12+1)<=s.d?(p=this.a*n.i(l.a)(e,r,i,a,s.a),m=this.a*n.i(l.a)(e,r,i,a,I),t.x=this.x0+(p+m)*Math.sin(z),t.y=this.y0+(p+m)*Math.cos(z),t):(g=D/N,v=n.i(f.a)(this.a,this.e,this.sin_p12),y=n.i(f.a)(this.a,this.e,D),b=Math.atan((1-this.es)*g+this.es*v*this.sin_p12/(y*N)),x=Math.atan2(Math.sin(z),this.cos_p12*Math.tan(b)-this.sin_p12*Math.cos(z)),C=0===x?Math.asin(this.cos_p12*Math.sin(b)-this.sin_p12*Math.cos(b)):Math.abs(Math.abs(x)-Math.PI)<=s.d?-Math.asin(this.cos_p12*Math.sin(b)-this.sin_p12*Math.cos(b)):Math.asin(Math.sin(z)*Math.cos(b)/Math.sin(x)),_=this.e*this.sin_p12/Math.sqrt(1-this.es),w=this.e*this.cos_p12*Math.cos(x)/Math.sqrt(1-this.es),M=_*w,S=w*w,P=C*C,O=P*C,A=O*C,R=A*C,E=v*C*(1-P*S*(1-S)/6+O/8*M*(1-2*S)+A/120*(S*(4-7*S)-3*_*_*(1-7*S))-R/48*M),t.x=this.x0+E*Math.sin(x),t.y=this.y0+E*Math.cos(x),t))}function a(t){t.x-=this.x0,t.y-=this.y0;var e,r,i,a,g,v,y,b,x,_,w,M,S,E,k,T,C,P,O,A,R,L,I;if(this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*s.a*this.a)return;return r=e/this.a,i=Math.sin(r),a=Math.cos(r),g=this.long0,Math.abs(e)<=s.d?v=this.lat0:(v=n.i(p.a)(a*this.sin_p12+t.y*i*this.cos_p12/e),y=Math.abs(this.lat0)-s.a,g=Math.abs(y)<=s.d?this.lat0>=0?n.i(o.a)(this.long0+Math.atan2(t.x,-t.y)):n.i(o.a)(this.long0-Math.atan2(-t.x,t.y)):n.i(o.a)(this.long0+Math.atan2(t.x*i,e*this.cos_p12*a-t.y*this.sin_p12*i))),t.x=g,t.y=v,t}return b=n.i(u.a)(this.es),x=n.i(c.a)(this.es),_=n.i(h.a)(this.es),w=n.i(d.a)(this.es),Math.abs(this.sin_p12-1)<=s.d?(M=this.a*n.i(l.a)(b,x,_,w,s.a),e=Math.sqrt(t.x*t.x+t.y*t.y),S=M-e,v=n.i(m.a)(S/this.a,b,x,_,w),g=n.i(o.a)(this.long0+Math.atan2(t.x,-1*t.y)),t.x=g,t.y=v,t):Math.abs(this.sin_p12+1)<=s.d?(M=this.a*n.i(l.a)(b,x,_,w,s.a),e=Math.sqrt(t.x*t.x+t.y*t.y),S=e-M,v=n.i(m.a)(S/this.a,b,x,_,w),g=n.i(o.a)(this.long0+Math.atan2(t.x,t.y)),t.x=g,t.y=v,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),T=Math.atan2(t.x,t.y),E=n.i(f.a)(this.a,this.e,this.sin_p12),C=Math.cos(T),P=this.e*this.cos_p12*C,O=-P*P/(1-this.es),A=3*this.es*(1-O)*this.sin_p12*this.cos_p12*C/(1-this.es),R=e/E,L=R-O*(1+O)*Math.pow(R,3)/6-A*(1+3*O)*Math.pow(R,4)/24,I=1-O*L*L/2-R*L*L*L/6,k=Math.asin(this.sin_p12*Math.cos(L)+this.cos_p12*Math.sin(L)*C),g=n.i(o.a)(this.long0+Math.asin(Math.sin(T)*Math.sin(L)/Math.cos(k))),v=Math.atan((1-this.es*I*this.sin_p12/Math.sin(k))*Math.tan(k)/(1-this.es)),t.x=g,t.y=v,t)}var o=n(11),s=n(7),l=n(74),u=n(70),c=n(71),h=n(72),d=n(73),f=n(104),p=n(45),m=n(105),g=["Azimuthal_Equidistant","aeqd"];e.a={init:r,forward:i,inverse:a,names:g}},function(t,e,n){"use strict";function r(){this.sphere||(this.e0=n.i(s.a)(this.es),this.e1=n.i(l.a)(this.es),this.e2=n.i(u.a)(this.es),this.e3=n.i(c.a)(this.es),this.ml0=this.a*n.i(o.a)(this.e0,this.e1,this.e2,this.e3,this.lat0))}function i(t){var e,r,i=t.x,a=t.y;if(i=n.i(d.a)(i-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(a)*Math.sin(i)),r=this.a*(Math.atan2(Math.tan(a),Math.cos(i))-this.lat0);else{var s=Math.sin(a),l=Math.cos(a),u=n.i(h.a)(this.a,this.e,s),c=Math.tan(a)*Math.tan(a),f=i*Math.cos(a),p=f*f,m=this.es*l*l/(1-this.es),g=this.a*n.i(o.a)(this.e0,this.e1,this.e2,this.e3,a);e=u*f*(1-p*c*(1/6-(8-c+8*m)*p/120)),r=g-this.ml0+u*s/l*p*(.5+(5-c+6*m)*p/24)}return t.x=e+this.x0,t.y=r+this.y0,t}function a(t){t.x-=this.x0,t.y-=this.y0;var e,r,i=t.x/this.a,a=t.y/this.a;if(this.sphere){var o=a+this.lat0;e=Math.asin(Math.sin(o)*Math.cos(i)),r=Math.atan2(Math.tan(i),Math.cos(o))}else{var s=this.ml0/this.a+a,l=n.i(p.a)(s,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(l)-m.a)<=m.d)return t.x=this.long0,t.y=m.a,a<0&&(t.y*=-1),t;var u=n.i(h.a)(this.a,this.e,Math.sin(l)),c=u*u*u/this.a/this.a*(1-this.es),g=Math.pow(Math.tan(l),2),v=i*this.a/u,y=v*v;e=l-u*Math.tan(l)/c*v*v*(.5-(1+3*g)*v*v/24),r=v*(1-y*(g/3+(1+3*g)*g*y/15))/Math.cos(l)}return t.x=n.i(d.a)(r+this.long0),t.y=n.i(f.a)(e),t}var o=n(74),s=n(70),l=n(71),u=n(72),c=n(73),h=n(104),d=n(11),f=n(59),p=n(105),m=n(7),g=["Cassini","Cassini_Soldner","cass"];e.a={init:r,forward:i,inverse:a,names:g}},function(t,e,n){"use strict";function r(){this.sphere||(this.k0=n.i(l.a)(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function i(t){var e,r,i=t.x,a=t.y,l=n.i(o.a)(i-this.long0);if(this.sphere)e=this.x0+this.a*l*Math.cos(this.lat_ts),r=this.y0+this.a*Math.sin(a)/Math.cos(this.lat_ts);else{var u=n.i(s.a)(this.e,Math.sin(a));e=this.x0+this.a*this.k0*l,r=this.y0+this.a*u*.5/this.k0}return t.x=e,t.y=r,t}function a(t){t.x-=this.x0,t.y-=this.y0;var e,r;return this.sphere?(e=n.i(o.a)(this.long0+t.x/this.a/Math.cos(this.lat_ts)),r=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(r=n.i(u.a)(this.e,2*t.y*this.k0/this.a),e=n.i(o.a)(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=r,t}var o=n(11),s=n(107),l=n(46),u=n(423),c=["cea"];e.a={init:r,forward:i,inverse:a,names:c}},function(t,e,n){"use strict";function r(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function i(t){var e=t.x,r=t.y,i=n.i(o.a)(e-this.long0),a=n.i(s.a)(r-this.lat0);return t.x=this.x0+this.a*i*this.rc,t.y=this.y0+this.a*a,t}function a(t){var e=t.x,r=t.y;return t.x=n.i(o.a)(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=n.i(s.a)(this.lat0+(r-this.y0)/this.a),t}var o=n(11),s=n(59),l=["Equirectangular","Equidistant_Cylindrical","eqc"];e.a={init:r,forward:i,inverse:a,names:l}},function(t,e,n){"use strict";function r(){Math.abs(this.lat1+this.lat2)<m.d||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=n.i(o.a)(this.es),this.e1=n.i(s.a)(this.es),this.e2=n.i(l.a)(this.es),this.e3=n.i(u.a)(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=n.i(c.a)(this.e,this.sinphi,this.cosphi),this.ml1=n.i(h.a)(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<m.d?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=n.i(c.a)(this.e,this.sinphi,this.cosphi),this.ml2=n.i(h.a)(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=n.i(h.a)(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function i(t){var e,r=t.x,i=t.y;if(this.sphere)e=this.a*(this.g-i);else{var a=n.i(h.a)(this.e0,this.e1,this.e2,this.e3,i);e=this.a*(this.g-a)}var o=this.ns*n.i(d.a)(r-this.long0),s=this.x0+e*Math.sin(o),l=this.y0+this.rh-e*Math.cos(o);return t.x=s,t.y=l,t}function a(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e,r,i,a;this.ns>=0?(r=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(r=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var o=0;if(0!==r&&(o=Math.atan2(e*t.x,e*t.y)),this.sphere)return a=n.i(d.a)(this.long0+o/this.ns),i=n.i(f.a)(this.g-r/this.a),t.x=a,t.y=i,t;var s=this.g-r/this.a;return i=n.i(p.a)(s,this.e0,this.e1,this.e2,this.e3),a=n.i(d.a)(this.long0+o/this.ns),t.x=a,t.y=i,t}var o=n(70),s=n(71),l=n(72),u=n(73),c=n(46),h=n(74),d=n(11),f=n(59),p=n(105),m=n(7),g=["Equidistant_Conic","eqdc"];e.a={init:r,forward:i,inverse:a,names:g}},function(t,e,n){"use strict";function r(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+s.b)/(Math.pow(Math.tan(.5*this.lat0+s.b),this.C)*n.i(o.a)(this.e*t,this.ratexp))}function i(t){var e=t.x,r=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*r+s.b),this.C)*n.i(o.a)(this.e*Math.sin(r),this.ratexp))-s.a,t.x=this.C*e,t}function a(t){for(var e=t.x/this.C,r=t.y,i=Math.pow(Math.tan(.5*r+s.b)/this.K,1/this.C),a=l;a>0&&(r=2*Math.atan(i*n.i(o.a)(this.e*Math.sin(t.y),-.5*this.e))-s.a,!(Math.abs(r-t.y)<1e-14));--a)t.y=r;return a?(t.x=e,t.y=r,t):null}var o=n(425),s=n(7),l=20,u=["gauss"];e.a={init:r,forward:i,inverse:a,names:u}},function(t,e,n){"use strict";function r(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function i(t){var e,r,i,a,s,u,c,h,d=t.x,f=t.y;return i=n.i(o.a)(d-this.long0),e=Math.sin(f),r=Math.cos(f),a=Math.cos(i),u=this.sin_p14*e+this.cos_p14*r*a,s=1,u>0||Math.abs(u)<=l.d?(c=this.x0+this.a*s*r*Math.sin(i)/u,h=this.y0+this.a*s*(this.cos_p14*e-this.sin_p14*r*a)/u):(c=this.x0+this.infinity_dist*r*Math.sin(i),h=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*r*a)),t.x=c,t.y=h,t}function a(t){var e,r,i,a,l,u;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(a=Math.atan2(e,this.rc),r=Math.sin(a),i=Math.cos(a),u=n.i(s.a)(i*this.sin_p14+t.y*r*this.cos_p14/e),l=Math.atan2(t.x*r,e*this.cos_p14*i-t.y*this.sin_p14*r),l=n.i(o.a)(this.long0+l)):(u=this.phic0,l=0),t.x=l,t.y=u,t}var o=n(11),s=n(45),l=n(7),u=["gnom"];e.a={init:r,forward:i,inverse:a,names:u}},function(t,e,n){"use strict";function r(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function i(t){var e,r,i,a,s,l,u,c=t.x,h=t.y,d=n.i(o.a)(c-this.long0);return e=Math.pow((1+this.e*Math.sin(h))/(1-this.e*Math.sin(h)),this.alfa*this.e/2),r=2*(Math.atan(this.k*Math.pow(Math.tan(h/2+this.s45),this.alfa)/e)-this.s45),i=-d*this.alfa,a=Math.asin(Math.cos(this.ad)*Math.sin(r)+Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),s=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(a)),l=this.n*s,u=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(a/2+this.s45),this.n),t.y=u*Math.cos(l)/1,t.x=u*Math.sin(l)/1,this.czech||(t.y*=-1,t.x*=-1),t}function a(t){var e,n,r,i,a,o,s,l,u=t.x;t.x=t.y,t.y=u,this.czech||(t.y*=-1,t.x*=-1),o=Math.sqrt(t.x*t.x+t.y*t.y),a=Math.atan2(t.y,t.x),i=a/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),n=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(e)),t.x=this.long0-n/this.alfa,s=e,l=0;var c=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45),Math.abs(s-t.y)<1e-10&&(l=1),s=t.y,c+=1}while(0===l&&c<15);return c>=15?null:t}var o=n(11),s=["Krovak","krovak"];e.a={init:r,forward:i,inverse:a,names:s}},function(t,e,n){"use strict";function r(){var t=Math.abs(this.lat0);if(Math.abs(t-l.a)<l.d?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<l.d?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var e;switch(this.qp=n.i(u.a)(this.e,1),this.mmf=.5/(1-this.es),this.apa=o(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=n.i(u.a)(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function i(t){var e,r,i,a,o,s,h,d,f,p,m=t.x,g=t.y;if(m=n.i(c.a)(m-this.long0),this.sphere){if(o=Math.sin(g),p=Math.cos(g),i=Math.cos(m),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((r=this.mode===this.EQUIT?1+p*i:1+this.sinph0*o+this.cosph0*p*i)<=l.d)return null;r=Math.sqrt(2/r),e=r*p*Math.sin(m),r*=this.mode===this.EQUIT?o:this.cosph0*o-this.sinph0*p*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),Math.abs(g+this.phi0)<l.d)return null;r=l.b-.5*g,r=2*(this.mode===this.S_POLE?Math.cos(r):Math.sin(r)),e=r*Math.sin(m),r*=i}}else{switch(h=0,d=0,f=0,i=Math.cos(m),a=Math.sin(m),o=Math.sin(g),s=n.i(u.a)(this.e,o),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(h=s/this.qp,d=Math.sqrt(1-h*h)),this.mode){case this.OBLIQ:f=1+this.sinb1*h+this.cosb1*d*i;break;case this.EQUIT:f=1+d*i;break;case this.N_POLE:f=l.a+g,s=this.qp-s;break;case this.S_POLE:f=g-l.a,s=this.qp+s}if(Math.abs(f)<l.d)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:f=Math.sqrt(2/f),r=this.mode===this.OBLIQ?this.ymf*f*(this.cosb1*h-this.sinb1*d*i):(f=Math.sqrt(2/(1+d*i)))*h*this.ymf,e=this.xmf*f*d*a;break;case this.N_POLE:case this.S_POLE:s>=0?(e=(f=Math.sqrt(s))*a,r=i*(this.mode===this.S_POLE?f:-f)):e=r=0}}return t.x=this.a*e+this.x0,t.y=this.a*r+this.y0,t}function a(t){t.x-=this.x0,t.y-=this.y0;var e,r,i,a,o,u,h,d=t.x/this.a,f=t.y/this.a;if(this.sphere){var p,m=0,g=0;if(p=Math.sqrt(d*d+f*f),(r=.5*p)>1)return null;switch(r=2*Math.asin(r),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(g=Math.sin(r),m=Math.cos(r)),this.mode){case this.EQUIT:r=Math.abs(p)<=l.d?0:Math.asin(f*g/p),d*=g,f=m*p;break;case this.OBLIQ:r=Math.abs(p)<=l.d?this.phi0:Math.asin(m*this.sinph0+f*g*this.cosph0/p),d*=g*this.cosph0,f=(m-Math.sin(r)*this.sinph0)*p;break;case this.N_POLE:f=-f,r=l.a-r;break;case this.S_POLE:r-=l.a}e=0!==f||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(d,f):0}else{if(h=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(d/=this.dd,f*=this.dd,(u=Math.sqrt(d*d+f*f))<l.d)return t.x=0,t.y=this.phi0,t;a=2*Math.asin(.5*u/this.rq),i=Math.cos(a),d*=a=Math.sin(a),this.mode===this.OBLIQ?(h=i*this.sinb1+f*a*this.cosb1/u,o=this.qp*h,f=u*this.cosb1*i-f*this.sinb1*a):(h=f*a/u,o=this.qp*h,f=u*i)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(f=-f),!(o=d*d+f*f))return t.x=0,t.y=this.phi0,t;h=1-o/this.qp,this.mode===this.S_POLE&&(h=-h)}e=Math.atan2(d,f),r=s(Math.asin(h),this.apa)}return t.x=n.i(c.a)(this.long0+e),t.y=r,t}function o(t){var e,n=[];return n[0]=t*h,e=t*t,n[0]+=e*d,n[1]=e*p,e*=t,n[0]+=e*f,n[1]+=e*m,n[2]=e*g,n}function s(t,e){var n=t+t;return t+e[0]*Math.sin(n)+e[1]*Math.sin(n+n)+e[2]*Math.sin(n+n+n)}var l=n(7),u=n(107),c=n(11),h=.3333333333333333,d=.17222222222222222,f=.10257936507936508,p=.06388888888888888,m=.0664021164021164,g=.016415012942191543,v=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];e.a={init:r,forward:i,inverse:a,names:v,S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4}},function(t,e,n){"use strict";function r(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<h.d)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),r=Math.cos(this.lat1),i=n.i(o.a)(this.e,e,r),a=n.i(s.a)(this.e,this.lat1,e),l=Math.sin(this.lat2),u=Math.cos(this.lat2),c=n.i(o.a)(this.e,l,u),d=n.i(s.a)(this.e,this.lat2,l),f=n.i(s.a)(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>h.d?this.ns=Math.log(i/c)/Math.log(a/d):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=i/(this.ns*Math.pow(a,this.ns)),this.rh=this.a*this.f0*Math.pow(f,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function i(t){var e=t.x,r=t.y;Math.abs(2*Math.abs(r)-Math.PI)<=h.d&&(r=n.i(l.a)(r)*(h.a-2*h.d));var i,a,o=Math.abs(Math.abs(r)-h.a);if(o>h.d)i=n.i(s.a)(this.e,r,Math.sin(r)),a=this.a*this.f0*Math.pow(i,this.ns);else{if((o=r*this.ns)<=0)return null;a=0}var c=this.ns*n.i(u.a)(e-this.long0);return t.x=this.k0*(a*Math.sin(c))+this.x0,t.y=this.k0*(this.rh-a*Math.cos(c))+this.y0,t}function a(t){var e,r,i,a,o,s=(t.x-this.x0)/this.k0,l=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(s*s+l*l),r=1):(e=-Math.sqrt(s*s+l*l),r=-1);var d=0;if(0!==e&&(d=Math.atan2(r*s,r*l)),0!==e||this.ns>0){if(r=1/this.ns,i=Math.pow(e/(this.a*this.f0),r),-9999===(a=n.i(c.a)(this.e,i)))return null}else a=-h.a;return o=n.i(u.a)(d/this.ns+this.long0),t.x=o,t.y=a,t}var o=n(46),s=n(76),l=n(60),u=n(11),c=n(75),h=n(7),d=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"];e.a={init:r,forward:i,inverse:a,names:d}},function(t,e,n){"use strict";function r(){}function i(t){return t}var a=["longlat","identity"];e.a={init:r,forward:i,inverse:i,names:a}},function(t,e,n){"use strict";function r(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=n.i(o.a)(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function i(t){var e=t.x,r=t.y;if(r*c.j>90&&r*c.j<-90&&e*c.j>180&&e*c.j<-180)return null;var i,a;if(Math.abs(Math.abs(r)-c.a)<=c.d)return null;if(this.sphere)i=this.x0+this.a*this.k0*n.i(s.a)(e-this.long0),a=this.y0+this.a*this.k0*Math.log(Math.tan(c.b+.5*r));else{var o=Math.sin(r),u=n.i(l.a)(this.e,r,o);i=this.x0+this.a*this.k0*n.i(s.a)(e-this.long0),a=this.y0-this.a*this.k0*Math.log(u)}return t.x=i,t.y=a,t}function a(t){var e,r,i=t.x-this.x0,a=t.y-this.y0;if(this.sphere)r=c.a-2*Math.atan(Math.exp(-a/(this.a*this.k0)));else{var o=Math.exp(-a/(this.a*this.k0));if(-9999===(r=n.i(u.a)(this.e,o)))return null}return e=n.i(s.a)(this.long0+i/(this.a*this.k0)),t.x=e,t.y=r,t}var o=n(46),s=n(11),l=n(76),u=n(75),c=n(7),h=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];e.a={init:r,forward:i,inverse:a,names:h}},function(t,e,n){"use strict";function r(){}function i(t){var e=t.x,r=t.y,i=n.i(o.a)(e-this.long0),a=this.x0+this.a*i,s=this.y0+this.a*Math.log(Math.tan(Math.PI/4+r/2.5))*1.25;return t.x=a,t.y=s,t}function a(t){t.x-=this.x0,t.y-=this.y0;var e=n.i(o.a)(this.long0+t.x/this.a),r=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=r,t}var o=n(11),s=["Miller_Cylindrical","mill"];e.a={init:r,forward:i,inverse:a,names:s}},function(t,e,n){"use strict";function r(){}function i(t){for(var e=t.x,r=t.y,i=n.i(o.a)(e-this.long0),a=r,l=Math.PI*Math.sin(r);;){var u=-(a+Math.sin(a)-l)/(1+Math.cos(a));if(a+=u,Math.abs(u)<s.d)break}a/=2,Math.PI/2-Math.abs(r)<s.d&&(i=0);var c=.900316316158*this.a*i*Math.cos(a)+this.x0,h=1.4142135623731*this.a*Math.sin(a)+this.y0;return t.x=c,t.y=h,t}function a(t){var e,r;t.x-=this.x0,t.y-=this.y0,r=t.y/(1.4142135623731*this.a),Math.abs(r)>.999999999999&&(r=.999999999999),e=Math.asin(r);var i=n.i(o.a)(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));i<-Math.PI&&(i=-Math.PI),i>Math.PI&&(i=Math.PI),r=(2*e+Math.sin(2*e))/Math.PI,Math.abs(r)>1&&(r=1);var a=Math.asin(r);return t.x=i,t.y=a,t}var o=n(11),s=n(7),l=["Mollweide","moll"];e.a={init:r,forward:i,inverse:a,names:l}},function(t,e,n){"use strict";function r(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function i(t){var e,n=t.x,r=t.y,i=r-this.lat0,a=n-this.long0,s=i/o.f*1e-5,l=a,u=1,c=0;for(e=1;e<=10;e++)u*=s,c+=this.A[e]*u;var h,d,f=c,p=l,m=1,g=0,v=0,y=0;for(e=1;e<=6;e++)h=m*f-g*p,d=g*f+m*p,m=h,g=d,v=v+this.B_re[e]*m-this.B_im[e]*g,y=y+this.B_im[e]*m+this.B_re[e]*g;return t.x=y*this.a+this.x0,t.y=v*this.a+this.y0,t}function a(t){var e,n,r,i=t.x,a=t.y,s=i-this.x0,l=a-this.y0,u=l/this.a,c=s/this.a,h=1,d=0,f=0,p=0;for(e=1;e<=6;e++)n=h*u-d*c,r=d*u+h*c,h=n,d=r,f=f+this.C_re[e]*h-this.C_im[e]*d,p=p+this.C_im[e]*h+this.C_re[e]*d;for(var m=0;m<this.iterations;m++){var g,v,y=f,b=p,x=u,_=c;for(e=2;e<=6;e++)g=y*f-b*p,v=b*f+y*p,y=g,b=v,x+=(e-1)*(this.B_re[e]*y-this.B_im[e]*b),_+=(e-1)*(this.B_im[e]*y+this.B_re[e]*b);y=1,b=0;var w=this.B_re[1],M=this.B_im[1];for(e=2;e<=6;e++)g=y*f-b*p,v=b*f+y*p,y=g,b=v,w+=e*(this.B_re[e]*y-this.B_im[e]*b),M+=e*(this.B_im[e]*y+this.B_re[e]*b);var S=w*w+M*M;f=(x*w+_*M)/S,p=(_*w-x*M)/S}var E=f,k=p,T=1,C=0;for(e=1;e<=9;e++)T*=E,C+=this.D[e]*T;var P=this.lat0+C*o.f*1e5,O=this.long0+k;return t.x=O,t.y=P,t}var o=n(7),s=["New_Zealand_Map_Grid","nzmg"];e.a={init:r,forward:i,inverse:a,names:s}},function(t,e,n){"use strict";function r(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),e=Math.cos(this.lat0),r=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-r*r);var i=n.i(o.a)(this.e,this.lat0,t),a=this.bl/e*Math.sqrt((1-this.es)/(1-r*r));a*a<1&&(a=1);var l,u;if(isNaN(this.longc)){var c=n.i(o.a)(this.e,this.lat1,Math.sin(this.lat1)),h=n.i(o.a)(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(a+Math.sqrt(a*a-1))*Math.pow(i,this.bl):this.el=(a-Math.sqrt(a*a-1))*Math.pow(i,this.bl);var d=Math.pow(c,this.bl),f=Math.pow(h,this.bl);l=this.el/d,u=.5*(l-1/l);var p=(this.el*this.el-f*d)/(this.el*this.el+f*d),m=(f-d)/(f+d),g=n.i(s.a)(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(p*Math.tan(.5*this.bl*g)/m)/this.bl,this.long0=n.i(s.a)(this.long0);var v=n.i(s.a)(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*v)/u),this.alpha=Math.asin(a*Math.sin(this.gamma0))}else l=this.lat0>=0?a+Math.sqrt(a*a-1):a-Math.sqrt(a*a-1),this.el=l*Math.pow(i,this.bl),u=.5*(l-1/l),this.gamma0=Math.asin(Math.sin(this.alpha)/a),this.long0=this.longc-Math.asin(u*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(a*a-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(a*a-1),Math.cos(this.alpha))}function i(t){var e,r,i,a=t.x,l=t.y,c=n.i(s.a)(a-this.long0);if(Math.abs(Math.abs(l)-u.a)<=u.d)i=l>0?-1:1,r=this.al/this.bl*Math.log(Math.tan(u.b+i*this.gamma0*.5)),e=-1*i*u.a*this.al/this.bl;else{var h=n.i(o.a)(this.e,l,Math.sin(l)),d=this.el/Math.pow(h,this.bl),f=.5*(d-1/d),p=.5*(d+1/d),m=Math.sin(this.bl*c),g=(f*Math.sin(this.gamma0)-m*Math.cos(this.gamma0))/p;r=Math.abs(Math.abs(g)-1)<=u.d?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-g)/(1+g))/this.bl,e=Math.abs(Math.cos(this.bl*c))<=u.d?this.al*this.bl*c:this.al*Math.atan2(f*Math.cos(this.gamma0)+m*Math.sin(this.gamma0),Math.cos(this.bl*c))/this.bl}return this.no_rot?(t.x=this.x0+e,t.y=this.y0+r):(e-=this.uc,t.x=this.x0+r*Math.cos(this.alpha)+e*Math.sin(this.alpha),t.y=this.y0+e*Math.cos(this.alpha)-r*Math.sin(this.alpha)),t}function a(t){var e,r;this.no_rot?(r=t.y-this.y0,e=t.x-this.x0):(r=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),e+=this.uc);var i=Math.exp(-1*this.bl*r/this.al),a=.5*(i-1/i),o=.5*(i+1/i),c=Math.sin(this.bl*e/this.al),h=(c*Math.cos(this.gamma0)+a*Math.sin(this.gamma0))/o,d=Math.pow(this.el/Math.sqrt((1+h)/(1-h)),1/this.bl);return Math.abs(h-1)<u.d?(t.x=this.long0,t.y=u.a):Math.abs(h+1)<u.d?(t.x=this.long0,t.y=-1*u.a):(t.y=n.i(l.a)(this.e,d),t.x=n.i(s.a)(this.long0-Math.atan2(a*Math.cos(this.gamma0)-c*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)),t}var o=n(76),s=n(11),l=n(75),u=n(7),c=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"];e.a={init:r,forward:i,inverse:a,names:c}},function(t,e,n){"use strict";function r(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function i(t){var e,r,i,a,s,u,c,h,d=t.x,f=t.y;return i=n.i(o.a)(d-this.long0),e=Math.sin(f),r=Math.cos(f),a=Math.cos(i),u=this.sin_p14*e+this.cos_p14*r*a,s=1,(u>0||Math.abs(u)<=l.d)&&(c=this.a*s*r*Math.sin(i),h=this.y0+this.a*s*(this.cos_p14*e-this.sin_p14*r*a)),t.x=c,t.y=h,t}function a(t){var e,r,i,a,u,c,h;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),r=n.i(s.a)(e/this.a),i=Math.sin(r),a=Math.cos(r),c=this.long0,Math.abs(e)<=l.d?(h=this.lat0,t.x=c,t.y=h,t):(h=n.i(s.a)(a*this.sin_p14+t.y*i*this.cos_p14/e),u=Math.abs(this.lat0)-l.a,Math.abs(u)<=l.d?(c=this.lat0>=0?n.i(o.a)(this.long0+Math.atan2(t.x,-t.y)):n.i(o.a)(this.long0-Math.atan2(-t.x,t.y)),t.x=c,t.y=h,t):(c=n.i(o.a)(this.long0+Math.atan2(t.x*i,e*this.cos_p14*a-t.y*this.sin_p14*i)),t.x=c,t.y=h,t))}var o=n(11),s=n(45),l=n(7),u=["ortho"];e.a={init:r,forward:i,inverse:a,names:u}},function(t,e,n){"use strict";function r(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=n.i(o.a)(this.es),this.e1=n.i(s.a)(this.es),this.e2=n.i(l.a)(this.es),this.e3=n.i(u.a)(this.es),this.ml0=this.a*n.i(d.a)(this.e0,this.e1,this.e2,this.e3,this.lat0)}function i(t){var e,r,i,a=t.x,o=t.y,s=n.i(c.a)(a-this.long0);if(i=s*Math.sin(o),this.sphere)Math.abs(o)<=f.d?(e=this.a*s,r=-1*this.a*this.lat0):(e=this.a*Math.sin(i)/Math.tan(o),r=this.a*(n.i(h.a)(o-this.lat0)+(1-Math.cos(i))/Math.tan(o)));else if(Math.abs(o)<=f.d)e=this.a*s,r=-1*this.ml0;else{var l=n.i(p.a)(this.a,this.e,Math.sin(o))/Math.tan(o);e=l*Math.sin(i),r=this.a*n.i(d.a)(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+l*(1-Math.cos(i))}return t.x=e+this.x0,t.y=r+this.y0,t}function a(t){var e,r,i,a,o,s,l,u,h;if(i=t.x-this.x0,a=t.y-this.y0,this.sphere)if(Math.abs(a+this.a*this.lat0)<=f.d)e=n.i(c.a)(i/this.a+this.long0),r=0;else{s=this.lat0+a/this.a,l=i*i/this.a/this.a+s*s,u=s;var p;for(o=m;o;--o)if(p=Math.tan(u),h=-1*(s*(u*p+1)-u-.5*(u*u+l)*p)/((u-s)/p-1),u+=h,Math.abs(h)<=f.d){r=u;break}e=n.i(c.a)(this.long0+Math.asin(i*Math.tan(u)/this.a)/Math.sin(r))}else if(Math.abs(a+this.ml0)<=f.d)r=0,e=n.i(c.a)(this.long0+i/this.a);else{s=(this.ml0+a)/this.a,l=i*i/this.a/this.a+s*s,u=s;var g,v,y,b,x;for(o=m;o;--o)if(x=this.e*Math.sin(u),g=Math.sqrt(1-x*x)*Math.tan(u),v=this.a*n.i(d.a)(this.e0,this.e1,this.e2,this.e3,u),y=this.e0-2*this.e1*Math.cos(2*u)+4*this.e2*Math.cos(4*u)-6*this.e3*Math.cos(6*u),b=v/this.a,h=(s*(g*b+1)-b-.5*g*(b*b+l))/(this.es*Math.sin(2*u)*(b*b+l-2*s*b)/(4*g)+(s-b)*(g*y-2/Math.sin(2*u))-y),u-=h,Math.abs(h)<=f.d){r=u;break}g=Math.sqrt(1-this.es*Math.pow(Math.sin(r),2))*Math.tan(r),e=n.i(c.a)(this.long0+Math.asin(i*g/this.a)/Math.sin(r))}return t.x=e,t.y=r,t}var o=n(70),s=n(71),l=n(72),u=n(73),c=n(11),h=n(59),d=n(74),f=n(7),p=n(104),m=20,g=["Polyconic","poly"];e.a={init:r,forward:i,inverse:a,names:g}},function(t,e,n){"use strict";function r(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=l.a-l.b/2?this.face=u.TOP:this.lat0<=-(l.a-l.b/2)?this.face=u.BOTTOM:Math.abs(this.long0)<=l.b?this.face=u.FRONT:Math.abs(this.long0)<=l.a+l.b?this.face=this.long0>0?u.RIGHT:u.LEFT:this.face=u.BACK,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function i(t){var e,n,r,i,a,h,d={x:0,y:0},f={value:0};if(t.x-=this.long0,e=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,n=t.x,this.face===u.TOP)i=l.a-e,n>=l.b&&n<=l.a+l.b?(f.value=c.AREA_0,r=n-l.a):n>l.a+l.b||n<=-(l.a+l.b)?(f.value=c.AREA_1,r=n>0?n-l.c:n+l.c):n>-(l.a+l.b)&&n<=-l.b?(f.value=c.AREA_2,r=n+l.a):(f.value=c.AREA_3,r=n);else if(this.face===u.BOTTOM)i=l.a+e,n>=l.b&&n<=l.a+l.b?(f.value=c.AREA_0,r=-n+l.a):n<l.b&&n>=-l.b?(f.value=c.AREA_1,r=-n):n<-l.b&&n>=-(l.a+l.b)?(f.value=c.AREA_2,r=-n-l.a):(f.value=c.AREA_3,r=n>0?-n+l.c:-n-l.c);else{var p,m,g,v,y,b,x;this.face===u.RIGHT?n=s(n,+l.a):this.face===u.BACK?n=s(n,+l.c):this.face===u.LEFT&&(n=s(n,-l.a)),v=Math.sin(e),y=Math.cos(e),b=Math.sin(n),x=Math.cos(n),p=y*x,m=y*b,g=v,this.face===u.FRONT?(i=Math.acos(p),r=o(i,g,m,f)):this.face===u.RIGHT?(i=Math.acos(m),r=o(i,g,-p,f)):this.face===u.BACK?(i=Math.acos(-p),r=o(i,g,-m,f)):this.face===u.LEFT?(i=Math.acos(-m),r=o(i,g,p,f)):(i=r=0,f.value=c.AREA_0)}return h=Math.atan(12/l.c*(r+Math.acos(Math.sin(r)*Math.cos(l.b))-l.a)),a=Math.sqrt((1-Math.cos(i))/(Math.cos(h)*Math.cos(h))/(1-Math.cos(Math.atan(1/Math.cos(r))))),f.value===c.AREA_1?h+=l.a:f.value===c.AREA_2?h+=l.c:f.value===c.AREA_3&&(h+=1.5*l.c),d.x=a*Math.cos(h),d.y=a*Math.sin(h),d.x=d.x*this.a+this.x0,d.y=d.y*this.a+this.y0,t.x=d.x,t.y=d.y,t}function a(t){var e,n,r,i,a,o,h,d,f,p={lam:0,phi:0},m={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,n=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),e=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?m.value=c.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(m.value=c.AREA_1,e-=l.a):t.x<0&&-t.x>=Math.abs(t.y)?(m.value=c.AREA_2,e=e<0?e+l.c:e-l.c):(m.value=c.AREA_3,e+=l.a),f=l.c/12*Math.tan(e),a=Math.sin(f)/(Math.cos(f)-1/Math.sqrt(2)),o=Math.atan(a),r=Math.cos(e),i=Math.tan(n),h=1-r*r*i*i*(1-Math.cos(Math.atan(1/Math.cos(o)))),h<-1?h=-1:h>1&&(h=1),this.face===u.TOP)d=Math.acos(h),p.phi=l.a-d,m.value===c.AREA_0?p.lam=o+l.a:m.value===c.AREA_1?p.lam=o<0?o+l.c:o-l.c:m.value===c.AREA_2?p.lam=o-l.a:p.lam=o;else if(this.face===u.BOTTOM)d=Math.acos(h),p.phi=d-l.a,m.value===c.AREA_0?p.lam=-o+l.a:m.value===c.AREA_1?p.lam=-o:m.value===c.AREA_2?p.lam=-o-l.a:p.lam=o<0?-o-l.c:-o+l.c;else{var g,v,y;g=h,f=g*g,y=f>=1?0:Math.sqrt(1-f)*Math.sin(o),f+=y*y,v=f>=1?0:Math.sqrt(1-f),m.value===c.AREA_1?(f=v,v=-y,y=f):m.value===c.AREA_2?(v=-v,y=-y):m.value===c.AREA_3&&(f=v,v=y,y=-f),this.face===u.RIGHT?(f=g,g=-v,v=f):this.face===u.BACK?(g=-g,v=-v):this.face===u.LEFT&&(f=g,g=v,v=-f),p.phi=Math.acos(-y)-l.a,p.lam=Math.atan2(v,g),this.face===u.RIGHT?p.lam=s(p.lam,-l.a):this.face===u.BACK?p.lam=s(p.lam,-l.c):this.face===u.LEFT&&(p.lam=s(p.lam,+l.a))}if(0!==this.es){var b,x,_;b=p.phi<0?1:0,x=Math.tan(p.phi),_=this.b/Math.sqrt(x*x+this.one_minus_f_squared),p.phi=Math.atan(Math.sqrt(this.a*this.a-_*_)/(this.one_minus_f*_)),b&&(p.phi=-p.phi)}return p.lam+=this.long0,t.x=p.lam,t.y=p.phi,t}function o(t,e,n,r){var i;return t<l.d?(r.value=c.AREA_0,i=0):(i=Math.atan2(e,n),Math.abs(i)<=l.b?r.value=c.AREA_0:i>l.b&&i<=l.a+l.b?(r.value=c.AREA_1,i-=l.a):i>l.a+l.b||i<=-(l.a+l.b)?(r.value=c.AREA_2,i=i>=0?i-l.c:i+l.c):(r.value=c.AREA_3,i+=l.a)),i}function s(t,e){var n=t+e;return n<-l.c?n+=l.e:n>+l.c&&(n-=l.e),n}var l=n(7),u={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},c={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4},h=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];e.a={init:r,forward:i,inverse:a,names:h}},function(t,e,n){"use strict";function r(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=n.i(l.a)(this.es)}function i(t){var e,r,i=t.x,a=t.y;if(i=n.i(o.a)(i-this.long0),this.sphere){if(this.m)for(var s=this.n*Math.sin(a),l=f;l;--l){var c=(this.m*a+Math.sin(a)-s)/(this.m+Math.cos(a));if(a-=c,Math.abs(c)<h.d)break}else a=1!==this.n?Math.asin(this.n*Math.sin(a)):a;e=this.a*this.C_x*i*(this.m+Math.cos(a)),r=this.a*this.C_y*a}else{var d=Math.sin(a),p=Math.cos(a);r=this.a*n.i(u.a)(a,d,p,this.en),e=this.a*i*p/Math.sqrt(1-this.es*d*d)}return t.x=e,t.y=r,t}function a(t){var e,r,i,a;return t.x-=this.x0,i=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,i/=this.C_x*(this.m+Math.cos(e)),this.m?e=n.i(d.a)((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=n.i(d.a)(Math.sin(e)/this.n)),i=n.i(o.a)(i+this.long0),e=n.i(s.a)(e)):(e=n.i(c.a)(t.y/this.a,this.es,this.en),a=Math.abs(e),a<h.a?(a=Math.sin(e),r=this.long0+t.x*Math.sqrt(1-this.es*a*a)/(this.a*Math.cos(e)),i=n.i(o.a)(r)):a-h.d<h.a&&(i=this.long0)),t.x=i,t.y=e,t}var o=n(11),s=n(59),l=n(150),u=n(106),c=n(151),h=n(7),d=n(45),f=20,p=["Sinusoidal","sinu"];e.a={init:r,forward:i,inverse:a,names:p}},function(t,e,n){"use strict";function r(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,r=this.rf,i=1/r,a=2*i-Math.pow(i,2),o=this.e=Math.sqrt(a);this.R=this.k0*n*Math.sqrt(1-a)/(1-a*Math.pow(e,2)),this.alpha=Math.sqrt(1+a/(1-a)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var s=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+t/2)),u=Math.log((1+o*e)/(1-o*e));this.K=s-this.alpha*l+this.alpha*o/2*u}function i(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),r=-this.alpha*(e+n)+this.K,i=2*(Math.atan(Math.exp(r))-Math.PI/4),a=this.alpha*(t.x-this.lambda0),o=Math.atan(Math.sin(a)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(a))),s=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(a));return t.y=this.R/2*Math.log((1+Math.sin(s))/(1-Math.sin(s)))+this.y0,t.x=this.R*o+this.x0,t}function a(t){for(var e=t.x-this.x0,n=t.y-this.y0,r=e/this.R,i=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),a=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(r)),o=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(i))),s=this.lambda0+o/this.alpha,l=0,u=a,c=-1e3,h=0;Math.abs(u-c)>1e-7;){if(++h>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+a/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(u))/2)),c=u,u=2*Math.atan(Math.exp(l))-Math.PI/2}return t.x=s,t.y=u,t}var o=["somerc"];e.a={init:r,forward:i,inverse:a,names:o}},function(t,e,n){"use strict";function r(t,e,n){return e*=n,Math.tan(.5*(s.a+t))*Math.pow((1-e)/(1+e),.5*n)}function i(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=s.d&&(this.k0=.5*(1+n.i(l.a)(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=s.d&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=s.d&&(this.k0=.5*this.cons*n.i(u.a)(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/n.i(c.a)(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=n.i(u.a)(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-s.a,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function a(t){var e,r,i,a,o,l,u=t.x,h=t.y,f=Math.sin(h),p=Math.cos(h),m=n.i(d.a)(u-this.long0);return Math.abs(Math.abs(u-this.long0)-Math.PI)<=s.d&&Math.abs(h+this.lat0)<=s.d?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*f+this.coslat0*p*Math.cos(m)),t.x=this.a*e*p*Math.sin(m)+this.x0,t.y=this.a*e*(this.coslat0*f-this.sinlat0*p*Math.cos(m))+this.y0,t):(r=2*Math.atan(this.ssfn_(h,f,this.e))-s.a,a=Math.cos(r),i=Math.sin(r),Math.abs(this.coslat0)<=s.d?(o=n.i(c.a)(this.e,h*this.con,this.con*f),l=2*this.a*this.k0*o/this.cons,t.x=this.x0+l*Math.sin(u-this.long0),t.y=this.y0-this.con*l*Math.cos(u-this.long0),t):(Math.abs(this.sinlat0)<s.d?(e=2*this.a*this.k0/(1+a*Math.cos(m)),t.y=e*i):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*i+this.cosX0*a*Math.cos(m))),t.y=e*(this.cosX0*i-this.sinX0*a*Math.cos(m))+this.y0),t.x=e*a*Math.sin(m)+this.x0,t))}function o(t){t.x-=this.x0,t.y-=this.y0;var e,r,i,a,o,l=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var u=2*Math.atan(l/(.5*this.a*this.k0));return e=this.long0,(r=this.lat0,l<=s.d)?(t.x=e,t.y=r,t):(r=Math.asin(Math.cos(u)*this.sinlat0+t.y*Math.sin(u)*this.coslat0/l),e=Math.abs(this.coslat0)<s.d?this.lat0>0?n.i(d.a)(this.long0+Math.atan2(t.x,-1*t.y)):n.i(d.a)(this.long0+Math.atan2(t.x,t.y)):n.i(d.a)(this.long0+Math.atan2(t.x*Math.sin(u),l*this.coslat0*Math.cos(u)-t.y*this.sinlat0*Math.sin(u))),t.x=e,t.y=r,t)}if(Math.abs(this.coslat0)<=s.d){if(l<=s.d)return r=this.lat0,e=this.long0,t.x=e,t.y=r,t;t.x*=this.con,t.y*=this.con,i=l*this.cons/(2*this.a*this.k0),r=this.con*n.i(h.a)(this.e,i),e=this.con*n.i(d.a)(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else a=2*Math.atan(l*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,l<=s.d?o=this.X0:(o=Math.asin(Math.cos(a)*this.sinX0+t.y*Math.sin(a)*this.cosX0/l),e=n.i(d.a)(this.long0+Math.atan2(t.x*Math.sin(a),l*this.cosX0*Math.cos(a)-t.y*this.sinX0*Math.sin(a)))),r=-1*n.i(h.a)(this.e,Math.tan(.5*(s.a+o)));return t.x=e,t.y=r,t}var s=n(7),l=n(60),u=n(46),c=n(76),h=n(75),d=n(11),f=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"];e.a={init:i,forward:a,inverse:o,names:f,ssfn_:r}},function(t,e,n){"use strict";function r(){o.a.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function i(t){var e,r,i,a;return t.x=n.i(s.a)(t.x-this.long0),o.a.forward.apply(this,[t]),e=Math.sin(t.y),r=Math.cos(t.y),i=Math.cos(t.x),a=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*r*i),t.x=a*r*Math.sin(t.x),t.y=a*(this.cosc0*e-this.sinc0*r*i),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function a(t){var e,r,i,a,l;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,l=Math.sqrt(t.x*t.x+t.y*t.y)){var u=2*Math.atan2(l,this.R2);e=Math.sin(u),r=Math.cos(u),a=Math.asin(r*this.sinc0+t.y*e*this.cosc0/l),i=Math.atan2(t.x*e,l*this.cosc0*r-t.y*this.sinc0*e)}else a=this.phic0,i=0;return t.x=i,t.y=a,o.a.inverse.apply(this,[t]),t.x=n.i(s.a)(t.x+this.long0),t}var o=n(446),s=n(11),l=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative"];e.a={init:r,forward:i,inverse:a,names:l}},function(t,e,n){"use strict";function r(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=n.i(o.a)(this.es),this.ml0=n.i(s.a)(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function i(t){var e,r,i,a=t.x,o=t.y,l=n.i(u.a)(a-this.long0),h=Math.sin(o),d=Math.cos(o);if(this.es){var f=d*l,p=Math.pow(f,2),m=this.ep2*Math.pow(d,2),g=Math.pow(m,2),v=Math.abs(d)>c.d?Math.tan(o):0,y=Math.pow(v,2),b=Math.pow(y,2);e=1-this.es*Math.pow(h,2),f/=Math.sqrt(e);var x=n.i(s.a)(o,h,d,this.en);r=this.a*(this.k0*f*(1+p/6*(1-y+m+p/20*(5-18*y+b+14*m-58*y*m+p/42*(61+179*b-b*y-479*y)))))+this.x0,i=this.a*(this.k0*(x-this.ml0+h*l*f/2*(1+p/12*(5-y+9*m+4*g+p/30*(61+b-58*y+270*m-330*y*m+p/56*(1385+543*b-b*y-3111*y))))))+this.y0}else{var _=d*Math.sin(l);if(Math.abs(Math.abs(_)-1)<c.d)return 93;if(r=.5*this.a*this.k0*Math.log((1+_)/(1-_))+this.x0,i=d*Math.cos(l)/Math.sqrt(1-Math.pow(_,2)),(_=Math.abs(i))>=1){if(_-1>c.d)return 93;i=0}else i=Math.acos(i);o<0&&(i=-i),i=this.a*this.k0*(i-this.lat0)+this.y0}return t.x=r,t.y=i,t}function a(t){var e,r,i,a,o=(t.x-this.x0)*(1/this.a),s=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+s/this.k0,r=n.i(l.a)(e,this.es,this.en),Math.abs(r)<c.a){var d=Math.sin(r),f=Math.cos(r),p=Math.abs(f)>c.d?Math.tan(r):0,m=this.ep2*Math.pow(f,2),g=Math.pow(m,2),v=Math.pow(p,2),y=Math.pow(v,2);e=1-this.es*Math.pow(d,2);var b=o*Math.sqrt(e)/this.k0,x=Math.pow(b,2);e*=p,i=r-e*x/(1-this.es)*.5*(1-x/12*(5+3*v-9*m*v+m-4*g-x/30*(61+90*v-252*m*v+45*y+46*m-x/56*(1385+3633*v+4095*y+1574*y*v)))),a=n.i(u.a)(this.long0+b*(1-x/6*(1+2*v+m-x/20*(5+28*v+24*y+8*m*v+6*m-x/42*(61+662*v+1320*y+720*y*v))))/f)}else i=c.a*n.i(h.a)(s),a=0;else{var _=Math.exp(o/this.k0),w=.5*(_-1/_),M=this.lat0+s/this.k0,S=Math.cos(M);e=Math.sqrt((1-Math.pow(S,2))/(1+Math.pow(w,2))),i=Math.asin(e),s<0&&(i=-i),a=0===w&&0===S?0:n.i(u.a)(Math.atan2(w,S)+this.long0)}return t.x=a,t.y=i,t}var o=n(150),s=n(106),l=n(151),u=n(11),c=n(7),h=n(60),d=["Transverse_Mercator","Transverse Mercator","tmerc"];e.a={init:r,forward:i,inverse:a,names:d}},function(t,e,n){"use strict";function r(){var t=n.i(i.a)(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*o.g,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,a.a.init.apply(this),this.forward=a.a.forward,this.inverse=a.a.inverse}var i=n(417),a=n(156),o=n(7),s=["Universal Transverse Mercator System","utm"];e.a={init:r,names:s,dependsOn:"etmerc"}},function(t,e,n){"use strict";function r(){this.R=this.a}function i(t){var e,r,i=t.x,a=t.y,u=n.i(o.a)(i-this.long0);Math.abs(a)<=s.d&&(e=this.x0+this.R*u,r=this.y0);var c=n.i(l.a)(2*Math.abs(a/Math.PI));(Math.abs(u)<=s.d||Math.abs(Math.abs(a)-s.a)<=s.d)&&(e=this.x0,r=a>=0?this.y0+Math.PI*this.R*Math.tan(.5*c):this.y0+Math.PI*this.R*-Math.tan(.5*c));var h=.5*Math.abs(Math.PI/u-u/Math.PI),d=h*h,f=Math.sin(c),p=Math.cos(c),m=p/(f+p-1),g=m*m,v=m*(2/f-1),y=v*v,b=Math.PI*this.R*(h*(m-y)+Math.sqrt(d*(m-y)*(m-y)-(y+d)*(g-y)))/(y+d);u<0&&(b=-b),e=this.x0+b;var x=d+m;return b=Math.PI*this.R*(v*x-h*Math.sqrt((y+d)*(d+1)-x*x))/(y+d),r=a>=0?this.y0+b:this.y0-b,t.x=e,t.y=r,t}function a(t){var e,r,i,a,l,u,c,h,d,f,p,m,g;return t.x-=this.x0,t.y-=this.y0,p=Math.PI*this.R,i=t.x/p,a=t.y/p,l=i*i+a*a,u=-Math.abs(a)*(1+l),c=u-2*a*a+i*i,h=-2*u+1+2*a*a+l*l,g=a*a/h+(2*c*c*c/h/h/h-9*u*c/h/h)/27,d=(u-c*c/3/h)/h,f=2*Math.sqrt(-d/3),p=3*g/d/f,Math.abs(p)>1&&(p=p>=0?1:-1),m=Math.acos(p)/3,r=t.y>=0?(-f*Math.cos(m+Math.PI/3)-c/3/h)*Math.PI:-(-f*Math.cos(m+Math.PI/3)-c/3/h)*Math.PI,e=Math.abs(i)<s.d?this.long0:n.i(o.a)(this.long0+Math.PI*(l-1+Math.sqrt(1+2*(i*i-a*a)+l*l))/2/i),t.x=e,t.y=r,t}var o=n(11),s=n(7),l=n(45),u=["Van_der_Grinten_I","VanDerGrinten","vandg"];e.a={init:r,forward:i,inverse:a,names:u}},function(t,e,n){"use strict";var r=n(559);n.n(r);n.o(r,"version")&&n.d(e,"a",function(){return r.version})},function(t,e,n){"use strict";var r=n(464),i=n(156),a=n(465),o=n(463),s=n(462),l=n(461),u=n(456),c=n(450),h=n(448),d=n(442),f=n(449),p=n(440),m=n(447),g=n(443),v=n(444),y=n(458),b=n(455),x=n(453),_=n(460),w=n(454),M=n(445),S=n(466),E=n(441),k=n(457),T=n(459);e.a=function(t){t.Proj.projections.add(r.a),t.Proj.projections.add(i.a),t.Proj.projections.add(a.a),t.Proj.projections.add(o.a),t.Proj.projections.add(s.a),t.Proj.projections.add(l.a),t.Proj.projections.add(u.a),t.Proj.projections.add(c.a),t.Proj.projections.add(h.a),t.Proj.projections.add(d.a),t.Proj.projections.add(f.a),t.Proj.projections.add(p.a),t.Proj.projections.add(m.a),t.Proj.projections.add(g.a),t.Proj.projections.add(v.a),t.Proj.projections.add(y.a),t.Proj.projections.add(b.a),t.Proj.projections.add(x.a),t.Proj.projections.add(_.a),t.Proj.projections.add(w.a),t.Proj.projections.add(M.a),t.Proj.projections.add(S.a),t.Proj.projections.add(E.a),t.Proj.projections.add(k.a),t.Proj.projections.add(T.a)}},function(t,e,n){"use strict";var r=n(69),i=n(370),a=n(470);t.exports=function(){function t(t,e,n,r,o,s){s!==a&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return n.checkPropTypes=r,n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";function r(t){for(var e=arguments.length-1,n="Minified React error #"+t+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+t,r=0;r<e;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);throw e=Error(n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."),e.name="Invariant Violation",e.framesToPop=1,e}function i(t,e){return(t&e)===e}function a(t,e){if(Pn.hasOwnProperty(t)||2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))return!1;if(null===e)return!0;switch(typeof e){case"boolean":return Pn.hasOwnProperty(t)?t=!0:(e=o(t))?t=e.hasBooleanValue||e.hasStringBooleanValue||e.hasOverloadedBooleanValue:(t=t.toLowerCase().slice(0,5),t="data-"===t||"aria-"===t),t;case"undefined":case"number":case"string":case"object":return!0;default:return!1}}function o(t){return An.hasOwnProperty(t)?An[t]:null}function s(t){return t[1].toUpperCase()}function l(t,e,n,r,i,a,o,s,l){Vn._hasCaughtError=!1,Vn._caughtError=null;var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(t){Vn._caughtError=t,Vn._hasCaughtError=!0}}function u(){if(Vn._hasRethrowError){var t=Vn._rethrowError;throw Vn._rethrowError=null,Vn._hasRethrowError=!1,t}}function c(){if(Hn)for(var t in Yn){var e=Yn[t],n=Hn.indexOf(t);if(-1<n||r("96",t),!qn[n]){e.extractEvents||r("97",t),qn[n]=e,n=e.eventTypes;for(var i in n){var a=void 0,o=n[i],s=e,l=i;Xn.hasOwnProperty(l)&&r("99",l),Xn[l]=o;var u=o.phasedRegistrationNames;if(u){for(a in u)u.hasOwnProperty(a)&&h(u[a],s,l);a=!0}else o.registrationName?(h(o.registrationName,s,l),a=!0):a=!1;a||r("98",i,t)}}}}function h(t,e,n){Zn[t]&&r("100",t),Zn[t]=e,Kn[t]=e.eventTypes[n].dependencies}function d(t){Hn&&r("101"),Hn=Array.prototype.slice.call(t),c()}function f(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var i=t[e];Yn.hasOwnProperty(e)&&Yn[e]===i||(Yn[e]&&r("102",e),Yn[e]=i,n=!0)}n&&c()}function p(t,e,n,r){e=t.type||"unknown-event",t.currentTarget=tr(r),Vn.invokeGuardedCallbackAndCatchFirstError(e,n,void 0,t),t.currentTarget=null}function m(t,e){return null==e&&r("30"),null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function g(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}function v(t,e){if(t){var n=t._dispatchListeners,r=t._dispatchInstances;if(Array.isArray(n))for(var i=0;i<n.length&&!t.isPropagationStopped();i++)p(t,e,n[i],r[i]);else n&&p(t,e,n,r);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function y(t){return v(t,!0)}function b(t){return v(t,!1)}function x(t,e){var n=t.stateNode;if(!n)return null;var i=Qn(n);if(!i)return null;n=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(i=!i.disabled)||(t=t.type,i=!("button"===t||"input"===t||"select"===t||"textarea"===t)),t=!i;break t;default:t=!1}return t?null:(n&&"function"!=typeof n&&r("231",e,typeof n),n)}function _(t,e,n,r){for(var i,a=0;a<qn.length;a++){var o=qn[a];o&&(o=o.extractEvents(t,e,n,r))&&(i=m(i,o))}return i}function w(t){t&&(er=m(er,t))}function M(t){var e=er;er=null,e&&(t?g(e,y):g(e,b),er&&r("95"),Vn.rethrowCaughtError())}function S(t){if(t[ar])return t[ar];for(var e=[];!t[ar];){if(e.push(t),!t.parentNode)return null;t=t.parentNode}var n=void 0,r=t[ar];if(5===r.tag||6===r.tag)return r;for(;t&&(r=t[ar]);t=e.pop())n=r;return n}function E(t){if(5===t.tag||6===t.tag)return t.stateNode;r("33")}function k(t){return t[or]||null}function T(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function C(t,e,n){for(var r=[];t;)r.push(t),t=T(t);for(t=r.length;0<t--;)e(r[t],"captured",n);for(t=0;t<r.length;t++)e(r[t],"bubbled",n)}function P(t,e,n){(e=x(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=m(n._dispatchListeners,e),n._dispatchInstances=m(n._dispatchInstances,t))}function O(t){t&&t.dispatchConfig.phasedRegistrationNames&&C(t._targetInst,P,t)}function A(t){if(t&&t.dispatchConfig.phasedRegistrationNames){var e=t._targetInst;e=e?T(e):null,C(e,P,t)}}function R(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=x(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=m(n._dispatchListeners,e),n._dispatchInstances=m(n._dispatchInstances,t))}function L(t){t&&t.dispatchConfig.registrationName&&R(t._targetInst,null,t)}function I(t){g(t,O)}function D(t,e,n,r){if(n&&r)t:{for(var i=n,a=r,o=0,s=i;s;s=T(s))o++;s=0;for(var l=a;l;l=T(l))s++;for(;0<o-s;)i=T(i),o--;for(;0<s-o;)a=T(a),s--;for(;o--;){if(i===a||i===a.alternate)break t;i=T(i),a=T(a)}i=null}else i=null;for(a=i,i=[];n&&n!==a&&(null===(o=n.alternate)||o!==a);)i.push(n),n=T(n);for(n=[];r&&r!==a&&(null===(o=r.alternate)||o!==a);)n.push(r),r=T(r);for(r=0;r<i.length;r++)R(i[r],"bubbled",t);for(t=n.length;0<t--;)R(n[t],"captured",e)}function N(){return!ur&&xn.canUseDOM&&(ur="textContent"in document.documentElement?"textContent":"innerText"),ur}function z(){if(cr._fallbackText)return cr._fallbackText;var t,e,n=cr._startText,r=n.length,i=B(),a=i.length;for(t=0;t<r&&n[t]===i[t];t++);var o=r-t;for(e=1;e<=o&&n[r-e]===i[a-e];e++);return cr._fallbackText=i.slice(t,1<e?1-e:void 0),cr._fallbackText}function B(){return"value"in cr._root?cr._root.value:cr._root[N()]}function F(t,e,n,r){this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface;for(var i in t)t.hasOwnProperty(i)&&((e=t[i])?this[i]=e(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?wn.thatReturnsTrue:wn.thatReturnsFalse,this.isPropagationStopped=wn.thatReturnsFalse,this}function U(t,e,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,t,e,n,r),i}return new this(t,e,n,r)}function j(t){t instanceof this||r("223"),t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function W(t){t.eventPool=[],t.getPooled=U,t.release=j}function G(t,e,n,r){return F.call(this,t,e,n,r)}function V(t,e,n,r){return F.call(this,t,e,n,r)}function H(t,e){switch(t){case"topKeyUp":return-1!==fr.indexOf(e.keyCode);case"topKeyDown":return 229!==e.keyCode;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function Y(t){return t=t.detail,"object"==typeof t&&"data"in t?t.data:null}function q(t,e){switch(t){case"topCompositionEnd":return Y(e);case"topKeyPress":return 32!==e.which?null:(Mr=!0,_r);case"topTextInput":return t=e.data,t===_r&&Mr?null:t;default:return null}}function X(t,e){if(Sr)return"topCompositionEnd"===t||!pr&&H(t,e)?(t=z(),cr._root=null,cr._startText=null,cr._fallbackText=null,Sr=!1,t):null;switch(t){case"topPaste":return null;case"topKeyPress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"topCompositionEnd":return xr?null:e.data;default:return null}}function Z(t){if(t=$n(t)){kr&&"function"==typeof kr.restoreControlledState||r("194");var e=Qn(t.stateNode);kr.restoreControlledState(t.stateNode,t.type,e)}}function K(t){Tr?Cr?Cr.push(t):Cr=[t]:Tr=t}function J(){if(Tr){var t=Tr,e=Cr;if(Cr=Tr=null,Z(t),e)for(t=0;t<e.length;t++)Z(e[t])}}function Q(t,e){return t(e)}function $(t,e){if(Ar)return Q(t,e);Ar=!0;try{return Q(t,e)}finally{Ar=!1,J()}}function tt(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Rr[t.type]:"textarea"===e}function et(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function nt(t,e){if(!xn.canUseDOM||e&&!("addEventListener"in document))return!1;e="on"+t;var n=e in document;return n||(n=document.createElement("div"),n.setAttribute(e,"return;"),n="function"==typeof n[e]),!n&&yr&&"wheel"===t&&(n=document.implementation.hasFeature("Events.wheel","3.0")),n}function rt(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function it(t){var e=rt(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"function"==typeof n.get&&"function"==typeof n.set)return Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:!0,get:function(){return n.get.call(this)},set:function(t){r=""+t,n.set.call(this,t)}}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}function at(t){t._valueTracker||(t._valueTracker=it(t))}function ot(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=rt(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function st(t,e,n){return t=F.getPooled(Lr.change,t,e,n),t.type="change",K(n),I(t),t}function lt(t){w(t),M(!1)}function ut(t){if(ot(E(t)))return t}function ct(t,e){if("topChange"===t)return e}function ht(){Ir&&(Ir.detachEvent("onpropertychange",dt),Dr=Ir=null)}function dt(t){"value"===t.propertyName&&ut(Dr)&&(t=st(Dr,t,et(t)),$(lt,t))}function ft(t,e,n){"topFocus"===t?(ht(),Ir=e,Dr=n,Ir.attachEvent("onpropertychange",dt)):"topBlur"===t&&ht()}function pt(t){if("topSelectionChange"===t||"topKeyUp"===t||"topKeyDown"===t)return ut(Dr)}function mt(t,e){if("topClick"===t)return ut(e)}function gt(t,e){if("topInput"===t||"topChange"===t)return ut(e)}function vt(t,e,n,r){return F.call(this,t,e,n,r)}function yt(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Br[t])&&!!e[t]}function bt(){return yt}function xt(t,e,n,r){return F.call(this,t,e,n,r)}function _t(t){return t=t.type,"string"==typeof t?t:"function"==typeof t?t.displayName||t.name:null}function wt(t){var e=t;if(t.alternate)for(;e.return;)e=e.return;else{if(0!=(2&e.effectTag))return 1;for(;e.return;)if(e=e.return,0!=(2&e.effectTag))return 1}return 3===e.tag?2:3}function Mt(t){return!!(t=t._reactInternalFiber)&&2===wt(t)}function St(t){2!==wt(t)&&r("188")}function Et(t){var e=t.alternate;if(!e)return e=wt(t),3===e&&r("188"),1===e?null:t;for(var n=t,i=e;;){var a=n.return,o=a?a.alternate:null;if(!a||!o)break;if(a.child===o.child){for(var s=a.child;s;){if(s===n)return St(a),t;if(s===i)return St(a),e;s=s.sibling}r("188")}if(n.return!==i.return)n=a,i=o;else{s=!1;for(var l=a.child;l;){if(l===n){s=!0,n=a,i=o;break}if(l===i){s=!0,i=a,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,i=a;break}if(l===i){s=!0,i=o,n=a;break}l=l.sibling}s||r("189")}}n.alternate!==i&&r("190")}return 3!==n.tag&&r("188"),n.stateNode.current===n?t:e}function kt(t){if(!(t=Et(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Tt(t){if(!(t=Et(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child&&4!==e.tag)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Ct(t){var e=t.targetInst;do{if(!e){t.ancestors.push(e);break}var n;for(n=e;n.return;)n=n.return;if(!(n=3!==n.tag?null:n.stateNode.containerInfo))break;t.ancestors.push(e),e=S(n)}while(e);for(n=0;n<t.ancestors.length;n++)e=t.ancestors[n],Vr(t.topLevelType,e,t.nativeEvent,et(t.nativeEvent))}function Pt(t){Gr=!!t}function Ot(t,e,n){return n?Mn.listen(n,e,Rt.bind(null,t)):null}function At(t,e,n){return n?Mn.capture(n,e,Rt.bind(null,t)):null}function Rt(t,e){if(Gr){var n=et(e);if(n=S(n),null===n||"number"!=typeof n.tag||2===wt(n)||(n=null),Wr.length){var r=Wr.pop();r.topLevelType=t,r.nativeEvent=e,r.targetInst=n,t=r}else t={topLevelType:t,nativeEvent:e,targetInst:n,ancestors:[]};try{$(Ct,t)}finally{t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>Wr.length&&Wr.push(t)}}}function Lt(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n["ms"+t]="MS"+e,n["O"+t]="o"+e.toLowerCase(),n}function It(t){if(qr[t])return qr[t];if(!Yr[t])return t;var e,n=Yr[t];for(e in n)if(n.hasOwnProperty(e)&&e in Xr)return qr[t]=n[e];return""}function Dt(t){return Object.prototype.hasOwnProperty.call(t,Qr)||(t[Qr]=Jr++,Kr[t[Qr]]={}),Kr[t[Qr]]}function Nt(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zt(t,e){var n=Nt(t);t=0;for(var r;n;){if(3===n.nodeType){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=Nt(n)}}function Bt(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&"text"===t.type||"textarea"===e||"true"===t.contentEditable)}function Ft(t,e){if(ii||null==ei||ei!==Sn())return null;var n=ei;return"selectionStart"in n&&Bt(n)?n={start:n.selectionStart,end:n.selectionEnd}:window.getSelection?(n=window.getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}):n=void 0,ri&&En(ri,n)?null:(ri=n,t=F.getPooled(ti.select,ni,t,e),t.type="select",t.target=ei,I(t),t)}function Ut(t,e,n,r){return F.call(this,t,e,n,r)}function jt(t,e,n,r){return F.call(this,t,e,n,r)}function Wt(t,e,n,r){return F.call(this,t,e,n,r)}function Gt(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,32<=t||13===t?t:0}function Vt(t,e,n,r){return F.call(this,t,e,n,r)}function Ht(t,e,n,r){return F.call(this,t,e,n,r)}function Yt(t,e,n,r){return F.call(this,t,e,n,r)}function qt(t,e,n,r){return F.call(this,t,e,n,r)}function Xt(t,e,n,r){return F.call(this,t,e,n,r)}function Zt(t){0>di||(t.current=hi[di],hi[di]=null,di--)}function Kt(t,e){di++,hi[di]=t.current,t.current=e}function Jt(t){return $t(t)?mi:fi.current}function Qt(t,e){var n=t.type.contextTypes;if(!n)return Cn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function $t(t){return 2===t.tag&&null!=t.type.childContextTypes}function te(t){$t(t)&&(Zt(pi,t),Zt(fi,t))}function ee(t,e,n){null!=fi.cursor&&r("168"),Kt(fi,e,t),Kt(pi,n,t)}function ne(t,e){var n=t.stateNode,i=t.type.childContextTypes;if("function"!=typeof n.getChildContext)return e;n=n.getChildContext();for(var a in n)a in i||r("108",_t(t)||"Unknown",a);return _n({},e,n)}function re(t){if(!$t(t))return!1;var e=t.stateNode;return e=e&&e.__reactInternalMemoizedMergedChildContext||Cn,mi=fi.current,Kt(fi,e,t),Kt(pi,pi.current,t),!0}function ie(t,e){var n=t.stateNode;if(n||r("169"),e){var i=ne(t,mi);n.__reactInternalMemoizedMergedChildContext=i,Zt(pi,t),Zt(fi,t),Kt(fi,i,t)}else Zt(pi,t);Kt(pi,e,t)}function ae(t,e,n){this.tag=t,this.key=e,this.stateNode=this.type=null,this.sibling=this.child=this.return=null,this.index=0,this.memoizedState=this.updateQueue=this.memoizedProps=this.pendingProps=this.ref=null,this.internalContextTag=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.expirationTime=0,this.alternate=null}function oe(t,e,n){var r=t.alternate;return null===r?(r=new ae(t.tag,t.key,t.internalContextTag),r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.expirationTime=n,r.pendingProps=e,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function se(t,e,n){var i=void 0,a=t.type,o=t.key;return"function"==typeof a?(i=a.prototype&&a.prototype.isReactComponent?new ae(2,o,e):new ae(0,o,e),i.type=a,i.pendingProps=t.props):"string"==typeof a?(i=new ae(5,o,e),i.type=a,i.pendingProps=t.props):"object"==typeof a&&null!==a&&"number"==typeof a.tag?(i=a,i.pendingProps=t.props):r("130",null==a?a:typeof a,""),i.expirationTime=n,i}function le(t,e,n,r){return e=new ae(10,r,e),e.pendingProps=t,e.expirationTime=n,e}function ue(t,e,n){return e=new ae(6,null,e),e.pendingProps=t,e.expirationTime=n,e}function ce(t,e,n){return e=new ae(7,t.key,e),e.type=t.handler,e.pendingProps=t,e.expirationTime=n,e}function he(t,e,n){return t=new ae(9,null,e),t.expirationTime=n,t}function de(t,e,n){return e=new ae(4,t.key,e),e.pendingProps=t.children||[],e.expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function fe(t){return function(e){try{return t(e)}catch(t){}}}function pe(t){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);gi=fe(function(t){return e.onCommitFiberRoot(n,t)}),vi=fe(function(t){return e.onCommitFiberUnmount(n,t)})}catch(t){}return!0}function me(t){"function"==typeof gi&&gi(t)}function ge(t){"function"==typeof vi&&vi(t)}function ve(t){return{baseState:t,expirationTime:0,first:null,last:null,callbackList:null,hasForceUpdate:!1,isInitialized:!1}}function ye(t,e){null===t.last?t.first=t.last=e:(t.last.next=e,t.last=e),(0===t.expirationTime||t.expirationTime>e.expirationTime)&&(t.expirationTime=e.expirationTime)}function be(t,e){var n=t.alternate,r=t.updateQueue;null===r&&(r=t.updateQueue=ve(null)),null!==n?null===(t=n.updateQueue)&&(t=n.updateQueue=ve(null)):t=null,t=t!==r?t:null,null===t?ye(r,e):null===r.last||null===t.last?(ye(r,e),ye(t,e)):(ye(r,e),t.last=e)}function xe(t,e,n,r){return t=t.partialState,"function"==typeof t?t.call(e,n,r):t}function _e(t,e,n,r,i,a){null!==t&&t.updateQueue===n&&(n=e.updateQueue={baseState:n.baseState,expirationTime:n.expirationTime,first:n.first,last:n.last,isInitialized:n.isInitialized,callbackList:null,hasForceUpdate:!1}),n.expirationTime=0,n.isInitialized?t=n.baseState:(t=n.baseState=e.memoizedState,n.isInitialized=!0);for(var o=!0,s=n.first,l=!1;null!==s;){var u=s.expirationTime;if(u>a){var c=n.expirationTime;(0===c||c>u)&&(n.expirationTime=u),l||(l=!0,n.baseState=t)}else l||(n.first=s.next,null===n.first&&(n.last=null)),s.isReplace?(t=xe(s,r,t,i),o=!0):(u=xe(s,r,t,i))&&(t=o?_n({},t,u):_n(t,u),o=!1),s.isForced&&(n.hasForceUpdate=!0),null!==s.callback&&(u=n.callbackList,null===u&&(u=n.callbackList=[]),u.push(s));s=s.next}return null!==n.callbackList?e.effectTag|=32:null!==n.first||n.hasForceUpdate||(e.updateQueue=null),l||(n.baseState=t),t}function we(t,e){var n=t.callbackList;if(null!==n)for(t.callbackList=null,t=0;t<n.length;t++){var i=n[t],a=i.callback;i.callback=null,"function"!=typeof a&&r("191",a),a.call(e)}}function Me(t,e,n,i){function a(t,e){e.updater=o,t.stateNode=e,e._reactInternalFiber=t}var o={isMounted:Mt,enqueueSetState:function(n,r,i){n=n._reactInternalFiber,i=void 0===i?null:i;var a=e(n);be(n,{expirationTime:a,partialState:r,callback:i,isReplace:!1,isForced:!1,nextCallback:null,next:null}),t(n,a)},enqueueReplaceState:function(n,r,i){n=n._reactInternalFiber,i=void 0===i?null:i;var a=e(n);be(n,{expirationTime:a,partialState:r,callback:i,isReplace:!0,isForced:!1,nextCallback:null,next:null}),t(n,a)},enqueueForceUpdate:function(n,r){n=n._reactInternalFiber,r=void 0===r?null:r;var i=e(n);be(n,{expirationTime:i,partialState:null,callback:r,isReplace:!1,isForced:!0,nextCallback:null,next:null}),t(n,i)}};return{adoptClassInstance:a,constructClassInstance:function(t,e){var n=t.type,r=Jt(t),i=2===t.tag&&null!=t.type.contextTypes,o=i?Qt(t,r):Cn;return e=new n(e,o),a(t,e),i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=o),e},mountClassInstance:function(t,e){var n=t.alternate,i=t.stateNode,a=i.state||null,s=t.pendingProps;s||r("158");var l=Jt(t);i.props=s,i.state=t.memoizedState=a,i.refs=Cn,i.context=Qt(t,l),null!=t.type&&null!=t.type.prototype&&!0===t.type.prototype.unstable_isAsyncReactComponent&&(t.internalContextTag|=1),"function"==typeof i.componentWillMount&&(a=i.state,i.componentWillMount(),a!==i.state&&o.enqueueReplaceState(i,i.state,null),null!==(a=t.updateQueue)&&(i.state=_e(n,t,a,i,s,e))),"function"==typeof i.componentDidMount&&(t.effectTag|=4)},updateClassInstance:function(t,e,a){var s=e.stateNode;s.props=e.memoizedProps,s.state=e.memoizedState;var l=e.memoizedProps,u=e.pendingProps;u||null==(u=l)&&r("159");var c=s.context,h=Jt(e);if(h=Qt(e,h),"function"!=typeof s.componentWillReceiveProps||l===u&&c===h||(c=s.state,s.componentWillReceiveProps(u,h),s.state!==c&&o.enqueueReplaceState(s,s.state,null)),c=e.memoizedState,a=null!==e.updateQueue?_e(t,e,e.updateQueue,s,u,a):c,!(l!==u||c!==a||pi.current||null!==e.updateQueue&&e.updateQueue.hasForceUpdate))return"function"!=typeof s.componentDidUpdate||l===t.memoizedProps&&c===t.memoizedState||(e.effectTag|=4),!1;var d=u;if(null===l||null!==e.updateQueue&&e.updateQueue.hasForceUpdate)d=!0;else{var f=e.stateNode,p=e.type;d="function"==typeof f.shouldComponentUpdate?f.shouldComponentUpdate(d,a,h):!p.prototype||!p.prototype.isPureReactComponent||(!En(l,d)||!En(c,a))}return d?("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(u,a,h),"function"==typeof s.componentDidUpdate&&(e.effectTag|=4)):("function"!=typeof s.componentDidUpdate||l===t.memoizedProps&&c===t.memoizedState||(e.effectTag|=4),n(e,u),i(e,a)),s.props=u,s.state=a,s.context=h,d}}}function Se(t){return null===t||void 0===t?null:(t=Si&&t[Si]||t["@@iterator"],"function"==typeof t?t:null)}function Ee(t,e){var n=e.ref;if(null!==n&&"function"!=typeof n){if(e._owner){e=e._owner;var i=void 0;e&&(2!==e.tag&&r("110"),i=e.stateNode),i||r("147",n);var a=""+n;return null!==t&&null!==t.ref&&t.ref._stringRef===a?t.ref:(t=function(t){var e=i.refs===Cn?i.refs={}:i.refs;null===t?delete e[a]:e[a]=t},t._stringRef=a,t)}"string"!=typeof n&&r("148"),e._owner||r("149",n)}return n}function ke(t,e){"textarea"!==t.type&&r("31","[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,"")}function Te(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function i(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(t,e,n){return t=oe(t,e,n),t.index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index,r<n?(e.effectTag=2,n):r):(e.effectTag=2,n):n}function s(e){return t&&null===e.alternate&&(e.effectTag=2),e}function l(t,e,n,r){return null===e||6!==e.tag?(e=ue(n,t.internalContextTag,r),e.return=t,e):(e=a(e,n,r),e.return=t,e)}function u(t,e,n,r){return null!==e&&e.type===n.type?(r=a(e,n.props,r),r.ref=Ee(e,n),r.return=t,r):(r=se(n,t.internalContextTag,r),r.ref=Ee(e,n),r.return=t,r)}function c(t,e,n,r){return null===e||7!==e.tag?(e=ce(n,t.internalContextTag,r),e.return=t,e):(e=a(e,n,r),e.return=t,e)}function h(t,e,n,r){return null===e||9!==e.tag?(e=he(n,t.internalContextTag,r),e.type=n.value,e.return=t,e):(e=a(e,null,r),e.type=n.value,e.return=t,e)}function d(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?(e=de(n,t.internalContextTag,r),e.return=t,e):(e=a(e,n.children||[],r),e.return=t,e)}function f(t,e,n,r,i){return null===e||10!==e.tag?(e=le(n,t.internalContextTag,r,i),e.return=t,e):(e=a(e,n,r),e.return=t,e)}function p(t,e,n){if("string"==typeof e||"number"==typeof e)return e=ue(""+e,t.internalContextTag,n),e.return=t,e;if("object"==typeof e&&null!==e){switch(e.$$typeof){case bi:return e.type===Mi?(e=le(e.props.children,t.internalContextTag,n,e.key),e.return=t,e):(n=se(e,t.internalContextTag,n),n.ref=Ee(null,e),n.return=t,n);case xi:return e=ce(e,t.internalContextTag,n),e.return=t,e;case _i:return n=he(e,t.internalContextTag,n),n.type=e.value,n.return=t,n;case wi:return e=de(e,t.internalContextTag,n),e.return=t,e}if(Ei(e)||Se(e))return e=le(e,t.internalContextTag,n,null),e.return=t,e;ke(t,e)}return null}function m(t,e,n,r){var i=null!==e?e.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(t,e,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case bi:return n.key===i?n.type===Mi?f(t,e,n.props.children,r,i):u(t,e,n,r):null;case xi:return n.key===i?c(t,e,n,r):null;case _i:return null===i?h(t,e,n,r):null;case wi:return n.key===i?d(t,e,n,r):null}if(Ei(n)||Se(n))return null!==i?null:f(t,e,n,r,null);ke(t,n)}return null}function g(t,e,n,r,i){if("string"==typeof r||"number"==typeof r)return t=t.get(n)||null,l(e,t,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case bi:return t=t.get(null===r.key?n:r.key)||null,r.type===Mi?f(e,t,r.props.children,i,r.key):u(e,t,r,i);case xi:return t=t.get(null===r.key?n:r.key)||null,c(e,t,r,i);case _i:return t=t.get(n)||null,h(e,t,r,i);case wi:return t=t.get(null===r.key?n:r.key)||null,d(e,t,r,i)}if(Ei(r)||Se(r))return t=t.get(n)||null,f(e,t,r,i,null);ke(e,r)}return null}function v(r,a,s,l){for(var u=null,c=null,h=a,d=a=0,f=null;null!==h&&d<s.length;d++){h.index>d?(f=h,h=null):f=h.sibling;var v=m(r,h,s[d],l);if(null===v){null===h&&(h=f);break}t&&h&&null===v.alternate&&e(r,h),a=o(v,a,d),null===c?u=v:c.sibling=v,c=v,h=f}if(d===s.length)return n(r,h),u;if(null===h){for(;d<s.length;d++)(h=p(r,s[d],l))&&(a=o(h,a,d),null===c?u=h:c.sibling=h,c=h);return u}for(h=i(r,h);d<s.length;d++)(f=g(h,r,d,s[d],l))&&(t&&null!==f.alternate&&h.delete(null===f.key?d:f.key),a=o(f,a,d),null===c?u=f:c.sibling=f,c=f);return t&&h.forEach(function(t){return e(r,t)}),u}function y(a,s,l,u){var c=Se(l);"function"!=typeof c&&r("150"),null==(l=c.call(l))&&r("151");for(var h=c=null,d=s,f=s=0,v=null,y=l.next();null!==d&&!y.done;f++,y=l.next()){d.index>f?(v=d,d=null):v=d.sibling;var b=m(a,d,y.value,u);if(null===b){d||(d=v);break}t&&d&&null===b.alternate&&e(a,d),s=o(b,s,f),null===h?c=b:h.sibling=b,h=b,d=v}if(y.done)return n(a,d),c;if(null===d){for(;!y.done;f++,y=l.next())null!==(y=p(a,y.value,u))&&(s=o(y,s,f),null===h?c=y:h.sibling=y,h=y);return c}for(d=i(a,d);!y.done;f++,y=l.next())null!==(y=g(d,a,f,y.value,u))&&(t&&null!==y.alternate&&d.delete(null===y.key?f:y.key),s=o(y,s,f),null===h?c=y:h.sibling=y,h=y);return t&&d.forEach(function(t){return e(a,t)}),c}return function(t,i,o,l){"object"==typeof o&&null!==o&&o.type===Mi&&null===o.key&&(o=o.props.children);var u="object"==typeof o&&null!==o;if(u)switch(o.$$typeof){case bi:t:{var c=o.key;for(u=i;null!==u;){if(u.key===c){if(10===u.tag?o.type===Mi:u.type===o.type){n(t,u.sibling),i=a(u,o.type===Mi?o.props.children:o.props,l),i.ref=Ee(u,o),i.return=t,t=i;break t}n(t,u);break}e(t,u),u=u.sibling}o.type===Mi?(i=le(o.props.children,t.internalContextTag,l,o.key),i.return=t,t=i):(l=se(o,t.internalContextTag,l),l.ref=Ee(i,o),l.return=t,t=l)}return s(t);case xi:t:{for(u=o.key;null!==i;){if(i.key===u){if(7===i.tag){n(t,i.sibling),i=a(i,o,l),i.return=t,t=i;break t}n(t,i);break}e(t,i),i=i.sibling}i=ce(o,t.internalContextTag,l),i.return=t,t=i}return s(t);case _i:t:{if(null!==i){if(9===i.tag){n(t,i.sibling),i=a(i,null,l),i.type=o.value,i.return=t,t=i;break t}n(t,i)}i=he(o,t.internalContextTag,l),i.type=o.value,i.return=t,t=i}return s(t);case wi:t:{for(u=o.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(t,i.sibling),i=a(i,o.children||[],l),i.return=t,t=i;break t}n(t,i);break}e(t,i),i=i.sibling}i=de(o,t.internalContextTag,l),i.return=t,t=i}return s(t)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==i&&6===i.tag?(n(t,i.sibling),i=a(i,o,l)):(n(t,i),i=ue(o,t.internalContextTag,l)),i.return=t,t=i,s(t);if(Ei(o))return v(t,i,o,l);if(Se(o))return y(t,i,o,l);if(u&&ke(t,o),void 0===o)switch(t.tag){case 2:case 1:l=t.type,r("152",l.displayName||l.name||"Component")}return n(t,i)}}function Ce(t,e,n,i,a){function o(t,e,n){var r=e.expirationTime;e.child=null===t?Ti(e,null,n,r):ki(e,t.child,n,r)}function s(t,e){var n=e.ref;null===n||t&&t.ref===n||(e.effectTag|=128)}function l(t,e,n,r){if(s(t,e),!n)return r&&ie(e,!1),c(t,e);n=e.stateNode,jr.current=e;var i=n.render();return e.effectTag|=1,o(t,e,i),e.memoizedState=n.state,e.memoizedProps=n.props,r&&ie(e,!0),e.child}function u(t){var e=t.stateNode;e.pendingContext?ee(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ee(t,e.context,!1),g(t,e.containerInfo)}function c(t,e){if(null!==t&&e.child!==t.child&&r("153"),null!==e.child){t=e.child;var n=oe(t,t.pendingProps,t.expirationTime);for(e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,n=n.sibling=oe(t,t.pendingProps,t.expirationTime),n.return=e;n.sibling=null}return e.child}function h(t,e){switch(e.tag){case 3:u(e);break;case 2:re(e);break;case 4:g(e,e.stateNode.containerInfo)}return null}var d=t.shouldSetTextContent,f=t.useSyncScheduling,p=t.shouldDeprioritizeSubtree,m=e.pushHostContext,g=e.pushHostContainer,v=n.enterHydrationState,y=n.resetHydrationState,b=n.tryToClaimNextHydratableInstance;t=Me(i,a,function(t,e){t.memoizedProps=e},function(t,e){t.memoizedState=e});var x=t.adoptClassInstance,_=t.constructClassInstance,w=t.mountClassInstance,M=t.updateClassInstance;return{beginWork:function(t,e,n){if(0===e.expirationTime||e.expirationTime>n)return h(t,e);switch(e.tag){case 0:null!==t&&r("155");var i=e.type,a=e.pendingProps,S=Jt(e);return S=Qt(e,S),i=i(a,S),e.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render?(e.tag=2,a=re(e),x(e,i),w(e,n),e=l(t,e,!0,a)):(e.tag=1,o(t,e,i),e.memoizedProps=a,e=e.child),e;case 1:t:{if(a=e.type,n=e.pendingProps,i=e.memoizedProps,pi.current)null===n&&(n=i);else if(null===n||i===n){e=c(t,e);break t}i=Jt(e),i=Qt(e,i),a=a(n,i),e.effectTag|=1,o(t,e,a),e.memoizedProps=n,e=e.child}return e;case 2:return a=re(e),i=void 0,null===t?e.stateNode?r("153"):(_(e,e.pendingProps),w(e,n),i=!0):i=M(t,e,n),l(t,e,i,a);case 3:return u(e),a=e.updateQueue,null!==a?(i=e.memoizedState,a=_e(t,e,a,null,null,n),i===a?(y(),e=c(t,e)):(i=a.element,S=e.stateNode,(null===t||null===t.child)&&S.hydrate&&v(e)?(e.effectTag|=2,e.child=Ti(e,null,i,n)):(y(),o(t,e,i)),e.memoizedState=a,e=e.child)):(y(),e=c(t,e)),e;case 5:m(e),null===t&&b(e),a=e.type;var E=e.memoizedProps;return i=e.pendingProps,null===i&&null===(i=E)&&r("154"),S=null!==t?t.memoizedProps:null,pi.current||null!==i&&E!==i?(E=i.children,d(a,i)?E=null:S&&d(a,S)&&(e.effectTag|=16),s(t,e),2147483647!==n&&!f&&p(a,i)?(e.expirationTime=2147483647,e=null):(o(t,e,E),e.memoizedProps=i,e=e.child)):e=c(t,e),e;case 6:return null===t&&b(e),t=e.pendingProps,null===t&&(t=e.memoizedProps),e.memoizedProps=t,null;case 8:e.tag=7;case 7:return a=e.pendingProps,pi.current?null===a&&null===(a=t&&t.memoizedProps)&&r("154"):null!==a&&e.memoizedProps!==a||(a=e.memoizedProps),i=a.children,e.stateNode=null===t?Ti(e,e.stateNode,i,n):ki(e,e.stateNode,i,n),e.memoizedProps=a,e.stateNode;case 9:return null;case 4:t:{if(g(e,e.stateNode.containerInfo),a=e.pendingProps,pi.current)null===a&&null==(a=t&&t.memoizedProps)&&r("154");else if(null===a||e.memoizedProps===a){e=c(t,e);break t}null===t?e.child=ki(e,null,a,n):o(t,e,a),e.memoizedProps=a,e=e.child}return e;case 10:t:{if(n=e.pendingProps,pi.current)null===n&&(n=e.memoizedProps);else if(null===n||e.memoizedProps===n){e=c(t,e);break t}o(t,e,n),e.memoizedProps=n,e=e.child}return e;default:r("156")}},beginFailedWork:function(t,e,n){switch(e.tag){case 2:re(e);break;case 3:u(e);break;default:r("157")}return e.effectTag|=64,null===t?e.child=null:e.child!==t.child&&(e.child=t.child),0===e.expirationTime||e.expirationTime>n?h(t,e):(e.firstEffect=null,e.lastEffect=null,e.child=null===t?Ti(e,null,null,n):ki(e,t.child,null,n),2===e.tag&&(t=e.stateNode,e.memoizedProps=t.props,e.memoizedState=t.state),e.child)}}}function Pe(t,e,n){function i(t){t.effectTag|=4}var a=t.createInstance,o=t.createTextInstance,s=t.appendInitialChild,l=t.finalizeInitialChildren,u=t.prepareUpdate,c=t.persistence,h=e.getRootHostContainer,d=e.popHostContext,f=e.getHostContext,p=e.popHostContainer,m=n.prepareToHydrateHostInstance,g=n.prepareToHydrateHostTextInstance,v=n.popHydrationState,y=void 0,b=void 0,x=void 0;return t.mutation?(y=function(){},b=function(t,e,n){(e.updateQueue=n)&&i(e)},x=function(t,e,n,r){n!==r&&i(e)}):r(c?"235":"236"),{completeWork:function(t,e,n){var c=e.pendingProps;switch(null===c?c=e.memoizedProps:2147483647===e.expirationTime&&2147483647!==n||(e.pendingProps=null),e.tag){case 1:return null;case 2:return te(e),null;case 3:return p(e),Zt(pi,e),Zt(fi,e),c=e.stateNode,c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),null!==t&&null!==t.child||(v(e),e.effectTag&=-3),y(e),null;case 5:d(e),n=h();var _=e.type;if(null!==t&&null!=e.stateNode){var w=t.memoizedProps,M=e.stateNode,S=f();M=u(M,_,w,c,n,S),b(t,e,M,_,w,c,n),t.ref!==e.ref&&(e.effectTag|=128)}else{if(!c)return null===e.stateNode&&r("166"),null;if(t=f(),v(e))m(e,n,t)&&i(e);else{t=a(_,c,n,t,e);t:for(w=e.child;null!==w;){if(5===w.tag||6===w.tag)s(t,w.stateNode);else if(4!==w.tag&&null!==w.child){w.child.return=w,w=w.child;continue}if(w===e)break;for(;null===w.sibling;){if(null===w.return||w.return===e)break t;w=w.return}w.sibling.return=w.return,w=w.sibling}l(t,_,c,n)&&i(e),e.stateNode=t}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)x(t,e,t.memoizedProps,c);else{if("string"!=typeof c)return null===e.stateNode&&r("166"),null;t=h(),n=f(),v(e)?g(e)&&i(e):e.stateNode=o(c,t,n,e)}return null;case 7:(c=e.memoizedProps)||r("165"),e.tag=8,_=[];t:for((w=e.stateNode)&&(w.return=e);null!==w;){if(5===w.tag||6===w.tag||4===w.tag)r("247");else if(9===w.tag)_.push(w.type);else if(null!==w.child){w.child.return=w,w=w.child;continue}for(;null===w.sibling;){if(null===w.return||w.return===e)break t;w=w.return}w.sibling.return=w.return,w=w.sibling}return w=c.handler,c=w(c.props,_),e.child=ki(e,null!==t?t.child:null,c,n),e.child;case 8:return e.tag=7,null;case 9:case 10:return null;case 4:return p(e),y(e),null;case 0:r("167");default:r("156")}}}}function Oe(t,e){function n(t){var n=t.ref;if(null!==n)try{n(null)}catch(n){e(t,n)}}function i(t){switch("function"==typeof ge&&ge(t),t.tag){case 2:n(t);var r=t.stateNode;if("function"==typeof r.componentWillUnmount)try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(n){e(t,n)}break;case 5:n(t);break;case 7:a(t.stateNode);break;case 4:u&&s(t)}}function a(t){for(var e=t;;)if(i(e),null===e.child||u&&4===e.tag){if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return;e=e.return}e.sibling.return=e.return,e=e.sibling}else e.child.return=e,e=e.child}function o(t){return 5===t.tag||3===t.tag||4===t.tag}function s(t){for(var e=t,n=!1,o=void 0,s=void 0;;){if(!n){n=e.return;t:for(;;){switch(null===n&&r("160"),n.tag){case 5:o=n.stateNode,s=!1;break t;case 3:case 4:o=n.stateNode.containerInfo,s=!0;break t}n=n.return}n=!0}if(5===e.tag||6===e.tag)a(e),s?b(o,e.stateNode):y(o,e.stateNode);else if(4===e.tag?o=e.stateNode.containerInfo:i(e),null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return;e=e.return,4===e.tag&&(n=!1)}e.sibling.return=e.return,e=e.sibling}}var l=t.getPublicInstance,u=t.mutation;t=t.persistence,u||r(t?"235":"236");var c=u.commitMount,h=u.commitUpdate,d=u.resetTextContent,f=u.commitTextUpdate,p=u.appendChild,m=u.appendChildToContainer,g=u.insertBefore,v=u.insertInContainerBefore,y=u.removeChild,b=u.removeChildFromContainer;return{commitResetTextContent:function(t){d(t.stateNode)},commitPlacement:function(t){t:{for(var e=t.return;null!==e;){if(o(e)){var n=e;break t}e=e.return}r("160"),n=void 0}var i=e=void 0;switch(n.tag){case 5:e=n.stateNode,i=!1;break;case 3:case 4:e=n.stateNode.containerInfo,i=!0;break;default:r("161")}16&n.effectTag&&(d(e),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||o(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}for(var a=t;;){if(5===a.tag||6===a.tag)n?i?v(e,a.stateNode,n):g(e,a.stateNode,n):i?m(e,a.stateNode):p(e,a.stateNode);else if(4!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},commitDeletion:function(t){s(t),t.return=null,t.child=null,t.alternate&&(t.alternate.child=null,t.alternate.return=null)},commitWork:function(t,e){switch(e.tag){case 2:break;case 5:var n=e.stateNode;if(null!=n){var i=e.memoizedProps;t=null!==t?t.memoizedProps:i;var a=e.type,o=e.updateQueue;e.updateQueue=null,null!==o&&h(n,o,a,t,i,e)}break;case 6:null===e.stateNode&&r("162"),n=e.memoizedProps,f(e.stateNode,null!==t?t.memoizedProps:n,n);break;case 3:break;default:r("163")}},commitLifeCycles:function(t,e){switch(e.tag){case 2:var n=e.stateNode;if(4&e.effectTag)if(null===t)n.props=e.memoizedProps,n.state=e.memoizedState,n.componentDidMount();else{var i=t.memoizedProps;t=t.memoizedState,n.props=e.memoizedProps,n.state=e.memoizedState,n.componentDidUpdate(i,t)}e=e.updateQueue,null!==e&&we(e,n);break;case 3:n=e.updateQueue,null!==n&&we(n,null!==e.child?e.child.stateNode:null);break;case 5:n=e.stateNode,null===t&&4&e.effectTag&&c(n,e.type,e.memoizedProps,e);break;case 6:case 4:break;default:r("163")}},commitAttachRef:function(t){var e=t.ref;if(null!==e){var n=t.stateNode;switch(t.tag){case 5:e(l(n));break;default:e(n)}}},commitDetachRef:function(t){null!==(t=t.ref)&&t(null)}}}function Ae(t){function e(t){return t===Ci&&r("174"),t}var n=t.getChildHostContext,i=t.getRootHostContext,a={current:Ci},o={current:Ci},s={current:Ci};return{getHostContext:function(){return e(a.current)},getRootHostContainer:function(){return e(s.current)},popHostContainer:function(t){Zt(a,t),Zt(o,t),Zt(s,t)},popHostContext:function(t){o.current===t&&(Zt(a,t),Zt(o,t))},pushHostContainer:function(t,e){Kt(s,e,t),e=i(e),Kt(o,t,t),Kt(a,e,t)},pushHostContext:function(t){var r=e(s.current),i=e(a.current);r=n(i,t.type,r),i!==r&&(Kt(o,t,t),Kt(a,r,t))},resetHostContainer:function(){a.current=Ci,s.current=Ci}}}function Re(t){function e(t,e){var n=new ae(5,null,0);n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function n(t,e){switch(t.tag){case 5:return null!==(e=o(e,t.type,t.pendingProps))&&(t.stateNode=e,!0);case 6:return null!==(e=s(e,t.pendingProps))&&(t.stateNode=e,!0);default:return!1}}function i(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag;)t=t.return;d=t}var a=t.shouldSetTextContent;if(!(t=t.hydration))return{enterHydrationState:function(){return!1},resetHydrationState:function(){},tryToClaimNextHydratableInstance:function(){},prepareToHydrateHostInstance:function(){r("175")},prepareToHydrateHostTextInstance:function(){r("176")},popHydrationState:function(){return!1}};var o=t.canHydrateInstance,s=t.canHydrateTextInstance,l=t.getNextHydratableSibling,u=t.getFirstHydratableChild,c=t.hydrateInstance,h=t.hydrateTextInstance,d=null,f=null,p=!1;return{enterHydrationState:function(t){return f=u(t.stateNode.containerInfo),d=t,p=!0},resetHydrationState:function(){f=d=null,p=!1},tryToClaimNextHydratableInstance:function(t){if(p){var r=f;if(r){if(!n(t,r)){if(!(r=l(r))||!n(t,r))return t.effectTag|=2,p=!1,void(d=t);e(d,f)}d=t,f=u(r)}else t.effectTag|=2,p=!1,d=t}},prepareToHydrateHostInstance:function(t,e,n){return e=c(t.stateNode,t.type,t.memoizedProps,e,n,t),t.updateQueue=e,null!==e},prepareToHydrateHostTextInstance:function(t){return h(t.stateNode,t.memoizedProps,t)},popHydrationState:function(t){if(t!==d)return!1;if(!p)return i(t),p=!0,!1;var n=t.type;if(5!==t.tag||"head"!==n&&"body"!==n&&!a(n,t.memoizedProps))for(n=f;n;)e(t,n),n=l(n);return i(t),f=d?l(t.stateNode):null,!0}}}function Le(t){function e(t){at=Z=!0;var e=t.stateNode;if(e.current===t&&r("177"),e.isReadyForCommit=!1,jr.current=null,1<t.effectTag)if(null!==t.lastEffect){t.lastEffect.nextEffect=t;var n=t.firstEffect}else n=t;else n=t.firstEffect;for(V(),$=n;null!==$;){var i=!1,a=void 0;try{for(;null!==$;){var o=$.effectTag;if(16&o&&L($),128&o){var s=$.alternate;null!==s&&F(s)}switch(-242&o){case 2:I($),$.effectTag&=-3;break;case 6:I($),$.effectTag&=-3,N($.alternate,$);break;case 4:N($.alternate,$);break;case 8:ot=!0,D($),ot=!1}$=$.nextEffect}}catch(t){i=!0,a=t}i&&(null===$&&r("178"),l($,a),null!==$&&($=$.nextEffect))}for(H(),e.current=t,$=n;null!==$;){n=!1,i=void 0;try{for(;null!==$;){var u=$.effectTag;if(36&u&&z($.alternate,$),128&u&&B($),64&u)switch(a=$,o=void 0,null!==tt&&(o=tt.get(a),tt.delete(a),null==o&&null!==a.alternate&&(a=a.alternate,o=tt.get(a),tt.delete(a))),null==o&&r("184"),a.tag){case 2:a.stateNode.componentDidCatch(o.error,{componentStack:o.componentStack});break;case 3:null===rt&&(rt=o.error);break;default:r("157")}var c=$.nextEffect;$.nextEffect=null,$=c}}catch(t){n=!0,i=t}n&&(null===$&&r("178"),l($,i),null!==$&&($=$.nextEffect))}return Z=at=!1,"function"==typeof me&&me(t.stateNode),nt&&(nt.forEach(m),nt=null),null!==rt&&(t=rt,rt=null,M(t)),e=e.current.expirationTime,0===e&&(et=tt=null),e}function n(t){for(;;){var e=R(t.alternate,t,Q),n=t.return,r=t.sibling,i=t;if(2147483647===Q||2147483647!==i.expirationTime){if(2!==i.tag&&3!==i.tag)var a=0;else a=i.updateQueue,a=null===a?0:a.expirationTime;for(var o=i.child;null!==o;)0!==o.expirationTime&&(0===a||a>o.expirationTime)&&(a=o.expirationTime),o=o.sibling;i.expirationTime=a}if(null!==e)return e;if(null!==n&&(null===n.firstEffect&&(n.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=t.firstEffect),n.lastEffect=t.lastEffect),1<t.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=t:n.firstEffect=t,n.lastEffect=t)),null!==r)return r;if(null===n){t.stateNode.isReadyForCommit=!0;break}t=n}return null}function i(t){var e=O(t.alternate,t,Q);return null===e&&(e=n(t)),jr.current=null,e}function a(t){var e=A(t.alternate,t,Q);return null===e&&(e=n(t)),jr.current=null,e}function o(t){if(null!==tt){if(!(0===Q||Q>t))if(Q<=q)for(;null!==K;)K=u(K)?a(K):i(K);else for(;null!==K&&!w();)K=u(K)?a(K):i(K)}else if(!(0===Q||Q>t))if(Q<=q)for(;null!==K;)K=i(K);else for(;null!==K&&!w();)K=i(K)}function s(t,e){if(Z&&r("243"),Z=!0,t.isReadyForCommit=!1,t!==J||e!==Q||null===K){for(;-1<di;)hi[di]=null,di--;mi=Cn,fi.current=Cn,pi.current=!1,C(),J=t,Q=e,K=oe(J.current,null,e)}var n=!1,i=null;try{o(e)}catch(t){n=!0,i=t}for(;n;){if(it){rt=i;break}var s=K;if(null===s)it=!0;else{var u=l(s,i);if(null===u&&r("183"),!it){try{for(n=u,i=e,u=n;null!==s;){switch(s.tag){case 2:te(s);break;case 5:T(s);break;case 3:k(s);break;case 4:k(s)}if(s===u||s.alternate===u)break;s=s.return}K=a(n),o(i)}catch(t){n=!0,i=t;continue}break}}}return e=rt,it=Z=!1,rt=null,null!==e&&M(e),t.isReadyForCommit?t.current.alternate:null}function l(t,e){var n=jr.current=null,r=!1,i=!1,a=null;if(3===t.tag)n=t,c(t)&&(it=!0);else for(var o=t.return;null!==o&&null===n;){if(2===o.tag?"function"==typeof o.stateNode.componentDidCatch&&(r=!0,a=_t(o),n=o,i=!0):3===o.tag&&(n=o),c(o)){if(ot||null!==nt&&(nt.has(o)||null!==o.alternate&&nt.has(o.alternate)))return null;n=null,i=!1}o=o.return}if(null!==n){null===et&&(et=new Set),et.add(n);var s="";o=t;do{t:switch(o.tag){case 0:case 1:case 2:case 5:var l=o._debugOwner,u=o._debugSource,h=_t(o),d=null;l&&(d=_t(l)),l=u,h="\n    in "+(h||"Unknown")+(l?" (at "+l.fileName.replace(/^.*[\\\/]/,"")+":"+l.lineNumber+")":d?" (created by "+d+")":"");break t;default:h=""}s+=h,o=o.return}while(o);o=s,t=_t(t),null===tt&&(tt=new Map),e={componentName:t,componentStack:o,error:e,errorBoundary:r?n.stateNode:null,errorBoundaryFound:r,errorBoundaryName:a,willRetry:i},tt.set(n,e);try{var f=e.error;f&&f.suppressReactErrorLogging||console.error(f)}catch(t){t&&t.suppressReactErrorLogging||console.error(t)}return at?(null===nt&&(nt=new Set),nt.add(n)):m(n),n}return null===rt&&(rt=e),null}function u(t){return null!==tt&&(tt.has(t)||null!==t.alternate&&tt.has(t.alternate))}function c(t){return null!==et&&(et.has(t)||null!==t.alternate&&et.has(t.alternate))}function h(){return 20*(1+((g()+100)/20|0))}function d(t){return 0!==X?X:Z?at?1:Q:!G||1&t.internalContextTag?h():1}function f(t,e){return p(t,e,!1)}function p(t,e){for(;null!==t;){if((0===t.expirationTime||t.expirationTime>e)&&(t.expirationTime=e),null!==t.alternate&&(0===t.alternate.expirationTime||t.alternate.expirationTime>e)&&(t.alternate.expirationTime=e),null===t.return){if(3!==t.tag)break;var n=t.stateNode;!Z&&n===J&&e<Q&&(K=J=null,Q=0);var i=n,a=e;if(wt>xt&&r("185"),null===i.nextScheduledRoot)i.remainingExpirationTime=a,null===lt?(st=lt=i,i.nextScheduledRoot=i):(lt=lt.nextScheduledRoot=i,lt.nextScheduledRoot=st);else{var o=i.remainingExpirationTime;(0===o||a<o)&&(i.remainingExpirationTime=a)}ht||(yt?bt&&(dt=i,ft=1,_(dt,ft)):1===a?x(1,null):v(a)),!Z&&n===J&&e<Q&&(K=J=null,Q=0)}t=t.return}}function m(t){p(t,1,!0)}function g(){return q=2+((U()-Y)/10|0)}function v(t){if(0!==ut){if(t>ut)return;W(ct)}var e=U()-Y;ut=t,ct=j(b,{timeout:10*(t-2)-e})}function y(){var t=0,e=null;if(null!==lt)for(var n=lt,i=st;null!==i;){var a=i.remainingExpirationTime;if(0===a){if((null===n||null===lt)&&r("244"),i===i.nextScheduledRoot){st=lt=i.nextScheduledRoot=null;break}if(i===st)st=a=i.nextScheduledRoot,lt.nextScheduledRoot=a,i.nextScheduledRoot=null;else{if(i===lt){lt=n,lt.nextScheduledRoot=st,i.nextScheduledRoot=null;break}n.nextScheduledRoot=i.nextScheduledRoot,i.nextScheduledRoot=null}i=n.nextScheduledRoot}else{if((0===t||a<t)&&(t=a,e=i),i===lt)break;n=i,i=i.nextScheduledRoot}}n=dt,null!==n&&n===e?wt++:wt=0,dt=e,ft=t}function b(t){x(0,t)}function x(t,e){for(vt=e,y();null!==dt&&0!==ft&&(0===t||ft<=t)&&!pt;)_(dt,ft),y();if(null!==vt&&(ut=0,ct=-1),0!==ft&&v(ft),vt=null,pt=!1,wt=0,mt)throw t=gt,gt=null,mt=!1,t}function _(t,n){if(ht&&r("245"),ht=!0,n<=g()){var i=t.finishedWork;null!==i?(t.finishedWork=null,t.remainingExpirationTime=e(i)):(t.finishedWork=null,null!==(i=s(t,n))&&(t.remainingExpirationTime=e(i)))}else i=t.finishedWork,null!==i?(t.finishedWork=null,t.remainingExpirationTime=e(i)):(t.finishedWork=null,null!==(i=s(t,n))&&(w()?t.finishedWork=i:t.remainingExpirationTime=e(i)));ht=!1}function w(){return!(null===vt||vt.timeRemaining()>Mt)&&(pt=!0)}function M(t){null===dt&&r("246"),dt.remainingExpirationTime=0,mt||(mt=!0,gt=t)}var S=Ae(t),E=Re(t),k=S.popHostContainer,T=S.popHostContext,C=S.resetHostContainer,P=Ce(t,S,E,f,d),O=P.beginWork,A=P.beginFailedWork,R=Pe(t,S,E).completeWork;S=Oe(t,l);var L=S.commitResetTextContent,I=S.commitPlacement,D=S.commitDeletion,N=S.commitWork,z=S.commitLifeCycles,B=S.commitAttachRef,F=S.commitDetachRef,U=t.now,j=t.scheduleDeferredCallback,W=t.cancelDeferredCallback,G=t.useSyncScheduling,V=t.prepareForCommit,H=t.resetAfterCommit,Y=U(),q=2,X=0,Z=!1,K=null,J=null,Q=0,$=null,tt=null,et=null,nt=null,rt=null,it=!1,at=!1,ot=!1,st=null,lt=null,ut=0,ct=-1,ht=!1,dt=null,ft=0,pt=!1,mt=!1,gt=null,vt=null,yt=!1,bt=!1,xt=1e3,wt=0,Mt=1;return{computeAsyncExpiration:h,computeExpirationForFiber:d,scheduleWork:f,batchedUpdates:function(t,e){var n=yt;yt=!0;try{return t(e)}finally{(yt=n)||ht||x(1,null)}},unbatchedUpdates:function(t){if(yt&&!bt){bt=!0;try{return t()}finally{bt=!1}}return t()},flushSync:function(t){var e=yt;yt=!0;try{t:{var n=X;X=1;try{var i=t();break t}finally{X=n}i=void 0}return i}finally{yt=e,ht&&r("187"),x(1,null)}},deferredUpdates:function(t){var e=X;X=h();try{return t()}finally{X=e}}}}function Ie(t){function e(t){return t=kt(t),null===t?null:t.stateNode}var n=t.getPublicInstance;t=Le(t);var i=t.computeAsyncExpiration,a=t.computeExpirationForFiber,o=t.scheduleWork;return{createContainer:function(t,e){var n=new ae(3,null,0);return t={current:n,containerInfo:t,pendingChildren:null,remainingExpirationTime:0,isReadyForCommit:!1,finishedWork:null,context:null,pendingContext:null,hydrate:e,nextScheduledRoot:null},n.stateNode=t},updateContainer:function(t,e,n,s){var l=e.current;if(n){n=n._reactInternalFiber;var u;t:{for(2===wt(n)&&2===n.tag||r("170"),u=n;3!==u.tag;){if($t(u)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}(u=u.return)||r("171")}u=u.stateNode.context}n=$t(n)?ne(n,u):u}else n=Cn;null===e.context?e.context=n:e.pendingContext=n,e=s,e=void 0===e?null:e,s=null!=t&&null!=t.type&&null!=t.type.prototype&&!0===t.type.prototype.unstable_isAsyncReactComponent?i():a(l),be(l,{expirationTime:s,partialState:{element:t},callback:e,isReplace:!1,isForced:!1,nextCallback:null,next:null}),o(l,s)},batchedUpdates:t.batchedUpdates,unbatchedUpdates:t.unbatchedUpdates,deferredUpdates:t.deferredUpdates,flushSync:t.flushSync,getPublicRootInstance:function(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return n(t.child.stateNode);default:return t.child.stateNode}},findHostInstance:e,findHostInstanceWithNoPortals:function(t){return t=Tt(t),null===t?null:t.stateNode},injectIntoDevTools:function(t){var n=t.findFiberByHostInstance;return pe(_n({},t,{findHostInstanceByFiber:function(t){return e(t)},findFiberByHostInstance:function(t){return n?n(t):null}}))}}}function De(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:wi,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function Ne(t){return!!Xi.hasOwnProperty(t)||!qi.hasOwnProperty(t)&&(Yi.test(t)?Xi[t]=!0:(qi[t]=!0,!1))}function ze(t,e,n){var r=o(e);if(r&&a(e,n)){var i=r.mutationMethod;i?i(t,n):null==n||r.hasBooleanValue&&!n||r.hasNumericValue&&isNaN(n)||r.hasPositiveNumericValue&&1>n||r.hasOverloadedBooleanValue&&!1===n?Fe(t,e):r.mustUseProperty?t[r.propertyName]=n:(e=r.attributeName,(i=r.attributeNamespace)?t.setAttributeNS(i,e,""+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&!0===n?t.setAttribute(e,""):t.setAttribute(e,""+n))}else Be(t,e,a(e,n)?n:null)}function Be(t,e,n){Ne(e)&&(null==n?t.removeAttribute(e):t.setAttribute(e,""+n))}function Fe(t,e){var n=o(e);n?(e=n.mutationMethod)?e(t,void 0):n.mustUseProperty?t[n.propertyName]=!n.hasBooleanValue&&"":t.removeAttribute(n.attributeName):t.removeAttribute(e)}function Ue(t,e){var n=e.value,r=e.checked;return _n({type:void 0,step:void 0,min:void 0,max:void 0},e,{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:t._wrapperState.initialValue,checked:null!=r?r:t._wrapperState.initialChecked})}function je(t,e){var n=e.defaultValue;t._wrapperState={initialChecked:null!=e.checked?e.checked:e.defaultChecked,initialValue:null!=e.value?e.value:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function We(t,e){null!=(e=e.checked)&&ze(t,"checked",e)}function Ge(t,e){We(t,e);var n=e.value;null!=n?0===n&&""===t.value?t.value="0":"number"===e.type?(e=parseFloat(t.value)||0,(n!=e||n==e&&t.value!=n)&&(t.value=""+n)):t.value!==""+n&&(t.value=""+n):(null==e.value&&null!=e.defaultValue&&t.defaultValue!==""+e.defaultValue&&(t.defaultValue=""+e.defaultValue),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked))}function Ve(t,e){switch(e.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":t.value="",t.value=t.defaultValue;break;default:t.value=t.value}e=t.name,""!==e&&(t.name=""),t.defaultChecked=!t.defaultChecked,t.defaultChecked=!t.defaultChecked,""!==e&&(t.name=e)}function He(t){var e="";return bn.Children.forEach(t,function(t){null==t||"string"!=typeof t&&"number"!=typeof t||(e+=t)}),e}function Ye(t,e){return t=_n({children:void 0},e),(e=He(e.children))&&(t.children=e),t}function qe(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+n,e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function Xe(t,e){var n=e.value;t._wrapperState={initialValue:null!=n?n:e.defaultValue,wasMultiple:!!e.multiple}}function Ze(t,e){return null!=e.dangerouslySetInnerHTML&&r("91"),_n({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ke(t,e){var n=e.value;null==n&&(n=e.defaultValue,e=e.children,null!=e&&(null!=n&&r("92"),Array.isArray(e)&&(1>=e.length||r("93"),e=e[0]),n=""+e),null==n&&(n="")),t._wrapperState={initialValue:""+n}}function Je(t,e){var n=e.value;null!=n&&(n=""+n,n!==t.value&&(t.value=n),null==e.defaultValue&&(t.defaultValue=n)),null!=e.defaultValue&&(t.defaultValue=e.defaultValue)}function Qe(t){var e=t.textContent;e===t._wrapperState.initialValue&&(t.value=e)}function $e(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tn(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?$e(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}function en(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}function nn(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=n,a=e[n];i=null==a||"boolean"==typeof a||""===a?"":r||"number"!=typeof a||0===a||Qi.hasOwnProperty(i)&&Qi[i]?(""+a).trim():a+"px","float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}function rn(t,e,n){e&&(ta[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML)&&r("137",t,n()),null!=e.dangerouslySetInnerHTML&&(null!=e.children&&r("60"),"object"==typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML||r("61")),null!=e.style&&"object"!=typeof e.style&&r("62",n()))}function an(t,e){if(-1===t.indexOf("-"))return"string"==typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function on(t,e){t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument;var n=Dt(t);e=Kn[e];for(var r=0;r<e.length;r++){var i=e[r];n.hasOwnProperty(i)&&n[i]||("topScroll"===i?At("topScroll","scroll",t):"topFocus"===i||"topBlur"===i?(At("topFocus","focus",t),At("topBlur","blur",t),n.topBlur=!0,n.topFocus=!0):"topCancel"===i?(nt("cancel",!0)&&At("topCancel","cancel",t),n.topCancel=!0):"topClose"===i?(nt("close",!0)&&At("topClose","close",t),n.topClose=!0):Zr.hasOwnProperty(i)&&Ot(i,Zr[i],t),n[i]=!0)}}function sn(t,e,n,r){return n=9===n.nodeType?n:n.ownerDocument,r===ea&&(r=$e(t)),r===ea?"script"===t?(t=n.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):t="string"==typeof e.is?n.createElement(t,{is:e.is}):n.createElement(t):t=n.createElementNS(r,t),t}function ln(t,e){return(9===e.nodeType?e:e.ownerDocument).createTextNode(t)}function un(t,e,n,r){var i=an(e,n);switch(e){case"iframe":case"object":Ot("topLoad","load",t);var a=n;break;case"video":case"audio":for(a in ra)ra.hasOwnProperty(a)&&Ot(a,ra[a],t);a=n;break;case"source":Ot("topError","error",t),a=n;break;case"img":case"image":Ot("topError","error",t),Ot("topLoad","load",t),a=n;break;case"form":Ot("topReset","reset",t),Ot("topSubmit","submit",t),a=n;break;case"details":Ot("topToggle","toggle",t),a=n;break;case"input":je(t,n),a=Ue(t,n),Ot("topInvalid","invalid",t),on(r,"onChange");break;case"option":a=Ye(t,n);break;case"select":Xe(t,n),a=_n({},n,{value:void 0}),Ot("topInvalid","invalid",t),on(r,"onChange");break;case"textarea":Ke(t,n),a=Ze(t,n),Ot("topInvalid","invalid",t),on(r,"onChange");break;default:a=n}rn(e,a,na);var o,s=a;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];"style"===o?nn(t,l,na):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&Ji(t,l):"children"===o?"string"==typeof l?("textarea"!==e||""!==l)&&en(t,l):"number"==typeof l&&en(t,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(Zn.hasOwnProperty(o)?null!=l&&on(r,o):i?Be(t,o,l):null!=l&&ze(t,o,l))}switch(e){case"input":at(t),Ve(t,n);break;case"textarea":at(t),Qe(t,n);break;case"option":null!=n.value&&t.setAttribute("value",n.value);break;case"select":t.multiple=!!n.multiple,e=n.value,null!=e?qe(t,!!n.multiple,e,!1):null!=n.defaultValue&&qe(t,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof a.onClick&&(t.onclick=wn)}}function cn(t,e,n,r,i){var a=null;switch(e){case"input":n=Ue(t,n),r=Ue(t,r),a=[];break;case"option":n=Ye(t,n),r=Ye(t,r),a=[];break;case"select":n=_n({},n,{value:void 0}),r=_n({},r,{value:void 0}),a=[];break;case"textarea":n=Ze(t,n),r=Ze(t,r),a=[];break;default:"function"!=typeof n.onClick&&"function"==typeof r.onClick&&(t.onclick=wn)}rn(e,r,na);var o,s;t=null;for(o in n)if(!r.hasOwnProperty(o)&&n.hasOwnProperty(o)&&null!=n[o])if("style"===o)for(s in e=n[o])e.hasOwnProperty(s)&&(t||(t={}),t[s]="");else"dangerouslySetInnerHTML"!==o&&"children"!==o&&"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(Zn.hasOwnProperty(o)?a||(a=[]):(a=a||[]).push(o,null));for(o in r){var l=r[o];if(e=null!=n?n[o]:void 0,r.hasOwnProperty(o)&&l!==e&&(null!=l||null!=e))if("style"===o)if(e){for(s in e)!e.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(t||(t={}),t[s]="");for(s in l)l.hasOwnProperty(s)&&e[s]!==l[s]&&(t||(t={}),t[s]=l[s])}else t||(a||(a=[]),a.push(o,t)),t=l;else"dangerouslySetInnerHTML"===o?(l=l?l.__html:void 0,e=e?e.__html:void 0,null!=l&&e!==l&&(a=a||[]).push(o,""+l)):"children"===o?e===l||"string"!=typeof l&&"number"!=typeof l||(a=a||[]).push(o,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&(Zn.hasOwnProperty(o)?(null!=l&&on(i,o),a||e===l||(a=[])):(a=a||[]).push(o,l))}return t&&(a=a||[]).push("style",t),a}function hn(t,e,n,r,i){"input"===n&&"radio"===i.type&&null!=i.name&&We(t,i),an(n,r),r=an(n,i);for(var a=0;a<e.length;a+=2){var o=e[a],s=e[a+1];"style"===o?nn(t,s,na):"dangerouslySetInnerHTML"===o?Ji(t,s):"children"===o?en(t,s):r?null!=s?Be(t,o,s):t.removeAttribute(o):null!=s?ze(t,o,s):Fe(t,o)}switch(n){case"input":Ge(t,i);break;case"textarea":Je(t,i);break;case"select":t._wrapperState.initialValue=void 0,e=t._wrapperState.wasMultiple,t._wrapperState.wasMultiple=!!i.multiple,n=i.value,null!=n?qe(t,!!i.multiple,n,!1):e!==!!i.multiple&&(null!=i.defaultValue?qe(t,!!i.multiple,i.defaultValue,!0):qe(t,!!i.multiple,i.multiple?[]:"",!1))}}function dn(t,e,n,r,i){switch(e){case"iframe":case"object":Ot("topLoad","load",t);break;case"video":case"audio":for(var a in ra)ra.hasOwnProperty(a)&&Ot(a,ra[a],t);break;case"source":Ot("topError","error",t);break;case"img":case"image":Ot("topError","error",t),Ot("topLoad","load",t);break;case"form":Ot("topReset","reset",t),Ot("topSubmit","submit",t);break;case"details":Ot("topToggle","toggle",t);break;case"input":je(t,n),Ot("topInvalid","invalid",t),on(i,"onChange");break;case"select":Xe(t,n),Ot("topInvalid","invalid",t),on(i,"onChange");break;case"textarea":Ke(t,n),Ot("topInvalid","invalid",t),on(i,"onChange")}rn(e,n,na),r=null;for(var o in n)n.hasOwnProperty(o)&&(a=n[o],"children"===o?"string"==typeof a?t.textContent!==a&&(r=["children",a]):"number"==typeof a&&t.textContent!==""+a&&(r=["children",""+a]):Zn.hasOwnProperty(o)&&null!=a&&on(i,o));switch(e){case"input":at(t),Ve(t,n);break;case"textarea":at(t),Qe(t,n);break;case"select":case"option":break;default:"function"==typeof n.onClick&&(t.onclick=wn)}return r}function fn(t,e){return t.nodeValue!==e}function pn(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function mn(t){return!(!(t=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))}function gn(t,e,n,i,a){pn(n)||r("200");var o=n._reactRootContainer;if(o)sa.updateContainer(e,o,t,a);else{if(!(i=i||mn(n)))for(o=void 0;o=n.lastChild;)n.removeChild(o);var s=sa.createContainer(n,i);o=n._reactRootContainer=s,sa.unbatchedUpdates(function(){sa.updateContainer(e,s,t,a)})}return sa.getPublicRootInstance(o)}function vn(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return pn(e)||r("200"),De(t,e,null,n)}function yn(t,e){this._reactRootContainer=sa.createContainer(t,e)}/** @license React v16.2.0
 * react-dom.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var bn=n(2),xn=n(366),_n=n(102),wn=n(69),Mn=n(365),Sn=n(369),En=n(373),kn=n(367),Tn=n(368),Cn=n(144);bn||r("227");var Pn={children:!0,dangerouslySetInnerHTML:!0,defaultValue:!0,defaultChecked:!0,innerHTML:!0,suppressContentEditableWarning:!0,suppressHydrationWarning:!0,style:!0},On={MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,HAS_STRING_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(t){var e=On,n=t.Properties||{},a=t.DOMAttributeNamespaces||{},o=t.DOMAttributeNames||{};t=t.DOMMutationMethods||{};for(var s in n){An.hasOwnProperty(s)&&r("48",s);var l=s.toLowerCase(),u=n[s];l={attributeName:l,attributeNamespace:null,propertyName:s,mutationMethod:null,mustUseProperty:i(u,e.MUST_USE_PROPERTY),hasBooleanValue:i(u,e.HAS_BOOLEAN_VALUE),hasNumericValue:i(u,e.HAS_NUMERIC_VALUE),hasPositiveNumericValue:i(u,e.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:i(u,e.HAS_OVERLOADED_BOOLEAN_VALUE),hasStringBooleanValue:i(u,e.HAS_STRING_BOOLEAN_VALUE)},1>=l.hasBooleanValue+l.hasNumericValue+l.hasOverloadedBooleanValue||r("50",s),o.hasOwnProperty(s)&&(l.attributeName=o[s]),a.hasOwnProperty(s)&&(l.attributeNamespace=a[s]),t.hasOwnProperty(s)&&(l.mutationMethod=t[s]),An[s]=l}}},An={},Rn=On,Ln=Rn.MUST_USE_PROPERTY,In=Rn.HAS_BOOLEAN_VALUE,Dn=Rn.HAS_NUMERIC_VALUE,Nn=Rn.HAS_POSITIVE_NUMERIC_VALUE,zn=Rn.HAS_OVERLOADED_BOOLEAN_VALUE,Bn=Rn.HAS_STRING_BOOLEAN_VALUE,Fn={Properties:{allowFullScreen:In,async:In,autoFocus:In,autoPlay:In,capture:zn,checked:Ln|In,cols:Nn,contentEditable:Bn,controls:In,default:In,defer:In,disabled:In,download:zn,draggable:Bn,formNoValidate:In,hidden:In,loop:In,multiple:Ln|In,muted:Ln|In,noValidate:In,open:In,playsInline:In,readOnly:In,required:In,reversed:In,rows:Nn,rowSpan:Dn,scoped:In,seamless:In,selected:Ln|In,size:Nn,start:Dn,span:Nn,spellCheck:Bn,style:0,tabIndex:0,itemScope:In,acceptCharset:0,className:0,htmlFor:0,httpEquiv:0,value:Bn},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMMutationMethods:{value:function(t,e){if(null==e)return t.removeAttribute("value");"number"!==t.type||!1===t.hasAttribute("value")?t.setAttribute("value",""+e):t.validity&&!t.validity.badInput&&t.ownerDocument.activeElement!==t&&t.setAttribute("value",""+e)}}},Un=Rn.HAS_STRING_BOOLEAN_VALUE,jn={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},Wn={Properties:{autoReverse:Un,externalResourcesRequired:Un,preserveAlpha:Un},DOMAttributeNames:{autoReverse:"autoReverse",externalResourcesRequired:"externalResourcesRequired",preserveAlpha:"preserveAlpha"},DOMAttributeNamespaces:{xlinkActuate:jn.xlink,xlinkArcrole:jn.xlink,xlinkHref:jn.xlink,xlinkRole:jn.xlink,xlinkShow:jn.xlink,xlinkTitle:jn.xlink,xlinkType:jn.xlink,xmlBase:jn.xml,xmlLang:jn.xml,xmlSpace:jn.xml}},Gn=/[\-\:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode x-height xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xmlns:xlink xml:lang xml:space".split(" ").forEach(function(t){var e=t.replace(Gn,s);Wn.Properties[e]=0,Wn.DOMAttributeNames[e]=t}),Rn.injectDOMPropertyConfig(Fn),Rn.injectDOMPropertyConfig(Wn);var Vn={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,injection:{injectErrorUtils:function(t){"function"!=typeof t.invokeGuardedCallback&&r("197"),l=t.invokeGuardedCallback}},invokeGuardedCallback:function(t,e,n,r,i,a,o,s,u){l.apply(Vn,arguments)},invokeGuardedCallbackAndCatchFirstError:function(t,e,n,r,i,a,o,s,l){if(Vn.invokeGuardedCallback.apply(this,arguments),Vn.hasCaughtError()){var u=Vn.clearCaughtError();Vn._hasRethrowError||(Vn._hasRethrowError=!0,Vn._rethrowError=u)}},rethrowCaughtError:function(){return u.apply(Vn,arguments)},hasCaughtError:function(){return Vn._hasCaughtError},clearCaughtError:function(){if(Vn._hasCaughtError){var t=Vn._caughtError;return Vn._caughtError=null,Vn._hasCaughtError=!1,t}r("198")}},Hn=null,Yn={},qn=[],Xn={},Zn={},Kn={},Jn=Object.freeze({plugins:qn,eventNameDispatchConfigs:Xn,registrationNameModules:Zn,registrationNameDependencies:Kn,possibleRegistrationNames:null,injectEventPluginOrder:d,injectEventPluginsByName:f}),Qn=null,$n=null,tr=null,er=null,nr={injectEventPluginOrder:d,injectEventPluginsByName:f},rr=Object.freeze({injection:nr,getListener:x,extractEvents:_,enqueueEvents:w,processEventQueue:M}),ir=Math.random().toString(36).slice(2),ar="__reactInternalInstance$"+ir,or="__reactEventHandlers$"+ir,sr=Object.freeze({precacheFiberNode:function(t,e){e[ar]=t},getClosestInstanceFromNode:S,getInstanceFromNode:function(t){return t=t[ar],!t||5!==t.tag&&6!==t.tag?null:t},getNodeFromInstance:E,getFiberCurrentPropsFromNode:k,updateFiberProps:function(t,e){t[or]=e}}),lr=Object.freeze({accumulateTwoPhaseDispatches:I,accumulateTwoPhaseDispatchesSkipTarget:function(t){g(t,A)},accumulateEnterLeaveDispatches:D,accumulateDirectDispatches:function(t){g(t,L)}}),ur=null,cr={_root:null,_startText:null,_fallbackText:null},hr="dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances".split(" "),dr={type:null,target:null,currentTarget:wn.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};_n(F.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=wn.thatReturnsTrue)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=wn.thatReturnsTrue)},persist:function(){this.isPersistent=wn.thatReturnsTrue},isPersistent:wn.thatReturnsFalse,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;for(e=0;e<hr.length;e++)this[hr[e]]=null}}),F.Interface=dr,F.augmentClass=function(t,e){function n(){}n.prototype=this.prototype;var r=new n;_n(r,t.prototype),t.prototype=r,t.prototype.constructor=t,t.Interface=_n({},this.Interface,e),t.augmentClass=this.augmentClass,W(t)},W(F),F.augmentClass(G,{data:null}),F.augmentClass(V,{data:null});var fr=[9,13,27,32],pr=xn.canUseDOM&&"CompositionEvent"in window,mr=null;xn.canUseDOM&&"documentMode"in document&&(mr=document.documentMode);var gr;if(gr=xn.canUseDOM&&"TextEvent"in window&&!mr){var vr=window.opera;gr=!("object"==typeof vr&&"function"==typeof vr.version&&12>=parseInt(vr.version(),10))}var yr,br=gr,xr=xn.canUseDOM&&(!pr||mr&&8<mr&&11>=mr),_r=String.fromCharCode(32),wr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"topBlur topCompositionEnd topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"topBlur topCompositionStart topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"topBlur topCompositionUpdate topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")}},Mr=!1,Sr=!1,Er={eventTypes:wr,extractEvents:function(t,e,n,r){var i;if(pr)t:{switch(t){case"topCompositionStart":var a=wr.compositionStart;break t;case"topCompositionEnd":a=wr.compositionEnd;break t;case"topCompositionUpdate":a=wr.compositionUpdate;break t}a=void 0}else Sr?H(t,n)&&(a=wr.compositionEnd):"topKeyDown"===t&&229===n.keyCode&&(a=wr.compositionStart);return a?(xr&&(Sr||a!==wr.compositionStart?a===wr.compositionEnd&&Sr&&(i=z()):(cr._root=r,cr._startText=B(),Sr=!0)),a=G.getPooled(a,e,n,r),i?a.data=i:null!==(i=Y(n))&&(a.data=i),I(a),i=a):i=null,(t=br?q(t,n):X(t,n))?(e=V.getPooled(wr.beforeInput,e,n,r),e.data=t,I(e)):e=null,[i,e]}},kr=null,Tr=null,Cr=null,Pr={injectFiberControlledHostComponent:function(t){kr=t}},Or=Object.freeze({injection:Pr,enqueueStateRestore:K,restoreStateIfNeeded:J}),Ar=!1,Rr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};xn.canUseDOM&&(yr=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("",""));var Lr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"topBlur topChange topClick topFocus topInput topKeyDown topKeyUp topSelectionChange".split(" ")}},Ir=null,Dr=null,Nr=!1;xn.canUseDOM&&(Nr=nt("input")&&(!document.documentMode||9<document.documentMode));var zr={eventTypes:Lr,_isInputEventSupported:Nr,extractEvents:function(t,e,n,r){var i=e?E(e):window,a=i.nodeName&&i.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===i.type)var o=ct;else if(tt(i))if(Nr)o=gt;else{o=pt;var s=ft}else!(a=i.nodeName)||"input"!==a.toLowerCase()||"checkbox"!==i.type&&"radio"!==i.type||(o=mt);if(o&&(o=o(t,e)))return st(o,n,r);s&&s(t,i,e),"topBlur"===t&&null!=e&&(t=e._wrapperState||i._wrapperState)&&t.controlled&&"number"===i.type&&(t=""+i.value,i.getAttribute("value")!==t&&i.setAttribute("value",t))}};F.augmentClass(vt,{view:null,detail:null});var Br={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};vt.augmentClass(xt,{screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:bt,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)}});var Fr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},Ur={eventTypes:Fr,extractEvents:function(t,e,n,r){if("topMouseOver"===t&&(n.relatedTarget||n.fromElement)||"topMouseOut"!==t&&"topMouseOver"!==t)return null;var i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window;if("topMouseOut"===t?(t=e,e=(e=n.relatedTarget||n.toElement)?S(e):null):t=null,t===e)return null;var a=null==t?i:E(t);i=null==e?i:E(e);var o=xt.getPooled(Fr.mouseLeave,t,n,r);return o.type="mouseleave",o.target=a,o.relatedTarget=i,n=xt.getPooled(Fr.mouseEnter,e,n,r),n.type="mouseenter",n.target=i,n.relatedTarget=a,D(o,n,t,e),[o,n]}},jr=bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Wr=[],Gr=!0,Vr=void 0,Hr=Object.freeze({get _enabled(){return Gr},get _handleTopLevel(){return Vr},setHandleTopLevel:function(t){Vr=t},setEnabled:Pt,isEnabled:function(){return Gr},trapBubbledEvent:Ot,trapCapturedEvent:At,dispatchEvent:Rt}),Yr={animationend:Lt("Animation","AnimationEnd"),animationiteration:Lt("Animation","AnimationIteration"),animationstart:Lt("Animation","AnimationStart"),transitionend:Lt("Transition","TransitionEnd")},qr={},Xr={};xn.canUseDOM&&(Xr=document.createElement("div").style,"AnimationEvent"in window||(delete Yr.animationend.animation,delete Yr.animationiteration.animation,delete Yr.animationstart.animation),"TransitionEvent"in window||delete Yr.transitionend.transition);var Zr={topAbort:"abort",topAnimationEnd:It("animationend")||"animationend",topAnimationIteration:It("animationiteration")||"animationiteration",topAnimationStart:It("animationstart")||"animationstart",topBlur:"blur",topCancel:"cancel",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topClose:"close",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoad:"load",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topToggle:"toggle",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:It("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},Kr={},Jr=0,Qr="_reactListenersID"+(""+Math.random()).slice(2),$r=xn.canUseDOM&&"documentMode"in document&&11>=document.documentMode,ti={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"topBlur topContextMenu topFocus topKeyDown topKeyUp topMouseDown topMouseUp topSelectionChange".split(" ")}},ei=null,ni=null,ri=null,ii=!1,ai={eventTypes:ti,extractEvents:function(t,e,n,r){var i,a=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!a)){t:{a=Dt(a),i=Kn.onSelect;for(var o=0;o<i.length;o++){var s=i[o];if(!a.hasOwnProperty(s)||!a[s]){a=!1;break t}}a=!0}i=!a}if(i)return null;switch(a=e?E(e):window,t){case"topFocus":(tt(a)||"true"===a.contentEditable)&&(ei=a,ni=e,ri=null);break;case"topBlur":ri=ni=ei=null;break;case"topMouseDown":ii=!0;break;case"topContextMenu":case"topMouseUp":return ii=!1,Ft(n,r);case"topSelectionChange":if($r)break;case"topKeyDown":case"topKeyUp":return Ft(n,r)}return null}};F.augmentClass(Ut,{animationName:null,elapsedTime:null,pseudoElement:null}),F.augmentClass(jt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vt.augmentClass(Wt,{relatedTarget:null});var oi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},si={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};vt.augmentClass(Vt,{key:function(t){if(t.key){var e=oi[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?(t=Gt(t),13===t?"Enter":String.fromCharCode(t)):"keydown"===t.type||"keyup"===t.type?si[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:bt,charCode:function(t){return"keypress"===t.type?Gt(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?Gt(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),xt.augmentClass(Ht,{dataTransfer:null}),vt.augmentClass(Yt,{touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:bt}),F.augmentClass(qt,{propertyName:null,elapsedTime:null,pseudoElement:null}),xt.augmentClass(Xt,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null});var li={},ui={};"abort animationEnd animationIteration animationStart blur cancel canPlay canPlayThrough click close contextMenu copy cut doubleClick drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error focus input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing progress rateChange reset scroll seeked seeking stalled submit suspend timeUpdate toggle touchCancel touchEnd touchMove touchStart transitionEnd volumeChange waiting wheel".split(" ").forEach(function(t){var e=t[0].toUpperCase()+t.slice(1),n="on"+e;e="top"+e,n={phasedRegistrationNames:{bubbled:n,captured:n+"Capture"},dependencies:[e]},li[t]=n,ui[e]=n});var ci={eventTypes:li,extractEvents:function(t,e,n,r){var i=ui[t];if(!i)return null;switch(t){case"topKeyPress":if(0===Gt(n))return null;case"topKeyDown":case"topKeyUp":t=Vt;break;case"topBlur":case"topFocus":t=Wt;break;case"topClick":if(2===n.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":t=xt;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":t=Ht;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":t=Yt;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":t=Ut;break;case"topTransitionEnd":t=qt;break;case"topScroll":t=vt;break;case"topWheel":t=Xt;break;case"topCopy":case"topCut":case"topPaste":t=jt;break;default:t=F}return e=t.getPooled(i,e,n,r),I(e),e}};Vr=function(t,e,n,r){t=_(t,e,n,r),w(t),M(!1)},nr.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),Qn=sr.getFiberCurrentPropsFromNode,$n=sr.getInstanceFromNode,tr=sr.getNodeFromInstance,nr.injectEventPluginsByName({SimpleEventPlugin:ci,EnterLeaveEventPlugin:Ur,ChangeEventPlugin:zr,SelectEventPlugin:ai,BeforeInputEventPlugin:Er});var hi=[],di=-1;new Set;var fi={current:Cn},pi={current:!1},mi=Cn,gi=null,vi=null,yi="function"==typeof Symbol&&Symbol.for,bi=yi?Symbol.for("react.element"):60103,xi=yi?Symbol.for("react.call"):60104,_i=yi?Symbol.for("react.return"):60105,wi=yi?Symbol.for("react.portal"):60106,Mi=yi?Symbol.for("react.fragment"):60107,Si="function"==typeof Symbol&&Symbol.iterator,Ei=Array.isArray,ki=Te(!0),Ti=Te(!1),Ci={},Pi=Object.freeze({default:Ie}),Oi=Pi&&Ie||Pi,Ai=Oi.default?Oi.default:Oi,Ri="object"==typeof performance&&"function"==typeof performance.now,Li=void 0;Li=Ri?function(){return performance.now()}:function(){return Date.now()};var Ii=void 0,Di=void 0;if(xn.canUseDOM)if("function"!=typeof requestIdleCallback||"function"!=typeof cancelIdleCallback){var Ni,zi=null,Bi=!1,Fi=-1,Ui=!1,ji=0,Wi=33,Gi=33;Ni=Ri?{didTimeout:!1,timeRemaining:function(){var t=ji-performance.now();return 0<t?t:0}}:{didTimeout:!1,timeRemaining:function(){var t=ji-Date.now();return 0<t?t:0}};var Vi="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(t){if(t.source===window&&t.data===Vi){if(Bi=!1,t=Li(),0>=ji-t){if(!(-1!==Fi&&Fi<=t))return void(Ui||(Ui=!0,requestAnimationFrame(Hi)));Ni.didTimeout=!0}else Ni.didTimeout=!1;Fi=-1,t=zi,zi=null,null!==t&&t(Ni)}},!1);var Hi=function(t){Ui=!1;var e=t-ji+Gi;e<Gi&&Wi<Gi?(8>e&&(e=8),Gi=e<Wi?Wi:e):Wi=e,ji=t+Gi,Bi||(Bi=!0,window.postMessage(Vi,"*"))};Ii=function(t,e){return zi=t,null!=e&&"number"==typeof e.timeout&&(Fi=Li()+e.timeout),Ui||(Ui=!0,requestAnimationFrame(Hi)),0},Di=function(){zi=null,Bi=!1,Fi=-1}}else Ii=window.requestIdleCallback,Di=window.cancelIdleCallback;else Ii=function(t){return setTimeout(function(){t({timeRemaining:function(){return 1/0}})})},Di=function(t){clearTimeout(t)};var Yi=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qi={},Xi={},Zi={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},Ki=void 0,Ji=function(t){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n)})}:t}(function(t,e){if(t.namespaceURI!==Zi.svg||"innerHTML"in t)t.innerHTML=e;else{for(Ki=Ki||document.createElement("div"),Ki.innerHTML="<svg>"+e+"</svg>",e=Ki.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}}),Qi={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$i=["Webkit","ms","Moz","O"];Object.keys(Qi).forEach(function(t){$i.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Qi[e]=Qi[t]})});var ta=_n({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),ea=Zi.html,na=wn.thatReturns(""),ra={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},ia=Object.freeze({createElement:sn,createTextNode:ln,setInitialProperties:un,diffProperties:cn,updateProperties:hn,diffHydratedProperties:dn,diffHydratedText:fn,warnForUnmatchedText:function(){},warnForDeletedHydratableElement:function(){},warnForDeletedHydratableText:function(){},warnForInsertedHydratedElement:function(){},warnForInsertedHydratedText:function(){},restoreControlledState:function(t,e,n){switch(e){case"input":if(Ge(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var a=k(i);a||r("90"),ot(i),Ge(i,a)}}}break;case"textarea":Je(t,n);break;case"select":null!=(e=n.value)&&qe(t,!!n.multiple,e,!1)}}});Pr.injectFiberControlledHostComponent(ia);var aa=null,oa=null,sa=Ai({getRootHostContext:function(t){var e=t.nodeType;switch(e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:tn(null,"");break;default:e=8===e?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=tn(t,e)}return t},getChildHostContext:function(t,e){return tn(t,e)},getPublicInstance:function(t){return t},prepareForCommit:function(){aa=Gr;var t=Sn();if(Bt(t)){if("selectionStart"in t)var e={start:t.selectionStart,end:t.selectionEnd};else t:{var n=window.getSelection&&window.getSelection();if(n&&0!==n.rangeCount){e=n.anchorNode;var r=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{e.nodeType,i.nodeType}catch(t){e=null;break t}var a=0,o=-1,s=-1,l=0,u=0,c=t,h=null;e:for(;;){for(var d;c!==e||0!==r&&3!==c.nodeType||(o=a+r),c!==i||0!==n&&3!==c.nodeType||(s=a+n),3===c.nodeType&&(a+=c.nodeValue.length),null!==(d=c.firstChild);)h=c,c=d;for(;;){if(c===t)break e;if(h===e&&++l===r&&(o=a),h===i&&++u===n&&(s=a),null!==(d=c.nextSibling))break;c=h,h=c.parentNode}c=d}e=-1===o||-1===s?null:{start:o,end:s}}else e=null}e=e||{start:0,end:0}}else e=null;oa={focusedElem:t,selectionRange:e},Pt(!1)},resetAfterCommit:function(){var t=oa,e=Sn(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&kn(document.documentElement,n)){if(Bt(n))if(e=r.start,t=r.end,void 0===t&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(window.getSelection){e=window.getSelection();var i=n[N()].length;t=Math.min(r.start,i),r=void 0===r.end?t:Math.min(r.end,i),!e.extend&&t>r&&(i=r,r=t,t=i),i=zt(n,t);var a=zt(n,r);if(i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)){var o=document.createRange();o.setStart(i.node,i.offset),e.removeAllRanges(),t>r?(e.addRange(o),e.extend(a.node,a.offset)):(o.setEnd(a.node,a.offset),e.addRange(o))}}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(Tn(n),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}oa=null,Pt(aa),aa=null},createInstance:function(t,e,n,r,i){return t=sn(t,e,n,r),t[ar]=i,t[or]=e,t},appendInitialChild:function(t,e){t.appendChild(e)},finalizeInitialChildren:function(t,e,n,r){un(t,e,n,r);t:{switch(e){case"button":case"input":case"select":case"textarea":t=!!n.autoFocus;break t}t=!1}return t},prepareUpdate:function(t,e,n,r,i){return cn(t,e,n,r,i)},shouldSetTextContent:function(t,e){return"textarea"===t||"string"==typeof e.children||"number"==typeof e.children||"object"==typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&"string"==typeof e.dangerouslySetInnerHTML.__html},shouldDeprioritizeSubtree:function(t,e){return!!e.hidden},createTextInstance:function(t,e,n,r){return t=ln(t,e),t[ar]=r,t},now:Li,mutation:{commitMount:function(t){t.focus()},commitUpdate:function(t,e,n,r,i){t[or]=i,hn(t,e,n,r,i)},resetTextContent:function(t){t.textContent=""},commitTextUpdate:function(t,e,n){t.nodeValue=n},appendChild:function(t,e){t.appendChild(e)},appendChildToContainer:function(t,e){8===t.nodeType?t.parentNode.insertBefore(e,t):t.appendChild(e)},insertBefore:function(t,e,n){t.insertBefore(e,n)},insertInContainerBefore:function(t,e,n){8===t.nodeType?t.parentNode.insertBefore(e,n):t.insertBefore(e,n)},removeChild:function(t,e){t.removeChild(e)},removeChildFromContainer:function(t,e){8===t.nodeType?t.parentNode.removeChild(e):t.removeChild(e)}},hydration:{canHydrateInstance:function(t,e){return 1!==t.nodeType||e.toLowerCase()!==t.nodeName.toLowerCase()?null:t},canHydrateTextInstance:function(t,e){return""===e||3!==t.nodeType?null:t},getNextHydratableSibling:function(t){for(t=t.nextSibling;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t},getFirstHydratableChild:function(t){for(t=t.firstChild;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t},hydrateInstance:function(t,e,n,r,i,a){return t[ar]=a,t[or]=n,dn(t,e,n,i,r)},hydrateTextInstance:function(t,e,n){return t[ar]=n,fn(t,e)},didNotMatchHydratedContainerTextInstance:function(){},didNotMatchHydratedTextInstance:function(){},didNotHydrateContainerInstance:function(){},didNotHydrateInstance:function(){},didNotFindHydratableContainerInstance:function(){},didNotFindHydratableContainerTextInstance:function(){},didNotFindHydratableInstance:function(){},didNotFindHydratableTextInstance:function(){}},scheduleDeferredCallback:Ii,cancelDeferredCallback:Di,useSyncScheduling:!0});Q=sa.batchedUpdates,yn.prototype.render=function(t,e){sa.updateContainer(t,this._reactRootContainer,null,e)},yn.prototype.unmount=function(t){sa.updateContainer(null,this._reactRootContainer,null,t)};var la={createPortal:vn,findDOMNode:function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;if(e)return sa.findHostInstance(e);"function"==typeof t.render?r("188"):r("213",Object.keys(t))},hydrate:function(t,e,n){return gn(null,t,e,!0,n)},render:function(t,e,n){return gn(null,t,e,!1,n)},unstable_renderSubtreeIntoContainer:function(t,e,n,i){return(null==t||void 0===t._reactInternalFiber)&&r("38"),gn(t,e,n,!1,i)},unmountComponentAtNode:function(t){return pn(t)||r("40"),!!t._reactRootContainer&&(sa.unbatchedUpdates(function(){gn(null,null,t,!1,function(){t._reactRootContainer=null})}),!0)},unstable_createPortal:vn,unstable_batchedUpdates:$,unstable_deferredUpdates:sa.deferredUpdates,flushSync:sa.flushSync,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:rr,EventPluginRegistry:Jn,EventPropagators:lr,ReactControlledComponent:Or,ReactDOMComponentTree:sr,ReactDOMEventListener:Hr}};sa.injectIntoDevTools({findFiberByHostInstance:S,bundleType:0,version:"16.2.0",rendererPackageName:"react-dom"});var ua=Object.freeze({default:la}),ca=ua&&la||ua;t.exports=ca.default?ca.default:ca},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function o(t){return"object"===m(n.m)&&t().every(function(t){return void 0!==t&&void 0!==n.m[t]})}function s(t){var e=t(),n={loading:!0,loaded:null,error:null};return n.promise=e.then(function(t){return n.loading=!1,n.loaded=t,t}).catch(function(t){throw n.loading=!1,n.error=t,t}),n}function l(t){var e={loading:!1,loaded:{},error:null},n=[];try{Object.keys(t).forEach(function(r){var i=s(t[r]);i.loading?e.loading=!0:(e.loaded[r]=i.loaded,e.error=i.error),n.push(i.promise),i.promise.then(function(t){e.loaded[r]=t}).catch(function(t){e.error=t})})}catch(t){e.error=t}return e.promise=Promise.all(n).then(function(t){return e.loading=!1,t}).catch(function(t){throw e.loading=!1,t}),e}function u(t){return t&&t.__esModule?t.default:t}function c(t,e){return g.createElement(u(t),e)}function h(t,e){function n(){return h||(h=t(u.loader)),h.promise}var s,l;if(!e.loading)throw new Error("react-loadable requires a `loading` component");var u=Object.assign({loader:null,loading:null,delay:200,timeout:null,render:c,webpack:null,modules:null},e),h=null;return y.push(n),"function"==typeof u.webpack&&b.push(function(){if(o(u.webpack))return n()}),l=s=function(t){function e(a){r(this,e);var o=i(this,t.call(this,a));return n(),o.state={error:h.error,pastDelay:!1,timedOut:!1,loading:h.loading,loaded:h.loaded},o}return a(e,t),e.preload=function(){return n()},e.prototype.componentWillMount=function(){var t=this;if(this._mounted=!0,this.context.loadable&&Array.isArray(u.modules)&&u.modules.forEach(function(e){t.context.loadable.report(e)}),h.loading){"number"==typeof u.delay&&(0===u.delay?this.setState({pastDelay:!0}):this._delay=setTimeout(function(){t.setState({pastDelay:!0})},u.delay)),"number"==typeof u.timeout&&(this._timeout=setTimeout(function(){t.setState({timedOut:!0})},u.timeout));var e=function(){t._mounted&&(t.setState({error:h.error,loaded:h.loaded,loading:h.loading}),t._clearTimeouts())};h.promise.then(function(){e()}).catch(function(t){throw e(),t})}},e.prototype.componentWillUnmount=function(){this._mounted=!1,this._clearTimeouts()},e.prototype._clearTimeouts=function(){clearTimeout(this._delay),clearTimeout(this._timeout)},e.prototype.render=function(){return this.state.loading||this.state.error?g.createElement(u.loading,{isLoading:this.state.loading,pastDelay:this.state.pastDelay,timedOut:this.state.timedOut,error:this.state.error}):this.state.loaded?u.render(this.state.loaded,this.props):null},e}(g.Component),s.contextTypes={loadable:v.shape({report:v.func.isRequired})},l}function d(t){return h(s,t)}function f(t){if("function"!=typeof t.render)throw new Error("LoadableMap requires a `render(loaded, props)` function");return h(l,t)}function p(t){for(var e=[];t.length;){var n=t.pop();e.push(n())}return Promise.all(e).then(function(){if(t.length)return p(t)})}var m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g=n(2),v=n(19),y=[],b=[];d.Map=f;var x=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return a(e,t),e.prototype.getChildContext=function(){return{loadable:{report:this.props.report}}},e.prototype.render=function(){return g.Children.only(this.props.children)},e}(g.Component);x.propTypes={report:v.func.isRequired},x.childContextTypes={loadable:v.shape({report:v.func.isRequired}).isRequired},d.Capture=x,d.preloadAll=function(){return new Promise(function(t,e){p(y).then(t,e)})},d.preloadReady=function(){return new Promise(function(t,e){p(b).then(t,t)})},t.exports=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(14),c=r(u),h=n(2),d=r(h),f=n(19),p=r(f),m=n(491),g=r(m),v=n(475),y={orientation:{horizontal:{dimension:"width",direction:"left",reverseDirection:"right",coordinate:"x"},vertical:{dimension:"height",direction:"top",reverseDirection:"bottom",coordinate:"y"}}},b=function(t){function e(t,n){a(this,e);var r=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.handleFormat=function(t){var e=r.props.format;return e?e(t):t},r.handleUpdate=function(){if(r.slider){var t=r.props.orientation,e=(0,v.capitalize)(y.orientation[t].dimension),n=r.slider["offset"+e],i=r.handle["offset"+e];r.setState({limit:n-i,grab:i/2})}},r.handleStart=function(t){var e=r.props.onChangeStart;document.addEventListener("mousemove",r.handleDrag),document.addEventListener("mouseup",r.handleEnd),r.setState({active:!0},function(){e&&e(t)})},r.handleDrag=function(t){t.stopPropagation();var e=r.props.onChange,n=t.target,i=n.className,a=n.classList,o=n.dataset;if(e&&"rangeslider__labels"!==i){var s=r.position(t);a&&a.contains("rangeslider__label-item")&&o.value&&(s=parseFloat(o.value)),e&&e(s,t)}},r.handleEnd=function(t){var e=r.props.onChangeComplete;r.setState({active:!1},function(){e&&e(t)}),document.removeEventListener("mousemove",r.handleDrag),document.removeEventListener("mouseup",r.handleEnd)},r.handleKeyDown=function(t){t.preventDefault();var e=t.keyCode,n=r.props,i=n.value,a=n.min,o=n.max,s=n.step,l=n.onChange,u=void 0;switch(e){case 38:case 39:u=i+s>o?o:i+s,l&&l(u,t);break;case 37:case 40:u=i-s<a?a:i-s,l&&l(u,t)}},r.getPositionFromValue=function(t){var e=r.state.limit,n=r.props,i=n.min,a=n.max,o=a-i,s=t-i,l=s/o;return Math.round(l*e)},r.getValueFromPosition=function(t){var e=r.state.limit,n=r.props,i=n.orientation,a=n.min,o=n.max,s=n.step,l=(0,v.clamp)(t,0,e)/(e||1),u=s*Math.round(l*(o-a)/s),c="horizontal"===i?u+a:o-u;return(0,v.clamp)(c,a,o)},r.position=function(t){var e=r.state.grab,n=r.props,i=n.orientation,a=n.reverse,o=r.slider,s=y.orientation[i].coordinate,l=a?y.orientation[i].reverseDirection:y.orientation[i].direction,u="client"+(0,v.capitalize)(s),c=t.touches?t.touches[0][u]:t[u],h=o.getBoundingClientRect()[l],d=a?h-c-e:c-h-e;return r.getValueFromPosition(d)},r.coordinates=function(t){var e=r.state,n=e.limit,i=e.grab,a=r.props.orientation,o=r.getValueFromPosition(t),s=r.getPositionFromValue(o),l="horizontal"===a?s+i:s;return{fill:"horizontal"===a?l:n-l,handle:l,label:l}},r.renderLabels=function(t){return d.default.createElement("ul",{ref:function(t){r.labels=t},className:(0,c.default)("rangeslider__labels")},t)},r.state={active:!1,limit:0,grab:0},r}return s(e,t),l(e,[{key:"componentDidMount",value:function(){this.handleUpdate(),new g.default(this.handleUpdate).observe(this.slider)}},{key:"render",value:function(){var t=this,e=this.props,n=e.value,r=e.orientation,a=e.className,o=e.tooltip,s=e.reverse,l=e.labels,u=e.min,h=e.max,f=e.handleLabel,p=this.state.active,m=y.orientation[r].dimension,g=s?y.orientation[r].reverseDirection:y.orientation[r].direction,v=this.getPositionFromValue(n),b=this.coordinates(v),x=i({},m,b.fill+"px"),_=i({},g,b.handle+"px"),w=o&&p,M=[],S=Object.keys(l);if(S.length>0){S=S.sort(function(t,e){return s?t-e:e-t});var E=!0,k=!1,T=void 0;try{for(var C,P=S[Symbol.iterator]();!(E=(C=P.next()).done);E=!0){var O=C.value,A=this.getPositionFromValue(O),R=this.coordinates(A),L=i({},g,R.label+"px");M.push(d.default.createElement("li",{key:O,className:(0,c.default)("rangeslider__label-item"),"data-value":O,onMouseDown:this.handleDrag,onTouchStart:this.handleStart,onTouchEnd:this.handleEnd,style:L},this.props.labels[O]))}}catch(t){k=!0,T=t}finally{try{!E&&P.return&&P.return()}finally{if(k)throw T}}}return d.default.createElement("div",{ref:function(e){t.slider=e},className:(0,c.default)("rangeslider","rangeslider-"+r,{"rangeslider-reverse":s},a),onMouseDown:this.handleDrag,onMouseUp:this.handleEnd,onTouchStart:this.handleStart,onTouchEnd:this.handleEnd,"aria-valuemin":u,"aria-valuemax":h,"aria-valuenow":n,"aria-orientation":r},d.default.createElement("div",{className:"rangeslider__fill",style:x}),d.default.createElement("div",{ref:function(e){t.handle=e},className:"rangeslider__handle",onMouseDown:this.handleStart,onTouchMove:this.handleDrag,onTouchEnd:this.handleEnd,onKeyDown:this.handleKeyDown,style:_,tabIndex:0},w?d.default.createElement("div",{ref:function(e){t.tooltip=e},className:"rangeslider__handle-tooltip"},d.default.createElement("span",null,this.handleFormat(n))):null,d.default.createElement("div",{className:"rangeslider__handle-label"},f)),l?this.renderLabels(M):null)}}]),e}(h.Component);b.propTypes={min:p.default.number,max:p.default.number,step:p.default.number,value:p.default.number,orientation:p.default.string,tooltip:p.default.bool,reverse:p.default.bool,labels:p.default.object,handleLabel:p.default.string,format:p.default.func,onChangeStart:p.default.func,onChange:p.default.func,onChangeComplete:p.default.func},b.defaultProps={min:0,max:100,step:1,value:0,orientation:"horizontal",tooltip:!0,reverse:!1,labels:{},handleLabel:""},e.default=b},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(473),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=i.default},function(t,e,n){"use strict";function r(t){return t.charAt(0).toUpperCase()+t.substr(1)}function i(t,e,n){return Math.min(Math.max(t,e),n)}Object.defineProperty(e,"__esModule",{value:!0}),e.capitalize=r,e.clamp=i},function(t,e,n){var r=n(479);t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(2),c=r(u),h=n(19),d=r(h),f=n(100),p=r(f),m=n(109),g=r(m),v="undefined"!=typeof navigator?navigator.userAgent:"Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.2 (KHTML, like Gecko) Safari/537.2",y=function(t){function e(t){i(this,e);var n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={size:n.props.size},n}return o(e,t),l(e,[{key:"render",value:function(){var t=this.props,e=t.children,n=t.className,r=t.prefixer,i=t.split,a=t.style,o=this.state.size,l=["Pane",i,n],u=s({},a||{},{flex:1,position:"relative",outline:"none"});return void 0!==o&&("vertical"===i?u.width=o:(u.height=o,u.display="flex"),u.flex="none"),c.default.createElement("div",{className:l.join(" "),style:r.prefix(u)},e)}}]),e}(c.default.Component);y.propTypes={className:d.default.string.isRequired,children:d.default.node.isRequired,prefixer:d.default.instanceOf(p.default).isRequired,size:d.default.oneOfType([d.default.string,d.default.number]),split:d.default.oneOf(["vertical","horizontal"]),style:g.default},y.defaultProps={prefixer:new p.default({userAgent:v})},e.default=y,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.RESIZER_DEFAULT_CLASSNAME=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(2),u=r(l),c=n(19),h=r(c),d=n(100),f=r(d),p=n(109),m=r(p),g="undefined"!=typeof navigator?navigator.userAgent:"Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.2 (KHTML, like Gecko) Safari/537.2",v=e.RESIZER_DEFAULT_CLASSNAME="Resizer",y=function(t){function e(){return i(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),s(e,[{key:"render",value:function(){var t=this.props,e=t.className,n=t.onClick,r=t.onDoubleClick,i=t.onMouseDown,a=t.onTouchEnd,o=t.onTouchStart,s=t.prefixer,l=t.resizerClassName,c=t.split,h=t.style,d=[l,c,e];return u.default.createElement("span",{className:d.join(" "),style:s.prefix(h)||{},onMouseDown:function(t){return i(t)},onTouchStart:function(t){t.preventDefault(),o(t)},onTouchEnd:function(t){t.preventDefault(),a(t)},onClick:function(t){n&&(t.preventDefault(),n(t))},onDoubleClick:function(t){r&&(t.preventDefault(),r(t))}})}}]),e}(u.default.Component);y.propTypes={className:h.default.string.isRequired,onClick:h.default.func,onDoubleClick:h.default.func,onMouseDown:h.default.func.isRequired,onTouchStart:h.default.func.isRequired,onTouchEnd:h.default.func.isRequired,prefixer:h.default.instanceOf(f.default).isRequired,split:h.default.oneOf(["vertical","horizontal"]),style:m.default,resizerClassName:h.default.string.isRequired},y.defaultProps={prefixer:new f.default({userAgent:g}),resizerClassName:v},e.default=y},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){if(t.selection)t.selection.empty();else try{e.getSelection().removeAllRanges()}catch(t){}}Object.defineProperty(e,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(2),h=r(c),d=n(19),f=r(d),p=n(47),m=r(p),g=n(100),v=r(g),y=n(109),b=r(y),x=n(477),_=r(x),w=n(478),M=r(w),S="undefined"!=typeof navigator?navigator.userAgent:"Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.2 (KHTML, like Gecko) Safari/537.2",E=function(t){function e(){i(this,e);var t=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.onMouseDown=t.onMouseDown.bind(t),t.onTouchStart=t.onTouchStart.bind(t),t.onMouseMove=t.onMouseMove.bind(t),t.onTouchMove=t.onTouchMove.bind(t),t.onMouseUp=t.onMouseUp.bind(t),t.state={active:!1,resized:!1},t}return o(e,t),u(e,[{key:"componentDidMount",value:function(){this.setSize(this.props,this.state),document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("touchmove",this.onTouchMove)}},{key:"componentWillReceiveProps",value:function(t){this.setSize(t,this.state)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("touchmove",this.onTouchMove)}},{key:"onMouseDown",value:function(t){var e=l({},t,{touches:[{clientX:t.clientX,clientY:t.clientY}]});this.onTouchStart(e)}},{key:"onTouchStart",value:function(t){var e=this.props,n=e.allowResize,r=e.onDragStarted,i=e.split;if(n){s(document,window);var a="vertical"===i?t.touches[0].clientX:t.touches[0].clientY;"function"==typeof r&&r(),this.setState({active:!0,position:a})}}},{key:"onMouseMove",value:function(t){var e=l({},t,{touches:[{clientX:t.clientX,clientY:t.clientY}]});this.onTouchMove(e)}},{key:"onTouchMove",value:function(t){var e=this.props,n=e.allowResize,r=e.maxSize,i=e.minSize,a=e.onChange,o=e.split,l=e.step,u=this.state,c=u.active,h=u.position;if(n&&c){s(document,window);var d="first"===this.props.primary,f=d?this.pane1:this.pane2,p=d?this.pane2:this.pane1;if(f){var g=m.default.findDOMNode(f),v=m.default.findDOMNode(p);if(g.getBoundingClientRect){var y=g.getBoundingClientRect().width,b=g.getBoundingClientRect().height,x="vertical"===o?t.touches[0].clientX:t.touches[0].clientY,_="vertical"===o?y:b,w=h-x;if(l){if(Math.abs(w)<l)return;w=~~(w/l)*l}var M=d?w:-w;parseInt(window.getComputedStyle(g).order)>parseInt(window.getComputedStyle(v).order)&&(M=-M);var S=r;if(void 0!==r&&r<=0){var E=this.splitPane;S="vertical"===o?E.getBoundingClientRect().width+r:E.getBoundingClientRect().height+r}var k=_-M,T=h-w;k<i?k=i:void 0!==r&&k>S?k=S:this.setState({position:T,resized:!0}),a&&a(k),this.setState({draggedSize:k}),f.setState({size:k})}}}}},{key:"onMouseUp",value:function(){var t=this.props,e=t.allowResize,n=t.onDragFinished,r=this.state,i=r.active,a=r.draggedSize;e&&i&&("function"==typeof n&&n(a),this.setState({active:!1}))}},{key:"setSize",value:function(t,e){var n="first"===t.primary,r=n?this.pane1:this.pane2,i=n?this.pane2:this.pane1,a=void 0;r&&(a=t.size||e&&e.draggedSize||t.defaultSize||t.minSize,r.setState({size:a}),t.size!==e.draggedSize&&this.setState({draggedSize:a})),i&&t.primary!==this.props.primary&&i.setState({size:void 0})}},{key:"render",value:function(){var t=this,e=this.props,n=e.allowResize,r=e.children,i=e.className,a=e.defaultSize,o=e.minSize,s=e.onResizerClick,u=e.onResizerDoubleClick,c=e.paneClassName,d=e.pane1ClassName,f=e.pane2ClassName,p=e.paneStyle,m=e.pane1Style,g=e.pane2Style,v=e.primary,y=e.prefixer,b=e.resizerClassName,x=e.resizerStyle,S=e.size,E=e.split,k=e.style,T=n?"":"disabled",C=b?b+" "+w.RESIZER_DEFAULT_CLASSNAME:b,P=l({},{display:"flex",flex:1,height:"100%",position:"absolute",outline:"none",overflow:"hidden",MozUserSelect:"text",WebkitUserSelect:"text",msUserSelect:"text",userSelect:"text"},k||{});"vertical"===E?l(P,{flexDirection:"row",left:0,right:0}):l(P,{bottom:0,flexDirection:"column",minHeight:"100%",top:0,width:"100%"});var O=["SplitPane",i,E,T],A=y.prefix(l({},p||{},m||{})),R=y.prefix(l({},p||{},g||{})),L=["Pane1",c,d].join(" "),I=["Pane2",c,f].join(" ");return h.default.createElement("div",{className:O.join(" "),ref:function(e){t.splitPane=e},style:y.prefix(P)},h.default.createElement(_.default,{className:L,key:"pane1",ref:function(e){t.pane1=e},size:"first"===v?S||a||o:void 0,split:E,style:A},r[0]),h.default.createElement(M.default,{className:T,onClick:s,onDoubleClick:u,onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onTouchEnd:this.onMouseUp,key:"resizer",ref:function(e){t.resizer=e},resizerClassName:C,split:E,style:x||{}}),h.default.createElement(_.default,{className:I,key:"pane2",ref:function(e){t.pane2=e},size:"second"===v?S||a||o:void 0,split:E,style:R},r[1]))}}]),e}(h.default.Component);E.propTypes={allowResize:f.default.bool,children:f.default.arrayOf(f.default.node).isRequired,className:f.default.string,primary:f.default.oneOf(["first","second"]),minSize:f.default.oneOfType([f.default.string,f.default.number]),maxSize:f.default.oneOfType([f.default.string,f.default.number]),defaultSize:f.default.oneOfType([f.default.string,f.default.number]),size:f.default.oneOfType([f.default.string,f.default.number]),split:f.default.oneOf(["vertical","horizontal"]),onDragStarted:f.default.func,onDragFinished:f.default.func,onChange:f.default.func,onResizerClick:f.default.func,onResizerDoubleClick:f.default.func,prefixer:f.default.instanceOf(v.default).isRequired,style:b.default,resizerStyle:b.default,paneClassName:f.default.string,pane1ClassName:f.default.string,pane2ClassName:f.default.string,paneStyle:b.default,pane1Style:b.default,pane2Style:b.default,resizerClassName:f.default.string,step:f.default.number},E.defaultProps={allowResize:!0,minSize:50,prefixer:new v.default({userAgent:S}),primary:"first",split:"vertical",paneClassName:"",pane1ClassName:"",pane2ClassName:""},e.default=E,t.exports=e.default},function(t,e){t.exports=["alignContent","MozAlignContent","WebkitAlignContent","MSAlignContent","OAlignContent","alignItems","MozAlignItems","WebkitAlignItems","MSAlignItems","OAlignItems","alignSelf","MozAlignSelf","WebkitAlignSelf","MSAlignSelf","OAlignSelf","all","MozAll","WebkitAll","MSAll","OAll","animation","MozAnimation","WebkitAnimation","MSAnimation","OAnimation","animationDelay","MozAnimationDelay","WebkitAnimationDelay","MSAnimationDelay","OAnimationDelay","animationDirection","MozAnimationDirection","WebkitAnimationDirection","MSAnimationDirection","OAnimationDirection","animationDuration","MozAnimationDuration","WebkitAnimationDuration","MSAnimationDuration","OAnimationDuration","animationFillMode","MozAnimationFillMode","WebkitAnimationFillMode","MSAnimationFillMode","OAnimationFillMode","animationIterationCount","MozAnimationIterationCount","WebkitAnimationIterationCount","MSAnimationIterationCount","OAnimationIterationCount","animationName","MozAnimationName","WebkitAnimationName","MSAnimationName","OAnimationName","animationPlayState","MozAnimationPlayState","WebkitAnimationPlayState","MSAnimationPlayState","OAnimationPlayState","animationTimingFunction","MozAnimationTimingFunction","WebkitAnimationTimingFunction","MSAnimationTimingFunction","OAnimationTimingFunction","backfaceVisibility","MozBackfaceVisibility","WebkitBackfaceVisibility","MSBackfaceVisibility","OBackfaceVisibility","background","MozBackground","WebkitBackground","MSBackground","OBackground","backgroundAttachment","MozBackgroundAttachment","WebkitBackgroundAttachment","MSBackgroundAttachment","OBackgroundAttachment","backgroundBlendMode","MozBackgroundBlendMode","WebkitBackgroundBlendMode","MSBackgroundBlendMode","OBackgroundBlendMode","backgroundClip","MozBackgroundClip","WebkitBackgroundClip","MSBackgroundClip","OBackgroundClip","backgroundColor","MozBackgroundColor","WebkitBackgroundColor","MSBackgroundColor","OBackgroundColor","backgroundImage","MozBackgroundImage","WebkitBackgroundImage","MSBackgroundImage","OBackgroundImage","backgroundOrigin","MozBackgroundOrigin","WebkitBackgroundOrigin","MSBackgroundOrigin","OBackgroundOrigin","backgroundPosition","MozBackgroundPosition","WebkitBackgroundPosition","MSBackgroundPosition","OBackgroundPosition","backgroundRepeat","MozBackgroundRepeat","WebkitBackgroundRepeat","MSBackgroundRepeat","OBackgroundRepeat","backgroundSize","MozBackgroundSize","WebkitBackgroundSize","MSBackgroundSize","OBackgroundSize","blockSize","MozBlockSize","WebkitBlockSize","MSBlockSize","OBlockSize","border","MozBorder","WebkitBorder","MSBorder","OBorder","borderBlockEnd","MozBorderBlockEnd","WebkitBorderBlockEnd","MSBorderBlockEnd","OBorderBlockEnd","borderBlockEndColor","MozBorderBlockEndColor","WebkitBorderBlockEndColor","MSBorderBlockEndColor","OBorderBlockEndColor","borderBlockEndStyle","MozBorderBlockEndStyle","WebkitBorderBlockEndStyle","MSBorderBlockEndStyle","OBorderBlockEndStyle","borderBlockEndWidth","MozBorderBlockEndWidth","WebkitBorderBlockEndWidth","MSBorderBlockEndWidth","OBorderBlockEndWidth","borderBlockStart","MozBorderBlockStart","WebkitBorderBlockStart","MSBorderBlockStart","OBorderBlockStart","borderBlockStartColor","MozBorderBlockStartColor","WebkitBorderBlockStartColor","MSBorderBlockStartColor","OBorderBlockStartColor","borderBlockStartStyle","MozBorderBlockStartStyle","WebkitBorderBlockStartStyle","MSBorderBlockStartStyle","OBorderBlockStartStyle","borderBlockStartWidth","MozBorderBlockStartWidth","WebkitBorderBlockStartWidth","MSBorderBlockStartWidth","OBorderBlockStartWidth","borderBottom","MozBorderBottom","WebkitBorderBottom","MSBorderBottom","OBorderBottom","borderBottomColor","MozBorderBottomColor","WebkitBorderBottomColor","MSBorderBottomColor","OBorderBottomColor","borderBottomLeftRadius","MozBorderBottomLeftRadius","WebkitBorderBottomLeftRadius","MSBorderBottomLeftRadius","OBorderBottomLeftRadius","borderBottomRightRadius","MozBorderBottomRightRadius","WebkitBorderBottomRightRadius","MSBorderBottomRightRadius","OBorderBottomRightRadius","borderBottomStyle","MozBorderBottomStyle","WebkitBorderBottomStyle","MSBorderBottomStyle","OBorderBottomStyle","borderBottomWidth","MozBorderBottomWidth","WebkitBorderBottomWidth","MSBorderBottomWidth","OBorderBottomWidth","borderCollapse","MozBorderCollapse","WebkitBorderCollapse","MSBorderCollapse","OBorderCollapse","borderColor","MozBorderColor","WebkitBorderColor","MSBorderColor","OBorderColor","borderImage","MozBorderImage","WebkitBorderImage","MSBorderImage","OBorderImage","borderImageOutset","MozBorderImageOutset","WebkitBorderImageOutset","MSBorderImageOutset","OBorderImageOutset","borderImageRepeat","MozBorderImageRepeat","WebkitBorderImageRepeat","MSBorderImageRepeat","OBorderImageRepeat","borderImageSlice","MozBorderImageSlice","WebkitBorderImageSlice","MSBorderImageSlice","OBorderImageSlice","borderImageSource","MozBorderImageSource","WebkitBorderImageSource","MSBorderImageSource","OBorderImageSource","borderImageWidth","MozBorderImageWidth","WebkitBorderImageWidth","MSBorderImageWidth","OBorderImageWidth","borderInlineEnd","MozBorderInlineEnd","WebkitBorderInlineEnd","MSBorderInlineEnd","OBorderInlineEnd","borderInlineEndColor","MozBorderInlineEndColor","WebkitBorderInlineEndColor","MSBorderInlineEndColor","OBorderInlineEndColor","borderInlineEndStyle","MozBorderInlineEndStyle","WebkitBorderInlineEndStyle","MSBorderInlineEndStyle","OBorderInlineEndStyle","borderInlineEndWidth","MozBorderInlineEndWidth","WebkitBorderInlineEndWidth","MSBorderInlineEndWidth","OBorderInlineEndWidth","borderInlineStart","MozBorderInlineStart","WebkitBorderInlineStart","MSBorderInlineStart","OBorderInlineStart","borderInlineStartColor","MozBorderInlineStartColor","WebkitBorderInlineStartColor","MSBorderInlineStartColor","OBorderInlineStartColor","borderInlineStartStyle","MozBorderInlineStartStyle","WebkitBorderInlineStartStyle","MSBorderInlineStartStyle","OBorderInlineStartStyle","borderInlineStartWidth","MozBorderInlineStartWidth","WebkitBorderInlineStartWidth","MSBorderInlineStartWidth","OBorderInlineStartWidth","borderLeft","MozBorderLeft","WebkitBorderLeft","MSBorderLeft","OBorderLeft","borderLeftColor","MozBorderLeftColor","WebkitBorderLeftColor","MSBorderLeftColor","OBorderLeftColor","borderLeftStyle","MozBorderLeftStyle","WebkitBorderLeftStyle","MSBorderLeftStyle","OBorderLeftStyle","borderLeftWidth","MozBorderLeftWidth","WebkitBorderLeftWidth","MSBorderLeftWidth","OBorderLeftWidth","borderRadius","MozBorderRadius","WebkitBorderRadius","MSBorderRadius","OBorderRadius","borderRight","MozBorderRight","WebkitBorderRight","MSBorderRight","OBorderRight","borderRightColor","MozBorderRightColor","WebkitBorderRightColor","MSBorderRightColor","OBorderRightColor","borderRightStyle","MozBorderRightStyle","WebkitBorderRightStyle","MSBorderRightStyle","OBorderRightStyle","borderRightWidth","MozBorderRightWidth","WebkitBorderRightWidth","MSBorderRightWidth","OBorderRightWidth","borderSpacing","MozBorderSpacing","WebkitBorderSpacing","MSBorderSpacing","OBorderSpacing","borderStyle","MozBorderStyle","WebkitBorderStyle","MSBorderStyle","OBorderStyle","borderTop","MozBorderTop","WebkitBorderTop","MSBorderTop","OBorderTop","borderTopColor","MozBorderTopColor","WebkitBorderTopColor","MSBorderTopColor","OBorderTopColor","borderTopLeftRadius","MozBorderTopLeftRadius","WebkitBorderTopLeftRadius","MSBorderTopLeftRadius","OBorderTopLeftRadius","borderTopRightRadius","MozBorderTopRightRadius","WebkitBorderTopRightRadius","MSBorderTopRightRadius","OBorderTopRightRadius","borderTopStyle","MozBorderTopStyle","WebkitBorderTopStyle","MSBorderTopStyle","OBorderTopStyle","borderTopWidth","MozBorderTopWidth","WebkitBorderTopWidth","MSBorderTopWidth","OBorderTopWidth","borderWidth","MozBorderWidth","WebkitBorderWidth","MSBorderWidth","OBorderWidth","bottom","MozBottom","WebkitBottom","MSBottom","OBottom","boxDecorationBreak","MozBoxDecorationBreak","WebkitBoxDecorationBreak","MSBoxDecorationBreak","OBoxDecorationBreak","boxShadow","MozBoxShadow","WebkitBoxShadow","MSBoxShadow","OBoxShadow","boxSizing","MozBoxSizing","WebkitBoxSizing","MSBoxSizing","OBoxSizing","breakAfter","MozBreakAfter","WebkitBreakAfter","MSBreakAfter","OBreakAfter","breakBefore","MozBreakBefore","WebkitBreakBefore","MSBreakBefore","OBreakBefore","breakInside","MozBreakInside","WebkitBreakInside","MSBreakInside","OBreakInside","captionSide","MozCaptionSide","WebkitCaptionSide","MSCaptionSide","OCaptionSide","caretColor","MozCaretColor","WebkitCaretColor","MSCaretColor","OCaretColor","ch","MozCh","WebkitCh","MSCh","OCh","clear","MozClear","WebkitClear","MSClear","OClear","clip","MozClip","WebkitClip","MSClip","OClip","clipPath","MozClipPath","WebkitClipPath","MSClipPath","OClipPath","cm","MozCm","WebkitCm","MSCm","OCm","color","MozColor","WebkitColor","MSColor","OColor","columnCount","MozColumnCount","WebkitColumnCount","MSColumnCount","OColumnCount","columnFill","MozColumnFill","WebkitColumnFill","MSColumnFill","OColumnFill","columnGap","MozColumnGap","WebkitColumnGap","MSColumnGap","OColumnGap","columnRule","MozColumnRule","WebkitColumnRule","MSColumnRule","OColumnRule","columnRuleColor","MozColumnRuleColor","WebkitColumnRuleColor","MSColumnRuleColor","OColumnRuleColor","columnRuleStyle","MozColumnRuleStyle","WebkitColumnRuleStyle","MSColumnRuleStyle","OColumnRuleStyle","columnRuleWidth","MozColumnRuleWidth","WebkitColumnRuleWidth","MSColumnRuleWidth","OColumnRuleWidth","columnSpan","MozColumnSpan","WebkitColumnSpan","MSColumnSpan","OColumnSpan","columnWidth","MozColumnWidth","WebkitColumnWidth","MSColumnWidth","OColumnWidth","columns","MozColumns","WebkitColumns","MSColumns","OColumns","content","MozContent","WebkitContent","MSContent","OContent","counterIncrement","MozCounterIncrement","WebkitCounterIncrement","MSCounterIncrement","OCounterIncrement","counterReset","MozCounterReset","WebkitCounterReset","MSCounterReset","OCounterReset","cursor","MozCursor","WebkitCursor","MSCursor","OCursor","deg","MozDeg","WebkitDeg","MSDeg","ODeg","direction","MozDirection","WebkitDirection","MSDirection","ODirection","display","MozDisplay","WebkitDisplay","MSDisplay","ODisplay","dpcm","MozDpcm","WebkitDpcm","MSDpcm","ODpcm","dpi","MozDpi","WebkitDpi","MSDpi","ODpi","dppx","MozDppx","WebkitDppx","MSDppx","ODppx","em","MozEm","WebkitEm","MSEm","OEm","emptyCells","MozEmptyCells","WebkitEmptyCells","MSEmptyCells","OEmptyCells","ex","MozEx","WebkitEx","MSEx","OEx","filter","MozFilter","WebkitFilter","MSFilter","OFilter","flexBasis","MozFlexBasis","WebkitFlexBasis","MSFlexBasis","OFlexBasis","flexDirection","MozFlexDirection","WebkitFlexDirection","MSFlexDirection","OFlexDirection","flexFlow","MozFlexFlow","WebkitFlexFlow","MSFlexFlow","OFlexFlow","flexGrow","MozFlexGrow","WebkitFlexGrow","MSFlexGrow","OFlexGrow","flexShrink","MozFlexShrink","WebkitFlexShrink","MSFlexShrink","OFlexShrink","flexWrap","MozFlexWrap","WebkitFlexWrap","MSFlexWrap","OFlexWrap","float","MozFloat","WebkitFloat","MSFloat","OFloat","font","MozFont","WebkitFont","MSFont","OFont","fontFamily","MozFontFamily","WebkitFontFamily","MSFontFamily","OFontFamily","fontFeatureSettings","MozFontFeatureSettings","WebkitFontFeatureSettings","MSFontFeatureSettings","OFontFeatureSettings","fontKerning","MozFontKerning","WebkitFontKerning","MSFontKerning","OFontKerning","fontLanguageOverride","MozFontLanguageOverride","WebkitFontLanguageOverride","MSFontLanguageOverride","OFontLanguageOverride","fontSize","MozFontSize","WebkitFontSize","MSFontSize","OFontSize","fontSizeAdjust","MozFontSizeAdjust","WebkitFontSizeAdjust","MSFontSizeAdjust","OFontSizeAdjust","fontStretch","MozFontStretch","WebkitFontStretch","MSFontStretch","OFontStretch","fontStyle","MozFontStyle","WebkitFontStyle","MSFontStyle","OFontStyle","fontSynthesis","MozFontSynthesis","WebkitFontSynthesis","MSFontSynthesis","OFontSynthesis","fontVariant","MozFontVariant","WebkitFontVariant","MSFontVariant","OFontVariant","fontVariantAlternates","MozFontVariantAlternates","WebkitFontVariantAlternates","MSFontVariantAlternates","OFontVariantAlternates","fontVariantCaps","MozFontVariantCaps","WebkitFontVariantCaps","MSFontVariantCaps","OFontVariantCaps","fontVariantEastAsian","MozFontVariantEastAsian","WebkitFontVariantEastAsian","MSFontVariantEastAsian","OFontVariantEastAsian","fontVariantLigatures","MozFontVariantLigatures","WebkitFontVariantLigatures","MSFontVariantLigatures","OFontVariantLigatures","fontVariantNumeric","MozFontVariantNumeric","WebkitFontVariantNumeric","MSFontVariantNumeric","OFontVariantNumeric","fontVariantPosition","MozFontVariantPosition","WebkitFontVariantPosition","MSFontVariantPosition","OFontVariantPosition","fontWeight","MozFontWeight","WebkitFontWeight","MSFontWeight","OFontWeight","fr","MozFr","WebkitFr","MSFr","OFr","grad","MozGrad","WebkitGrad","MSGrad","OGrad","grid","MozGrid","WebkitGrid","MSGrid","OGrid","gridArea","MozGridArea","WebkitGridArea","MSGridArea","OGridArea","gridAutoColumns","MozGridAutoColumns","WebkitGridAutoColumns","MSGridAutoColumns","OGridAutoColumns","gridAutoFlow","MozGridAutoFlow","WebkitGridAutoFlow","MSGridAutoFlow","OGridAutoFlow","gridAutoRows","MozGridAutoRows","WebkitGridAutoRows","MSGridAutoRows","OGridAutoRows","gridColumn","MozGridColumn","WebkitGridColumn","MSGridColumn","OGridColumn","gridColumnEnd","MozGridColumnEnd","WebkitGridColumnEnd","MSGridColumnEnd","OGridColumnEnd","gridColumnGap","MozGridColumnGap","WebkitGridColumnGap","MSGridColumnGap","OGridColumnGap","gridColumnStart","MozGridColumnStart","WebkitGridColumnStart","MSGridColumnStart","OGridColumnStart","gridGap","MozGridGap","WebkitGridGap","MSGridGap","OGridGap","gridRow","MozGridRow","WebkitGridRow","MSGridRow","OGridRow","gridRowEnd","MozGridRowEnd","WebkitGridRowEnd","MSGridRowEnd","OGridRowEnd","gridRowGap","MozGridRowGap","WebkitGridRowGap","MSGridRowGap","OGridRowGap","gridRowStart","MozGridRowStart","WebkitGridRowStart","MSGridRowStart","OGridRowStart","gridTemplate","MozGridTemplate","WebkitGridTemplate","MSGridTemplate","OGridTemplate","gridTemplateAreas","MozGridTemplateAreas","WebkitGridTemplateAreas","MSGridTemplateAreas","OGridTemplateAreas","gridTemplateColumns","MozGridTemplateColumns","WebkitGridTemplateColumns","MSGridTemplateColumns","OGridTemplateColumns","gridTemplateRows","MozGridTemplateRows","WebkitGridTemplateRows","MSGridTemplateRows","OGridTemplateRows","height","MozHeight","WebkitHeight","MSHeight","OHeight","hyphens","MozHyphens","WebkitHyphens","MSHyphens","OHyphens","hz","MozHz","WebkitHz","MSHz","OHz","imageOrientation","MozImageOrientation","WebkitImageOrientation","MSImageOrientation","OImageOrientation","imageRendering","MozImageRendering","WebkitImageRendering","MSImageRendering","OImageRendering","imageResolution","MozImageResolution","WebkitImageResolution","MSImageResolution","OImageResolution","imeMode","MozImeMode","WebkitImeMode","MSImeMode","OImeMode","in","MozIn","WebkitIn","MSIn","OIn","inherit","MozInherit","WebkitInherit","MSInherit","OInherit","initial","MozInitial","WebkitInitial","MSInitial","OInitial","inlineSize","MozInlineSize","WebkitInlineSize","MSInlineSize","OInlineSize","isolation","MozIsolation","WebkitIsolation","MSIsolation","OIsolation","justifyContent","MozJustifyContent","WebkitJustifyContent","MSJustifyContent","OJustifyContent","khz","MozKhz","WebkitKhz","MSKhz","OKhz","left","MozLeft","WebkitLeft","MSLeft","OLeft","letterSpacing","MozLetterSpacing","WebkitLetterSpacing","MSLetterSpacing","OLetterSpacing","lineBreak","MozLineBreak","WebkitLineBreak","MSLineBreak","OLineBreak","lineHeight","MozLineHeight","WebkitLineHeight","MSLineHeight","OLineHeight","listStyle","MozListStyle","WebkitListStyle","MSListStyle","OListStyle","listStyleImage","MozListStyleImage","WebkitListStyleImage","MSListStyleImage","OListStyleImage","listStylePosition","MozListStylePosition","WebkitListStylePosition","MSListStylePosition","OListStylePosition","listStyleType","MozListStyleType","WebkitListStyleType","MSListStyleType","OListStyleType","margin","MozMargin","WebkitMargin","MSMargin","OMargin","marginBlockEnd","MozMarginBlockEnd","WebkitMarginBlockEnd","MSMarginBlockEnd","OMarginBlockEnd","marginBlockStart","MozMarginBlockStart","WebkitMarginBlockStart","MSMarginBlockStart","OMarginBlockStart","marginBottom","MozMarginBottom","WebkitMarginBottom","MSMarginBottom","OMarginBottom","marginInlineEnd","MozMarginInlineEnd","WebkitMarginInlineEnd","MSMarginInlineEnd","OMarginInlineEnd","marginInlineStart","MozMarginInlineStart","WebkitMarginInlineStart","MSMarginInlineStart","OMarginInlineStart","marginLeft","MozMarginLeft","WebkitMarginLeft","MSMarginLeft","OMarginLeft","marginRight","MozMarginRight","WebkitMarginRight","MSMarginRight","OMarginRight","marginTop","MozMarginTop","WebkitMarginTop","MSMarginTop","OMarginTop","mask","MozMask","WebkitMask","MSMask","OMask","maskClip","MozMaskClip","WebkitMaskClip","MSMaskClip","OMaskClip","maskComposite","MozMaskComposite","WebkitMaskComposite","MSMaskComposite","OMaskComposite","maskImage","MozMaskImage","WebkitMaskImage","MSMaskImage","OMaskImage","maskMode","MozMaskMode","WebkitMaskMode","MSMaskMode","OMaskMode","maskOrigin","MozMaskOrigin","WebkitMaskOrigin","MSMaskOrigin","OMaskOrigin","maskPosition","MozMaskPosition","WebkitMaskPosition","MSMaskPosition","OMaskPosition","maskRepeat","MozMaskRepeat","WebkitMaskRepeat","MSMaskRepeat","OMaskRepeat","maskSize","MozMaskSize","WebkitMaskSize","MSMaskSize","OMaskSize","maskType","MozMaskType","WebkitMaskType","MSMaskType","OMaskType","maxHeight","MozMaxHeight","WebkitMaxHeight","MSMaxHeight","OMaxHeight","maxWidth","MozMaxWidth","WebkitMaxWidth","MSMaxWidth","OMaxWidth","minBlockSize","MozMinBlockSize","WebkitMinBlockSize","MSMinBlockSize","OMinBlockSize","minHeight","MozMinHeight","WebkitMinHeight","MSMinHeight","OMinHeight","minInlineSize","MozMinInlineSize","WebkitMinInlineSize","MSMinInlineSize","OMinInlineSize","minWidth","MozMinWidth","WebkitMinWidth","MSMinWidth","OMinWidth","mixBlendMode","MozMixBlendMode","WebkitMixBlendMode","MSMixBlendMode","OMixBlendMode","mm","MozMm","WebkitMm","MSMm","OMm","ms","MozMs","WebkitMs","MSMs","OMs","objectFit","MozObjectFit","WebkitObjectFit","MSObjectFit","OObjectFit","objectPosition","MozObjectPosition","WebkitObjectPosition","MSObjectPosition","OObjectPosition","offsetBlockEnd","MozOffsetBlockEnd","WebkitOffsetBlockEnd","MSOffsetBlockEnd","OOffsetBlockEnd","offsetBlockStart","MozOffsetBlockStart","WebkitOffsetBlockStart","MSOffsetBlockStart","OOffsetBlockStart","offsetInlineEnd","MozOffsetInlineEnd","WebkitOffsetInlineEnd","MSOffsetInlineEnd","OOffsetInlineEnd","offsetInlineStart","MozOffsetInlineStart","WebkitOffsetInlineStart","MSOffsetInlineStart","OOffsetInlineStart","opacity","MozOpacity","WebkitOpacity","MSOpacity","OOpacity","order","MozOrder","WebkitOrder","MSOrder","OOrder","orphans","MozOrphans","WebkitOrphans","MSOrphans","OOrphans","outline","MozOutline","WebkitOutline","MSOutline","OOutline","outlineColor","MozOutlineColor","WebkitOutlineColor","MSOutlineColor","OOutlineColor","outlineOffset","MozOutlineOffset","WebkitOutlineOffset","MSOutlineOffset","OOutlineOffset","outlineStyle","MozOutlineStyle","WebkitOutlineStyle","MSOutlineStyle","OOutlineStyle","outlineWidth","MozOutlineWidth","WebkitOutlineWidth","MSOutlineWidth","OOutlineWidth","overflow","MozOverflow","WebkitOverflow","MSOverflow","OOverflow","overflowWrap","MozOverflowWrap","WebkitOverflowWrap","MSOverflowWrap","OOverflowWrap","overflowX","MozOverflowX","WebkitOverflowX","MSOverflowX","OOverflowX","overflowY","MozOverflowY","WebkitOverflowY","MSOverflowY","OOverflowY","padding","MozPadding","WebkitPadding","MSPadding","OPadding","paddingBlockEnd","MozPaddingBlockEnd","WebkitPaddingBlockEnd","MSPaddingBlockEnd","OPaddingBlockEnd","paddingBlockStart","MozPaddingBlockStart","WebkitPaddingBlockStart","MSPaddingBlockStart","OPaddingBlockStart","paddingBottom","MozPaddingBottom","WebkitPaddingBottom","MSPaddingBottom","OPaddingBottom","paddingInlineEnd","MozPaddingInlineEnd","WebkitPaddingInlineEnd","MSPaddingInlineEnd","OPaddingInlineEnd","paddingInlineStart","MozPaddingInlineStart","WebkitPaddingInlineStart","MSPaddingInlineStart","OPaddingInlineStart","paddingLeft","MozPaddingLeft","WebkitPaddingLeft","MSPaddingLeft","OPaddingLeft","paddingRight","MozPaddingRight","WebkitPaddingRight","MSPaddingRight","OPaddingRight","paddingTop","MozPaddingTop","WebkitPaddingTop","MSPaddingTop","OPaddingTop","pageBreakAfter","MozPageBreakAfter","WebkitPageBreakAfter","MSPageBreakAfter","OPageBreakAfter","pageBreakBefore","MozPageBreakBefore","WebkitPageBreakBefore","MSPageBreakBefore","OPageBreakBefore","pageBreakInside","MozPageBreakInside","WebkitPageBreakInside","MSPageBreakInside","OPageBreakInside","pc","MozPc","WebkitPc","MSPc","OPc","perspective","MozPerspective","WebkitPerspective","MSPerspective","OPerspective","perspectiveOrigin","MozPerspectiveOrigin","WebkitPerspectiveOrigin","MSPerspectiveOrigin","OPerspectiveOrigin","pointerEvents","MozPointerEvents","WebkitPointerEvents","MSPointerEvents","OPointerEvents","position","MozPosition","WebkitPosition","MSPosition","OPosition","pt","MozPt","WebkitPt","MSPt","OPt","px","MozPx","WebkitPx","MSPx","OPx","q","MozQ","WebkitQ","MSQ","OQ","quotes","MozQuotes","WebkitQuotes","MSQuotes","OQuotes","rad","MozRad","WebkitRad","MSRad","ORad","rem","MozRem","WebkitRem","MSRem","ORem","resize","MozResize","WebkitResize","MSResize","OResize","revert","MozRevert","WebkitRevert","MSRevert","ORevert","right","MozRight","WebkitRight","MSRight","ORight","rubyAlign","MozRubyAlign","WebkitRubyAlign","MSRubyAlign","ORubyAlign","rubyMerge","MozRubyMerge","WebkitRubyMerge","MSRubyMerge","ORubyMerge","rubyPosition","MozRubyPosition","WebkitRubyPosition","MSRubyPosition","ORubyPosition","s","MozS","WebkitS","MSS","OS","scrollBehavior","MozScrollBehavior","WebkitScrollBehavior","MSScrollBehavior","OScrollBehavior","scrollSnapCoordinate","MozScrollSnapCoordinate","WebkitScrollSnapCoordinate","MSScrollSnapCoordinate","OScrollSnapCoordinate","scrollSnapDestination","MozScrollSnapDestination","WebkitScrollSnapDestination","MSScrollSnapDestination","OScrollSnapDestination","scrollSnapType","MozScrollSnapType","WebkitScrollSnapType","MSScrollSnapType","OScrollSnapType","shapeImageThreshold","MozShapeImageThreshold","WebkitShapeImageThreshold","MSShapeImageThreshold","OShapeImageThreshold","shapeMargin","MozShapeMargin","WebkitShapeMargin","MSShapeMargin","OShapeMargin","shapeOutside","MozShapeOutside","WebkitShapeOutside","MSShapeOutside","OShapeOutside","tabSize","MozTabSize","WebkitTabSize","MSTabSize","OTabSize","tableLayout","MozTableLayout","WebkitTableLayout","MSTableLayout","OTableLayout","textAlign","MozTextAlign","WebkitTextAlign","MSTextAlign","OTextAlign","textAlignLast","MozTextAlignLast","WebkitTextAlignLast","MSTextAlignLast","OTextAlignLast","textCombineUpright","MozTextCombineUpright","WebkitTextCombineUpright","MSTextCombineUpright","OTextCombineUpright","textDecoration","MozTextDecoration","WebkitTextDecoration","MSTextDecoration","OTextDecoration","textDecorationColor","MozTextDecorationColor","WebkitTextDecorationColor","MSTextDecorationColor","OTextDecorationColor","textDecorationLine","MozTextDecorationLine","WebkitTextDecorationLine","MSTextDecorationLine","OTextDecorationLine","textDecorationStyle","MozTextDecorationStyle","WebkitTextDecorationStyle","MSTextDecorationStyle","OTextDecorationStyle","textEmphasis","MozTextEmphasis","WebkitTextEmphasis","MSTextEmphasis","OTextEmphasis","textEmphasisColor","MozTextEmphasisColor","WebkitTextEmphasisColor","MSTextEmphasisColor","OTextEmphasisColor","textEmphasisPosition","MozTextEmphasisPosition","WebkitTextEmphasisPosition","MSTextEmphasisPosition","OTextEmphasisPosition","textEmphasisStyle","MozTextEmphasisStyle","WebkitTextEmphasisStyle","MSTextEmphasisStyle","OTextEmphasisStyle","textIndent","MozTextIndent","WebkitTextIndent","MSTextIndent","OTextIndent","textOrientation","MozTextOrientation","WebkitTextOrientation","MSTextOrientation","OTextOrientation","textOverflow","MozTextOverflow","WebkitTextOverflow","MSTextOverflow","OTextOverflow","textRendering","MozTextRendering","WebkitTextRendering","MSTextRendering","OTextRendering","textShadow","MozTextShadow","WebkitTextShadow","MSTextShadow","OTextShadow","textTransform","MozTextTransform","WebkitTextTransform","MSTextTransform","OTextTransform","textUnderlinePosition","MozTextUnderlinePosition","WebkitTextUnderlinePosition","MSTextUnderlinePosition","OTextUnderlinePosition","top","MozTop","WebkitTop","MSTop","OTop","touchAction","MozTouchAction","WebkitTouchAction","MSTouchAction","OTouchAction","transform","MozTransform","WebkitTransform","msTransform","OTransform","transformBox","MozTransformBox","WebkitTransformBox","MSTransformBox","OTransformBox","transformOrigin","MozTransformOrigin","WebkitTransformOrigin","MSTransformOrigin","OTransformOrigin","transformStyle","MozTransformStyle","WebkitTransformStyle","MSTransformStyle","OTransformStyle","transition","MozTransition","WebkitTransition","MSTransition","OTransition","transitionDelay","MozTransitionDelay","WebkitTransitionDelay","MSTransitionDelay","OTransitionDelay","transitionDuration","MozTransitionDuration","WebkitTransitionDuration","MSTransitionDuration","OTransitionDuration","transitionProperty","MozTransitionProperty","WebkitTransitionProperty","MSTransitionProperty","OTransitionProperty","transitionTimingFunction","MozTransitionTimingFunction","WebkitTransitionTimingFunction","MSTransitionTimingFunction","OTransitionTimingFunction","turn","MozTurn","WebkitTurn","MSTurn","OTurn","unicodeBidi","MozUnicodeBidi","WebkitUnicodeBidi","MSUnicodeBidi","OUnicodeBidi","unset","MozUnset","WebkitUnset","MSUnset","OUnset","verticalAlign","MozVerticalAlign","WebkitVerticalAlign","MSVerticalAlign","OVerticalAlign","vh","MozVh","WebkitVh","MSVh","OVh","visibility","MozVisibility","WebkitVisibility","MSVisibility","OVisibility","vmax","MozVmax","WebkitVmax","MSVmax","OVmax","vmin","MozVmin","WebkitVmin","MSVmin","OVmin","vw","MozVw","WebkitVw","MSVw","OVw","whiteSpace","MozWhiteSpace","WebkitWhiteSpace","MSWhiteSpace","OWhiteSpace","widows","MozWidows","WebkitWidows","MSWidows","OWidows","width","MozWidth","WebkitWidth","MSWidth","OWidth","willChange","MozWillChange","WebkitWillChange","MSWillChange","OWillChange","wordBreak","MozWordBreak","WebkitWordBreak","MSWordBreak","OWordBreak","wordSpacing","MozWordSpacing","WebkitWordSpacing","MSWordSpacing","OWordSpacing","wordWrap","MozWordWrap","WebkitWordWrap","MSWordWrap","OWordWrap","writingMode","MozWritingMode","WebkitWritingMode","MSWritingMode","OWritingMode","zIndex","MozZIndex","WebkitZIndex","MSZIndex","OZIndex","fontSize","MozFontSize","WebkitFontSize","MSFontSize","OFontSize","flex","MozFlex","WebkitFlex","MSFlex","OFlex","fr","MozFr","WebkitFr","MSFr","OFr","overflowScrolling","MozOverflowScrolling","WebkitOverflowScrolling","MSOverflowScrolling","OOverflowScrolling","userSelect","MozUserSelect","WebkitUserSelect","MSUserSelect","OUserSelect"]},function(t,e,n){"use strict";function r(){return r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r.apply(this,arguments)}function i(t,e){if(null==t)return{};var n,r,i={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(i[n]=t[n]);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function a(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}n.d(e,"a",function(){return h});var o=n(19),s=(n.n(o),n(2)),l=n.n(s),u=n(14),c=n.n(u),h=function(t){function e(){return t.apply(this,arguments)||this}a(e,t);var n=e.prototype;return n.componentDidMount=function(){this.checkFocus()},n.componentDidUpdate=function(){this.checkFocus()},n.checkFocus=function(){this.props.selected&&this.props.focus&&this.node.focus()},n.render=function(){var t,e=this,n=this.props,a=n.children,o=n.className,s=n.disabled,u=n.disabledClassName,h=(n.focus,n.id),d=n.panelId,f=n.selected,p=n.selectedClassName,m=n.tabIndex,g=n.tabRef,v=i(n,["children","className","disabled","disabledClassName","focus","id","panelId","selected","selectedClassName","tabIndex","tabRef"]);return l.a.createElement("li",r({},v,{className:c()(o,(t={},t[p]=f,t[u]=s,t)),ref:function(t){e.node=t,g&&g(t)},role:"tab",id:h,"aria-selected":f?"true":"false","aria-disabled":s?"true":"false","aria-controls":d,tabIndex:m||(f?"0":null)}),a)},e}(s.Component);h.defaultProps={className:"react-tabs__tab",disabledClassName:"react-tabs__tab--disabled",focus:!1,id:null,panelId:null,selected:!1,selectedClassName:"react-tabs__tab--selected"},h.propTypes={},h.tabsRole="Tab"},function(t,e,n){"use strict";function r(){return r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r.apply(this,arguments)}function i(t,e){if(null==t)return{};var n,r,i={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(i[n]=t[n]);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function a(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}n.d(e,"a",function(){return h});var o=n(19),s=(n.n(o),n(2)),l=n.n(s),u=n(14),c=n.n(u),h=function(t){function e(){return t.apply(this,arguments)||this}return a(e,t),e.prototype.render=function(){var t=this.props,e=t.children,n=t.className,a=i(t,["children","className"]);return l.a.createElement("ul",r({},a,{className:c()(n),role:"tablist"}),e)},e}(s.Component);h.defaultProps={className:"react-tabs__tab-list"},h.propTypes={},h.tabsRole="TabList"},function(t,e,n){"use strict";function r(){return r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r.apply(this,arguments)}function i(t,e){if(null==t)return{};var n,r,i={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(i[n]=t[n]);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function a(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}n.d(e,"a",function(){return h});var o=n(19),s=(n.n(o),n(2)),l=n.n(s),u=n(14),c=n.n(u),h=function(t){function e(){return t.apply(this,arguments)||this}return a(e,t),e.prototype.render=function(){var t,e=this.props,n=e.children,a=e.className,o=e.forceRender,s=e.id,u=e.selected,h=e.selectedClassName,d=e.tabId,f=i(e,["children","className","forceRender","id","selected","selectedClassName","tabId"]);return l.a.createElement("div",r({},f,{className:c()(a,(t={},t[h]=u,t)),role:"tabpanel",id:s,"aria-labelledby":d}),o||u?n:null)},e}(s.Component);h.defaultProps={className:"react-tabs__tab-panel",forceRender:!1,selectedClassName:"react-tabs__tab-panel--selected"},h.propTypes={},h.tabsRole="TabPanel"},function(t,e,n){"use strict";function r(t,e){if(null==t)return{};var n,r,i={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(i[n]=t[n]);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}n.d(e,"a",function(){return c});var a=n(19),o=(n.n(a),n(2)),s=n.n(o),l=(n(159),n(485)),u=n(158),c=function(t){function e(n){var r;return r=t.call(this,n)||this,r.handleSelected=function(t,n,i){if("function"!=typeof r.props.onSelect||!1!==r.props.onSelect(t,n,i)){var a={focus:"keydown"===i.type};e.inUncontrolledMode(r.props)&&(a.selectedIndex=t),r.setState(a)}},r.state=e.copyPropsToState(r.props,{},r.props.defaultFocus),r}i(e,t);var a=e.prototype;return a.componentWillReceiveProps=function(t){this.setState(function(n){return e.copyPropsToState(t,n)})},e.inUncontrolledMode=function(t){return null===t.selectedIndex},e.copyPropsToState=function(t,r,i){void 0===i&&(i=!1);var a={focus:i};if(e.inUncontrolledMode(t)){var o=n.i(u.a)(t.children)-1,s=null;s=null!=r.selectedIndex?Math.min(r.selectedIndex,o):t.defaultIndex||0,a.selectedIndex=s}return a},a.render=function(){var t=this.props,e=t.children,n=(t.defaultIndex,t.defaultFocus,r(t,["children","defaultIndex","defaultFocus"]));return n.focus=this.state.focus,n.onSelect=this.handleSelected,null!=this.state.selectedIndex&&(n.selectedIndex=this.state.selectedIndex),s.a.createElement(l.a,n,e)},e}(o.Component);c.defaultProps={defaultFocus:!1,forceRenderTabPanel:!1,selectedIndex:null,defaultIndex:null},c.propTypes={},c.tabsRole="Tabs"},function(t,e,n){"use strict";function r(){return r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r.apply(this,arguments)}function i(t,e){if(null==t)return{};var n,r,i={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(i[n]=t[n]);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function a(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function o(t){return"getAttribute"in t&&"tab"===t.getAttribute("role")}function s(t){return"true"===t.getAttribute("aria-disabled")}n.d(e,"a",function(){return y});var l,u=n(19),c=(n.n(u),n(2)),h=n.n(c),d=n(14),f=n.n(d),p=n(160),m=(n(159),n(158)),g=n(110),v=n(77);try{l=!("undefined"==typeof window||!window.document||!window.document.activeElement)}catch(t){l=!1}var y=function(t){function e(){for(var e,n,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=n=t.call.apply(t,[this].concat(i))||this,n.tabNodes=[],n.handleKeyDown=function(t){if(n.isTabFromContainer(t.target)){var e=n.props.selectedIndex,r=!1,i=!1;32!==t.keyCode&&13!==t.keyCode||(r=!0,i=!1,n.handleClick(t)),37===t.keyCode||38===t.keyCode?(e=n.getPrevTab(e),r=!0,i=!0):39!==t.keyCode&&40!==t.keyCode||(e=n.getNextTab(e),r=!0,i=!0),r&&t.preventDefault(),i&&n.setSelected(e,t)}},n.handleClick=function(t){var e=t.target;do{if(n.isTabFromContainer(e)){if(s(e))return;var r=[].slice.call(e.parentNode.children).filter(o).indexOf(e);return void n.setSelected(r,t)}}while(null!==(e=e.parentNode))},e||n}a(e,t);var u=e.prototype;return u.setSelected=function(t,e){t<0||t>=this.getTabsCount()||this.props.onSelect(t,this.props.selectedIndex,e)},u.getNextTab=function(t){for(var e=this.getTabsCount(),n=t+1;n<e;n++)if(!s(this.getTab(n)))return n;for(var r=0;r<t;r++)if(!s(this.getTab(r)))return r;return t},u.getPrevTab=function(t){for(var e=t;e--;)if(!s(this.getTab(e)))return e;for(e=this.getTabsCount();e-- >t;)if(!s(this.getTab(e)))return e;return t},u.getTabsCount=function(){return n.i(m.a)(this.props.children)},u.getPanelsCount=function(){return n.i(m.b)(this.props.children)},u.getTab=function(t){return this.tabNodes["tabs-"+t]},u.getChildren=function(){var t=this,e=0,r=this.props,i=r.children,a=r.disabledTabClassName,o=r.focus,s=r.forceRenderTabPanel,u=r.selectedIndex,d=r.selectedTabClassName,f=r.selectedTabPanelClassName;this.tabIds=this.tabIds||[],this.panelIds=this.panelIds||[];for(var m=this.tabIds.length-this.getTabsCount();m++<0;)this.tabIds.push(n.i(p.b)()),this.panelIds.push(n.i(p.b)());return n.i(g.a)(i,function(r){var i=r;if(n.i(v.a)(r)){var p=0,m=!1;l&&(m=h.a.Children.toArray(r.props.children).filter(v.b).some(function(e,n){return document.activeElement===t.getTab(n)})),i=n.i(c.cloneElement)(r,{children:n.i(g.a)(r.props.children,function(e){var r="tabs-"+p,i=u===p,s={tabRef:function(e){t.tabNodes[r]=e},id:t.tabIds[p],panelId:t.panelIds[p],selected:i,focus:i&&(o||m)};return d&&(s.selectedClassName=d),a&&(s.disabledClassName=a),p++,n.i(c.cloneElement)(e,s)})})}else if(n.i(v.c)(r)){var y={id:t.panelIds[e],tabId:t.tabIds[e],selected:u===e};s&&(y.forceRender=s),f&&(y.selectedClassName=f),e++,i=n.i(c.cloneElement)(r,y)}return i})},u.isTabFromContainer=function(t){if(!o(t))return!1;var e=t.parentElement;do{if(e===this.node)return!0;if(e.getAttribute("data-tabs"))break;e=e.parentElement}while(e);return!1},u.render=function(){var t=this,e=this.props,n=(e.children,e.className),a=(e.disabledTabClassName,e.domRef),o=(e.focus,e.forceRenderTabPanel,e.onSelect,e.selectedIndex,e.selectedTabClassName,e.selectedTabPanelClassName,i(e,["children","className","disabledTabClassName","domRef","focus","forceRenderTabPanel","onSelect","selectedIndex","selectedTabClassName","selectedTabPanelClassName"]));return h.a.createElement("div",r({},o,{className:f()(n),onClick:this.handleClick,onKeyDown:this.handleKeyDown,ref:function(e){t.node=e,a&&a(e)},"data-tabs":!0}),this.getChildren())},e}(c.Component);y.defaultProps={className:"react-tabs",focus:!1},y.propTypes={}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(484),i=n(482),a=n(481),o=n(483),s=n(160);n.d(e,"Tab",function(){return a.a}),n.d(e,"TabList",function(){return i.a}),n.d(e,"TabPanel",function(){return o.a}),n.d(e,"Tabs",function(){return r.a}),n.d(e,"resetIdCounter",function(){return s.a})},function(t,e,n){"use strict";function r(t){for(var e=arguments.length-1,n="Minified React error #"+t+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+t,r=0;r<e;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);throw e=Error(n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."),e.name="Invariant Violation",e.framesToPop=1,e}function i(t,e,n){this.props=t,this.context=e,this.refs=b,this.updater=n||C}function a(t,e,n){this.props=t,this.context=e,this.refs=b,this.updater=n||C}function o(){}function s(t,e,n){this.props=t,this.context=e,this.refs=b,this.updater=n||C}function l(t,e,n){var r,i={},a=null,o=null;if(null!=e)for(r in void 0!==e.ref&&(o=e.ref),void 0!==e.key&&(a=""+e.key),e)R.call(e,r)&&!L.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:w,type:t,key:a,ref:o,props:i,_owner:A.current}}function u(t){return"object"==typeof t&&null!==t&&t.$$typeof===w}function c(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,function(t){return e[t]})}function h(t,e,n,r){if(D.length){var i=D.pop();return i.result=t,i.keyPrefix=e,i.func=n,i.context=r,i.count=0,i}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function d(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>D.length&&D.push(t)}function f(t,e,n,i){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var o=!1;if(null===t)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case w:case M:case S:case E:o=!0}}if(o)return n(i,t,""===e?"."+p(t,0):e),1;if(o=0,e=""===e?".":e+":",Array.isArray(t))for(var s=0;s<t.length;s++){a=t[s];var l=e+p(a,s);o+=f(a,l,n,i)}else if(null===t||void 0===t?l=null:(l=T&&t[T]||t["@@iterator"],l="function"==typeof l?l:null),"function"==typeof l)for(t=l.call(t),s=0;!(a=t.next()).done;)a=a.value,l=e+p(a,s++),o+=f(a,l,n,i);else"object"===a&&(n=""+t,r("31","[object Object]"===n?"object with keys {"+Object.keys(t).join(", ")+"}":n,""));return o}function p(t,e){return"object"==typeof t&&null!==t&&null!=t.key?c(t.key):e.toString(36)}function m(t,e){t.func.call(t.context,e,t.count++)}function g(t,e,n){var r=t.result,i=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?v(t,r,n,x.thatReturnsArgument):null!=t&&(u(t)&&(e=i+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(I,"$&/")+"/")+n,t={$$typeof:w,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}),r.push(t))}function v(t,e,n,r,i){var a="";null!=n&&(a=(""+n).replace(I,"$&/")+"/"),e=h(e,a,r,i),null==t||f(t,"",g,e),d(e)}/** @license React v16.2.0
 * react.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var y=n(102),b=n(144),x=n(69),_="function"==typeof Symbol&&Symbol.for,w=_?Symbol.for("react.element"):60103,M=_?Symbol.for("react.call"):60104,S=_?Symbol.for("react.return"):60105,E=_?Symbol.for("react.portal"):60106,k=_?Symbol.for("react.fragment"):60107,T="function"==typeof Symbol&&Symbol.iterator,C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};i.prototype.isReactComponent={},i.prototype.setState=function(t,e){"object"!=typeof t&&"function"!=typeof t&&null!=t&&r("85"),this.updater.enqueueSetState(this,t,e,"setState")},i.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},o.prototype=i.prototype;var P=a.prototype=new o;P.constructor=a,y(P,i.prototype),P.isPureReactComponent=!0;var O=s.prototype=new o;O.constructor=s,y(O,i.prototype),O.unstable_isAsyncReactComponent=!0,O.render=function(){return this.props.children};var A={current:null},R=Object.prototype.hasOwnProperty,L={key:!0,ref:!0,__self:!0,__source:!0},I=/\/+/g,D=[],N={Children:{map:function(t,e,n){if(null==t)return t;var r=[];return v(t,r,null,e,n),r},forEach:function(t,e,n){if(null==t)return t;e=h(null,null,e,n),null==t||f(t,"",m,e),d(e)},count:function(t){return null==t?0:f(t,"",x.thatReturnsNull,null)},toArray:function(t){var e=[];return v(t,e,null,x.thatReturnsArgument),e},only:function(t){return u(t)||r("143"),t}},Component:i,PureComponent:a,unstable_AsyncComponent:s,Fragment:k,createElement:l,cloneElement:function(t,e,n){var r=y({},t.props),i=t.key,a=t.ref,o=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,o=A.current),void 0!==e.key&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)R.call(e,l)&&!L.hasOwnProperty(l)&&(r[l]=void 0===e[l]&&void 0!==s?s[l]:e[l])}var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:w,type:t.type,key:i,ref:a,props:r,_owner:o}},createFactory:function(t){var e=l.bind(null,t);return e.type=t,e},isValidElement:u,version:"16.2.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:A,assign:y}},z=Object.freeze({default:N}),B=z&&N||z;t.exports=B.default?B.default:B},function(t,e,n){t.exports=n(489)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(490),o=function(t){return t&&t.__esModule?t:{default:t}}(a),s={nFrequencyBars:255,onAnalysed:null},l=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t),this.config=Object.assign({},s,n),this.audioContext=e,this.audioInput=null,this.realAudioInput=null,this.inputPoint=null,this.audioRecorder=null,this.rafID=null,this.analyserContext=null,this.recIndex=0,this.stream=null,this.updateAnalysers=this.updateAnalysers.bind(this)}return i(t,[{key:"init",value:function(t){var e=this;return new Promise(function(n){e.inputPoint=e.audioContext.createGain(),e.stream=t,e.realAudioInput=e.audioContext.createMediaStreamSource(t),e.audioInput=e.realAudioInput,e.audioInput.connect(e.inputPoint),e.analyserNode=e.audioContext.createAnalyser(),e.analyserNode.fftSize=2048,e.inputPoint.connect(e.analyserNode),e.audioRecorder=new o.default(e.inputPoint);var r=e.audioContext.createGain();r.gain.value=0,e.inputPoint.connect(r),r.connect(e.audioContext.destination),e.updateAnalysers(),n()})}},{key:"start",value:function(){var t=this;return new Promise(function(e,n){if(!t.audioRecorder)return void n("Not currently recording");t.audioRecorder.clear(),t.audioRecorder.record(),e(t.stream)})}},{key:"stop",value:function(){var t=this;return new Promise(function(e){t.audioRecorder.stop(),t.audioRecorder.getBuffer(function(n){t.audioRecorder.exportWAV(function(t){return e({buffer:n,blob:t})})})})}},{key:"updateAnalysers",value:function(){if(this.config.onAnalysed){requestAnimationFrame(this.updateAnalysers);var t=new Uint8Array(this.analyserNode.frequencyBinCount);this.analyserNode.getByteFrequencyData(t);for(var e=new Array(255),n=0,r=void 0,i=0;i<255;i+=1)r=Math.floor(t[i])-Math.floor(t[i])%5,0!==r&&(n=i),e[i]=r;this.config.onAnalysed({data:e,lineTo:n})}}},{key:"setOnAnalysed",value:function(t){this.config.onAnalysed=t}}]),t}();l.download=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"audio";o.default.forceDownload(t,e+".wav")},e.default=l},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(410),o=function(t){return t&&t.__esModule?t:{default:t}}(a),s={bufferLen:4096,numChannels:2,mimeType:"audio/wav"},l=function(){function t(e,n){var i=this;r(this,t),this.config=Object.assign({},s,n),this.recording=!1,this.callbacks={getBuffer:[],exportWAV:[]},this.context=e.context,this.node=(this.context.createScriptProcessor||this.context.createJavaScriptNode).call(this.context,this.config.bufferLen,this.config.numChannels,this.config.numChannels),this.node.onaudioprocess=function(t){if(i.recording){for(var e=[],n=0;n<i.config.numChannels;n++)e.push(t.inputBuffer.getChannelData(n));i.worker.postMessage({command:"record",buffer:e})}},e.connect(this.node),this.node.connect(this.context.destination);var a={};this.worker=new o.default(function(){function t(t){f=t.sampleRate,p=t.numChannels,a()}function e(t){for(var e=0;e<p;e++)d[e].push(t[e]);h+=t[0].length}function n(t){for(var e=[],n=0;n<p;n++)e.push(o(d[n],h));var r=void 0;r=2===p?s(e[0],e[1]):e[0];var i=c(r),a=new Blob([i],{type:t});this.postMessage({command:"exportWAV",data:a})}function r(){for(var t=[],e=0;e<p;e++)t.push(o(d[e],h));this.postMessage({command:"getBuffer",data:t})}function i(){h=0,d=[],a()}function a(){for(var t=0;t<p;t++)d[t]=[]}function o(t,e){for(var n=new Float32Array(e),r=0,i=0;i<t.length;i++)n.set(t[i],r),r+=t[i].length;return n}function s(t,e){for(var n=t.length+e.length,r=new Float32Array(n),i=0,a=0;i<n;)r[i++]=t[a],r[i++]=e[a],a++;return r}function l(t,e,n){for(var r=0;r<n.length;r++,e+=2){var i=Math.max(-1,Math.min(1,n[r]));t.setInt16(e,i<0?32768*i:32767*i,!0)}}function u(t,e,n){for(var r=0;r<n.length;r+=1)t.setUint8(e+r,n.charCodeAt(r))}function c(t){var e=new ArrayBuffer(44+2*t.length),n=new DataView(e);return u(n,0,"RIFF"),n.setUint32(4,36+2*t.length,!0),u(n,8,"WAVE"),u(n,12,"fmt "),n.setUint32(16,16,!0),n.setUint16(20,1,!0),n.setUint16(22,p,!0),n.setUint32(24,f,!0),n.setUint32(28,4*f,!0),n.setUint16(32,2*p,!0),n.setUint16(34,16,!0),u(n,36,"data"),n.setUint32(40,2*t.length,!0),l(n,44,t),n}var h=0,d=[],f=void 0,p=void 0;this.onmessage=function(a){switch(a.data.command){case"init":t(a.data.config);break;case"record":e(a.data.buffer);break;case"exportWAV":n(a.data.type);break;case"getBuffer":r();break;case"clear":i()}}},a),this.worker.postMessage({command:"init",config:{sampleRate:this.context.sampleRate,numChannels:this.config.numChannels}}),this.worker.onmessage=function(t){var e=i.callbacks[t.data.command].pop();"function"==typeof e&&e(t.data.data)}}return i(t,[{key:"record",value:function(){this.recording=!0}},{key:"stop",value:function(){this.recording=!1}},{key:"clear",value:function(){this.worker.postMessage({command:"clear"})}},{key:"getBuffer",value:function(t){if(!(t=t||this.config.callback))throw new Error("Callback not set");this.callbacks.getBuffer.push(t),this.worker.postMessage({command:"getBuffer"})}},{key:"exportWAV",value:function(t,e){if(e=e||this.config.mimeType,!(t=t||this.config.callback))throw new Error("Callback not set");this.callbacks.exportWAV.push(t),this.worker.postMessage({command:"exportWAV",type:e})}}]),t}();l.forceDownload=function(t,e){var n=document.createElement("a");n.style="display: none",document.body.appendChild(n);var r=window.URL.createObjectURL(t);n.href=r,n.download=e,n.click(),window.URL.revokeObjectURL(r),document.body.removeChild(n)},e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){function n(t){return parseFloat(t)||0}function r(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return e.reduce(function(e,r){return e+n(t["border-"+r+"-width"])},0)}function i(t){for(var e=["top","right","bottom","left"],r={},i=0,a=e;i<a.length;i+=1){var o=a[i],s=t["padding-"+o];r[o]=n(s)}return r}function a(t){var e=t.getBBox();return c(0,0,e.width,e.height)}function o(t){var e=t.clientWidth,a=t.clientHeight;if(!e&&!a)return w;var o=_(t).getComputedStyle(t),l=i(o),u=l.left+l.right,h=l.top+l.bottom,d=n(o.width),f=n(o.height);if("border-box"===o.boxSizing&&(Math.round(d+u)!==e&&(d-=r(o,"left","right")+u),Math.round(f+h)!==a&&(f-=r(o,"top","bottom")+h)),!s(t)){var p=Math.round(d+u)-e,m=Math.round(f+h)-a;1!==Math.abs(p)&&(d-=p),1!==Math.abs(m)&&(f-=m)}return c(l.left,l.top,d,f)}function s(t){return t===_(t).document.documentElement}function l(t){return d?M(t)?a(t):o(t):w}function u(t){var e=t.x,n=t.y,r=t.width,i=t.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(a.prototype);return x(o,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),o}function c(t,e,n,r){return{x:t,y:e,width:n,height:r}}var h=function(){function t(t,e){var n=-1;return t.some(function(t,r){return t[0]===e&&(n=r,!0)}),n}return"undefined"!=typeof Map?Map:function(){function e(){this.__entries__=[]}var n={size:{configurable:!0}};return n.size.get=function(){return this.__entries__.length},e.prototype.get=function(e){var n=t(this.__entries__,e),r=this.__entries__[n];return r&&r[1]},e.prototype.set=function(e,n){var r=t(this.__entries__,e);~r?this.__entries__[r][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,r=t(n,e);~r&&n.splice(r,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){var n=this;void 0===e&&(e=null);for(var r=0,i=n.__entries__;r<i.length;r+=1){var a=i[r];t.call(e,a[1],a[0])}},Object.defineProperties(e.prototype,n),e}()}(),d="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,f=function(){return void 0!==t&&t.Math===Math?t:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")()}(),p=function(){return"function"==typeof requestAnimationFrame?requestAnimationFrame.bind(f):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),m=2,g=function(t,e){function n(){a&&(a=!1,t()),o&&i()}function r(){p(n)}function i(){var t=Date.now();if(a){if(t-s<m)return;o=!0}else a=!0,o=!1,setTimeout(r,e);s=t}var a=!1,o=!1,s=0;return i},v=["top","right","bottom","left","width","height","size","weight"],y="undefined"!=typeof MutationObserver,b=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=g(this.refresh.bind(this),20)};b.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},b.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},b.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},b.prototype.updateObservers_=function(){var t=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return t.forEach(function(t){return t.broadcastActive()}),t.length>0},b.prototype.connect_=function(){d&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),y?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},b.prototype.disconnect_=function(){d&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},b.prototype.onTransitionEnd_=function(t){var e=t.propertyName;void 0===e&&(e=""),v.some(function(t){return!!~e.indexOf(t)})&&this.refresh()},b.getInstance=function(){return this.instance_||(this.instance_=new b),this.instance_},b.instance_=null;var x=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n+=1){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},_=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||f},w=c(0,0,0,0),M=function(){return"undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof _(t).SVGGraphicsElement}:function(t){return t instanceof _(t).SVGElement&&"function"==typeof t.getBBox}}(),S=function(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=c(0,0,0,0),this.target=t};S.prototype.isActive=function(){var t=l(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},S.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t};var E=function(t,e){var n=u(e);x(this,{target:t,contentRect:n})},k=function(t,e,n){if(this.activeObservations_=[],this.observations_=new h,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n};k.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof _(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new S(t)),this.controller_.addObserver(this),this.controller_.refresh())}},k.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof _(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},k.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},k.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})},k.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(t){return new E(t.target,t.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},k.prototype.clearActive=function(){this.activeObservations_.splice(0)},k.prototype.hasActive=function(){return this.activeObservations_.length>0};var T="undefined"!=typeof WeakMap?new WeakMap:new h,C=function(t){if(!(this instanceof C))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var e=b.getInstance(),n=new k(t,e,this);T.set(this,n)};["observe","unobserve","disconnect"].forEach(function(t){C.prototype[t]=function(){return(e=T.get(this))[t].apply(e,arguments);var e}});var P=function(){return void 0!==f.ResizeObserver?f.ResizeObserver:C}();e.default=P}.call(e,n(61))},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){var t=function(){function e(t){return i.appendChild(t.dom),t}function n(t){for(var e=0;e<i.children.length;e++)i.children[e].style.display=e===t?"block":"none";r=t}var r=0,i=document.createElement("div");i.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",i.addEventListener("click",function(t){t.preventDefault(),n(++r%i.children.length)},!1);var a=(performance||Date).now(),o=a,s=0,l=e(new t.Panel("FPS","#0ff","#002")),u=e(new t.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var c=e(new t.Panel("MB","#f08","#201"));return n(0),{REVISION:16,dom:i,addPanel:e,showPanel:n,begin:function(){a=(performance||Date).now()},end:function(){s++;var t=(performance||Date).now();if(u.update(t-a,200),t>o+1e3&&(l.update(1e3*s/(t-o),100),o=t,s=0,c)){var e=performance.memory;c.update(e.usedJSHeapSize/1048576,e.jsHeapSizeLimit/1048576)}return t},update:function(){a=this.end()},domElement:i,setMode:n}};return t.Panel=function(t,e,n){var r=1/0,i=0,a=Math.round,o=a(window.devicePixelRatio||1),s=80*o,l=48*o,u=3*o,c=2*o,h=3*o,d=15*o,f=74*o,p=30*o,m=document.createElement("canvas");m.width=s,m.height=l,m.style.cssText="width:80px;height:48px";var g=m.getContext("2d");return g.font="bold "+9*o+"px Helvetica,Arial,sans-serif",g.textBaseline="top",g.fillStyle=n,g.fillRect(0,0,s,l),g.fillStyle=e,g.fillText(t,u,c),g.fillRect(h,d,f,p),g.fillStyle=n,g.globalAlpha=.9,g.fillRect(h,d,f,p),{dom:m,update:function(l,v){r=Math.min(r,l),i=Math.max(i,l),g.fillStyle=n,g.globalAlpha=1,g.fillRect(0,0,s,d),g.fillStyle=e,g.fillText(a(l)+" "+t+" ("+a(r)+"-"+a(i)+")",u,c),g.drawImage(m,h+o,d,f-o,p,h,d,f-o,p),g.fillRect(h+f-o,d,o,p),g.fillStyle=n,g.globalAlpha=.9,g.fillRect(h+f-o,d,o,a((1-l/v)*p))}}},t})},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var i=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(i))return t;var a;return a=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(a)+")"})}},function(t,e,n){var r=n(381),i=n(413);t.exports=function(t){function e(n,r){if(!(this instanceof e))return new e(n,r);t.BufferGeometry.call(this),Array.isArray(n)?r=r||{}:"object"==typeof n&&(r=n,n=[]),r=r||{},this.addAttribute("position",new t.BufferAttribute(void 0,3)),this.addAttribute("lineNormal",new t.BufferAttribute(void 0,2)),this.addAttribute("lineMiter",new t.BufferAttribute(void 0,1)),r.distances&&this.addAttribute("lineDistance",new t.BufferAttribute(void 0,1)),"function"==typeof this.setIndex?this.setIndex(new t.BufferAttribute(void 0,1)):this.addAttribute("index",new t.BufferAttribute(void 0,1)),this.update(n,r.closed)}return r(e,t.BufferGeometry),e.prototype.update=function(t,e){t=t||[];var n=i(t,e);e&&(t=t.slice(),t.push(t[0]),n.push(n[0]));var r=this.getAttribute("position"),a=this.getAttribute("lineNormal"),o=this.getAttribute("lineMiter"),s=this.getAttribute("lineDistance"),l="function"==typeof this.getIndex?this.getIndex():this.getAttribute("index"),u=Math.max(0,6*(t.length-1));if(!r.array||t.length!==r.array.length/3/2){var c=2*t.length;r.array=new Float32Array(3*c),a.array=new Float32Array(2*c),o.array=new Float32Array(c),l.array=new Uint16Array(u),s&&(s.array=new Float32Array(c))}void 0!==r.count&&(r.count=c),r.needsUpdate=!0,void 0!==a.count&&(a.count=c),a.needsUpdate=!0,void 0!==o.count&&(o.count=c),o.needsUpdate=!0,void 0!==l.count&&(l.count=u),l.needsUpdate=!0,s&&(void 0!==s.count&&(s.count=c),s.needsUpdate=!0);var h=0,d=0,f=0,p=l.array;t.forEach(function(t,e,n){var i=h;if(p[d++]=i+0,p[d++]=i+1,p[d++]=i+2,p[d++]=i+2,p[d++]=i+1,p[d++]=i+3,r.setXYZ(h++,t[0],t[1],0),r.setXYZ(h++,t[0],t[1],0),s){var a=e/(n.length-1);s.setX(f++,a),s.setX(f++,a)}});var m=0,g=0;n.forEach(function(t){var e=t[0],n=t[1];a.setXY(m++,e[0],e[1]),a.setXY(m++,e[0],e[1]),o.setX(g++,-n),o.setX(g++,n)})},e}},function(t,e,n){var r=n(102);t.exports=function(t){return function(e){e=e||{};var n="number"==typeof e.thickness?e.thickness:.1,i="number"==typeof e.opacity?e.opacity:1,a=null!==e.diffuse?e.diffuse:16777215;delete e.thickness,delete e.opacity,delete e.diffuse,delete e.precision;var o=r({uniforms:{thickness:{type:"f",value:n},opacity:{type:"f",value:i},diffuse:{type:"c",value:new t.Color(a)}},vertexShader:["uniform float thickness;","attribute float lineMiter;","attribute vec2 lineNormal;","void main() {","vec3 pointPos = position.xyz + vec3(lineNormal * thickness / 2.0 * lineMiter, 0.0);","gl_Position = projectionMatrix * modelViewMatrix * vec4(pointPos, 1.0);","}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform float opacity;","void main() {","gl_FragColor = vec4(diffuse, opacity);","}"].join("\n")},e);return(0|(parseInt(t.REVISION,10)||0))<72&&(o.attributes={lineMiter:{type:"f",value:0},lineNormal:{type:"v2",value:new t.Vector2}}),o}}},function(t,e,n){"use strict";function r(t){return!0===t||!1===t}t.exports=r},function(t,e,n){"use strict";function r(t){return"function"==typeof t}t.exports=r},function(t,e,n){"use strict";function r(t){var e,n;if(!i(t))return!1;if(!(e=t.length))return!1;for(var r=0;r<e;r++)if("number"!=typeof(n=t[r])||n!==n)return!1;return!0}var i=n(111);t.exports=r},function(t,e,n){"use strict";function r(t){return"number"==typeof t&&t===t}t.exports=r},function(t,e,n){"use strict";function r(t){return"object"==typeof t&&null!==t&&!i(t)}var i=n(111);t.exports=r},function(t,e,n){"use strict";function r(t){if("string"!=typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=a}function i(t){return new r(t).output()}e.a=i;var a=1,o=/\s/,s=/[A-Za-z]/,l=/[A-Za-z84]/,u=/[,\]]/,c=/[\d\.E\-\+]/;r.prototype.readCharicter=function(){var t=this.text[this.place++];if(4!==this.state)for(;o.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case a:return this.neutral(t);case 2:return this.keyword(t);case 4:return this.quoted(t);case 5:return this.afterquote(t);case 3:return this.number(t);case-1:return}},r.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=4);if(u.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},r.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=a)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=a,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},r.prototype.number=function(t){if(c.test(t))return void(this.word+=t);if(u.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)},r.prototype.quoted=function(t){if('"'===t)return void(this.state=5);this.word+=t},r.prototype.keyword=function(t){if(l.test(t))return void(this.word+=t);if("["===t){var e=[];return e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,void(this.state=a)}if(u.test(t))return void this.afterItem(t);throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place)},r.prototype.neutral=function(t){if(s.test(t))return this.word=t,void(this.state=2);if('"'===t)return this.word="",void(this.state=4);if(c.test(t))return this.word=t,void(this.state=3);if(u.test(t))return void this.afterItem(t);throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place)},r.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)}},function(t,e,n){"use strict";function r(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var r=e?{}:t,a=n.reduce(function(t,e){return i(e,t),t},r);e&&(t[e]=a)}function i(t,e){if(!Array.isArray(t))return void(e[t]=!0);var n=t.shift();if("PARAMETER"===n&&(n=t.shift()),1===t.length)return Array.isArray(t[0])?(e[n]={},void i(t[0],e[n])):void(e[n]=t[0]);if(!t.length)return void(e[n]=!0);if("TOWGS84"===n)return void(e[n]=t);Array.isArray(n)||(e[n]={});var a;switch(n){case"UNIT":case"PRIMEM":case"VERT_DATUM":return e[n]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&i(t[2],e[n]));case"SPHEROID":case"ELLIPSOID":return e[n]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&i(t[3],e[n]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void r(e,n,t);default:for(a=-1;++a<t.length;)if(!Array.isArray(t[a]))return i(t,e[n]);return r(e,n,t)}}e.a=i},function(t,e,n){t.exports=n.p+"2cff479783c9bacb71df63a81871313d.mtl"},function(t,e,n){t.exports=n.p+"0ccca57f7e42eacf63e554cdd686cc6c.obj"},function(t,e,n){t.exports=n.p+"645d45ecf1a6b40788977f4ed877c11e.mtl"},function(t,e,n){t.exports=n.p+"3cf985c76d7881290eab582318b90503.obj"},function(t,e,n){t.exports=n.p+"c67591a7704dd9ff8b57ef65b6bd0521.mtl"},function(t,e,n){t.exports=n.p+"086924bdd797c6de1ae692b0c77b9d63.obj"},function(t,e,n){t.exports=n.p+"assets/qsKqeBtCMznE_Oub0bsjq.png"},function(t,e,n){t.exports=n.p+"assets/2opyK-Wa_AXPjURn1a0b9h.png"},function(t,e,n){t.exports=n.p+"assets/1BeKOMfruki29Jz-W-fBrX.png"},function(t,e,n){t.exports=n.p+"assets/1HbKg-otx5xL0dw0Y0ARYB.png"},function(t,e,n){t.exports=n.p+"assets/3Y_CjxErfOrWK2gauHNd0.png"},function(t,e,n){t.exports=n.p+"assets/3KeQz4DJwaqDTbBMOAD_it.png"},function(t,e,n){t.exports=n.p+"assets/35Rggijw-nT-nmUQkInMB_.png"},function(t,e,n){t.exports=n.p+"assets/1BJCXvLGr1PIZXGGh9rwLV.png"},function(t,e,n){t.exports=n.p+"assets/2gVqm2AoTjShKSs5lxRr_R.png"},function(t,e,n){t.exports=n.p+"assets/3GAX8s14tQy5tq079SD8YY.png"},function(t,e,n){t.exports=n.p+"assets/wn_PQEy_vimsxhQ7EZ8LE.png"},function(t,e,n){t.exports=n.p+"assets/aplpVRTVHozY-Z9VzLbac.png"},function(t,e,n){t.exports=n.p+"assets/3wOTsLBjTjehOEy7yn6jnv.png"},function(t,e,n){t.exports=n.p+"assets/2Ko0ez6hM83h5-fF1Z0Ria.png"},function(t,e,n){t.exports=n.p+"assets/1nk0VyKkvOGXeUD_Kn93ND.png"},function(t,e,n){t.exports=n.p+"assets/3kzbbPcR2g7bsIXs_y5sRe.png"},function(t,e,n){t.exports=n.p+"assets/13rNxhl0PSnIky1olblewP.png"},function(t,e,n){t.exports=n.p+"assets/268-0aGOGTmtAWhgz-TrY8.png"},function(t,e,n){t.exports=n.p+"assets/sV0IV5sPjURUjPO3nCfJ_.png"},function(t,e,n){t.exports=n.p+"assets/rYWLxw2UCV5JchDV99CeG.png"},function(t,e,n){t.exports=n.p+"assets/13rNxhl0PSnIky1olblewP.png"},function(t,e,n){t.exports=n.p+"assets/3tc9TFA8_5YuxA455U7BMg.png"},function(t,e,n){t.exports=n.p+"assets/2NEFng8KXMmYxDfgmv-0Av.png"},function(t,e,n){t.exports=n.p+"assets/1JucMLglOBf7xoRm1cTCGq.png"},function(t,e,n){t.exports=n.p+"assets/1jk30oZGm94PgH-uOgowzv.gif"},function(t,e,n){t.exports=n.p+"assets/2DNb-d13acVQUZGfQIIT7H.png"},function(t,e,n){t.exports=n.p+"assets/3Iqjzgc83hgZ4G5mrmawOr.png"},function(t,e,n){t.exports=n.p+"assets/21g8AJSRjYcnwl_KKPiq49.png"},function(t,e,n){t.exports=n.p+"assets/2Pv9EE8DFvmwOR7l1sNw4-.png"},function(t,e,n){t.exports=n.p+"assets/2EUYLwlKef0kdEOEtpIF32.png"},function(t,e,n){t.exports=n.p+"assets/2mLfIh-bK5rqJgPJF70iSR.png"},function(t,e,n){t.exports=n.p+"assets/3ymW0_3b4E9AkSrQdwuhXa.png"},function(t,e,n){t.exports=n.p+"assets/2UaG3NtKPH-5AjKPJ1VctX.png"},function(t,e,n){t.exports=n.p+"assets/11qdCmU_bShHdfoR2UoID-.png"},function(t,e,n){t.exports=n.p+"assets/37oPzcN6gut1z2DtBTPmDY.png"},function(t,e,n){t.exports=n.p+"assets/2W4lCe0R-pEExDemPLUHaB.png"},function(t,e,n){t.exports=n.p+"assets/1Ehw0kJYFNxyKlCXULSEb4.png"},function(t,e,n){t.exports=n.p+"assets/3RPlqowOa1kCVH4gxn5ZTP.png"},function(t,e,n){t.exports=n.p+"assets/3bD4CnQrI774P7eAmm4ou9.png"},function(t,e,n){t.exports=n.p+"assets/3Fe9fcXF_qq6_IgOoQKXHh.png"},function(t,e,n){t.exports=n.p+"assets/MuXNbyq72A2dXqIO7kstx.png"},function(t,e,n){t.exports=n.p+"assets/1VjU8-lRFZw_ZryZW5jvu9.png"},function(t,e,n){t.exports=n.p+"assets/1dleYOVZa-lZqDneaj7cSm.png"},function(t,e,n){var r=n(12);r.OrbitControls=function(t,e){function n(){return 2*Math.PI/60/60*I.autoRotateSpeed}function i(){return Math.pow(.95,I.zoomSpeed)}function a(t){W.theta-=t}function o(t){W.phi-=t}function s(t){I.object instanceof r.PerspectiveCamera?G/=t:I.object instanceof r.OrthographicCamera?(I.object.zoom=Math.max(I.minZoom,Math.min(I.maxZoom,I.object.zoom*t)),I.object.updateProjectionMatrix(),H=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),I.enableZoom=!1)}function l(t){I.object instanceof r.PerspectiveCamera?G*=t:I.object instanceof r.OrthographicCamera?(I.object.zoom=Math.max(I.minZoom,Math.min(I.maxZoom,I.object.zoom/t)),I.object.updateProjectionMatrix(),H=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),I.enableZoom=!1)}function u(t){Y.set(t.clientX,t.clientY)}function c(t){Q.set(t.clientX,t.clientY)}function h(t){Z.set(t.clientX,t.clientY)}function d(t){q.set(t.clientX,t.clientY),X.subVectors(q,Y);var e=I.domElement===document?I.domElement.body:I.domElement;a(2*Math.PI*X.x/e.clientWidth*I.rotateSpeed),o(2*Math.PI*X.y/e.clientHeight*I.rotateSpeed),Y.copy(q),I.update()}function f(t){$.set(t.clientX,t.clientY),tt.subVectors($,Q),tt.y>0?s(i()):tt.y<0&&l(i()),Q.copy($),I.update()}function p(t){K.set(t.clientX,t.clientY),J.subVectors(K,Z),rt(J.x,J.y),Z.copy(K),I.update()}function m(t){}function g(t){t.deltaY<0?l(i()):t.deltaY>0&&s(i()),I.update()}function v(t){switch(t.keyCode){case I.keys.UP:rt(0,I.keyPanSpeed),I.update();break;case I.keys.BOTTOM:rt(0,-I.keyPanSpeed),I.update();break;case I.keys.LEFT:rt(I.keyPanSpeed,0),I.update();break;case I.keys.RIGHT:rt(-I.keyPanSpeed,0),I.update()}}function y(t){Y.set(t.touches[0].pageX,t.touches[0].pageY)}function b(t){var e=t.touches[0].pageX-t.touches[1].pageX,n=t.touches[0].pageY-t.touches[1].pageY,r=Math.sqrt(e*e+n*n);Q.set(0,r)}function x(t){Z.set(t.touches[0].pageX,t.touches[0].pageY)}function _(t){q.set(t.touches[0].pageX,t.touches[0].pageY),X.subVectors(q,Y);var e=I.domElement===document?I.domElement.body:I.domElement;a(2*Math.PI*X.x/e.clientWidth*I.rotateSpeed),o(2*Math.PI*X.y/e.clientHeight*I.rotateSpeed),Y.copy(q),I.update()}function w(t){var e=t.touches[0].pageX-t.touches[1].pageX,n=t.touches[0].pageY-t.touches[1].pageY,r=Math.sqrt(e*e+n*n);$.set(0,r),tt.subVectors($,Q),tt.y>0?l(i()):tt.y<0&&s(i()),Q.copy($),I.update()}function M(t){K.set(t.touches[0].pageX,t.touches[0].pageY),J.subVectors(K,Z),rt(J.x,J.y),Z.copy(K),I.update()}function S(t){}function E(t){if(!1!==I.enabled){if(t.preventDefault(),t.button===I.mouseButtons.ORBIT){if(!1===I.enableRotate)return;u(t),F=B.ROTATE}else if(t.button===I.mouseButtons.ZOOM){if(!1===I.enableZoom)return;c(t),F=B.DOLLY}else if(t.button===I.mouseButtons.PAN){if(!1===I.enablePan)return;h(t),F=B.PAN}F!==B.NONE&&(document.addEventListener("mousemove",k,!1),document.addEventListener("mouseup",T,!1),I.dispatchEvent(N))}}function k(t){if(!1!==I.enabled)if(t.preventDefault(),F===B.ROTATE){if(!1===I.enableRotate)return;d(t)}else if(F===B.DOLLY){if(!1===I.enableZoom)return;f(t)}else if(F===B.PAN){if(!1===I.enablePan)return;p(t)}}function T(t){!1!==I.enabled&&(m(t),document.removeEventListener("mousemove",k,!1),document.removeEventListener("mouseup",T,!1),I.dispatchEvent(z),F=B.NONE)}function C(t){!1===I.enabled||!1===I.enableZoom||F!==B.NONE&&F!==B.ROTATE||(t.preventDefault(),t.stopPropagation(),g(t),I.dispatchEvent(N),I.dispatchEvent(z))}function P(t){!1!==I.enabled&&!1!==I.enableKeys&&!1!==I.enablePan&&v(t)}function O(t){if(!1!==I.enabled){switch(t.touches.length){case 1:if(!1===I.enableRotate)return;y(t),F=B.TOUCH_ROTATE;break;case 2:if(!1===I.enableZoom)return;b(t),F=B.TOUCH_DOLLY;break;case 3:if(!1===I.enablePan)return;x(t),F=B.TOUCH_PAN;break;default:F=B.NONE}F!==B.NONE&&I.dispatchEvent(N)}}function A(t){if(!1!==I.enabled)switch(t.preventDefault(),t.stopPropagation(),t.touches.length){case 1:if(!1===I.enableRotate)return;if(F!==B.TOUCH_ROTATE)return;_(t);break;case 2:if(!1===I.enableZoom)return;if(F!==B.TOUCH_DOLLY)return;w(t);break;case 3:if(!1===I.enablePan)return;if(F!==B.TOUCH_PAN)return;M(t);break;default:F=B.NONE}}function R(t){!1!==I.enabled&&(S(t),I.dispatchEvent(z),F=B.NONE)}function L(t){t.preventDefault()}this.object=t,this.domElement=void 0!==e?e:document,this.enabled=!0,this.target=new r.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:r.MOUSE.LEFT,ZOOM:r.MOUSE.MIDDLE,PAN:r.MOUSE.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return j.phi},this.getAzimuthalAngle=function(){return j.theta},this.reset=function(){I.target.copy(I.target0),I.object.position.copy(I.position0),I.object.zoom=I.zoom0,I.object.updateProjectionMatrix(),I.dispatchEvent(D),I.update(),F=B.NONE},this.update=function(){var e=new r.Vector3,i=(new r.Quaternion).setFromUnitVectors(t.up,new r.Vector3(0,1,0)),o=i.clone().inverse(),s=new r.Vector3,l=new r.Quaternion;return function(){var t=I.object.position;return e.copy(t).sub(I.target),e.applyQuaternion(i),j.setFromVector3(e),I.autoRotate&&F===B.NONE&&a(n()),j.theta+=W.theta,j.phi+=W.phi,j.theta=Math.max(I.minAzimuthAngle,Math.min(I.maxAzimuthAngle,j.theta)),j.phi=Math.max(I.minPolarAngle,Math.min(I.maxPolarAngle,j.phi)),j.makeSafe(),j.radius*=G,j.radius=Math.max(I.minDistance,Math.min(I.maxDistance,j.radius)),I.target.add(V),e.setFromSpherical(j),e.applyQuaternion(o),t.copy(I.target).add(e),I.object.lookAt(I.target),!0===I.enableDamping?(W.theta*=1-I.dampingFactor,W.phi*=1-I.dampingFactor):W.set(0,0,0),G=1,V.set(0,0,0),!!(H||s.distanceToSquared(I.object.position)>U||8*(1-l.dot(I.object.quaternion))>U)&&(I.dispatchEvent(D),s.copy(I.object.position),l.copy(I.object.quaternion),H=!1,!0)}}(),this.dispose=function(){I.domElement.removeEventListener("contextmenu",L,!1),I.domElement.removeEventListener("mousedown",E,!1),I.domElement.removeEventListener("wheel",C,!1),I.domElement.removeEventListener("touchstart",O,!1),I.domElement.removeEventListener("touchend",R,!1),I.domElement.removeEventListener("touchmove",A,!1),document.removeEventListener("mousemove",k,!1),document.removeEventListener("mouseup",T,!1),window.removeEventListener("keydown",P,!1)};var I=this,D={type:"change"},N={type:"start"},z={type:"end"},B={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},F=B.NONE,U=1e-6,j=new r.Spherical,W=new r.Spherical,G=1,V=new r.Vector3,H=!1,Y=new r.Vector2,q=new r.Vector2,X=new r.Vector2,Z=new r.Vector2,K=new r.Vector2,J=new r.Vector2,Q=new r.Vector2,$=new r.Vector2,tt=new r.Vector2,et=function(){var t=new r.Vector3;return function(e,n){t.setFromMatrixColumn(n,0),t.multiplyScalar(-e),V.add(t)}}(),nt=function(){var t=new r.Vector3;return function(e,n){t.setFromMatrixColumn(n,1),t.multiplyScalar(e),V.add(t)}}(),rt=function(){var t=new r.Vector3;return function(e,n){var i=I.domElement===document?I.domElement.body:I.domElement;if(I.object instanceof r.PerspectiveCamera){var a=I.object.position;t.copy(a).sub(I.target);var o=t.length();o*=Math.tan(I.object.fov/2*Math.PI/180),et(2*e*o/i.clientHeight,I.object.matrix),nt(2*n*o/i.clientHeight,I.object.matrix)}else I.object instanceof r.OrthographicCamera?(et(e*(I.object.right-I.object.left)/I.object.zoom/i.clientWidth,I.object.matrix),nt(n*(I.object.top-I.object.bottom)/I.object.zoom/i.clientHeight,I.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),I.enablePan=!1)}}();I.domElement.addEventListener("contextmenu",L,!1),I.domElement.addEventListener("mousedown",E,!1),I.domElement.addEventListener("wheel",C,!1),I.domElement.addEventListener("touchstart",O,!1),I.domElement.addEventListener("touchend",R,!1),I.domElement.addEventListener("touchmove",A,!1),window.addEventListener("keydown",P,!1),this.update()},r.OrbitControls.prototype=Object.create(r.EventDispatcher.prototype),r.OrbitControls.prototype.constructor=r.OrbitControls,Object.defineProperties(r.OrbitControls.prototype,{center:{get:function(){return console.warn("THREE.OrbitControls: .center has been renamed to .target"),this.target}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(t){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!t}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(t){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!t}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(t){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!t}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(t){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!t}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(t){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!t}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(t){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=t}}})},function(t,e,n){var r=n(12);r.MTLLoader=function(t){this.manager=void 0!==t?t:r.DefaultLoadingManager},r.MTLLoader.prototype={constructor:r.MTLLoader,load:function(t,e,n,i){var a=this,o=new r.FileLoader(this.manager);o.setPath(this.path),o.load(t,function(t){e(a.parse(t))},n,i)},setPath:function(t){this.path=t},setTexturePath:function(t){this.texturePath=t},setBaseUrl:function(t){console.warn("THREE.MTLLoader: .setBaseUrl() is deprecated. Use .setTexturePath( path ) for texture path or .setPath( path ) for general base path instead."),this.setTexturePath(t)},setCrossOrigin:function(t){this.crossOrigin=t},setMaterialOptions:function(t){this.materialOptions=t},parse:function(t){for(var e=t.split("\n"),n={},i=/\s+/,a={},o=0;o<e.length;o++){var s=e[o];if(s=s.trim(),0!==s.length&&"#"!==s.charAt(0)){var l=s.indexOf(" "),u=l>=0?s.substring(0,l):s;u=u.toLowerCase();var c=l>=0?s.substring(l+1):"";if(c=c.trim(),"newmtl"===u)n={name:c},a[c]=n;else if(n)if("ka"===u||"kd"===u||"ks"===u){var h=c.split(i,3);n[u]=[parseFloat(h[0]),parseFloat(h[1]),parseFloat(h[2])]}else n[u]=c}}var d=new r.MTLLoader.MaterialCreator(this.texturePath||this.path,this.materialOptions);return d.setCrossOrigin(this.crossOrigin),d.setManager(this.manager),d.setMaterials(a),d}},r.MTLLoader.MaterialCreator=function(t,e){this.baseUrl=t||"",this.options=e,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.side=this.options&&this.options.side?this.options.side:r.FrontSide,this.wrap=this.options&&this.options.wrap?this.options.wrap:r.RepeatWrapping},r.MTLLoader.MaterialCreator.prototype={constructor:r.MTLLoader.MaterialCreator,setCrossOrigin:function(t){this.crossOrigin=t},setManager:function(t){this.manager=t},setMaterials:function(t){this.materialsInfo=this.convert(t),this.materials={},this.materialsArray=[],this.nameLookup={}},convert:function(t){if(!this.options)return t;var e={};for(var n in t){var r=t[n],i={};e[n]=i;for(var a in r){var o=!0,s=r[a],l=a.toLowerCase();switch(l){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(s=[s[0]/255,s[1]/255,s[2]/255]),this.options&&this.options.ignoreZeroRGBs&&0===s[0]&&0===s[1]&&0===s[2]&&(o=!1)}o&&(i[l]=s)}}return e},preload:function(){for(var t in this.materialsInfo)this.create(t)},getIndex:function(t){return this.nameLookup[t]},getAsArray:function(){var t=0;for(var e in this.materialsInfo)this.materialsArray[t]=this.create(e),this.nameLookup[e]=t,t++;return this.materialsArray},create:function(t){return void 0===this.materials[t]&&this.createMaterial_(t),this.materials[t]},createMaterial_:function(t){function e(t,e){return"string"!=typeof e||""===e?"":/^https?:\/\//i.test(e)?e:t+e}function n(t,n){if(!o[t]){var r=i.getTextureParams(n,o),a=i.loadTexture(e(i.baseUrl,r.url));a.repeat.copy(r.scale),a.offset.copy(r.offset),a.wrapS=i.wrap,a.wrapT=i.wrap,o[t]=a}}var i=this,a=this.materialsInfo[t],o={name:t,side:this.side};for(var s in a){var l=a[s];if(""!==l)switch(s.toLowerCase()){case"kd":o.color=(new r.Color).fromArray(l);break;case"ks":o.specular=(new r.Color).fromArray(l);break;case"map_kd":n("map",l);break;case"map_ks":n("specularMap",l);break;case"map_bump":case"bump":n("bumpMap",l);break;case"ns":o.shininess=parseFloat(l);break;case"d":l<1&&(o.opacity=l,o.transparent=!0);break;case"Tr":l>0&&(o.opacity=1-l,o.transparent=!0)}}return this.materials[t]=new r.MeshPhongMaterial(o),this.materials[t]},getTextureParams:function(t,e){var n,i={scale:new r.Vector2(1,1),offset:new r.Vector2(0,0)},a=t.split(/\s+/);return n=a.indexOf("-bm"),n>=0&&(e.bumpScale=parseFloat(a[n+1]),a.splice(n,2)),n=a.indexOf("-s"),n>=0&&(i.scale.set(parseFloat(a[n+1]),parseFloat(a[n+2])),a.splice(n,4)),n=a.indexOf("-o"),n>=0&&(i.offset.set(parseFloat(a[n+1]),parseFloat(a[n+2])),a.splice(n,4)),i.url=a.join(" ").trim(),i},loadTexture:function(t,e,n,i,a){var o,s=r.Loader.Handlers.get(t),l=void 0!==this.manager?this.manager:r.DefaultLoadingManager;return null===s&&(s=new r.TextureLoader(l)),s.setCrossOrigin&&s.setCrossOrigin(this.crossOrigin),o=s.load(t,n,i,a),void 0!==e&&(o.mapping=e),o}}},function(t,e,n){var r=n(12);r.OBJLoader=function(t){this.manager=void 0!==t?t:r.DefaultLoadingManager,this.materials=null,this.regexp={vertex_pattern:/^v\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,normal_pattern:/^vn\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,uv_pattern:/^vt\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,face_vertex:/^f\s+(-?\d+)\s+(-?\d+)\s+(-?\d+)(?:\s+(-?\d+))?/,face_vertex_uv:/^f\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+))?/,face_vertex_uv_normal:/^f\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+)\/(-?\d+))?/,face_vertex_normal:/^f\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)(?:\s+(-?\d+)\/\/(-?\d+))?/,object_pattern:/^[og]\s*(.+)?/,smoothing_pattern:/^s\s+(\d+|on|off)/,material_library_pattern:/^mtllib /,material_use_pattern:/^usemtl /}},r.OBJLoader.prototype={constructor:r.OBJLoader,load:function(t,e,n,i){var a=this,o=new r.FileLoader(a.manager);o.setPath(this.path),o.load(t,function(t){e(a.parse(t))},n,i)},setPath:function(t){this.path=t},setMaterials:function(t){this.materials=t},_createParserState:function(){var t={objects:[],object:{},vertices:[],normals:[],uvs:[],materialLibraries:[],startObject:function(t,e){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=t,void(this.object.fromDeclaration=!1!==e);var n=this.object&&"function"==typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0),this.object={name:t||"",fromDeclaration:!1!==e,geometry:{vertices:[],normals:[],uvs:[]},materials:[],smooth:!0,startMaterial:function(t,e){var n=this._finalize(!1);n&&(n.inherited||n.groupCount<=0)&&this.materials.splice(n.index,1);var r={index:this.materials.length,name:t||"",mtllib:Array.isArray(e)&&e.length>0?e[e.length-1]:"",smooth:void 0!==n?n.smooth:this.smooth,groupStart:void 0!==n?n.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(t){var e={index:"number"==typeof t?t:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return e.clone=this.clone.bind(e),e}};return this.materials.push(r),r},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(t){var e=this.currentMaterial();if(e&&-1===e.groupEnd&&(e.groupEnd=this.geometry.vertices.length/3,e.groupCount=e.groupEnd-e.groupStart,e.inherited=!1),t&&this.materials.length>1)for(var n=this.materials.length-1;n>=0;n--)this.materials[n].groupCount<=0&&this.materials.splice(n,1);return t&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),e}},n&&n.name&&"function"==typeof n.clone){var r=n.clone(0);r.inherited=!0,this.object.materials.push(r)}this.objects.push(this.object)},finalize:function(){this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(t,e){var n=parseInt(t,10);return 3*(n>=0?n-1:n+e/3)},parseNormalIndex:function(t,e){var n=parseInt(t,10);return 3*(n>=0?n-1:n+e/3)},parseUVIndex:function(t,e){var n=parseInt(t,10);return 2*(n>=0?n-1:n+e/2)},addVertex:function(t,e,n){var r=this.vertices,i=this.object.geometry.vertices;i.push(r[t+0]),i.push(r[t+1]),i.push(r[t+2]),i.push(r[e+0]),i.push(r[e+1]),i.push(r[e+2]),i.push(r[n+0]),i.push(r[n+1]),i.push(r[n+2])},addVertexLine:function(t){var e=this.vertices,n=this.object.geometry.vertices;n.push(e[t+0]),n.push(e[t+1]),n.push(e[t+2])},addNormal:function(t,e,n){var r=this.normals,i=this.object.geometry.normals;i.push(r[t+0]),i.push(r[t+1]),i.push(r[t+2]),i.push(r[e+0]),i.push(r[e+1]),i.push(r[e+2]),i.push(r[n+0]),i.push(r[n+1]),i.push(r[n+2])},addUV:function(t,e,n){var r=this.uvs,i=this.object.geometry.uvs;i.push(r[t+0]),i.push(r[t+1]),i.push(r[e+0]),i.push(r[e+1]),i.push(r[n+0]),i.push(r[n+1])},addUVLine:function(t){var e=this.uvs,n=this.object.geometry.uvs;n.push(e[t+0]),n.push(e[t+1])},addFace:function(t,e,n,r,i,a,o,s,l,u,c,h){var d,f=this.vertices.length,p=this.parseVertexIndex(t,f),m=this.parseVertexIndex(e,f),g=this.parseVertexIndex(n,f);if(void 0===r?this.addVertex(p,m,g):(d=this.parseVertexIndex(r,f),this.addVertex(p,m,d),this.addVertex(m,g,d)),void 0!==i){var v=this.uvs.length;p=this.parseUVIndex(i,v),m=this.parseUVIndex(a,v),g=this.parseUVIndex(o,v),void 0===r?this.addUV(p,m,g):(d=this.parseUVIndex(s,v),this.addUV(p,m,d),this.addUV(m,g,d))}if(void 0!==l){var y=this.normals.length;p=this.parseNormalIndex(l,y),m=l===u?p:this.parseNormalIndex(u,y),g=l===c?p:this.parseNormalIndex(c,y),void 0===r?this.addNormal(p,m,g):(d=this.parseNormalIndex(h,y),this.addNormal(p,m,d),this.addNormal(m,g,d))}},addLineGeometry:function(t,e){this.object.geometry.type="Line";for(var n=this.vertices.length,r=this.uvs.length,i=0,a=t.length;i<a;i++)this.addVertexLine(this.parseVertexIndex(t[i],n));for(var o=0,a=e.length;o<a;o++)this.addUVLine(this.parseUVIndex(e[o],r))}};return t.startObject("",!1),t},parse:function(t){console.time("OBJLoader");var e=this._createParserState();-1!==t.indexOf("\r\n")&&(t=t.replace(/\r\n/g,"\n")),-1!==t.indexOf("\\\n")&&(t=t.replace(/\\\n/g,""));for(var n=t.split("\n"),i="",a="",o="",s=[],l="function"==typeof"".trimLeft,u=0,c=n.length;u<c;u++)if(i=n[u],i=l?i.trimLeft():i.trim(),0!==i.length&&"#"!==(a=i.charAt(0)))if("v"===a)if(" "===(o=i.charAt(1))&&null!==(s=this.regexp.vertex_pattern.exec(i)))e.vertices.push(parseFloat(s[1]),parseFloat(s[2]),parseFloat(s[3]));else if("n"===o&&null!==(s=this.regexp.normal_pattern.exec(i)))e.normals.push(parseFloat(s[1]),parseFloat(s[2]),parseFloat(s[3]));else{if("t"!==o||null===(s=this.regexp.uv_pattern.exec(i)))throw new Error("Unexpected vertex/normal/uv line: '"+i+"'");e.uvs.push(parseFloat(s[1]),parseFloat(s[2]))}else if("f"===a)if(null!==(s=this.regexp.face_vertex_uv_normal.exec(i)))e.addFace(s[1],s[4],s[7],s[10],s[2],s[5],s[8],s[11],s[3],s[6],s[9],s[12]);else if(null!==(s=this.regexp.face_vertex_uv.exec(i)))e.addFace(s[1],s[3],s[5],s[7],s[2],s[4],s[6],s[8]);else if(null!==(s=this.regexp.face_vertex_normal.exec(i)))e.addFace(s[1],s[3],s[5],s[7],void 0,void 0,void 0,void 0,s[2],s[4],s[6],s[8]);else{if(null===(s=this.regexp.face_vertex.exec(i)))throw new Error("Unexpected face line: '"+i+"'");e.addFace(s[1],s[2],s[3],s[4])}else if("l"===a){var h=i.substring(1).trim().split(" "),d=[],f=[];if(-1===i.indexOf("/"))d=h;else for(var p=0,m=h.length;p<m;p++){var g=h[p].split("/");""!==g[0]&&d.push(g[0]),""!==g[1]&&f.push(g[1])}e.addLineGeometry(d,f)}else if(null!==(s=this.regexp.object_pattern.exec(i))){var v=(" "+s[0].substr(1).trim()).substr(1);e.startObject(v)}else if(this.regexp.material_use_pattern.test(i))e.object.startMaterial(i.substring(7).trim(),e.materialLibraries);else if(this.regexp.material_library_pattern.test(i))e.materialLibraries.push(i.substring(7).trim());else{if(null===(s=this.regexp.smoothing_pattern.exec(i))){if("\0"===i)continue;throw new Error("Unexpected line: '"+i+"'")}var y=s[1].trim().toLowerCase();e.object.smooth="1"===y||"on"===y;var b=e.object.currentMaterial();b&&(b.smooth=e.object.smooth)}e.finalize();var x=new r.Group;x.materialLibraries=[].concat(e.materialLibraries);for(var u=0,c=e.objects.length;u<c;u++){var _=e.objects[u],w=_.geometry,M=_.materials,S="Line"===w.type;if(0!==w.vertices.length){var E=new r.BufferGeometry;E.addAttribute("position",new r.BufferAttribute(new Float32Array(w.vertices),3)),w.normals.length>0?E.addAttribute("normal",new r.BufferAttribute(new Float32Array(w.normals),3)):E.computeVertexNormals(),w.uvs.length>0&&E.addAttribute("uv",new r.BufferAttribute(new Float32Array(w.uvs),2));for(var k=[],T=0,C=M.length;T<C;T++){var P=M[T],b=void 0;if(null!==this.materials&&(b=this.materials.create(P.name),S&&b&&!(b instanceof r.LineBasicMaterial))){var O=new r.LineBasicMaterial;O.copy(b),b=O}b||(b=S?new r.LineBasicMaterial:new r.MeshPhongMaterial,b.name=P.name),b.shading=P.smooth?r.SmoothShading:r.FlatShading,k.push(b)}var A;if(k.length>1){for(var T=0,C=M.length;T<C;T++){var P=M[T];E.addGroup(P.groupStart,P.groupCount,T)}var R=new r.MultiMaterial(k);A=S?new r.LineSegments(E,R):new r.Mesh(E,R)}else A=S?new r.LineSegments(E,k[0]):new r.Mesh(E,k[0]);A.name=_.name,x.add(A)}}return console.timeEnd("OBJLoader"),x}}},function(t,e,n){var r=n(12),r=n(12);r.OrbitControls=function(t,e){function n(){return 2*Math.PI/60/60*I.autoRotateSpeed}function i(){return Math.pow(.95,I.zoomSpeed)}function a(t){W.theta-=t}function o(t){W.phi-=t}function s(t){I.object instanceof r.PerspectiveCamera?G/=t:I.object instanceof r.OrthographicCamera?(I.object.zoom=Math.max(I.minZoom,Math.min(I.maxZoom,I.object.zoom*t)),I.object.updateProjectionMatrix(),H=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),I.enableZoom=!1)}function l(t){I.object instanceof r.PerspectiveCamera?G*=t:I.object instanceof r.OrthographicCamera?(I.object.zoom=Math.max(I.minZoom,Math.min(I.maxZoom,I.object.zoom/t)),I.object.updateProjectionMatrix(),H=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),I.enableZoom=!1)}function u(t){Y.set(t.clientX,t.clientY)}function c(t){Q.set(t.clientX,t.clientY)}function h(t){Z.set(t.clientX,t.clientY)}function d(t){q.set(t.clientX,t.clientY),X.subVectors(q,Y);var e=I.domElement===document?I.domElement.body:I.domElement;a(2*Math.PI*X.x/e.clientWidth*I.rotateSpeed),o(2*Math.PI*X.y/e.clientHeight*I.rotateSpeed),Y.copy(q),I.update()}function f(t){$.set(t.clientX,t.clientY),tt.subVectors($,Q),tt.y>0?s(i()):tt.y<0&&l(i()),Q.copy($),I.update()}function p(t){K.set(t.clientX,t.clientY),J.subVectors(K,Z),rt(J.x,J.y),Z.copy(K),I.update()}function m(t){}function g(t){t.deltaY<0?l(i()):t.deltaY>0&&s(i()),I.update()}function v(t){switch(t.keyCode){case I.keys.UP:rt(0,I.keyPanSpeed),I.update();break;case I.keys.BOTTOM:rt(0,-I.keyPanSpeed),I.update();break;case I.keys.LEFT:rt(I.keyPanSpeed,0),I.update();break;case I.keys.RIGHT:rt(-I.keyPanSpeed,0),I.update()}}function y(t){Y.set(t.touches[0].pageX,t.touches[0].pageY)}function b(t){var e=t.touches[0].pageX-t.touches[1].pageX,n=t.touches[0].pageY-t.touches[1].pageY,r=Math.sqrt(e*e+n*n);Q.set(0,r)}function x(t){Z.set(t.touches[0].pageX,t.touches[0].pageY)}function _(t){q.set(t.touches[0].pageX,t.touches[0].pageY),X.subVectors(q,Y);var e=I.domElement===document?I.domElement.body:I.domElement;a(2*Math.PI*X.x/e.clientWidth*I.rotateSpeed),o(2*Math.PI*X.y/e.clientHeight*I.rotateSpeed),Y.copy(q),I.update()}function w(t){var e=t.touches[0].pageX-t.touches[1].pageX,n=t.touches[0].pageY-t.touches[1].pageY,r=Math.sqrt(e*e+n*n);$.set(0,r),tt.subVectors($,Q),tt.y>0?l(i()):tt.y<0&&s(i()),Q.copy($),I.update()}function M(t){K.set(t.touches[0].pageX,t.touches[0].pageY),J.subVectors(K,Z),rt(J.x,J.y),Z.copy(K),I.update()}function S(t){}function E(t){if(!1!==I.enabled){if(t.preventDefault(),t.button===I.mouseButtons.ORBIT){if(!1===I.enableRotate)return;u(t),F=B.ROTATE}else if(t.button===I.mouseButtons.ZOOM){if(!1===I.enableZoom)return;c(t),F=B.DOLLY}else if(t.button===I.mouseButtons.PAN){if(!1===I.enablePan)return;h(t),F=B.PAN}F!==B.NONE&&(document.addEventListener("mousemove",k,!1),document.addEventListener("mouseup",T,!1),I.dispatchEvent(N))}}function k(t){if(!1!==I.enabled)if(t.preventDefault(),F===B.ROTATE){if(!1===I.enableRotate)return;d(t)}else if(F===B.DOLLY){if(!1===I.enableZoom)return;f(t)}else if(F===B.PAN){if(!1===I.enablePan)return;p(t)}}function T(t){!1!==I.enabled&&(m(t),document.removeEventListener("mousemove",k,!1),document.removeEventListener("mouseup",T,!1),I.dispatchEvent(z),F=B.NONE)}function C(t){!1===I.enabled||!1===I.enableZoom||F!==B.NONE&&F!==B.ROTATE||(t.preventDefault(),t.stopPropagation(),g(t),I.dispatchEvent(N),I.dispatchEvent(z))}function P(t){!1!==I.enabled&&!1!==I.enableKeys&&!1!==I.enablePan&&v(t)}function O(t){if(!1!==I.enabled){switch(t.touches.length){case 1:if(!1===I.enableRotate)return;y(t),F=B.TOUCH_ROTATE;break;case 2:if(!1===I.enableZoom)return;b(t),F=B.TOUCH_DOLLY;break;case 3:if(!1===I.enablePan)return;x(t),F=B.TOUCH_PAN;break;default:F=B.NONE}F!==B.NONE&&I.dispatchEvent(N)}}function A(t){if(!1!==I.enabled)switch(t.preventDefault(),t.stopPropagation(),t.touches.length){case 1:if(!1===I.enableRotate)return;if(F!==B.TOUCH_ROTATE)return;_(t);break;case 2:if(!1===I.enableZoom)return;if(F!==B.TOUCH_DOLLY)return;w(t);break;case 3:if(!1===I.enablePan)return;if(F!==B.TOUCH_PAN)return;M(t);break;default:F=B.NONE}}function R(t){!1!==I.enabled&&(S(t),I.dispatchEvent(z),F=B.NONE)}function L(t){t.preventDefault()}this.object=t,this.domElement=void 0!==e?e:document,this.enabled=!0,this.target=new r.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:r.MOUSE.LEFT,ZOOM:r.MOUSE.MIDDLE,PAN:r.MOUSE.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return j.phi},this.getAzimuthalAngle=function(){return j.theta},this.reset=function(){I.target.copy(I.target0),I.object.position.copy(I.position0),I.object.zoom=I.zoom0,I.object.updateProjectionMatrix(),I.dispatchEvent(D),I.update(),F=B.NONE},this.update=function(){var e=new r.Vector3,i=(new r.Quaternion).setFromUnitVectors(t.up,new r.Vector3(0,1,0)),o=i.clone().inverse(),s=new r.Vector3,l=new r.Quaternion;return function(){var t=I.object.position;return e.copy(t).sub(I.target),e.applyQuaternion(i),j.setFromVector3(e),I.autoRotate&&F===B.NONE&&a(n()),j.theta+=W.theta,j.phi+=W.phi,j.theta=Math.max(I.minAzimuthAngle,Math.min(I.maxAzimuthAngle,j.theta)),j.phi=Math.max(I.minPolarAngle,Math.min(I.maxPolarAngle,j.phi)),j.makeSafe(),j.radius*=G,j.radius=Math.max(I.minDistance,Math.min(I.maxDistance,j.radius)),I.target.add(V),e.setFromSpherical(j),e.applyQuaternion(o),t.copy(I.target).add(e),I.object.lookAt(I.target),!0===I.enableDamping?(W.theta*=1-I.dampingFactor,W.phi*=1-I.dampingFactor):W.set(0,0,0),G=1,V.set(0,0,0),!!(H||s.distanceToSquared(I.object.position)>U||8*(1-l.dot(I.object.quaternion))>U)&&(I.dispatchEvent(D),s.copy(I.object.position),l.copy(I.object.quaternion),H=!1,!0)}}(),this.dispose=function(){I.domElement.removeEventListener("contextmenu",L,!1),I.domElement.removeEventListener("mousedown",E,!1),I.domElement.removeEventListener("wheel",C,!1),I.domElement.removeEventListener("touchstart",O,!1),I.domElement.removeEventListener("touchend",R,!1),I.domElement.removeEventListener("touchmove",A,!1),document.removeEventListener("mousemove",k,!1),document.removeEventListener("mouseup",T,!1),window.removeEventListener("keydown",P,!1)};var I=this,D={type:"change"},N={type:"start"},z={type:"end"},B={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},F=B.NONE,U=1e-6,j=new r.Spherical,W=new r.Spherical,G=1,V=new r.Vector3,H=!1,Y=new r.Vector2,q=new r.Vector2,X=new r.Vector2,Z=new r.Vector2,K=new r.Vector2,J=new r.Vector2,Q=new r.Vector2,$=new r.Vector2,tt=new r.Vector2,et=function(){var t=new r.Vector3;return function(e,n){t.setFromMatrixColumn(n,0),t.multiplyScalar(-e),V.add(t)}}(),nt=function(){var t=new r.Vector3;return function(e,n){t.setFromMatrixColumn(n,1),t.multiplyScalar(e),V.add(t)}}(),rt=function(){var t=new r.Vector3;return function(e,n){var i=I.domElement===document?I.domElement.body:I.domElement;if(I.object instanceof r.PerspectiveCamera){var a=I.object.position;t.copy(a).sub(I.target);var o=t.length();o*=Math.tan(I.object.fov/2*Math.PI/180),et(2*e*o/i.clientHeight,I.object.matrix),nt(2*n*o/i.clientHeight,I.object.matrix)}else I.object instanceof r.OrthographicCamera?(et(e*(I.object.right-I.object.left)/I.object.zoom/i.clientWidth,I.object.matrix),nt(n*(I.object.top-I.object.bottom)/I.object.zoom/i.clientHeight,I.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),I.enablePan=!1)}}();I.domElement.addEventListener("contextmenu",L,!1),I.domElement.addEventListener("mousedown",E,!1),I.domElement.addEventListener("wheel",C,!1),I.domElement.addEventListener("touchstart",O,!1),I.domElement.addEventListener("touchend",R,!1),I.domElement.addEventListener("touchmove",A,!1),window.addEventListener("keydown",P,!1),this.update()},r.OrbitControls.prototype=Object.create(r.EventDispatcher.prototype),r.OrbitControls.prototype.constructor=r.OrbitControls,Object.defineProperties(r.OrbitControls.prototype,{center:{get:function(){return console.warn("THREE.OrbitControls: .center has been renamed to .target"),this.target}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(t){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!t}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(t){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!t}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(t){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!t}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(t){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!t}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(t){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!t}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(t){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=t}}})},function(t,e){t.exports={trajectoryGraph:{title:"Trajectory",options:{legend:{display:!0},axes:{x:{labelString:"x (m)"},y:{labelString:"y (m)"}}},properties:{lines:{pose:{color:"rgba(0, 255, 0, 1)",borderWidth:0,pointRadius:0,specialMarker:"car"},real:{color:"rgba(0, 106, 255, 1)",borderWidth:2,pointRadius:0,fill:!1,showLine:"ture"},steerCurve:{color:"rgba(255, 206, 86, 1)",borderWidth:1,pointRadius:0,fill:!1,showLine:!0},plan:{color:"rgba(1, 209, 193, 0.65)",borderWidth:3,pointRadius:0,fill:!1,showLine:!0},target:{color:"rgba(180, 255, 180, 0.7)",borderWidth:3,pointRadius:0,fill:!1,showLine:!0},autoModeZone:{color:"rgba(224, 224, 224, 0.15)",borderWidth:0,pointRadius:4,fill:!1,showLine:!0}}}},speedGraph:{title:"Speed",options:{legend:{display:!0},axes:{x:{labelString:"t (second)"},y:{labelString:"speed (m/s)"}}},properties:{lines:{real:{color:"rgba(0, 106, 255, 1)",borderWidth:2,pointRadius:0,fill:!1,showLine:"ture"},plan:{color:"rgba(1, 209, 193, 0.65)",borderWidth:3,pointRadius:0,fill:!1,showLine:!0},target:{color:"rgba(180, 255, 180, 0.7)",borderWidth:3,pointRadius:0,fill:!1,showLine:!0},autoModeZone:{color:"rgba(224, 224, 224, 0.15)",borderWidth:0,pointRadius:4,fill:!1,showLine:!0}}}},curvatureGraph:{title:"Curvature",options:{legend:{display:!0},axes:{x:{labelString:"t (second)"},y:{labelString:"Curvature (m-1)"}}},properties:{lines:{real:{color:"rgba(0, 106, 255, 1)",borderWidth:2,pointRadius:0,fill:!1,showLine:"ture"},plan:{color:"rgba(1, 209, 193, 0.65)",borderWidth:3,pointRadius:0,fill:!1,showLine:!0},target:{color:"rgba(180, 255, 180, 0.7)",borderWidth:3,pointRadius:0,fill:!1,showLine:!0},autoModeZone:{color:"rgba(224, 224, 224, 0.15)",borderWidth:0,pointRadius:4,fill:!1,showLine:!0}}}},accelerationGraph:{title:"Acceleration",options:{legend:{display:!0},axes:{x:{labelString:"t (second)"},y:{labelString:"acceleration (m/s^2)"}}},properties:{lines:{real:{color:"rgba(0, 106, 255, 1)",borderWidth:2,pointRadius:0,fill:!1,showLine:"ture"},plan:{color:"rgba(1, 209, 193, 0.65)",borderWidth:3,pointRadius:0,fill:!1,showLine:!0},target:{color:"rgba(180, 255, 180, 0.7)",borderWidth:3,pointRadius:0,fill:!1,showLine:!0},autoModeZone:{color:"rgba(224, 224, 224, 0.15)",borderWidth:0,pointRadius:4,fill:!1,showLine:!0}}}},stationErrorGraph:{title:"Station Error",options:{legend:{display:!1},axes:{x:{labelString:"t (second)"},y:{labelString:"error (m)"}}},properties:{lines:{error:{color:"rgba(0, 106, 255, 1)",borderWidth:2,pointRadius:0,fill:!1,showLine:"ture"}}}},lateralErrorGraph:{title:"Lateral Error",options:{legend:{display:!1},axes:{x:{labelString:"t (second)"},y:{labelString:"error (m)"}}},properties:{lines:{error:{color:"rgba(0, 106, 255, 1)",borderWidth:2,pointRadius:0,fill:!1,showLine:"ture"}}}},headingErrorGraph:{title:"Heading Error",options:{legend:{display:!1},axes:{x:{labelString:"t (second)"},y:{labelString:"error (rad)"}}},properties:{lines:{error:{color:"rgba(0, 106, 255, 1)",borderWidth:2,pointRadius:0,fill:!1,showLine:"ture"}}}}}},function(t,e){t.exports={slGraph:{title:"QP Path - sl graph",options:{legend:{display:!1},axes:{x:{min:0,max:200,labelString:"s - ref_line (m)"},y:{min:-5,max:5,labelString:"l (m)"}}},properties:{lines:{aggregatedBoundaryLow:{color:"rgba(48, 165, 255, 1)",borderWidth:2,pointRadius:0,fill:!1,showLine:!0},aggregatedBoundaryHigh:{color:"rgba(48, 165, 255, 1)",borderWidth:2,pointRadius:0,lineTension:0,fill:!1,showLine:!0},pathLine:{color:"rgba(225, 225, 225, 0.7)",borderWidth:2,pointRadius:.5,fill:!1,showLine:!1},mapLowerBound:{color:"rgba(54, 162, 235, 0.4)",borderWidth:2,pointRadius:0,fill:"start",showLine:!0},mapUpperBound:{color:"rgba(54, 162, 235, 0.4)",borderWidth:2,pointRadius:0,fill:"end",showLine:!0},staticObstacleLowerBound:{color:"rgba(255, 0, 0, 0.8)",borderWidth:2,pointRadius:0,fill:"start",showLine:!0},staticObstacleUpperBound:{color:"rgba(255, 0, 0, 0.8)",borderWidth:2,pointRadius:0,fill:"end",showLine:!0},dynamicObstacleLowerBound:{color:"rgba(255, 206, 86, 0.2)",borderWidth:2,pointRadius:0,fill:!1,showLine:!0},dynamicObstacleUpperBound:{color:"rgba(255, 206, 86, 0.2)",borderWidth:2,pointRadius:0,fill:!1,showLine:!0}}}},stGraph:{options:{legend:{display:!1},axes:{x:{min:-2,max:10,labelString:"t (second)"},y:{min:-10,max:220,labelString:"s (m)"}}},properties:{box:{color:"rgba(255, 0, 0, 0.8)",borderWidth:2,pointRadius:0,fill:!1,showLine:!0,showText:!0,cubicInterpolationMode:"monotone",lineTension:0},lines:{curveLine:{color:"rgba(225, 225, 225, 0.5)",borderWidth:2,pointRadius:1,fill:!1,showLine:!1},kernelCruise:{color:"rgba(27, 249, 105, 0.5)",borderWidth:2,pointRadius:1,fill:!1,showLine:!1},kernelFollow:{color:"rgba(255, 206, 86, 0.5)",borderWidth:2,pointRadius:1,fill:!1,showLine:!1}}}},stSpeedGraph:{title:"QP Speed - sv graph",options:{legend:{display:!0},axes:{x:{min:-10,max:220,labelString:"s - qp_path(m)"},y:{min:-1,max:40,labelString:"v (m/s)"}}},properties:{lines:{upperConstraint:{color:"rgba(54, 162, 235, 1)",borderWidth:2,pointRadius:0,fill:!1,showLine:!0},lowerConstraint:{color:"rgba(54, 162, 235, 1)",borderWidth:4,pointRadius:0,fill:!1,showLine:!0},planned:{color:"rgba(225, 225, 225, 0.5)",borderWidth:4,pointRadius:0,fill:!1,showLine:!0},limit:{color:"rgba(255, 0, 0, 0.5)",borderWidth:4,pointRadius:0,fill:!1,showLine:!0}}}},speedGraph:{title:"Planning Speed",options:{legend:{display:!0},axes:{x:{min:-2,max:10,labelString:"t (second)"},y:{min:-1,max:40,labelString:"speed (m/s)"}}},properties:{lines:{finalSpeed:{color:"rgba(255, 0, 0, 0.8)",borderWidth:1,pointRadius:1,fill:!1,showLine:!1},DpStSpeedOptimizer:{color:"rgba(27, 249, 105, 0.5)",borderWidth:2,pointRadius:0,fill:!1,showLine:!0},QpSplineStSpeedOptimizer:{color:"rgba(54, 162, 235, 1)",borderWidth:2,pointRadius:0,fill:!1,showLine:"ture"}}}},accelerationGraph:{title:"Planning Acceleration",options:{legend:{display:!1},axes:{x:{min:-2,max:10,labelString:"t (second)"},y:{min:-4,max:3.5,labelString:"acceleration (m/s^2)"}}},properties:{lines:{acceleration:{color:"rgba(255, 0, 0, 0.8)",borderWidth:2,pointRadius:0,fill:!1,showLine:"ture"}}}},kappaGraph:{title:"Planning Kappa",options:{legend:{display:!0},axes:{x:{labelString:"s (m)"},y:{min:-.2,max:.2,labelString:"kappa"}}},properties:{lines:{ReferenceLine:{color:"rgba(255, 0, 0, 0.8)",borderWidth:2,pointRadius:0,fill:!1,showLine:!0},DpPolyPathOptimizer:{color:"rgba(27, 249, 105, 0.5)",borderWidth:2,pointRadius:0,fill:!1,showLine:!0},QpSplinePathOptimizer:{color:"rgba(54, 162, 235, 1)",borderWidth:5,pointRadius:0,fill:!1,showLine:!0}}}},dkappaGraph:{title:"Planning Dkappa",options:{legend:{display:!0},axes:{x:{labelString:"s (m)"},y:{min:-.02,max:.02,labelString:"dkappa"}}},properties:{lines:{ReferenceLine:{color:"rgba(255, 0, 0, 0.8)",borderWidth:2,pointRadius:0,fill:!1,showLine:!0},QpSplinePathOptimizer:{color:"rgba(54, 162, 235, 1)",borderWidth:5,pointRadius:0,fill:!1,showLine:!0}}}},thetaGraph:{title:"Planning theta",options:{legend:{display:!0},axes:{x:{labelString:"s (m)"},y:{labelString:"theta"}}},properties:{lines:{ReferenceLine:{color:"rgba(255, 0, 0, 0.8)",borderWidth:2,pointRadius:0,fill:!1,showLine:!0}}}},dpPolyGraph:{title:"DP Path",options:{legend:{display:!1},axes:{x:{labelString:"s (m)"},y:{labelString:"l (m)"}}},properties:{lines:{minCostPoint:{color:"rgba(255, 0, 0, 0.8)",borderWidth:2,pointRadius:2,fill:!1,showLine:!0},sampleLayer:{color:"rgba(225, 225, 225, 0.5)",borderWidth:0,pointRadius:4,fill:!1,showLine:!1}}}},latencyGraph:{title:"Latency",options:{legend:{display:!1},axes:{x:{labelString:"timestampe (sec)"},y:{labelString:"latency (ms)"}}},properties:{lines:{planning:{color:"rgba(27, 249, 105, 0.5)",borderWidth:2,pointRadius:0,fill:!1,showLine:!0}}}}}},function(t,e){t.exports={1:"showTasks",2:"showModuleController",3:"showMenu",4:"showRouteEditingBar",5:"showDataRecorder",v:"cameraAngle"}},function(t,e){t.exports={name:"proj4",version:"2.4.4",description:"Proj4js is a JavaScript library to transform point coordinates from one coordinate system to another, including datum transformations.",main:"dist/proj4-src.js",module:"lib/index.js",directories:{test:"test",doc:"docs"},scripts:{build:"grunt","build:tmerc":"grunt build:tmerc",test:"npm run build && istanbul test _mocha test/test.js"},repository:{type:"git",url:"git://github.com/proj4js/proj4js.git"},author:"",license:"MIT",devDependencies:{chai:"~1.8.1",curl:"git://github.com/cujojs/curl.git",grunt:"^1.0.1","grunt-cli":"~0.1.13","grunt-contrib-connect":"~0.6.0","grunt-contrib-jshint":"~1.1.0","grunt-contrib-uglify":"~0.11.1","grunt-mocha-phantomjs":"~0.4.0","grunt-rollup":"^1.0.1",istanbul:"~0.2.4",mocha:"~1.17.1",rollup:"^0.41.4","rollup-plugin-json":"^2.0.1","rollup-plugin-node-resolve":"^2.0.0",tin:"~0.4.0"},dependencies:{mgrs:"1.0.0","wkt-parser":"^1.2.0"}}},function(t,e,n){var r=n(238);"string"==typeof r&&(r=[[t.i,r,""]]);var i={};i.transform=void 0;n(161)(r,i);r.locals&&(t.exports=r.locals)},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}}]);
//# sourceMappingURL=app.bundle.js.map